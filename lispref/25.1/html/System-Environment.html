<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright (C) 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>38.3 オペレーティングシステムの環境 (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="38.3 オペレーティングシステムの環境 (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="38.3 オペレーティングシステムの環境 (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Emacs Lisp">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="System-Interface.html#System-Interface" rel="up" title="38 オペレーティングシステムのインターフェース">
<link href="User-Identification.html#User-Identification" rel="next" title="38.4 ユーザーの識別">
<link href="Suspending-Emacs.html#Suspending-Emacs" rel="prev" title="38.2.2 Emacsのサスペンド">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="System-Environment"></span><div class="header">
<p>
Next: <a href="User-Identification.html#User-Identification" accesskey="n" rel="next">User Identification</a>, Previous: <a href="Getting-Out.html#Getting-Out" accesskey="p" rel="prev">Getting Out</a>, Up: <a href="System-Interface.html#System-Interface" accesskey="u" rel="up">System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="opereteingusisutemunoHuan-Jing-"></span><h3 class="section">38.3 オペレーティングシステムの環境</h3>
<span id="index-operating-system-environment"></span>

<p>Emacsはさまざまな変数を通じて、オペレーティングシステム環境内の変数へのアクセスを提供します。これらの変数には、システムの名前、ユーザーの<acronym>UID</acronym>などが含まれます。
</p>
<dl>
<dt id="index-system_002dconfiguration">Variable: <strong>system-configuration</strong></dt>
<dd><p>この変数は、ユーザーのシステムのハードウェアとソフトウェアにたいするGNUの標準コンフィグレーション名(standard GNU
configuration
name)を保持する。たとえば64ビットGNU/Linuxシステムにたいする典型的な値は&lsquo;<samp>&quot;x86_64-unknown-linux-gnu&quot;</samp>&rsquo;である。
</p></dd></dl>

<span id="index-system-type-and-name"></span>
<dl>
<dt id="index-system_002dtype">Variable: <strong>system-type</strong></dt>
<dd><p>この変数の値は、Emacs実行中のオペレーティングシステムのタイプを示すシンボルである。可能な値は：
</p>
<dl compact="compact">
<dt><code>aix</code></dt>
<dd><p>IBMのAIX。
</p>
</dd>
<dt><code>berkeley-unix</code></dt>
<dd><p>Berkeley BSDとその変種。
</p>
</dd>
<dt><code>cygwin</code></dt>
<dd><p>MS-Windows上のPosixレイヤーであるCygwin。
</p>
</dd>
<dt><code>darwin</code></dt>
<dd><p>Darwin (Mac OS X)。
</p>
</dd>
<dt><code>gnu</code></dt>
<dd><p>(HURDとMachから構成される)GNUシステム。
</p>
</dd>
<dt><code>gnu/linux</code></dt>
<dd><p>GNU/Linuxシステム &mdash;
すなわちLinuxカーネルを使用するGNUシステムの変種。(これらのシステムは人がしばしば&ldquo;Linux&rdquo;と呼ぶシステムだが、実際にはLinuxは単なるカーネルであり、システム全体ではない。)
</p>
</dd>
<dt><code>gnu/kfreebsd</code></dt>
<dd><p>FreeBSDカーネルによる(glibcベースの)GNUシステム。
</p>
</dd>
<dt><code>hpux</code></dt>
<dd><p>ヒューレット・パッカードのHPUXオペレーティングシステム。
</p>
</dd>
<dt><code>irix</code></dt>
<dd><p>シリコングラフィックスのIrixシステム。
</p>
</dd>
<dt><code>nacl</code></dt>
<dd><p>Google Native Client (<acronym>NaCl</acronym>) sandboxing system.
</p>
</dd>
<dt><code>ms-dos</code></dt>
<dd><p>MicrosoftのDOS。MS-DOSにたいするDJGPPでコンパイルされたEmacsは、たとえMS-Windows上で実行されていても<code>system-type</code>が<code>ms-dos</code>にバインドされる。
</p>
</dd>
<dt><code>usg-unix-v</code></dt>
<dd><p>AT&amp;TのUnix System V。
</p>
</dd>
<dt><code>windows-nt</code></dt>
<dd><p>Microsoft Windows NT, 9X and later.  The value of <code>system-type</code> is
always <code>windows-nt</code>, e.g., even on Windows 10.
</p>
</dd>
</dl>

<p>わたしたちは絶対に必要になるまでは、より細分化するために新たなシンボルを追加したくありません。実際のところ、将来的にはこれらの候補のいくつかを取り除きたいと思っています。<code>system-type</code>で許されているより細分化する必要がある場合には、たとえば正規表現にたいして<code>system-configuration</code>をテストできます。
</p></dd></dl>

<dl>
<dt id="index-system_002dname">Function: <strong>system-name</strong></dt>
<dd><p>この関数は、実行中のマシン名を文字列としてリターンする。
</p></dd></dl>

<dl>
<dt id="index-mail_002dhost_002daddress">User Option: <strong>mail-host-address</strong></dt>
<dd><p>この変数が非<code>nil</code>の場合にはこの変数が、emailアドレスを生成するために<code>system-name</code>のかわりに使用される。たとえばこれは、<code>user-mail-address</code>のデフォルト値の構築時に使用される。<a href="User-Identification.html#User-Identification">ユーザーの識別</a>を参照のこと。(これはEmacsスタートアップ時に行われるので、実際に使用されるのはEmacsのdump時に保存されたものである。<a href="Building-Emacs.html#Building-Emacs">Emacsのビルド</a>を参照されたい。)
</p></dd></dl>

<dl>
<dt id="index-getenv">Command: <strong>getenv</strong> <em>var &amp;optional frame</em></dt>
<dd><span id="index-environment-variable-access"></span>
<p>この関数は、環境変数<var>var</var>の値を文字列としてリターンする。<var>var</var>は文字列であること。その環境内で<var>var</var>が未定義なら、<code>getenv</code>は<code>nil</code>をリターンする。<var>var</var>がセットされているがnull(訳注:
空文字列)なら、&lsquo;<samp>&quot;&quot;</samp>&rsquo;をリターンする。Emacs内では、環境変数とそれらの値のリストは、変数<code>process-environment</code>内に保持されている。
</p>
<div class="example">
<pre class="example">(getenv &quot;USER&quot;)
     &rArr; &quot;lewis&quot;
</pre></div>

<p>shellコマンド<code>printenv</code>は環境変数すべて、または一部をプリントする:
</p>
<div class="example">
<pre class="example">bash$ printenv
PATH=/usr/local/bin:/usr/bin:/bin
USER=lewis
</pre><pre class="example">TERM=xterm
SHELL=/bin/bash
HOME=/home/lewis
</pre><pre class="example">&hellip;
</pre></div>
</dd></dl>

<dl>
<dt id="index-setenv">Command: <strong>setenv</strong> <em>variable &amp;optional value substitute</em></dt>
<dd><p>このコマンドは、<var>variable</var>という名前の環境変数の値に、<var>value</var>をセットする。<var>variable</var>は文字列であること。内部的には、Emacs
Lispは任意の文字列を扱える。しかし通常<var>variable</var>はshell識別子として有効、すなわちアルファベットかアンダースコアで始まる、アルファベット、数字またはアンダースコアのシーケンスであること。それ以外の場合、Emacsのサブプロセスが<var>variable</var>の値にアクセスを試みるとエラーが発生するかもしれない。<var>value</var>が省略または<code>nil</code>の場合(またはプレフィクス引数とともにインタラクティブに呼び出された場合)、<code>setenv</code>はその環境から<var>variable</var>を削除する。それ以外の場合、<var>variable</var>は文字列であること。
</p>
<p>オプション引数<var>substitute</var>が非<code>nil</code>なら、<var>value</var>内のすべての環境変数を展開するために、Emacsは関数<code>substitute-env-vars</code>を呼び出す。
</p>
<p><code>setenv</code>は<code>process-environment</code>を変更することにより機能する。この変数を<code>let</code>でバインドするのも、合理的プラクティスである。
</p>
<p><code>setenv</code>は<var>variable</var>の新たな値、または環境から<var>variable</var>が削除されていれば<code>nil</code>をリターンする。
</p></dd></dl>

<dl>
<dt id="index-process_002denvironment">Variable: <strong>process-environment</strong></dt>
<dd><p>この変数は、それぞれが1つの環境変数を記す文字列リストである。関数<code>getenv</code>と<code>setenv</code>は、この変数により機能する。
</p>
<div class="example">
<pre class="example">process-environment
&rArr; (&quot;PATH=/usr/local/bin:/usr/bin:/bin&quot;
    &quot;USER=lewis&quot;
</pre><pre class="example">    &quot;TERM=xterm&quot;
    &quot;SHELL=/bin/bash&quot;
    &quot;HOME=/home/lewis&quot;
    &hellip;)
</pre></div>

<p>If <code>process-environment</code> contains multiple elements that specify the
same environment variable, the first of these elements specifies the
variable, and the others are ignored.
</p></dd></dl>

<dl>
<dt id="index-initial_002denvironment">Variable: <strong>initial-environment</strong></dt>
<dd><p>この変数は、Emacs開始時にその親プロセスからEmacsが継承した環境変数のリストを保持する。
</p></dd></dl>

<dl>
<dt id="index-path_002dseparator">Variable: <strong>path-separator</strong></dt>
<dd><p>この変数は、(環境変数で見つけた)検索パス内でディレクトリーを区切る文字を示す文字列を保持する。値はUnixとGNUシステムでは<code>&quot;:&quot;</code>、MSシステムでは<code>&quot;;&quot;</code>である。
</p></dd></dl>

<dl>
<dt id="index-parse_002dcolon_002dpath">Function: <strong>parse-colon-path</strong> <em>path</em></dt>
<dd><p>この関数は環境変数<code>PATH</code>の値のような検索パス文字列を引数にとり、それをセパレーターで分割して、ディレクトリー名のリストをリターンする。このリスト内では、<code>nil</code>はカレントディレクトリーを意味する。この関数の名前からはセパレーターは&ldquo;コロン&rdquo;だが、実際に使用するのは<code>path-separator</code>の値である。
</p>
<div class="example">
<pre class="example">(parse-colon-path &quot;:/foo:/bar&quot;)
     &rArr; (nil &quot;/foo/&quot; &quot;/bar/&quot;)
</pre></div>
</dd></dl>

<dl>
<dt id="index-invocation_002dname">Variable: <strong>invocation-name</strong></dt>
<dd><p>この変数は、Emacsが呼び出された時のプログラム名を保持する。値は文字列で、ディレクトリー名は含まれない。
</p></dd></dl>

<dl>
<dt id="index-invocation_002ddirectory">Variable: <strong>invocation-directory</strong></dt>
<dd><p>この変数は、Emacs実行可能形式が呼び出されたディレクトリー名、そのディレクトリーが判断できなければ<code>nil</code>をリターンする。
</p></dd></dl>

<dl>
<dt id="index-installation_002ddirectory">Variable: <strong>installation-directory</strong></dt>
<dd><p>非<code>nil</code>なら、それはサブディレクトリー<samp>lib-src</samp>と<samp>etc</samp>を探すディレクトリーである。インストールされたEmacsなら、通常は<code>nil</code>。Emacsが標準のインストール位置にそれらのディレクトリーを見つけられないものの、Emacs実行可能形式を含むディレクトリー(たとえば<code>invocation-directory</code>)に何らかの関連があるディレクトリーで見つかることができたら非<code>nil</code>ならとなる。
</p></dd></dl>

<dl>
<dt id="index-load_002daverage">Function: <strong>load-average</strong> <em>&amp;optional use-float</em></dt>
<dd><p>この関数は現在、1分、5分、15分のロードアベレージ(load averages:
平均負荷)をリストでリターンする。このロードアベレージは、そのシステム上で実行を試みているプロセス数を示す。
</p>
<p>デフォルトでは、この値はシステムロードアベレージを100倍にした整数だが、<var>use-float</var>が非<code>nil</code>なら100を乗ずることなくこれらの値は浮動小数点数としてリターンされる。
</p>
<p>ロードアベレージ入手が不可能なら、この関数はエラーをシグナルする。いくつかのプラットフォームでは、ロードアベレージへのアクセスにカーネル情報を読み取れるよう、通常は推奨されないsetuidかsetgidしたEmacsのインストールを要する。
</p>
<p>1分のロードアベレージは利用できるが、5分と15分のアレージは利用できない場合、この関数は利用可能なアベレージを含んだ短縮されたリストをリターンする。
</p>
<div class="example">
<pre class="example">(load-average)
     &rArr; (169 48 36)
</pre><pre class="example">(load-average t)
     &rArr; (1.69 0.48 0.36)
</pre></div>

<p>shellコマンドの<code>uptime</code>は、これと類似した情報をリターンする。
</p></dd></dl>

<dl>
<dt id="index-emacs_002dpid">Function: <strong>emacs-pid</strong></dt>
<dd><p>この関数は、Emacsプロセスのプロセス<acronym>ID</acronym>を整数としてリターンする。
</p></dd></dl>

<dl>
<dt id="index-tty_002derase_002dchar">Variable: <strong>tty-erase-char</strong></dt>
<dd><p>この変数は、Emacs開始前にそのシステムの端末ドライバーで選択されていた、erase文字を保持する。
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="User-Identification.html#User-Identification" accesskey="n" rel="next">User Identification</a>, Previous: <a href="Getting-Out.html#Getting-Out" accesskey="p" rel="prev">Getting Out</a>, Up: <a href="System-Interface.html#System-Interface" accesskey="u" rel="up">System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
