<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright (C) 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>12.10 クロージャー (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="12.10 クロージャー (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="12.10 クロージャー (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Emacs Lisp">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Functions.html#Functions" rel="up" title="12 関数">
<link href="Advising-Functions.html#Advising-Functions" rel="next" title="12.11 Emacs Lisp関数にたいするアドバイス">
<link href="Function-Cells.html#Function-Cells" rel="prev" title="12.9 関数セルの内容へのアクセス">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="Closures"></span><div class="header">
<p>
Next: <a href="Advising-Functions.html#Advising-Functions" accesskey="n" rel="next">Advising Functions</a>, Previous: <a href="Function-Cells.html#Function-Cells" accesskey="p" rel="prev">Function Cells</a>, Up: <a href="Functions.html#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="kuroziya"></span><h3 class="section">12.10 クロージャー</h3>

<p><a href="Variable-Scoping.html#Variable-Scoping">変数のバインディングのスコーピングルール</a>で説明したように、Emacsはオプションで変数のレキシカルバインディングを有効にできます。レキシカルバインディングが有効な場合、あなたが(たとえば<code>defun</code>などで)作成した任意の名前つき関数、同様に<code>lambda</code>マクロ、<code>function</code>スペシャルフォーム、<code>#'</code>構文を使用して作成した任意の無名関数(<a href="Anonymous-Functions.html#Anonymous-Functions">無名関数</a>を参照してください)は、自動的に<em>クロージャー(closure)</em>に変換されます。
</p>
<span id="index-closure"></span>
<p>クロージャーとは、その関数が定ぎされたどときに存在したレキシカル環境の記録もあわせもつ関数です。クロージャーが呼び出されたとき、定義内のレキシカル変数の参照には、その保持されたレキシカル環境を使用されます。他のすべての点では、クロージャーは通常の関数と同様に振る舞います。特に、クロージャーは通常の関数と同じ方法で呼び出すことができます。
</p>
<p>クロージャー使用する例は、<a href="Lexical-Binding.html#Lexical-Binding">レキシカルバインディング</a>を参照してください。
</p>
<p>現在のところ、Emacs
Lispのクロージャーオブジェクトは、1つ目の要素にシンボル<code>closure</code>をもつリストとして表現されます。そのリストは2つ目の要素としてレキシカル環境を表し、残りの要素で引数リストとbodyフォームを表します:
</p>
<div class="example">
<pre class="example">;; <span class="roman">レキシカルバインディングが有効。</span>
(lambda (x) (* x x))
     &rArr; (closure (t) (x) (* x x))
</pre></div>

<p>However, the fact that the internal structure of a closure is exposed to the
rest of the Lisp world is considered an internal implementation detail.  For
this reason, we recommend against directly examining or altering the
structure of closure objects.
</p>



</body>
</html>
