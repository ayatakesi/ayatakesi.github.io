<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright (C) 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>36.19 シリアルポートとの対話 (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="36.19 シリアルポートとの対話 (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="36.19 シリアルポートとの対話 (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Emacs Lisp">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Processes.html#Processes" rel="up" title="36 プロセス">
<link href="Byte-Packing.html#Byte-Packing" rel="next" title="36.20 バイト配列のpackとunpack">
<link href="Misc-Network.html#Misc-Network" rel="prev" title="36.18 その他のネットワーク機能">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="Serial-Ports"></span><div class="header">
<p>
Next: <a href="Byte-Packing.html#Byte-Packing" accesskey="n" rel="next">Byte Packing</a>, Previous: <a href="Misc-Network.html#Misc-Network" accesskey="p" rel="prev">Misc Network</a>, Up: <a href="Processes.html#Processes" accesskey="u" rel="up">Processes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="siriarupototonoDui-Hua-"></span><h3 class="section">36.19 シリアルポートとの対話</h3>
<span id="index-_002fdev_002ftty"></span>
<span id="index-COM1"></span>
<span id="index-serial-connections"></span>

<p>Emacsはシリアルポートと対話できます。インタラクティブな使用、<kbd>M-x
serial-term</kbd>にたいしては端末ウィンドウをオープンし、Lispプログラム<code>make-serial-process</code>にたいしてはプロセスオブジェクトを作成します。
</p>
<p>シリアルポートは、クローズと再オープンなして、実行時に設定することができます。関数<code>serial-process-configure</code>によりスピード、バイトサイズ、およびその他のパラメーターを変更できます。<code>serial-term</code>で作成された端末ウィンドウでは、モードラインをクリックして設定を行うことができます。
</p>
<p>シリアル接続はプロセスオブジェクトとして表され、サブプロセスやネットワークプロセスと同様の方法で使用できます。これによりデータの送受信や、シリアルポートの設定ができます。しかし、シリアルプロセスオブジェクトにプロセスIDはありません。それにたいしてシグナルの送信はできず、ステータスコードは他のタイプのプロセスオブジェクトとは異なります。プロセスオブジェクトへの<code>delete-process</code>、またはプロセスバッファーにたいする<code>kill-buffer</code>は接続をクローズしますが、そのシリアルポートに接続されたデバイスに影響はありません。
</p>
<p>関数<code>process-type</code>は、シリアルポート接続を表すプロセスオブジェクトにたいする、シンボル<code>serial</code>をリターンします。
</p>
<p>シリアルポートはGNU/Linux、Unix、およびMS Windowsのシステムで利用できます。
</p>
<dl>
<dt id="index-serial_002dterm">Command: <strong>serial-term</strong> <em>port speed</em></dt>
<dd><p>新たなバッファー内で、シリアルポートにたいする端末エミュレーターを開始する。<var>port</var>は、接続先のシリアルポートの名前である。たとえばUnixでは、これは<samp>/dev/ttyS0</samp>のようになるだろう。MS
Windowsでは、<samp>COM1</samp>や<samp>\\.\COM10</samp>のようになるかもしれない(Lisp文字列ではバックスラッシュは2重にする)。
</p>
<p><var>speed</var>は、ビット毎秒でのシリアルポートのスピードである。一般的な値は9600。そのバッファーはTermモードになる。このバッファーで使用するコマンドについては、<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Term-Mode.html#Term-Mode">Term
Mode</a> in <cite>The GNU Emacs Manual</cite>を参照のこと。モードラインメニューから、スピードと設定を変更できる。
</p></dd></dl>

<dl>
<dt id="index-make_002dserial_002dprocess">Function: <strong>make-serial-process</strong> <em>&amp;rest args</em></dt>
<dd><p>この関数は、プロセスとバッファーを作成する。引数は、キーワード/引数ペアーで指定する。以下は意味のあるキーワードのリストで、最初の2つ(<var>port</var>と<var>speed</var>)は必須である:
</p>
<dl compact="compact">
<dt><code>:port <var>port</var></code></dt>
<dd><p>これは、シリアルポートの名前である。UnixおよびGNUシステムでは<samp>/dev/ttyS0</samp>のようなファイル名、Windowsでは<samp>COM1</samp>、<samp>COM9</samp>より高位のポートでは<samp>\\.\COM10</samp>のようになるかもしれない(Lisp文字列ではバックスラッシュは2重にする)。
</p>
</dd>
<dt><code>:speed <var>speed</var></code></dt>
<dd><p>ビット毎秒でのシリアルポートのスピード。この関数は<code>serial-process-configure</code>を呼び出すことにより、スピードを操作する。この関数の更なる詳細については、以降のドキュメントを参照されたい。
</p>
</dd>
<dt><code>:name <var>name</var></code></dt>
<dd><p>そのプロセスの名前。<var>name</var>が与えられなければ、<var>port</var>が同様にプロセス名の役目を果たす。
</p>
</dd>
<dt><code>:buffer <var>buffer</var></code></dt>
<dd><p>そのプロセスに関連付けられたバッファー。値はバッファー、またはそれがバッファーの名前であるような文字列かもしれない。出力を処理するために出力ストリーム、あるいはフィルター関数を指定しなければ、プロセス出力はそのバッファーの終端に出力される。<var>buffer</var>が与えられなければ、そのプロセスバッファーの名前は、<code>:name</code>キーワードから取得される。
</p>
</dd>
<dt><code>:coding <var>coding</var></code></dt>
<dd><p><var>coding</var>は、このプロセスにたいする読み書きに使用される、コーディングシステムを指定する。<var>coding</var>がコンス<code>(<var>decoding</var>
.
<var>encoding</var>)</code>なら、読み取りに<var>decoding</var>、書き込みには<var>encoding</var>が使用される。指定されない場合のデフォルトは、データ自身から判断されるコーディングシステムである。
</p>
</dd>
<dt><code>:noquery <var>query-flag</var></code></dt>
<dd><p>プロセスqueryフラグを、<var>query-flag</var>に初期化する。<a href="Query-Before-Exit.html#Query-Before-Exit">exit前の問い合わせ</a>を参照のこと。未指定の場合のフラグのデフォルトは<code>nil</code>。
</p>
</dd>
<dt><code>:stop <var>bool</var></code></dt>
<dd><p>Start process in the stopped state if <var>bool</var> is non-<code>nil</code>.  In the
stopped state, a serial process does not accept incoming data, but you can
send outgoing data.  The stopped state is cleared by <code>continue-process</code>
and set by <code>stop-process</code>.
</p>
</dd>
<dt><code>:filter <var>filter</var></code></dt>
<dd><p>プロセスフィルターとして、<var>filter</var>をインストールする。
</p>
</dd>
<dt><code>:sentinel <var>sentinel</var></code></dt>
<dd><p>プロセスセンチネルとして、<var>sentinel</var>をインストールする。
</p>
</dd>
<dt><code>:plist <var>plist</var></code></dt>
<dd><p>プロセスの初期plistとして、<var>plist</var>をインストールする。
</p>
</dd>
<dt><code>:bytesize</code></dt>
<dt><code>:parity</code></dt>
<dt><code>:stopbits</code></dt>
<dt><code>:flowcontrol</code></dt>
<dd><p>これらは、<code>make-serial-process</code>が呼び出す、<code>serial-process-configure</code>により処理される。
</p></dd>
</dl>

<p>後の設定により変更され得るオリジナルの引数リストは、関数<code>process-contact</code>を通じて利用可能。
</p>
<p>以下に例を示す:
</p>
<div class="example">
<pre class="example">(make-serial-process :port &quot;/dev/ttyS0&quot; :speed 9600)
</pre></div>
</dd></dl>

<dl>
<dt id="index-serial_002dprocess_002dconfigure">Function: <strong>serial-process-configure</strong> <em>&amp;rest args</em></dt>
<dd><span id="index-baud_002c-in-serial-connections"></span>
<span id="index-bytesize_002c-in-serial-connections"></span>
<span id="index-parity_002c-in-serial-connections"></span>
<span id="index-stopbits_002c-in-serial-connections"></span>
<span id="index-flowcontrol_002c-in-serial-connections"></span>

<p>この関数は、シリアルポート接続を設定する。引数はキーワード/引数ペアーで指定する。与えられない属性は、そのプロセスのカレントの設定(関数<code>process-contact</code>を通じて利用可能)から再初期化されるか、妥当なデフォルトにセットされる。以下の引数が定義されている:
</p>
<dl compact="compact">
<dt><code>:process <var>process</var></code></dt>
<dt><code>:name <var>name</var></code></dt>
<dt><code>:buffer <var>buffer</var></code></dt>
<dt><code>:port <var>port</var></code></dt>
<dd><p>設定するプロセスを識別するために、これらの引数のいずれかを与えられる。これらの引数が何も与えられなければ、カレントバッファーのプロセスが使用される。
</p>
</dd>
<dt><code>:speed <var>speed</var></code></dt>
<dd><p>ビット毎秒、別名<em>ボーレート(baud
rate)</em>での、シリアルポートのスピード。値には任意の数字が可能だが、ほとんどのシリアルポートは1200から115200の間の数少ない定義済みの値でのみ機能し、もっとも一般的な値は9600である。<var>speed</var>が<code>nil</code>なら、この関数は他のすべての引数を無視して、そのポートを設定しない。これは接続を通じて送信された&lsquo;<samp>AT</samp>&rsquo;コマンドでのみ設定可能な、Bluetooth/シリアル変換アダプターのような、特殊なシリアルポートで有用かもしれない。<var>speed</var>にたいする値<code>nil</code>は、<code>make-serial-process</code>または<code>serial-term</code>の呼び出しにより、すでにオープン済みの接続にたいしてのみ有効である。
</p>
</dd>
<dt><code>:bytesize <var>bytesize</var></code></dt>
<dd><p>ビット/バイトでの数値で、7か8を指定できる。<var>bytesize</var>が与えられない、または<code>nil</code>の場合のデフォルトは8。
</p>
</dd>
<dt><code>:parity <var>parity</var></code></dt>
<dd><p>値には<code>nil</code>(パリティなし)、シンボル<code>odd</code>(奇数パリティ)、シンボル<code>even</code>(偶数パリティ)を指定できる。<var>parity</var>が与えられない場合のデフォルトはパリティなし。
</p>
</dd>
<dt><code>:stopbits <var>stopbits</var></code></dt>
<dd><p>各バイトの送信を終了するために使用されるストップビットの数値。<var>stopbits</var>には1か2が可能。<var>stopbits</var>が与えられない、または<code>nil</code>の場合のデフォルトは1。
</p>
</dd>
<dt><code>:flowcontrol <var>flowcontrol</var></code></dt>
<dd><p>この接続にたいして使用するフロー制御のタイプで、<code>nil</code>(フロー制御を使用しない)、シンボル<code>hw</code>(RTS/CTSハードウェアフロー制御)、シンボル<code>sw</code>(XON/XOFFソフトウェアフロー制御)のいずれか。<var>flowcontrol</var>が与えられない場合のデフォルトは、フロー制御なし。
</p></dd>
</dl>

<p>シリアルポートの初期設定のために、<code>make-serial-process</code>は内部的に<code>serial-process-configure</code>を呼び出す。
</p></dd></dl>




</body>
</html>
