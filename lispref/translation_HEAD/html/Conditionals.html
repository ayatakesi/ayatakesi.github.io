<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.1.

Copyright (C) 1990-1996, 1998-2023 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Conditionals (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Conditionals (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Conditionals (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="October 20, 2023">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Control-Structures.html" rel="up" title="Control Structures">
<link href="Combining-Conditions.html" rel="next" title="Combining Conditions">
<link href="Sequencing.html" rel="prev" title="Sequencing">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Conditionals">
<div class="header">
<p>
Next: <a href="Combining-Conditions.html" accesskey="n" rel="next">組み合わせ条件の構築</a>, Previous: <a href="Sequencing.html" accesskey="p" rel="prev">順序</a>, Up: <a href="Control-Structures.html" accesskey="u" rel="up">制御構造</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Tiao-Jian-"></span><h3 class="section">11.2 条件</h3>
<span id="index-conditional-evaluation"></span>
<span id="index-forms_002c-conditional"></span>

<p>条件による制御構造は候補の中から選択を行ないます。Emacs
Lispは5つの条件フォームをもちます。<code>if</code>は他の言語のものとほとんど同じです。<code>when</code>と<code>unless</code>は<code>if</code>の変種です。<code>cond</code>は一般化されたcase命令です。<code>cond</code>を汎用化したものが<code>pcase</code>です(<a href="Pattern_002dMatching-Conditional.html">パターンマッチングによる条件</a>を参照)。
</p>
<dl class="def">
<dt id="index-if"><span class="category">Special Form: </span><span><strong>if</strong> <em>condition then-form else-forms&hellip;</em><a href='#index-if' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>if</code>は<var>condition</var>の値にもとづき<var>then-form</var>と<var>else-forms</var>を選択する。評価された<var>condition</var>が非<code>nil</code>なら<var>then-form</var>が評価されて結果がリターンされる。それ以外なら<var>else-forms</var>がテキスト順に評価されて最後のフォームの値がリターンされる(<code>if</code>の<var>else</var>パートは暗黙の<code>progn</code>の例である。<a href="Sequencing.html">順序</a>を参照)。
</p>
<p><var>condition</var>の値が<code>nil</code>で<var>else-forms</var>が与えられなければ、<code>if</code>は<code>nil</code>をリターンする。
</p>
<p>選択されなかったブランチは決して評価されない &mdash; 無視される &mdash;
ので、<code>if</code>はスペシャルフォームである。したがって以下の例では<code>print</code>が呼び出されることはないので<code>true</code>はプリントされない。
</p>
<div class="example">
<pre class="example">(if nil
    (print 'true)
  'very-false)
&rArr; very-false
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-when"><span class="category">Macro: </span><span><strong>when</strong> <em>condition then-forms&hellip;</em><a href='#index-when' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>これは<var>else-forms</var>がなく、複数の<var>then-forms</var>が可能な<code>if</code>の変種である。特に、
</p>
<div class="example">
<pre class="example">(when <var>condition</var> <var>a</var> <var>b</var> <var>c</var>)
</pre></div>

<p>は以下と完全に等価である
</p>
<div class="example">
<pre class="example">(if <var>condition</var> (progn <var>a</var> <var>b</var> <var>c</var>) nil)
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-unless"><span class="category">Macro: </span><span><strong>unless</strong> <em>condition forms&hellip;</em><a href='#index-unless' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>これは<var>then-form</var>がない<code>if</code>の変種です:
</p>
<div class="example">
<pre class="example">(unless <var>condition</var> <var>a</var> <var>b</var> <var>c</var>)
</pre></div>

<p>は以下と完全に等価である
</p>
<div class="example">
<pre class="example">(if <var>condition</var> nil
   <var>a</var> <var>b</var> <var>c</var>)
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-cond"><span class="category">Special Form: </span><span><strong>cond</strong> <em>clause&hellip;</em><a href='#index-cond' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>cond</code>は任意個数の選択肢から選択を行なう。<code>cond</code>内の各<var>clause</var>はリストでなければならない。このリストの<small>CAR</small>は<var>condition</var>で、(もしあれば)残りの要素は<var>body-forms</var>となる。したがってclauseは以下のようになる:
</p>
<div class="example">
<pre class="example">(<var>condition</var> <var>body-forms</var>&hellip;)
</pre></div>

<p><code>cond</code>は各clauseの<var>condition</var>を評価することにより、テキスト順でclauseを試みる。<var>condition</var>の値が非<code>nil</code>ならそのclauseは成り立つ。その後に<code>cond</code>はそのclauseの<var>body-forms</var>を評価して、<var>body-forms</var>の最後の値をリターンする。残りのclauseは無視される。
</p>
<p><var>condition</var>の値が<code>nil</code>ならそのclauseは失敗して、<code>cond</code>は次のclauseに移動してそれの<var>condition</var>を試みる。
</p>
<p>clauseは以下のようにも見えるかもしれない:
</p>
<div class="example">
<pre class="example">(<var>condition</var>)
</pre></div>

<p><var>condition</var>がテストされたときに非<code>nil</code>なら、<code>cond</code>フォームは<var>condition</var>の値をリターンする。
</p>
<p>すべての<var>condition</var>が<code>nil</code>に評価された場合 &mdash;
つまりすべてのclauseが不成立なら、<code>cond</code>は<code>nil</code>をリターンする。
</p>
<p>以下の例は<code>x</code>の値が数字、文字列、バッファー、シンボルなのかをテストする4つのclauseをもつ:
</p>
<div class="example">
<pre class="example">(cond ((numberp x) x)
      ((stringp x) x)
      ((bufferp x)
       (setq temporary-hack x) ; <span class="roman">1つのclauseに</span>
       (buffer-name x))        ; <span class="roman">複数bodyフォーム</span>
      ((symbolp x) (symbol-value x)))
</pre></div>

<p>前のclauseが不成立のとき最後の条項を実行したいときがよくある。これを行なうには<code>(t
<var>body-forms</var>)</code>のように、<var>condition</var>の最後のclauseに<code>t</code>を使用する。フォーム<code>t</code>は<code>t</code>に評価され決して<code>nil</code>にならないので、このclauseが不成立になることはなく最終的に<code>cond</code>はこのclauseに到達する。たとえば:
</p>
<div class="example">
<pre class="example">(setq a 5)
(cond ((eq a 'hack) 'foo)
      (t &quot;default&quot;))
&rArr; &quot;default&quot;
</pre></div>

<p>この<code>cond</code>式は<code>a</code>の値が<code>hack</code>なら<code>foo</code>、それ以外は文字列<code>&quot;default&quot;</code>をリターンする。
</p></dd></dl>

<p>すべての条件構文は<code>cond</code>か<code>if</code>のいずれかで表すことができます。したがってどちらを選択するかはスタイルの問題になります。たとえば:
</p>
<div class="example">
<pre class="example">(if <var>a</var> <var>b</var> <var>c</var>)
&equiv;
(cond (<var>a</var> <var>b</var>) (t <var>c</var>))
</pre></div>

<p>変数のバインドとあわせて条件を使うと便利かもしれません。変数の計算を行って、その後もし値が非<code>nil</code>なら何かしたいというのはよくあることです。これを行うには、たとえば以下のように単にそのまま記述すればよいのです:
</p>
<div class="example">
<pre class="example">(let ((result1 (do-computation)))
  (when result1
    (let ((result2 (do-more result1)))
      (when result2
        (do-something result2)))))
</pre></div>

<p>これはパターンとしては非常に一般的なのでEmacsではこれを簡単に行って、かつ可読性を向上させるためのマクロがいくつか提供されています。上記のコードは以下のように記述することができます:
</p>
<div class="example">
<pre class="example">(when-let ((result1 (do-computation))
           (result2 (do-more result1)))
  (do-something result2))
</pre></div>

<p>このテーマにはバリエーションがいくつかあり、以下にそれらを概略します。
</p>
<dl class="def">
<dt id="index-if_002dlet"><span class="category">Macro: </span><span><strong>if-let</strong> <em>spec then-form else-forms...</em><a href='#index-if_002dlet' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><var>spec</var>内のバインディングを、<code>let*</code> (<a href="Local-Variables.html">ローカル変数</a>を参照)のようにそれぞれ順番に評価して、値が<code>nil</code>になるバインディングがあれば停止する。すべて非<code>nil</code>なら<var>then-form</var>、それ以外では<var>else-forms</var>の最後のフォームの値をリターンする。
</p></dd></dl>

<dl class="def">
<dt id="index-when_002dlet"><span class="category">Macro: </span><span><strong>when-let</strong> <em>spec then-forms...</em><a href='#index-when_002dlet' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>if-let</code>と同様だが<var>else-forms</var>がない。
</p></dd></dl>

<dl class="def">
<dt id="index-while_002dlet"><span class="category">Macro: </span><span><strong>while-let</strong> <em>spec then-forms...</em><a href='#index-while_002dlet' class='copiable-anchor'> &para;</a></span></dt>
<dd><p><code>when-let</code>と同様だが、<var>spec</var>内のバインディングが<code>nil</code>になるまで繰り返す。リターン値は常に<code>nil</code>。
</p></dd></dl>

</div>
<hr>
<div class="header">
<p>
Next: <a href="Combining-Conditions.html">組み合わせ条件の構築</a>, Previous: <a href="Sequencing.html">順序</a>, Up: <a href="Control-Structures.html">制御構造</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:emacs-29, commit:101e2dc084af853a922b07c906cc6c2fa90b0438 to check Japanese translation.
</body>
</html>
