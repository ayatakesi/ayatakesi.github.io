<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.1.

Copyright (C) 1990-1996, 1998-2021 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Lisp Reference Manual: Quitting Windows</title>

<meta name="description" content="GNU Emacs Lisp Reference Manual: Quitting Windows">
<meta name="keywords" content="GNU Emacs Lisp Reference Manual: Quitting Windows">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="December 30, 2021">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Windows.html#Windows" rel="up" title="Windows">
<link href="Side-Windows.html#Side-Windows" rel="next" title="Side Windows">
<link href="Dedicated-Windows.html#Dedicated-Windows" rel="prev" title="Dedicated Windows">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ja_JP" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Quitting-Windows"></a>
<div class="header">
<p>
Next: <a href="Side-Windows.html#Side-Windows" accesskey="n" rel="next">Side Windows</a>, Previous: <a href="Dedicated-Windows.html#Dedicated-Windows" accesskey="p" rel="prev">Dedicated Windows</a>, Up: <a href="Windows.html#Windows" accesskey="u" rel="up">Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="uindounoquit"></a>
<h3 class="section">29.16 ウィンドウのquit</h3>
<a name="index-quitting-windows"></a>

<p>After a command uses <code>display-buffer</code> to put a buffer on the screen,
the user may decide to hide it and return to the previous configuration of
the Emacs display.  We call that <em>quitting the window</em>.  The way to do
this is to call <code>quit-window</code> while the window used by
<code>display-buffer</code> is the selected window.
</p>
<p>The right way to restore the previous configuration of the display depends
on what was done to the window where the buffer now appears.  It might be
right to delete that window, or delete its frame, or just display another
buffer in that window.  One complication is that the user may have changed
the window configuration since the act of displaying that buffer, and it
would be undesirable to undo the user&rsquo;s explicitly requested changes.
</p>
<p>To enable <code>quit-window</code> to do the right thing, <code>display-buffer</code>
saves information about what it did in the window&rsquo;s <code>quit-restore</code>
parameter (see <a href="Window-Parameters.html#Window-Parameters">Window Parameters</a>).
</p>
<dl>
<dt><a name="index-quit_002dwindow"></a>Command: <strong>quit-window</strong> <em>&amp;optional kill window</em></dt>
<dd><p>This command quits <var>window</var> and buries its buffer.  The argument
<var>window</var> must be a live window and defaults to the selected one.  With
prefix argument <var>kill</var> non-<code>nil</code>, it kills the buffer instead of
burying it.
</p>
<a name="index-quit_002dwindow_002dhook"></a>
<p>The function <code>quit-window</code> first runs <code>quit-window-hook</code>.  Then it
calls the function <code>quit-restore-window</code>, described next, which does
the hard work.
</p></dd></dl>

<p>You can get more control by calling <code>quit-restore-window</code> instead.
</p>
<dl>
<dt><a name="index-quit_002drestore_002dwindow"></a>Function: <strong>quit-restore-window</strong> <em>&amp;optional window bury-or-kill</em></dt>
<dd><p>This function handles <var>window</var> and its buffer after quitting.  The
optional argument <var>window</var> must be a live window and defaults to the
selected one.  The function takes account of the <var>window</var>&rsquo;s
<code>quit-restore</code> parameter.
</p>
<p>The optional argument <var>bury-or-kill</var> specifies how to deal with
<var>window</var>&rsquo;s buffer.  The following values are meaningful:
</p>
<dl compact="compact">
<dt><code>nil</code></dt>
<dd><p>これはバッファーを特別な方法で処理しないことを意味する。その結果として<var>window</var>が削除されない場合には、<code>switch-to-prev-buffer</code>の呼び出しにより通常はそのバッファーが再び表示されるだろう。
</p>
</dd>
<dt><code>append</code></dt>
<dd><p>This means that if <var>window</var> is not deleted, its buffer is moved to the
end of <var>window</var>&rsquo;s list of previous buffers (see <a href="Window-History.html#Window-History">Window History</a>), so
it&rsquo;s less likely that future invocations of <code>switch-to-prev-buffer</code>
will switch to it.  Also, it moves the buffer to the end of the frame&rsquo;s
buffer list (see <a href="Buffer-List.html#Buffer-List">Buffer List</a>).
</p>
</dd>
<dt><code>bury</code></dt>
<dd><p>This means that if <var>window</var> is not deleted, its buffer is removed from
<var>window</var>&rsquo;s list of previous buffers.  Also, it moves the buffer to the
end of the frame&rsquo;s buffer list.  This is the most reliable way to prevent
<code>switch-to-prev-buffer</code> from switching to this buffer again, short of
killing the buffer.
</p>
</dd>
<dt><code>kill</code></dt>
<dd><p>これは<var>window</var>のバッファーをkillすることを意味する。
</p></dd>
</dl>

<p>The argument <var>bury-or-kill</var> also specifies what to do with
<var>window</var>&rsquo;s frame when <var>window</var> should be deleted, if it is the only
window on its frame, and there are other frames on that frame&rsquo;s terminal.
If <var>bury-or-kill</var> equals <code>kill</code>, it means to delete the frame.
Otherwise, the fate of the frame is determined by calling
<code>frame-auto-hide-function</code> (see below) with that frame as sole
argument.
</p>
<p>This function always sets <var>window</var>&rsquo;s <code>quit-restore</code> parameter to
<code>nil</code> unless it deletes the window.
</p></dd></dl>

<p>The window <var>window</var>&rsquo;s <code>quit-restore</code> parameter (see <a href="Window-Parameters.html#Window-Parameters">Window Parameters</a>) should be <code>nil</code> or a list of four elements:
</p>
<div class="lisp">
<pre class="lisp">(<var>method</var> <var>obuffer</var> <var>owindow</var> <var>this-buffer</var>)
</pre></div>

<p>The first element, <var>method</var>, is one of the four symbols <code>window</code>,
<code>frame</code>, <code>same</code> and <code>other</code>.  <code>frame</code> and <code>window</code>
control how to delete <var>window</var>, while <code>same</code> and <code>other</code>
control displaying some other buffer in it.
</p>
<p>Specifically, <code>window</code> means that the window has been specially created
by <code>display-buffer</code>; <code>frame</code> means that a separate frame has been
created; <code>same</code>, that the window has only ever displayed this buffer;
<code>other</code>, that the window showed another buffer before.
</p>
<p>The second element, <var>obuffer</var>, is either one of the symbols
<code>window</code> or <code>frame</code>, or a list of the form
</p>
<div class="lisp">
<pre class="lisp">(<var>prev-buffer</var> <var>prev-window-start</var> <var>prev-window-point</var> <var>height</var>)
</pre></div>

<p>which says which buffer was shown in <var>window</var> before, that buffer&rsquo;s
window start (see <a href="Window-Start-and-End.html#Window-Start-and-End">Window Start and End</a>) and window point (see <a href="Window-Point.html#Window-Point">Window Point</a>) positions at that time, and <var>window</var>&rsquo;s height at that time.  If
<var>prev-buffer</var> is still live when quitting <var>window</var>, quitting the
window may reuse <var>window</var> to display <var>prev-buffer</var>.
</p>
<p>The third element, <var>owindow</var>, is the window that was selected just
before the displaying was done.  If quitting deletes <var>window</var>, it tries
to select <var>owindow</var>.
</p>
<p>The fourth element, <var>this-buffer</var>, is the buffer whose displaying set
the <code>quit-restore</code> parameter.  Quitting <var>window</var> may delete that
window only if it still shows that buffer.
</p>
<p>Quitting <var>window</var> tries to delete it if and only if (1)  <var>method</var> is
either <code>window</code> or <code>frame</code>, (2) the window has no history of
previously-displayed buffers and (3)  <var>this-buffer</var> equals the buffer
currently displayed in <var>window</var>.  If <var>window</var> is part of an atomic
window (see <a href="Atomic-Windows.html#Atomic-Windows">Atomic Windows</a>), quitting will try to delete the root of
that atomic window instead.  In either case, it tries to avoid signaling an
error when <var>window</var> cannot be deleted.
</p>
<p>If <var>obuffer</var> is a list, and <var>prev-buffer</var> is still live, quitting
displays <var>prev-buffer</var> in <var>window</var> according to the rest of the
elements of <var>obuffer</var>.  This includes resizing the window to
<var>height</var> if it was temporarily resized to display <var>this-buffer</var>.
</p>
<p>Otherwise, if <var>window</var> was previously used for displaying other buffers
(see <a href="Window-History.html#Window-History">Window History</a>), the most recent buffer in that history will be
displayed.
</p>

<p>The following option specifies a function to do the right thing with a frame
containing one window when quitting that window.
</p>
<dl>
<dt><a name="index-frame_002dauto_002dhide_002dfunction"></a>User Option: <strong>frame-auto-hide-function</strong></dt>
<dd><p>このオプションで指定された関数は自動的にフレームを隠すために呼び出される。この関数はフレームを唯一の引数として呼び出される。
</p>
<p>ここで指定される関数は選択されたウィンドウが専用(dedicated)であり、かつバリーされるバッファーを表示しているときに<code>bury-buffer</code>
(<a href="Buffer-List.html#Buffer-List">Buffer List</a>を参照)から呼び出される。またquitされるウィンドウのフレームがそのウィンドウのバッファーを表示するために特別に作成されたフレームで、かつそのバッファーがkillされないときにも<code>quit-restore-window</code>
(上記)から呼び出される。
</p>
<p>デフォルトでは<code>iconify-frame</code> (<a href="Visibility-of-Frames.html#Visibility-of-Frames">Visibility of Frames</a>を参照)を呼び出す。かわりにフレームをディスプレイから削除する<code>delete-frame</code> (<a href="Deleting-Frames.html#Deleting-Frames">Deleting Frames</a>を参照)、フレームを不可視にする<code>make-frame-invisible</code>、フレームを変更せずに残す<code>ignore</code>、またはフレームを唯一の引数とする任意の関数のいずれかを指定できる。
</p>
<p>このオプションで指定された関数は指定されたフレームが生きたウィンドウただ1つを含み、かつ同一端末上に少なくとも1つ他のフレームが存在する場合のみ呼び出されることに注意。
</p>
<p>特定のフレームにたいしてここで指定した値は、そのフレームのフレームパラメーター<code>auto-hide-function</code>でオーバーライドされるかもしれない(<a href="Frame-Interaction-Parameters.html#Frame-Interaction-Parameters">Frame Interaction Parameters</a>を参照)。
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Side-Windows.html#Side-Windows" accesskey="n" rel="next">Side Windows</a>, Previous: <a href="Dedicated-Windows.html#Dedicated-Windows" accesskey="p" rel="prev">Dedicated Windows</a>, Up: <a href="Windows.html#Windows" accesskey="u" rel="up">Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/translate_emacs-28_06545bc0cc533b1abd831dd521df5f3369675d61, commit:a3b07e487bd54d8f6e15899583d1bea45c02a12e to check Japanese translation.
</body>
</html>
