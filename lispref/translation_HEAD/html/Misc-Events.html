<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.1.

Copyright (C) 1990-1996, 1998-2022 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Misc Events (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Misc Events (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Misc Events (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="August 20, 2023">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Input-Events.html" rel="up" title="Input Events">
<link href="Event-Examples.html" rel="next" title="Event Examples">
<link href="Xwidget-Events.html" rel="prev" title="Xwidget Events">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="subsection" id="Misc-Events">
<div class="header">
<p>
Next: <a href="Event-Examples.html" accesskey="n" rel="next">イベントの例</a>, Previous: <a href="Xwidget-Events.html" accesskey="p" rel="prev">Xwidget events</a>, Up: <a href="Input-Events.html" accesskey="u" rel="up">入力イベント</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="sonoTa-nosisutemuibento"></span><h4 class="subsection">22.7.12 その他のシステムイベント</h4>

<p>他にもシステム内での出来事を表現するイベント型がいくつかあります。
</p>
<dl compact="compact">
<dd><span id="index-delete_002dframe-event"></span>
</dd>
<dt><span><code>(delete-frame (<var>frame</var>))</code></span></dt>
<dd><p>このイベントの種類はユーザーがウィンドウマネージャーに特定のウィンドウを削除するコマンドを与えたことを示し、Emacsのフレームにたいして発生する。
</p>
<p><code>フレーム削除(delete-frame)</code>イベントの標準的な定義では<var>frame</var>が削除される。
</p>
<span id="index-iconify_002dframe-event"></span>
</dd>
<dt><span><code>(iconify-frame (<var>frame</var>))</code></span></dt>
<dd><p>このイベントの種類はウィンドウマネージャーを使用してユーザーが<var>frame</var>をアイコン化したことを示す。標準的な定義は<code>ignore</code>。これはそのフレームがすでにアイコン化されているので、Emacsが行う必要のことは何もないからである。このイベント型の目的は、望むならこのようなイベントの追跡を可能にしておくためである。
</p>
<span id="index-make_002dframe_002dvisible-event"></span>
</dd>
<dt><span><code>(make-frame-visible (<var>frame</var>))</code></span></dt>
<dd><p>このイベントの種類はウィンドウマネージャーを使用してユーザーが<var>frame</var>を非アイコン化したことを示す。標準的な定義は<code>ignore</code>。これは、そのフレームがすでに可視化されているので、Emacsが行う必要のことは何もないからである。
</p>
<span id="index-touch_002dend-event"></span>
</dd>
<dt><span><code>(touch-end (<var>position</var>))</code></span></dt>
<dd><p>This kind of event indicates that the user&rsquo;s finger moved off the mouse
wheel or the touchpad.  The <var>position</var> element is a mouse position list
(see <a href="Click-Events.html">クリックイベント</a>), specifying the position of the mouse cursor when the
finger moved off the mouse wheel.
</p>
<span id="index-wheel_002dup-event"></span>
<span id="index-wheel_002ddown-event"></span>
</dd>
<dt><span><code>(wheel-up <var>position</var> <var>clicks</var> <var>lines</var> <var>pixel-delta</var>)</code></span></dt>
<dt><span><code>(wheel-down <var>position</var> <var>clicks</var> <var>lines</var> <var>pixel-delta</var>)</code></span></dt>
<dd><p>この種類のイベントはマウスホイールを移動したことにより発生する。<var>position</var>要素はそのイベント発生時のマウスカーソル位置を指定するマウス位置リスト(<a href="Click-Events.html">クリックイベント</a>を参照)。
</p>
<p><var>clicks</var>, if present, is the number of times that the wheel was moved in
quick succession.  See <a href="Repeat-Events.html">リピートイベント</a>.  <var>lines</var>, if present and not
<code>nil</code>, is the number of screen lines that should be scrolled.
<var>pixel-delta</var>, if present, is a cons cell of the form <code>(<var>x</var>&nbsp;.&nbsp;<var>y</var>)</code><!-- /@w -->, where <var>x</var> and <var>y</var> are the numbers of pixels by which
to scroll in each axis, a.k.a. <em>pixelwise deltas</em>.
</p>
<span id="index-pixel_002dresolution-wheel-events"></span>
<p>You can use these <var>x</var> and <var>y</var> pixelwise deltas to determine how much
the mouse wheel has actually moved at pixel resolution.  For example, the
pixelwise deltas could be used to scroll the display at pixel resolution,
exactly according to the user&rsquo;s turning the mouse wheel.
</p>
<span id="index-mouse_002dwheel_002dup_002devent"></span>
<span id="index-mouse_002dwheel_002ddown_002devent"></span>
<p>This kind of event is generated only on some kinds of systems.  On some
systems, <code>mouse-4</code> and <code>mouse-5</code> are used instead.  For portable
code, use the variables <code>mouse-wheel-up-event</code>,
<code>mouse-wheel-up-alternate-event</code>, <code>mouse-wheel-down-event</code> and
<code>mouse-wheel-down-alternate-event</code> defined in <samp>mwheel.el</samp> to
determine what event types to expect for the mouse wheel.
</p>
<span id="index-mouse_002dwheel_002dleft_002devent"></span>
<span id="index-mouse_002dwheel_002dright_002devent"></span>
<p>Similarly, some mice can generate <code>mouse-wheel-left-event</code> and
<code>mouse-wheel-right-event</code> and can be used to scroll if
<code>mouse-wheel-tilt-scroll</code> is non-<code>nil</code>.  However, some mice also
generate other events at the same time as they&rsquo;re generating these scroll
events which may get in the way.  The way to fix this is generally to unbind
these events (for instance, <code>mouse-6</code> or <code>mouse-7</code>, but this is
very hardware and operating system dependent).
</p>
<span id="index-pinch-event"></span>
</dd>
<dt><span><code>(pinch <var>position</var> <var>dx</var> <var>dy</var> <var>scale</var> <var>angle</var>)</code></span></dt>
<dd><p>This kind of event is generated by the user performing a &ldquo;pinch&rdquo; gesture
by placing two fingers on a touchpad and moving them towards or away from
each other.  <var>position</var> is a mouse position list (see <a href="Click-Events.html">クリックイベント</a>)
that provides the position of the mouse pointer when the event occurred,
<var>dx</var> is the change in the horizontal distance between the fingers since
the last event in the same sequence, <var>dy</var> is the vertical movement of
the fingers since the last event in the same sequence, <var>scale</var> is the
ratio of the current distance between the fingers to that distance at the
start of the sequence, and <var>angle</var> is the angular difference in degrees
between the direction of the line connecting the fingers in this event and
the direction of that line in the last event of the same sequence.
</p>
<p>As pinch events are only sent at the beginning or during a pinch sequence,
they do not report gestures where the user moves two fingers on a touchpad
in a rotating fashion without pinching the fingers.
</p>
<p>All arguments after <var>position</var> are floating point numbers.
</p>
<p>This event is usually sent as part of a sequence, which begins with the user
placing two fingers on the touchpad, and ends with the user removing those
fingers.  <var>dx</var>, <var>dy</var>, and <var>angle</var> will be <code>0.0</code> in the
first event of a sequence; subsequent events will report non-zero values for
these members of the event structure.
</p>
<p><var>dx</var> and <var>dy</var> are reported in imaginary relative units, in which
<code>1.0</code> is the width and height of the touchpad respectively.  They are
usually interpreted as being relative to the size of the object beneath the
gesture: image, window, etc.
</p>
<span id="index-preedit_002dtext-event"></span>
</dd>
<dt><span><code>(preedit-text <var>arg</var>)</code></span></dt>
<dd><p>This event is sent when a system input method tells Emacs to display some
text to indicate to the user what will be inserted.  The contents of
<var>arg</var> are dependent on the window system being used.
</p>
<p>On X, <var>arg</var> is a string describing some text to place behind the
cursor.  It can be <code>nil</code>, which means to remove any text previously
displayed.
</p>
<p>On PGTK frames (see <a href="Frames.html">フレーム</a>), <var>arg</var> is a list of strings with
information about their color and underline attributes.  It has the
following form:
</p>
<div class="example">
<pre class="example">   ((<var>string1</var>
     (ul . <var>underline-color</var>)
     (bg . <var>background-color</var>)
     (fg . <var>foreground-color</var>))
    (<var>string2</var>
     (ul . <var>underline-color</var>)
     (bg . <var>background-color</var>)
     (fg . <var>foreground-color</var>))
    &hellip;
   )
</pre></div>

<p>Color information can be omitted, leaving just the text of the strings.
<var>underline-color</var> can be <code>t</code>, meaning underlined text with default
underline color, or it can be a string, the name of the color to draw the
underline.
</p>
<p>This is a special event (see <a href="Special-Events.html">スペシャルイベント</a>), which normally should not
be bound by the user to any command.  Emacs will typically display the text
contained in the event in an overlay behind point when it is received.
</p>
<span id="index-drag_002dn_002ddrop-event"></span>
</dd>
<dt><span><code>(drag-n-drop <var>position</var> <var>files</var>)</code></span></dt>
<dd><p>この種類のイベントはEmacs外部アプリケーション内でファイルグループが選択されて、それがEmacsフレーム内にドラッグアンドドロップされたときに発生する。
</p>
<p>要素<var>position</var>は、そのイベント位置を記述しマウスクリックイベントで使用されるフォーマット(<a href="Click-Events.html">クリックイベント</a>を参照)と同じ。要素<var>files</var>はドラッグアンドドロップされたファイル名のリスト。通常はそれらのファイルをvisitすることによってこのイベントは処理される。
</p>
<p>この種類のイベントは現在のところある種のシステムでのみ生成される。
</p>
<span id="index-help_002decho-event"></span>
</dd>
<dt><span><code>help-echo</code></span></dt>
<dd><p>この種類のイベントは、テキストプロパティ<code>help-echo</code>をもつバッファーテキスト部分上にマウスポインターが移動したときに生成される。生成されるイベントは以下の形式をもつ:
</p>
<div class="example">
<pre class="example">(help-echo <var>frame</var> <var>help</var> <var>window</var> <var>object</var> <var>pos</var>)
</pre></div>

<p>イベントパラメーターの正確な意味とヘルプテキストを表示するためにこれらのパラメーターを使用する方法は、<a href="Special-Properties.html#Text-help_002decho">Text help-echo</a>で説明されている。
</p>
<span id="index-sigusr1-event"></span>
<span id="index-sigusr2-event"></span>
<span id="index-user-signals"></span>
</dd>
<dt><span><code>sigusr1</code></span></dt>
<dt><span><code>sigusr2</code></span></dt>
<dd><p>これらのイベントはEmacsプロセスがシグナル<code>SIGUSR1</code>や<code>SIGUSR2</code>を受け取ったときに生成される。シグナルは追加情報を運搬しないので追加データは含まれない。これらのシグナルはデバッグに有用(<a href="Error-Debugging.html">エラーによるデバッガへのエンター</a>を参照)。
</p>
<p>ユーザーシグナルをcatchするためには、<code>special-event-map</code> (<a href="Controlling-Active-Maps.html">アクティブなキーマップの制御</a>を参照)内で対応するイベントにバインドする。そのコマンドは引数なしで呼び出され、<code>last-input-event</code>内の特定のシグナルイベントが利用できる(<a href="Event-Input-Misc.html">その他のイベント入力の機能</a>を参照)。たとえば:
</p>
<div class="example">
<pre class="example">(defun sigusr-handler ()
  (interactive)
  (message &quot;Caught signal %S&quot; last-input-event))

(keymap-set special-event-map &quot;&lt;sigusr1&gt;&quot; 'sigusr-handler)
</pre></div>

<p>シグナルハンドラーをテストするために、自身でEmacsにシグナルを送信できる:
</p>
<div class="example">
<pre class="example">(signal-process (emacs-pid) 'sigusr1)
</pre></div>

<span id="index-language_002dchange-event"></span>
</dd>
<dt><span><code>language-change</code></span></dt>
<dd><p>この種類のイベントはMS-Windows上で入力言語が変更されたときに生成される。これは通常はキーボードキーが異なる言語の文字でEmacsに送られることを意味する。生成されるイベントは以下の形式をもつ:
</p>
<div class="example">
<pre class="example">(language-change <var>frame</var> <var>codepage</var> <var>language-id</var>)
</pre></div>

<p>ここで<var>frame</var>は言語が変更されたときカレントだったフレーム、<var>codepage</var>は新たなコードページ番号(codepage
number)、<var>language-id</var>は新たな入力言語の数値IDである。<var>codepage</var>に対応するコーディングシステム(<a href="Coding-Systems.html">コーディングシステム</a>を参照)は、<code>cp<var>codepage</var></code>か<code>windows-<var>codepage</var></code>。<var>language-id</var>を文字列に変更する(たとえば<code>set-language-environment</code>のようなさまざまな言語依存機能にたいしこれを使用する)には、以下のように<code>w32-get-locale-info</code>関数を使用する:
</p>
<div class="example">
<pre class="example">;; 英語にたいする&quot;ENU&quot;のような言語の省略形を取得する
(w32-get-locale-info language-id)
;; &quot;English (United States)&quot;のような
;; その言語の完全な英語名を取得する
(w32-get-locale-info language-id 4097)
;; その言語の完全なローカライズ名を取得する
(w32-get-locale-info language-id t)
</pre></div>
</dd>
</dl>

<p>キーシーケンスの途中、つまりプレフィクスキーの後にこれらのイベントの1つが到着すると、複数イベントキー内ではなくその前か後にそのイベントが到着するようにEmacsはそのイベントを記録する。
</p>
<p>いくつかの<code>delete-frame</code>のようなスペシャルイベントは、デフォルトではEmacsコマンドを呼び出します(他のイベントはバインドされない)。<code>special-event-map</code>を通じて、あるスペシャルイベントがコマンドを呼び出すようにすることができます。このマップでファンクションキーにバインドしたコマンドは、<code>last-input-event</code>内でそれが呼び出された完全なイベントを調べることができます。<a href="Special-Events.html">スペシャルイベント</a>を参照してください。
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Event-Examples.html">イベントの例</a>, Previous: <a href="Xwidget-Events.html">Xwidget events</a>, Up: <a href="Input-Events.html">入力イベント</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:master, commit:d86e092295aa6409a16b68330125a2f508a17347 to check Japanese translation.
</body>
</html>
