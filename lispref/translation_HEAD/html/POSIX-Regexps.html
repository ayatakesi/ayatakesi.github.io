<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.0.50.

Copyright (C) 1990-1996, 1998-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>POSIX Regexps (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="POSIX Regexps (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="POSIX Regexps (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="May 16, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Searching-and-Matching.html" rel="up" title="Searching and Matching">
<link href="Standard-Regexps.html" rel="prev" title="Standard Regexps">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="POSIX-Regexps">
<div class="header">
<p>
Previous: <a href="Standard-Regexps.html" accesskey="p" rel="prev">編集で使用される標準的な正規表現</a>, Up: <a href="Searching-and-Matching.html" accesskey="u" rel="up">検索とマッチング</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Emacs-versus-POSIX-Regular-Expressions"></span><h3 class="section">35.9 Emacs versus POSIX Regular Expressions</h3>
<span id="index-POSIX-regular-expressions"></span>

<p>Regular expression syntax varies significantly among computer programs.
When writing Elisp code that generates regular expressions for use by other
programs, it is helpful to know how syntax variants differ.  To give a feel
for the variation, this section discusses how Emacs regular expressions
differ from two syntax variants standarded by POSIX: basic regular
expressions (BREs) and extended regular expressions (EREs).  Plain
<code>grep</code> uses BREs, and &lsquo;<samp>grep -E</samp>&rsquo; uses EREs.
</p>
<p>Emacs regular expressions have a syntax closer to EREs than to BREs, with
some extensions.  Here is a summary of how POSIX BREs and EREs differ from
Emacs regular expressions.
</p>
<ul>
<li> In POSIX BREs &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>?</samp>&rsquo; are not special.  The only backslash
escape sequences are &lsquo;<samp>\(&hellip;\)</samp>&rsquo;, &lsquo;<samp>\{&hellip;\}</samp>&rsquo;, &lsquo;<samp>\1</samp>&rsquo;
through &lsquo;<samp>\9</samp>&rsquo;, along with the escaped special characters &lsquo;<samp>\$</samp>&rsquo;,
&lsquo;<samp>\*</samp>&rsquo;, &lsquo;<samp>\.</samp>&rsquo;, &lsquo;<samp>\[</samp>&rsquo;, &lsquo;<samp>\\</samp>&rsquo;, and &lsquo;<samp>\^</samp>&rsquo;.  Therefore
&lsquo;<samp>\(?:</samp>&rsquo; acts like &lsquo;<samp>\([?]:</samp>&rsquo;.  POSIX does not define how other BRE
escapes behave; for example, GNU <code>grep</code> treats &lsquo;<samp>\|</samp>&rsquo; like Emacs
does, but does not support all the Emacs escapes.

</li><li> In POSIX BREs, it is an implementation option whether &lsquo;<samp>^</samp>&rsquo; is special
after &lsquo;<samp>\(</samp>&rsquo;; GNU <code>grep</code> treats it like Emacs does.  In POSIX
EREs, &lsquo;<samp>^</samp>&rsquo; is always special outside of bracket expressions, which means
the ERE &lsquo;<samp>x^</samp>&rsquo; never matches.  In Emacs regular expressions, &lsquo;<samp>^</samp>&rsquo; is
special only at the beginning of the regular expression, or after &lsquo;<samp>\(</samp>&rsquo;,
&lsquo;<samp>\(?:</samp>&rsquo; or &lsquo;<samp>\|</samp>&rsquo;.

</li><li> In POSIX BREs, it is an implementation option whether &lsquo;<samp>$</samp>&rsquo; is special
before &lsquo;<samp>\)</samp>&rsquo;; GNU <code>grep</code> treats it like Emacs does.  In POSIX
EREs, &lsquo;<samp>$</samp>&rsquo; is always special outside of bracket expressions
(see <a href="Regexp-Special.html">bracket expressions</a>), which means the ERE &lsquo;<samp>$x</samp>&rsquo;
never matches.  In Emacs regular expressions, &lsquo;<samp>$</samp>&rsquo; is special only at
the end of the regular expression, or before &lsquo;<samp>\)</samp>&rsquo; or &lsquo;<samp>\|</samp>&rsquo;.

</li><li> In POSIX EREs &lsquo;<samp>{</samp>&rsquo;, &lsquo;<samp>(</samp>&rsquo; and &lsquo;<samp>|</samp>&rsquo; are special, and &lsquo;<samp>)</samp>&rsquo; is
special when matched with a preceding &lsquo;<samp>(</samp>&rsquo;.  These special characters do
not use preceding backslashes; &lsquo;<samp>(?</samp>&rsquo; produces undefined results.  The
only backslash escape sequences are the escaped special characters
&lsquo;<samp>\$</samp>&rsquo;, &lsquo;<samp>\(</samp>&rsquo;, &lsquo;<samp>\)</samp>&rsquo;, &lsquo;<samp>\*</samp>&rsquo;, &lsquo;<samp>\+</samp>&rsquo;, &lsquo;<samp>\.</samp>&rsquo;, &lsquo;<samp>\?</samp>&rsquo;,
&lsquo;<samp>\[</samp>&rsquo;, &lsquo;<samp>\\</samp>&rsquo;, &lsquo;<samp>\^</samp>&rsquo;, &lsquo;<samp>\{</samp>&rsquo; and &lsquo;<samp>\|</samp>&rsquo;.  POSIX does not
define how other ERE escapes behave; for example, GNU &lsquo;<samp>grep -E</samp>&rsquo; treats
&lsquo;<samp>\1</samp>&rsquo; like Emacs does, but does not support all the Emacs escapes.

</li><li> In POSIX BREs and EREs, undefined results are produced by repetition
operators at the start of a regular expression or subexpression (possibly
preceded by &lsquo;<samp>^</samp>&rsquo;), except that the repetition operator &lsquo;<samp>*</samp>&rsquo; has the
same behavior in BREs as in Emacs.  In Emacs, these operators are treated as
ordinary.

</li><li> In BREs and EREs, undefined results are produced by two repetition operators
in sequence.  In Emacs, these have well-defined behavior, e.g., &lsquo;<samp>a**</samp>&rsquo;
is equivalent to &lsquo;<samp>a*</samp>&rsquo;.

</li><li> In BREs and EREs, undefined results are produced by empty regular
expressions or subexpressions.  In Emacs these have well-defined behavior,
e.g., &lsquo;<samp>\(\)*</samp>&rsquo; matches the empty string,

</li><li> In BREs and EREs, undefined results are produced for the named character
classes &lsquo;<samp>[:ascii:]</samp>&rsquo;, &lsquo;<samp>[:multibyte:]</samp>&rsquo;, &lsquo;<samp>[:nonascii:]</samp>&rsquo;,
&lsquo;<samp>[:unibyte:]</samp>&rsquo;, and &lsquo;<samp>[:word:]</samp>&rsquo;.

</li><li> BREs and EREs can contain collating symbols and equivalence class
expressions within bracket expressions, e.g., &lsquo;<samp>[[.ch.]d[=a=]]</samp>&rsquo;.  Emacs
regular expressions do not support this.

</li><li> BREs, EREs, and the strings they match cannot contain encoding errors or NUL
bytes.  In Emacs these constructs simply match themselves.

</li><li> BRE and ERE searching always finds the longest match.  Emacs searching by
default does not necessarily do so.  See <a href="Longest-Match.html">Longest-match searching for regular expression matches</a>.
</li></ul>

</div>
<hr>
<div class="header">
<p>
Previous: <a href="Standard-Regexps.html">編集で使用される標準的な正規表現</a>, Up: <a href="Searching-and-Matching.html">検索とマッチング</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/master_4078d0fd3ee9e55c3da219aa6e7788ac6130697b, commit:404c16860c08263653c7d27546298d809107d98c to check Japanese translation.
</body>
</html>
