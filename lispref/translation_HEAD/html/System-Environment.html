<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.0.91.

Copyright © 1990-1996, 1998-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>System Environment (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="System Environment (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="System Environment (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="October 6, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="System-Interface.html" rel="up" title="System Interface">
<link href="User-Identification.html" rel="next" title="User Identification">
<link href="Getting-Out.html" rel="prev" title="Getting Out">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="System-Environment">
<div class="nav-panel">
<p>
Next: <a href="User-Identification.html" accesskey="n" rel="next">ユーザーの識別</a>, Previous: <a href="Getting-Out.html" accesskey="p" rel="prev">Emacsからの脱出</a>, Up: <a href="System-Interface.html" accesskey="u" rel="up">オペレーティングシステムのインターフェース</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="opereteingusisutemunoHuan-Jing-"><span>43.3 オペレーティングシステムの環境<a class="copiable-link" href="#opereteingusisutemunoHuan-Jing-"> &para;</a></span></h3>
<a class="index-entry-id" id="index-operating-system-environment"></a>

<p>Emacsはさまざまな変数を通じてオペレーティングシステム環境内の変数へのアクセスを提供します。これらの変数にはシステムの名前、ユーザーの<abbr class="acronym">UID</abbr>などが含まれます。
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-system_002dconfiguration"><span class="category-def">Variable: </span><span><strong class="def-name">system-configuration</strong><a class="copiable-link" href="#index-system_002dconfiguration"> &para;</a></span></dt>
<dd><p>この変数はユーザーのシステムのハードウェアとソフトウェアにたいするGNUの標準コンフィグレーション名(standard GNU
configuration
name)を保持する。たとえば64ビットGNU/Linuxシステムにたいする典型的な値は&lsquo;<samp class="samp">&quot;x86_64-unknown-linux-gnu&quot;</samp>&rsquo;。
</p></dd></dl>

<a class="index-entry-id" id="index-system-type-and-name"></a>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-system_002dtype"><span class="category-def">Variable: </span><span><strong class="def-name">system-type</strong><a class="copiable-link" href="#index-system_002dtype"> &para;</a></span></dt>
<dd><p>この変数の値はEmacs実行中のオペレーティングシステムのタイプを示すシンボル。可能な値は：
</p>
<dl class="table">
<dt><code class="code">aix</code></dt>
<dd><p>IBMのAIX。
</p>
</dd>
<dt><code class="code">berkeley-unix</code></dt>
<dd><p>Berkeley BSDとその変種。
</p>
</dd>
<dt><code class="code">cygwin</code></dt>
<dd><p>MS-Windowsで最上位のPosixレイヤーであるCygwin。
</p>
</dd>
<dt><code class="code">darwin</code></dt>
<dd><p>Darwin (macOS).
</p>
</dd>
<dt><code class="code">gnu</code></dt>
<dd><p>(HURDとMachから構成される)GNUシステム。
</p>
</dd>
<dt><code class="code">gnu/linux</code></dt>
<dd><p>GNU/Linuxシステム &mdash;
すなわちLinuxカーネルを使用するGNUシステムの変種(これらのシステムは人がしばしば&ldquo;Linux&rdquo;と呼ぶシステムだが実際にはLinuxは単なるカーネルであってシステム全体ではない)。
</p>
</dd>
<dt><code class="code">gnu/kfreebsd</code></dt>
<dd><p>FreeBSDカーネルによる(glibcベースの)GNUシステム。
</p>
</dd>
<dt><code class="code">haiku</code></dt>
<dd><p>Beオペレーティングシステムから派生したHaikuオペレーティングシステム。
</p>
</dd>
<dt><code class="code">hpux</code></dt>
<dd><p>ヒューレット・パッカードのHPUXオペレーティングシステム。
</p>
</dd>
<dt><code class="code">nacl</code></dt>
<dd><p>Google Native Client(<abbr class="acronym">NaCl</abbr>)サンドボックスシステム。
</p>
</dd>
<dt><code class="code">android</code></dt>
<dd><p>オープンハンドセットアライアンス(OHA: Open Handset Alliance)のAndroidオペレーティングシステム。
</p>
</dd>
<dt><code class="code">ms-dos</code></dt>
<dd><p>MicrosoftのDOS。MS-DOSにたいするDJGPPでコンパイルされたEmacsは、たとえMS-Windows上で実行されていても<code class="code">system-type</code>が<code class="code">ms-dos</code>にバインドされる。
</p>
</dd>
<dt><code class="code">usg-unix-v</code></dt>
<dd><p>AT&amp;TのUnix System V。
</p>
</dd>
<dt><code class="code">windows-nt</code></dt>
<dd><p>MicrosoftのWindows NT、9X以降。たとえばWindows
10でも<code class="code">system-type</code>の値は常に<code class="code">windows-nt</code>。
</p>
</dd>
</dl>

<p>わたしたちは絶対に必要になるまでは、より細分化するために新たなシンボルを追加したくありません。実際のところ将来的にはこれらの候補のいくつかを取り除きたいと思っています。<code class="code">system-type</code>で許されているより細分化する必要がある場合には、たとえば正規表現にたいして<code class="code">system-configuration</code>をテストできます。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-system_002dname"><span class="category-def">Function: </span><span><strong class="def-name">system-name</strong><a class="copiable-link" href="#index-system_002dname"> &para;</a></span></dt>
<dd><p>この関数は実行中のマシン名を文字列としてリターンする。
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-mail_002dhost_002daddress"><span class="category-def">User Option: </span><span><strong class="def-name">mail-host-address</strong><a class="copiable-link" href="#index-mail_002dhost_002daddress"> &para;</a></span></dt>
<dd><p>この変数が非<code class="code">nil</code>の場合には、emailアドレスを生成するために<code class="code">system-name</code>のかわりにこの変数が使用される。たとえばこれは<code class="code">user-mail-address</code>のデフォルト値の構築時に使用される。<a class="ref" href="User-Identification.html">ユーザーの識別</a>を参照のこと。
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-getenv"><span class="category-def">Command: </span><span><strong class="def-name">getenv</strong> <var class="def-var-arguments">var &amp;optional frame</var><a class="copiable-link" href="#index-getenv"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-environment-variable-access"></a>
<p>この関数は環境変数<var class="var">var</var>の値を文字列としてリターンする。<var class="var">var</var>は文字列であること。その環境内で<var class="var">var</var>が未定義なら<code class="code">getenv</code>は<code class="code">nil</code>をリターンする。<var class="var">var</var>がセットされているがnull(訳注:
空文字列)なら&lsquo;<samp class="samp">&quot;&quot;</samp>&rsquo;をリターンする。Emacs内では環境変数とそれらの値のリストは変数<code class="code">process-environment</code>内に保持されている。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(getenv &quot;USER&quot;)
     &rArr; &quot;lewis&quot;
</pre></div></div>

<p>shellコマンド<code class="code">printenv</code>は環境変数のすべて、または一部をプリントする:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">bash$ printenv
PATH=/usr/local/bin:/usr/bin:/bin
USER=lewis
</pre></div><div class="group"><pre class="example-preformatted">TERM=xterm
SHELL=/bin/bash
HOME=/home/lewis
</pre></div><pre class="example-preformatted">...
</pre></div>
</dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-setenv"><span class="category-def">Command: </span><span><strong class="def-name">setenv</strong> <var class="def-var-arguments">variable &amp;optional value substitute</var><a class="copiable-link" href="#index-setenv"> &para;</a></span></dt>
<dd><p>このコマンドは<var class="var">variable</var>という名前の環境変数の値に<var class="var">value</var>をセットする。<var class="var">variable</var>は文字列であること。内部的にはEmacs
Lispは任意の文字列を扱える。しかし<var class="var">variable</var>は通常はshell識別子として有効、すなわちアルファベットかアンダースコアで始まり、アルファベットか数字またはアンダースコアのシーケンスであること。それ以外ならEmacsのサブプロセスが<var class="var">variable</var>の値にアクセスを試みるとエラーが発生するかもしれない。<var class="var">value</var>が省略か<code class="code">nil</code>の場合(またはプレフィクス引数とともにインタラクティブに呼び出された場合)には、<code class="code">setenv</code>はその環境から<var class="var">variable</var>を削除する。それ以外なら<var class="var">variable</var>は文字列であること。
</p>
<p>オプション引数<var class="var">substitute</var>が非<code class="code">nil</code>なら、<var class="var">value</var>内のすべての環境変数を展開するためにEmacsは関数<code class="code">substitute-env-vars</code>を呼び出す。
</p>
<p><code class="code">setenv</code>は<code class="code">process-environment</code>を変更することにより機能する。この変数を<code class="code">let</code>でバインドするのも合理的プラクティスである。
</p>
<p><code class="code">setenv</code>は<var class="var">variable</var>の新たな値、または環境から<var class="var">variable</var>が削除されていれば<code class="code">nil</code>をリターンする。
</p></dd></dl>

<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-with_002denvironment_002dvariables"><span class="category-def">Macro: </span><span><strong class="def-name">with-environment-variables</strong> <var class="def-var-arguments">variables body&hellip;</var><a class="copiable-link" href="#index-with_002denvironment_002dvariables"> &para;</a></span></dt>
<dd><p>このマクロは<var class="var">body</var>を実行する際に、<var class="var">variables</var>に応じて環境変数を一時的にセットする。終了時には以前の値がリストアされる。引数<var class="var">variables</var>は<code class="code">(<var class="var">var</var>&nbsp;<var class="var">value</var>)</code><!-- /@w -->という形式の文字列ペアーのリストであること。ここで<var class="var">var</var>は環境変数の名前、<var class="var">value</var>はその変数の値。
</p>
<div class="example lisp">
<pre class="lisp-preformatted">(with-environment-variables ((&quot;LANG&quot; &quot;C&quot;)
                             (&quot;LANGUAGE&quot; &quot;en_US:en&quot;))
  (call-process &quot;ls&quot; nil t))
</pre></div>
</dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-process_002denvironment"><span class="category-def">Variable: </span><span><strong class="def-name">process-environment</strong><a class="copiable-link" href="#index-process_002denvironment"> &para;</a></span></dt>
<dd><p>この変数はそれぞれが1つの環境変数を記す文字列リスト。関数<code class="code">getenv</code>と<code class="code">setenv</code>はこの変数により機能する。
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">process-environment
&rArr; (&quot;PATH=/usr/local/bin:/usr/bin:/bin&quot;
    &quot;USER=lewis&quot;
</pre></div><div class="group"><pre class="example-preformatted">    &quot;TERM=xterm&quot;
    &quot;SHELL=/bin/bash&quot;
    &quot;HOME=/home/lewis&quot;
    ...)
</pre></div></div>

<p><code class="code">process-environment</code>に同じ環境変数を指定す複数の要素が含まれる場合には、それらの最初の要素が変数を指定して他は無視される。
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-initial_002denvironment"><span class="category-def">Variable: </span><span><strong class="def-name">initial-environment</strong><a class="copiable-link" href="#index-initial_002denvironment"> &para;</a></span></dt>
<dd><p>この変数はEmacs開始時にその親プロセスからEmacsが継承した環境変数のリストを保持する。
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-path_002dseparator-1"><span class="category-def">Variable: </span><span><strong class="def-name">path-separator</strong><a class="copiable-link" href="#index-path_002dseparator-1"> &para;</a></span></dt>
<dd><p>この変数は、(環境変数で見つけた)検索パス内でディレクトリーを区切る文字を示す文字列を保持する。値はUnixとGNUシステムでは<code class="code">&quot;:&quot;</code>、MSシステムでは<code class="code">&quot;;&quot;</code>。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-path_002dseparator"><span class="category-def">Function: </span><span><strong class="def-name">path-separator</strong><a class="copiable-link" href="#index-path_002dseparator"> &para;</a></span></dt>
<dd><p>この関数は変数<code class="code">path-separator</code>の接続ローカル値をリターンする。これはMSシステムかつローカルの<code class="code">default-directory</code>なら<code class="code">&quot;;&quot;</code>、UnixおよびGNUのシステムまたはリモートの<code class="code">default-directory</code>なら<code class="code">&quot;:&quot;</code>。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-parse_002dcolon_002dpath"><span class="category-def">Function: </span><span><strong class="def-name">parse-colon-path</strong> <var class="def-var-arguments">path</var><a class="copiable-link" href="#index-parse_002dcolon_002dpath"> &para;</a></span></dt>
<dd><p>この関数は環境変数<code class="env">PATH</code>の値のような検索パス文字列を引数に受け取り、セパレーターで分割してディレクトリーのリストをリターンする。このリスト内では<code class="code">nil</code>はカレントディレクトリーを意味する。この関数の名前からはセパレーターは&ldquo;コロン&rdquo;となるが、実際に使用するのは変数<code class="code">path-separator</code>の値。
</p>
<div class="example">
<pre class="example-preformatted">(parse-colon-path &quot;:/foo:/bar&quot;)
     &rArr; (nil &quot;/foo/&quot; &quot;/bar/&quot;)
</pre></div>
</dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-invocation_002dname"><span class="category-def">Variable: </span><span><strong class="def-name">invocation-name</strong><a class="copiable-link" href="#index-invocation_002dname"> &para;</a></span></dt>
<dd><p>この変数はEmacsが呼び出された時のプログラム名を保持する。値は文字列でありディレクトリー名は含まれない。
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-invocation_002ddirectory"><span class="category-def">Variable: </span><span><strong class="def-name">invocation-directory</strong><a class="copiable-link" href="#index-invocation_002ddirectory"> &para;</a></span></dt>
<dd><p>この変数はEmacs実行可能形式が実行されたときに配置されていたディレクトリー名、ディレクトリーが判断できなければ<code class="code">nil</code>をリターンする。
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-installation_002ddirectory"><span class="category-def">Variable: </span><span><strong class="def-name">installation-directory</strong><a class="copiable-link" href="#index-installation_002ddirectory"> &para;</a></span></dt>
<dd><p>非<code class="code">nil</code>ならサブディレクトリー<samp class="file">lib-src</samp>と<samp class="file">etc</samp>を探すディレクトリーである。インストールされたEmacsなら通常は<code class="code">nil</code>。Emacsが標準のインストール位置にそれらのディレクトリーを見つけられないものの、Emacs実行可能形式を含むディレクトリー(たとえば<code class="code">invocation-directory</code>)に何らかの関連があるディレクトリーで見つかることができたら非<code class="code">nil</code>。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-load_002daverage"><span class="category-def">Function: </span><span><strong class="def-name">load-average</strong> <var class="def-var-arguments">&amp;optional use-float</var><a class="copiable-link" href="#index-load_002daverage"> &para;</a></span></dt>
<dd><p>この関数はカレント、1分、5分、15分のロードアベレージ(load averages:
平均負荷)をリストでリターンする。このロードアベレージはシステム上で実行を試みているプロセス数を示す。
</p>
<p>デフォルトでは値はシステムロードアベレージを100倍にした整数だが、<var class="var">use-float</var>が非<code class="code">nil</code>なら100を乗ずることなくこれらの値は浮動小数点数としてリターンされる。
</p>
<p>ロードアベレージ入手が不可能ならこの関数はエラーをシグナルする。いくつかのプラットフォームではロードアベレージへのアクセスにカーネル情報を読み取れるように、通常は推奨されないsetuidかsetgidしたEmacsのインストールを要する。
</p>
<p>1分のロードアベレージは利用できるが、5分と15分のアレージは利用できなければ、この関数は利用可能なアベレージを含んだ短縮されたリストをリターンする。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(load-average)
     &rArr; (169 48 36)
</pre></div><div class="group"><pre class="example-preformatted">(load-average t)
     &rArr; (1.69 0.48 0.36)
</pre></div></div>

<p>shellコマンドの<code class="code">uptime</code>はこれと類似する情報をリターンする。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-emacs_002dpid"><span class="category-def">Function: </span><span><strong class="def-name">emacs-pid</strong><a class="copiable-link" href="#index-emacs_002dpid"> &para;</a></span></dt>
<dd><p>この関数はEmacsプロセスのプロセス<abbr class="acronym">ID</abbr>を整数としてリターンする。
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-tty_002derase_002dchar"><span class="category-def">Variable: </span><span><strong class="def-name">tty-erase-char</strong><a class="copiable-link" href="#index-tty_002derase_002dchar"> &para;</a></span></dt>
<dd><p>この変数はEmacs開始前にそのシステムの端末ドライバーで選択されていたerase文字を保持する。
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-null_002ddevice-1"><span class="category-def">Variable: </span><span><strong class="def-name">null-device</strong><a class="copiable-link" href="#index-null_002ddevice-1"> &para;</a></span></dt>
<dd><p>この変数はシステムのnullデバイスを保持する。値はUnixおよびGNUシステムでは<code class="code">&quot;/dev/null&quot;</code>、MSシステムでは<code class="code">&quot;NUL&quot;</code>。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-null_002ddevice"><span class="category-def">Function: </span><span><strong class="def-name">null-device</strong><a class="copiable-link" href="#index-null_002ddevice"> &para;</a></span></dt>
<dd><p>この関数は変数<code class="code">null-device</code>の接続ローカル値をリターンする。これはMSシステムかつローカルの<code class="code">default-directory</code>なら<code class="code">&quot;NUL&quot;</code>、UnixおよびGNUシステムまたはリモートの<code class="code">default-directory</code>なら<code class="code">&quot;/dev/null&quot;</code>。
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="User-Identification.html">ユーザーの識別</a>, Previous: <a href="Getting-Out.html">Emacsからの脱出</a>, Up: <a href="System-Interface.html">オペレーティングシステムのインターフェース</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-30_11e7ae3964e192b0e4bcc437a04278ee727e720b, commit:8ccfc363d196d14e91ef7a20a1243e9f3c36585b to check Japanese translation.
</body>
</html>
