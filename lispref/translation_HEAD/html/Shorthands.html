<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.1.

Copyright (C) 1990-1996, 1998-2021 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Lisp Reference Manual: Shorthands</title>

<meta name="description" content="GNU Emacs Lisp Reference Manual: Shorthands">
<meta name="keywords" content="GNU Emacs Lisp Reference Manual: Shorthands">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="December 30, 2021">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Symbols.html#Symbols" rel="up" title="Symbols">
<link href="Evaluation.html#Evaluation" rel="next" title="Evaluation">
<link href="Standard-Properties.html#Standard-Properties" rel="prev" title="Standard Properties">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="ja_JP" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Shorthands"></a>
<div class="header">
<p>
Previous: <a href="Symbol-Properties.html#Symbol-Properties" accesskey="p" rel="prev">Symbol Properties</a>, Up: <a href="Symbols.html#Symbols" accesskey="u" rel="up">Symbols</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Shorthands-1"></a>
<h3 class="section">9.5 Shorthands</h3>
<a name="index-shorthands"></a>
<a name="index-symbolic-shorthands"></a>
<a name="index-namespacing"></a>
<a name="index-namespaces"></a>

<p>The symbol <em>shorthands</em>, sometimes known as &ldquo;renamed symbols&rdquo;, are
symbolic forms found in Lisp source.  They&rsquo;re just like regular symbolic
forms, except that when the Lisp reader encounters them, it produces symbols
which have a different and usually longer <em>print name</em> (see <a href="Symbol-Components.html#Symbol-Components">Symbol Components</a>).
</p>
<p>It is useful to think of shorthands as <em>abbreviating</em> the full names of
intended symbols.  Despite this, do not confuse shorthands with the Abbrev
system see <a href="Abbrevs.html#Abbrevs">Abbrevs</a>.
</p>
<a name="index-namespace-etiquette"></a>
<p>Shorthands make Emacs Lisp&rsquo;s <em>namespacing etiquette</em> easier to work
with.  Since all symbols are stored in a single obarray (see <a href="Creating-Symbols.html#Creating-Symbols">Creating Symbols</a>), programmers commonly prefix each symbol name with the name of the
library where it originates.  For example, the functions
<code>text-property-search-forward</code> and <code>text-property-search-backward</code>
both belong to the <samp>text-property-search.el</samp> library
(see <a href="Loading.html#Loading">Loading</a>).  By properly prefixing symbol names, one effectively
prevents clashes between similarly named symbols which belong to different
libraries and thus do different things.  However, this practice commonly
originates very long symbols names, which are inconvenient to type and read
after a while.  Shorthands solve these issues in a clean way.
</p>
<dl>
<dt><a name="index-read_002dsymbol_002dshorthands"></a>Variable: <strong>read-symbol-shorthands</strong></dt>
<dd><p>This variable&rsquo;s value is an alist whose elements have the form
<code>(<var>shorthand-prefix</var> . <var>longhand-prefix</var>)</code>.  Each element
instructs the Lisp reader to read every symbol form which starts with
<var>shorthand-prefix</var> as if it started with <var>longhand-prefix</var> instead.
</p>
<p>This variable may only be set in file-local variables (see <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/File-Variables.html#File-Variables">Local Variables in Files</a> in <cite>The GNU Emacs Manual</cite>).
</p></dd></dl>

<p>Here&rsquo;s an example of shorthands usage in a hypothetical string manipulating
library <samp>some-nice-string-utils.el</samp>.
</p>
<div class="smalllisp">
<pre class="smalllisp">(defun some-nice-string-utils-split (separator s &amp;optional omit-nulls)
  &quot;A match-data saving variant of `split-string'.&quot;
  (save-match-data (split-string s separator omit-nulls)))

(defun some-nice-string-utils-lines (s)
  &quot;Split string S at newline characters into a list of strings.&quot;
  (some-nice-string-utils-split &quot;\\(\r\n\\|[\n\r]\\)&quot; s))
</pre></div>

<p>As can be seen, it&rsquo;s quite tedious to read or develop this code since the
symbol names to type are so long.  We can use shorthands to alleviate that.
</p>
<div class="lisp">
<pre class="lisp">(defun snu-split (separator s &amp;optional omit-nulls)
  &quot;A match-data saving variation on `split-string'.&quot;
  (save-match-data (split-string s separator omit-nulls)))

(defun snu-lines (s)
  &quot;Split string S into a list of strings on newline characters.&quot;
  (snu-split &quot;\\(\r\n\\|[\n\r]\\)&quot; s))

;; Local Variables:
;; read-symbol-shorthands: ((&quot;snu-&quot; . &quot;some-nice-string-utils-&quot;))
;; End:
</pre></div>

<p>Even though the two excerpts look different, they are quite identical after
the Lisp reader processes them.  Both will lead to the very same symbols
being interned (see <a href="Creating-Symbols.html#Creating-Symbols">Creating Symbols</a>).  Thus loading or byte-compiling
any of the two files has equivalent results.  The shorthands
<code>snu-split</code> and <code>snu-lines</code> used in the second version are
<em>not</em> interned in the obarray.  This is easily seen by moving point to
the location where the shorthands are used and waiting for ElDoc
(see <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Doc.html#Lisp-Doc">Local Variables in Files</a> in <cite>The GNU Emacs Manual</cite>)
to hint at the true full name of the symbol under point in the echo area.
</p>
<p>Since <code>read-symbol-shorthands</code> is a file-local variable, it is possible
that multiple libraries depending on <samp>some-nice-string-utils-lines.el</samp>
refer to the same symbols under <em>different</em> shorthands, or not using
shorthands at all.  In the next example, the <samp>my-tricks.el</samp> library
refers to the symbol <code>some-nice-string-utils-lines</code> using the
<code>sns-</code> prefix instead of <code>snu-</code>.
</p>
<div class="example">
<pre class="example">(defun t-reverse-lines (s) (string-join (reverse (sns-lines s)) &quot;\n&quot;)

;; Local Variables:
;; read-symbol-shorthands: ((&quot;t-&quot; . &quot;my-tricks-&quot;)
;;                          (&quot;sns-&quot; . &quot;some-nice-string-utils-&quot;))
;; End:
</pre></div>

<a name="Exceptions"></a>
<h4 class="subsection">9.5.1 Exceptions</h4>

<p>There are two exceptions to rules governing Shorthand transformations:
</p>
<ul>
<li> Symbol forms comprised entirely of characters in the Emacs Lisp symbol
constituent class (see <a href="Syntax-Class-Table.html#Syntax-Class-Table">Syntax Class Table</a>) are not transformed.  For
example, it&rsquo;s possible to use <code>-</code> or <code>/=</code> as shorthand prefixes,
but that won&rsquo;t shadow the arithmetic <em>functions</em> of those names.

</li><li> Symbol forms whose names start with &lsquo;<samp>#_</samp>&rsquo; are not transformed.
</li></ul>
<hr>
<div class="header">
<p>
Previous: <a href="Symbol-Properties.html#Symbol-Properties" accesskey="p" rel="prev">Symbol Properties</a>, Up: <a href="Symbols.html#Symbols" accesskey="u" rel="up">Symbols</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/translate_emacs-28_06545bc0cc533b1abd831dd521df5f3369675d61, commit:51daf5d8dcb453e7a044d304a838ebc50ab5478e to check Japanese translation.
</body>
</html>
