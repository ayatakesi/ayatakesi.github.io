<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.0.91.

Copyright (C) 1990-1996, 1998-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Library Headers (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Library Headers (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Library Headers (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="October 27, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tips.html" rel="up" title="Tips">
<link href="Comment-Tips.html" rel="prev" title="Comment Tips">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Library-Headers">
<div class="header">
<p>
Previous: <a href="Comment-Tips.html" accesskey="p" rel="prev">コメント記述のヒント</a>, Up: <a href="Tips.html" accesskey="u" rel="up">ヒントと規約</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="EmacsraiburarinohetudanoGuan-Xi"></span><h3 class="section">D.8 Emacsライブラリーのヘッダーの慣習</h3>
<span id="index-header-comments"></span>
<span id="index-library-header-comments"></span>
<span id="index-conventions-for-library-header-comments"></span>

<p>Emacsにはセクションに分割してそれの記述者のような情報を与えるために、Lispライブラリー内で特別なコメントを使用する慣習があります。それらのアイテムにたいして標準的なフォーマットを使用すれば、ツール(や人)が関連する情報を抽出するのが簡単になります。このセクションでは以下の例を出発点にこれらの慣習を説明します。
</p>
<div class="example">
<pre class="example">;;; foo.el --- Support for the Foo programming language  -*- lexical-binding: t; -*-

;; Copyright (C) 2010-2024 Your Name
</pre><pre class="example">

;; Author: Your Name &lt;yourname@example.com&gt;
;; Maintainer: Someone Else &lt;someone@example.com&gt;
;; Created: 14 Jul 2010
</pre><pre class="example">;; Keywords: languages
;; URL: https://example.com/foo

;; This file is not part of GNU Emacs.

;; This file is free software&hellip;
&hellip;
;; along with this file.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
</pre></div>

<p>一番最初の行は以下のフォーマットをもつべきです:
</p>
<div class="example">
<pre class="example">;;; <var>filename</var> --- <var>description</var>  -*- lexical-binding: t; -*-
</pre></div>

<p>この説明は1行に収まる必要があります。そのファイルで更に変数をセットするために&lsquo;<samp>-*-</samp>&rsquo;指定が必要なら、<code>lexical-binding</code>の後に配置してください。これにより最初の行が長くなりすぎるようなら、そのファイル終端でLocal
Variablesセクションを使用してください。
</p>
<p>The copyright notice usually lists your name (if you wrote the file).  If
you have an employer who claims copyright on your work, you might need to
list them instead.  Do not say that the copyright holder is the Free
Software Foundation (or that the file is part of GNU Emacs) unless your file
has been accepted into the Emacs distribution or GNU ELPA.  For more
information on the form of copyright and license notices, see
<a href="https://www.gnu.org/licenses/gpl-howto.html">the guide on the GNU
website</a>.
</p>
<p>著作権表示の後は、それぞれが&lsquo;<samp>;; <var>header-name</var>:</samp>&rsquo;で始まる複数の<em>ヘッダーコメント(header
comment)</em>を記述します。以下は慣習的に利用できる<var>header-name</var>のテーブルです:
</p>
<dl compact="compact">
<dt><span>&lsquo;<samp>Author</samp>&rsquo;</span></dt>
<dd><p>このヘッダーは少なくともそのライブラリーの主要な作者の名前とemailアドレスを示す。複数の作者がいる場合には前に<code>;;</code>とタブか少なくとも2つのスペースがある継続行で彼らをリストする。わたしたちは&lsquo;<samp>&lt;&hellip;&gt;</samp>&rsquo;という形式で連絡用emailアドレスを含めることを推奨する。たとえば:
</p>
<div class="example">
<pre class="example">;; Author: Your Name &lt;yourname@example.com&gt;
;;      Someone Else &lt;someone@example.com&gt;
;;      Another Person &lt;another@example.com&gt;
</pre></div>

</dd>
<dt><span>&lsquo;<samp>Maintainer</samp>&rsquo;</span></dt>
<dd><p>このヘッダーはAuthorヘッダーと同じフォーマット。これは現在そのファイルを保守(バグレポートへの応答等)をする人(か人々)をリストする。
</p>
<p>MaintainerヘッダーがなければAuthorヘッダーの人(複数可)がMaintainerとみなされる。Emacs内のいくつかのファイルは、そのファイルのオリジナル作者がもはや責任をもっておらずEmacsの一部として保守されていることを意味するために、Maintainerに&lsquo;<samp>emacs-devel@gnu.org</samp>&rsquo;を使用している。
</p>
</dd>
<dt><span>&lsquo;<samp>Created</samp>&rsquo;</span></dt>
<dd><p>このオプションの行はファイルのオリジナルの作成日付を与えるもので歴史的な興味のためだけに存在する。
</p>
</dd>
<dt><span>&lsquo;<samp>Version</samp>&rsquo;</span></dt>
<dd><p>個々のLispプログラムにたいしてバージョン番号を記録したいならこの行に配置する。Emacsとともに配布されたLispファイルはEmacsのバージョン番号自体が同じ役割を果たすので一般的には&lsquo;<samp>Version</samp>&rsquo;ヘッダーをもたない。複数ファイルのコレクションを配布する場合には、各ファイルではなく主となるファイルにバージョンを記述することを推奨する。
</p>
</dd>
<dt id='index-checkdoc_002dpackage_002dkeywords_002dflag'><span>&lsquo;<samp>Keywords</samp>&rsquo;<a href='#index-checkdoc_002dpackage_002dkeywords_002dflag' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="index-checkdoc_002dpackage_002dkeywords"></span>
<p>この行はヘルプコマンド<code>finder-by-keyword</code>でリストするキーワード。意味のあるキーワードのリストの確認にこのコマンドを使用してほしい。コマンド<kbd>M-x
checkdoc-package-keywords
<span class="key">RET</span></kbd>は<code>finder-known-keywords</code>にないすべてのキーワードを探して表示する。変数<code>checkdoc-package-keywords-flag</code>を非<code>nil</code>にセットすると、checkdocコマンドはチェックにキーワード検証を含める。
</p>
<p>このフィールドはトピックでパッケージを探す人が、あなたのパッケージを見つける手段となる。キーワードを分割するにはスペースとカンマの両方を使用できる。
</p>
<p>人はしばしばこのフィールドを単にFinder(訳注:
<code>finder-by-keyword</code>がオープンするバッファー)に関連したキーワードではなくパッケージを説明する任意のキーワードを記述する箇所だとみなすのは不運なことだ。
</p>
</dd>
<dt><span>&lsquo;<samp>URL</samp>&rsquo;</span></dt>
<dt><span>&lsquo;<samp>Homepage</samp>&rsquo;</span></dt>
<dd><p>この行はライブラリーのウェブサイトを示す。
</p>
</dd>
<dt><span>&lsquo;<samp>Package-Version</samp>&rsquo;</span></dt>
<dd><p>&lsquo;<samp>Version</samp>&rsquo;がパッケージマネージャーによる使用に適切でなければ、パッケージは&lsquo;<samp>Package-Version</samp>&rsquo;を定義でき、かわりにこれが使用される。これは&lsquo;<samp>Version</samp>&rsquo;がRCSや<code>version-to-list</code>でパース不能な何かであるようなら手軽である。<a href="Packaging-Basics.html">パッケージ化の基礎</a>を参照のこと。
</p>
</dd>
<dt><span>&lsquo;<samp>Package-Requires</samp>&rsquo;</span></dt>
<dd><p>これが存在する場合にはカレントパッケージが正しく動作するために依存するパッケージを示す。<a href="Packaging-Basics.html">パッケージ化の基礎</a>を参照のこと。これは(パッケージの完全なセットがダウンロードされることを確実にするために)ダウンロード時と、(すべての依存パッケージがあるときだけパッケージがアクティブになることを確実にするために)アクティブ化の両方でパッケージマネージャーにより使用される。
</p>
<p>このフォーマットは単一行からなるリストのリスト。サブリストの<code>car</code>はそれぞれパッケージの名前(シンボル)、<code>cadr</code>は<code>version-to-list</code>でパース可能な許容し得る最小のバージョン番号(文字列)。バージョンが欠落したエントリー(単なるシンボルやある要素のサブリストであるようなエントリー)はバージョンが&quot;0&quot;のエントリーと等価。たとえば:
</p>
<div class="example">
<pre class="example">;; Package-Requires: ((gnus &quot;1.0&quot;) (bubbles &quot;2.7.2&quot;) cl-lib (seq))
</pre></div>

<p>Emacs
27より古いバージョンをサポートする必要がないパッケージは、以下のように&lsquo;<samp>Package-Requires</samp>&rsquo;ヘッダーを複数行に分割できる:
</p>
<div class="example">
<pre class="example">;; Package-Requires: ((emacs &quot;27.1&quot;)
;;                    (compat &quot;29.1.4.1&quot;))
</pre></div>

<p>このフォーマットにおいても&lsquo;<samp>Package-Requires</samp>&rsquo;と同じ行でリストを開始する必要があることに注意。
</p>
<p>パッケージのコードは自動的に、実行中のEmacsのカレントのバージョン番号をもつ&lsquo;<samp>emacs</samp>&rsquo;という名前のパッケージを定義する。これはパッケージが要求するEmacsの最小のバージョンに使用できる。
</p></dd>
</dl>

<p>ほぼすべてのLispライブラリーは&lsquo;<samp>Author</samp>&rsquo;と&lsquo;<samp>Keywords</samp>&rsquo;のヘッダーコメント行をもつべきです。適切なら他のものを使用してください。ヘッダー行内で別のヘッダー行の名前も使用できます。これらは標準的な意味をもたないので害になることを行うことはできません。
</p>
<p>わたしたちはライブラリーファイルのコンテンツを分割するために追加の提携コメントを使用します。これらは空行で他のものと分離されている必要があります。以下はそれらのテーブルです:
</p>
<span id="index-commentary_002c-in-a-Lisp-library"></span>
<dl compact="compact">
<dt><span>&lsquo;<samp>;;; Commentary:</samp>&rsquo;</span></dt>
<dd><p>これはライブラリーが機能する方法を説明する、概論コメントを開始する。これは複製許諾の直後にあり&lsquo;<samp>Change
Log</samp>&rsquo;、&lsquo;<samp>History</samp>&rsquo;、&lsquo;<samp>Code</samp>&rsquo;のコメント行で終端されていること。このテキストはFinderパッケージで使用されるのでそのコンテキスト内で有意であること。
</p>
</dd>
<dt><span>&lsquo;<samp>;;; Change Log:</samp>&rsquo;</span></dt>
<dd><p>これは時間とともにそのファイルに加えられたオプションの変更ログを開始する。このセクションに過剰な情報を配置してはならない。(Emacsが行うように)バージョンコントロールシステムの詳細ログや個別の<samp>ChangeLog</samp>ファイルに留めるほうがよい。&lsquo;<samp>History</samp>&rsquo;は&lsquo;<samp>Change
Log</samp>&rsquo;の代替え。
</p>
</dd>
<dt><span>&lsquo;<samp>;;; Code:</samp>&rsquo;</span></dt>
<dd><p>これはプログラムの実際のコードを開始する。
</p>
</dd>
<dt><span>&lsquo;<samp>;;; <var>filename</var> ends here</samp>&rsquo;</span></dt>
<dd><p>これは<em>フッター行(footer
line)</em>。これはそのファイルの終端にある。これの目的はフッター行の欠落から、人がファイルの切り詰められたバージョンを検知することを可能にする。
</p></dd>
</dl>
</div>
<hr>
<div class="header">
<p>
Previous: <a href="Comment-Tips.html">コメント記述のヒント</a>, Up: <a href="Tips.html">ヒントと規約</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-30_11e7ae3964e192b0e4bcc437a04278ee727e720b, commit:6096db98327d390c132eabae371f21e53b5fe52e to check Japanese translation.
</body>
</html>
