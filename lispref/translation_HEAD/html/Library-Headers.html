<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.0.91.

Copyright © 1990-1996, 1998-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Library Headers (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Library Headers (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Library Headers (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="December 23, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tips.html" rel="up" title="Tips">
<link href="Comment-Tips.html" rel="prev" title="Comment Tips">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Library-Headers">
<div class="nav-panel">
<p>
Previous: <a href="Comment-Tips.html" accesskey="p" rel="prev">コメント記述のヒント</a>, Up: <a href="Tips.html" accesskey="u" rel="up">ヒントと規約</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="EmacsraiburarinohetudanoGuan-Xi"><span>D.8 Emacsライブラリーのヘッダーの慣習<a class="copiable-link" href="#EmacsraiburarinohetudanoGuan-Xi"> &para;</a></span></h3>
<a class="index-entry-id" id="index-header-comments"></a>
<a class="index-entry-id" id="index-library-header-comments"></a>
<a class="index-entry-id" id="index-conventions-for-library-header-comments"></a>

<p>Emacsにはセクションに分割してそれの記述者のような情報を与えるために、Lispライブラリー内で特別なコメントを使用する慣習があります。それらのアイテムにたいして標準的なフォーマットを使用すれば、ツール(や人)が関連する情報を抽出するのが簡単になります。このセクションでは以下の例を出発点にこれらの慣習を説明します。
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">;;; foo.el --- Support for the Foo programming language  -*- lexical-binding: t; -*-

;; Copyright (C) 2010-2024 Your Name
</pre></div><pre class="example-preformatted">

;; Author: Your Name &lt;yourname@example.com&gt;
;; Maintainer: Someone Else &lt;someone@example.com&gt;
;; Created: 14 Jul 2010
</pre><div class="group"><pre class="example-preformatted">;; Keywords: languages
;; URL: https://example.com/foo

;; This file is not part of GNU Emacs.

;; This file is free software...
...
;; along with this file.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
</pre></div></div>

<p>一番最初の行は以下のフォーマットをもつべきです:
</p>
<div class="example">
<pre class="example-preformatted">;;; <var class="var">filename</var> --- <var class="var">description</var>  -*- lexical-binding: t; -*-
</pre></div>

<p>この説明は1行に収まる必要があります。そのファイルで更に変数をセットするために&lsquo;<samp class="samp">-*-</samp>&rsquo;指定が必要なら、<code class="code">lexical-binding</code>の後に配置してください。これにより最初の行が長くなりすぎるようなら、そのファイル終端でLocal
Variablesセクションを使用してください。
</p>
<p>著作権表示には、(あなたがそのファイルを記述したなら)通常はあなたの名前をリストします。あなたの作業の著作権を主張する雇用者がいる場合には、かわりに彼らをリストする必要があるかもしれません。Emacsディストリビューション、またはGNU
ELPAにあなたのファイルが受け入れられていなければ、著作権者をFree Software Foundation(またはそのファイルがGNU
Emacsの一部)だと告知しないでください。著作権とライセンス通知の形式に関するより詳細な情報は<a class="uref" href="https://www.gnu.org/licenses/gpl-howto.html">the guide on the GNU website</a>を参照してください。
</p>
<p>著作権表示の後は、それぞれが&lsquo;<samp class="samp">;; <var class="var">header-name</var>:</samp>&rsquo;で始まる複数の<em class="dfn">ヘッダーコメント(header
comment)</em>を記述します。以下は慣習的に利用できる<var class="var">header-name</var>のテーブルです:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">Author</samp>&rsquo;</dt>
<dd><p>このヘッダーは少なくともそのライブラリーの主要な作者の名前とemailアドレスを示す。複数の作者がいる場合には前に<code class="code">;;</code>とタブか少なくとも2つのスペースがある継続行で彼らをリストする。わたしたちは&lsquo;<samp class="samp">&lt;&hellip;&gt;</samp>&rsquo;という形式で連絡用emailアドレスを含めることを推奨する。たとえば:
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">;; Author: Your Name &lt;yourname@example.com&gt;
;;      Someone Else &lt;someone@example.com&gt;
;;      Another Person &lt;another@example.com&gt;
</pre></div></div>

</dd>
<dt>&lsquo;<samp class="samp">Maintainer</samp>&rsquo;</dt>
<dd><p>このヘッダーはAuthorヘッダーと同じフォーマット。これは現在そのファイルを保守(バグレポートへの応答等)をする人(か人々)をリストする。
</p>
<p>MaintainerヘッダーがなければAuthorヘッダーの人(複数可)がMaintainerとみなされる。Emacs内のいくつかのファイルは、そのファイルのオリジナル作者がもはや責任をもっておらずEmacsの一部として保守されていることを意味するために、Maintainerに&lsquo;<samp class="samp">emacs-devel@gnu.org</samp>&rsquo;を使用している。
</p>
</dd>
<dt>&lsquo;<samp class="samp">Created</samp>&rsquo;</dt>
<dd><p>このオプションの行はファイルのオリジナルの作成日付を与えるもので歴史的な興味のためだけに存在する。
</p>
</dd>
<dt>&lsquo;<samp class="samp">Version</samp>&rsquo;</dt>
<dd><p>個々のLispプログラムにたいしてバージョン番号を記録したいならこの行に配置する。Emacsとともに配布されたLispファイルはEmacsのバージョン番号自体が同じ役割を果たすので一般的には&lsquo;<samp class="samp">Version</samp>&rsquo;ヘッダーをもたない。複数ファイルのコレクションを配布する場合には、各ファイルではなく主となるファイルにバージョンを記述することを推奨する。
</p>
</dd>
<dt><a class="index-entry-id" id="index-checkdoc_002dpackage_002dkeywords"></a>
<a id="index-checkdoc_002dpackage_002dkeywords_002dflag"></a><span>&lsquo;<samp class="samp">Keywords</samp>&rsquo;<a class="copiable-link" href="#index-checkdoc_002dpackage_002dkeywords_002dflag"> &para;</a></span></dt>
<dd><p>この行はヘルプコマンド<code class="code">finder-by-keyword</code>でリストするキーワード。意味のあるキーワードのリストの確認にこのコマンドを使用してほしい。コマンド<kbd class="kbd">M-x
checkdoc-package-keywords
<kbd class="key">RET</kbd></kbd>は<code class="code">finder-known-keywords</code>にないすべてのキーワードを探して表示する。変数<code class="code">checkdoc-package-keywords-flag</code>を非<code class="code">nil</code>にセットすると、checkdocコマンドはチェックにキーワード検証を含める。
</p>
<p>このフィールドはトピックでパッケージを探す人が、あなたのパッケージを見つける手段となる。キーワードを分割するにはスペースとカンマの両方を使用できる。
</p>
<p>人はしばしばこのフィールドを単にFinder(訳注:
<code class="code">finder-by-keyword</code>がオープンするバッファー)に関連したキーワードではなくパッケージを説明する任意のキーワードを記述する箇所だとみなすのは不運なことだ。
</p>
</dd>
<dt>&lsquo;<samp class="samp">URL</samp>&rsquo;</dt>
<dt>&lsquo;<samp class="samp">Homepage</samp>&rsquo;</dt>
<dd><p>この行はライブラリーのウェブサイトを示す。
</p>
</dd>
<dt>&lsquo;<samp class="samp">Package-Version</samp>&rsquo;</dt>
<dd><p>&lsquo;<samp class="samp">Version</samp>&rsquo;がパッケージマネージャーによる使用に適切でなければ、パッケージは&lsquo;<samp class="samp">Package-Version</samp>&rsquo;を定義でき、かわりにこれが使用される。これは&lsquo;<samp class="samp">Version</samp>&rsquo;がRCSや<code class="code">version-to-list</code>でパース不能な何かであるようなら手軽である。<a class="ref" href="Packaging-Basics.html">パッケージ化の基礎</a>を参照のこと。
</p>
</dd>
<dt>&lsquo;<samp class="samp">Package-Requires</samp>&rsquo;</dt>
<dd><p>これが存在する場合にはカレントパッケージが正しく動作するために依存するパッケージを示す。<a class="ref" href="Packaging-Basics.html">パッケージ化の基礎</a>を参照のこと。これは(パッケージの完全なセットがダウンロードされることを確実にするために)ダウンロード時と、(すべての依存パッケージがあるときだけパッケージがアクティブになることを確実にするために)アクティブ化の両方でパッケージマネージャーにより使用される。
</p>
<p>このフォーマットは単一行からなるリストのリスト。サブリストの<code class="code">car</code>はそれぞれパッケージの名前(シンボル)、<code class="code">cadr</code>は<code class="code">version-to-list</code>でパース可能な許容し得る最小のバージョン番号(文字列)。バージョンが欠落したエントリー(単なるシンボルやある要素のサブリストであるようなエントリー)はバージョンが&quot;0&quot;のエントリーと等価。たとえば:
</p>
<div class="example smallexample">
<pre class="example-preformatted">;; Package-Requires: ((gnus &quot;1.0&quot;) (bubbles &quot;2.7.2&quot;) cl-lib (seq))
</pre></div>

<p>Emacs
27より古いバージョンをサポートする必要がないパッケージは、以下のように&lsquo;<samp class="samp">Package-Requires</samp>&rsquo;ヘッダーを複数行に分割できる:
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">;; Package-Requires: ((emacs &quot;27.1&quot;)
;;                    (compat &quot;29.1.4.1&quot;))
</pre></div></div>

<p>このフォーマットにおいても&lsquo;<samp class="samp">Package-Requires</samp>&rsquo;と同じ行でリストを開始する必要があることに注意。
</p>
<p>パッケージのコードは自動的に、実行中のEmacsのカレントのバージョン番号をもつ&lsquo;<samp class="samp">emacs</samp>&rsquo;という名前のパッケージを定義する。これはパッケージが要求するEmacsの最小のバージョンに使用できる。
</p></dd>
</dl>

<p>ほぼすべてのLispライブラリーは&lsquo;<samp class="samp">Author</samp>&rsquo;と&lsquo;<samp class="samp">Keywords</samp>&rsquo;のヘッダーコメント行をもつべきです。適切なら他のものを使用してください。ヘッダー行内で別のヘッダー行の名前も使用できます。これらは標準的な意味をもたないので害になることを行うことはできません。
</p>
<p>わたしたちはライブラリーファイルのコンテンツを分割するために追加の提携コメントを使用します。これらは空行で他のものと分離されている必要があります。以下はそれらのテーブルです:
</p>
<a class="index-entry-id" id="index-commentary_002c-in-a-Lisp-library"></a>
<dl class="table">
<dt>&lsquo;<samp class="samp">;;; Commentary:</samp>&rsquo;</dt>
<dd><p>これはライブラリーが機能する方法を説明する、概論コメントを開始する。これは複製許諾の直後にあり&lsquo;<samp class="samp">Change
Log</samp>&rsquo;、&lsquo;<samp class="samp">History</samp>&rsquo;、&lsquo;<samp class="samp">Code</samp>&rsquo;のコメント行で終端されていること。このテキストはFinderパッケージで使用されるのでそのコンテキスト内で有意であること。
</p>
</dd>
<dt>&lsquo;<samp class="samp">;;; Change Log:</samp>&rsquo;</dt>
<dd><p>これは時間とともにそのファイルに加えられたオプションの変更ログを開始する。このセクションに過剰な情報を配置してはならない。(Emacsが行うように)バージョンコントロールシステムの詳細ログや個別の<samp class="file">ChangeLog</samp>ファイルに留めるほうがよい。&lsquo;<samp class="samp">History</samp>&rsquo;は&lsquo;<samp class="samp">Change
Log</samp>&rsquo;の代替え。
</p>
</dd>
<dt>&lsquo;<samp class="samp">;;; Code:</samp>&rsquo;</dt>
<dd><p>これはプログラムの実際のコードを開始する。
</p>
</dd>
<dt>&lsquo;<samp class="samp">;;; <var class="var">filename</var> ends here</samp>&rsquo;</dt>
<dd><p>これは<em class="dfn">フッター行(footer
line)</em>。これはそのファイルの終端にある。これの目的はフッター行の欠落から、人がファイルの切り詰められたバージョンを検知することを可能にする。
</p></dd>
</dl>
</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Comment-Tips.html">コメント記述のヒント</a>, Up: <a href="Tips.html">ヒントと規約</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-30_69b16e5c63840479270d32f58daea923fe725b90, commit:cf99195563dea1cc2961cdd16b16ca0e27c2cb48 to check Japanese translation.
</body>
</html>
