<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.1.

Copyright (C) 1990-1996, 1998-2022 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Time of Day (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Time of Day (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Time of Day (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="December 28, 2022">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="System-Interface.html" rel="up" title="System Interface">
<link href="Time-Zone-Rules.html" rel="next" title="Time Zone Rules">
<link href="User-Identification.html" rel="prev" title="User Identification">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Time-of-Day">
<div class="header">
<p>
Next: <a href="Time-Zone-Rules.html" accesskey="n" rel="next">タイムゾーンのルール</a>, Previous: <a href="User-Identification.html" accesskey="p" rel="prev">ユーザーの識別</a>, Up: <a href="System-Interface.html" accesskey="u" rel="up">オペレーティングシステムのインターフェース</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Shi-Ke-"></span><h3 class="section">42.5 時刻</h3>
<span id="index-time-of-day"></span>

<p>このセクションではカレント時刻とタイムゾーンを決定する方法を説明します。
</p>
<span id="index-Lisp-timestamp"></span>
<span id="index-timestamp_002c-Lisp"></span>
<span id="index-Coordinated-Universal-Time"></span>
<span id="index-Universal-Time"></span>
<span id="index-UTC"></span>
<span id="index-leap-seconds"></span>
<p>Many functions like <code>current-time</code> and <code>file-attributes</code> return
<em>Lisp timestamp</em> values that count seconds, and that can represent
absolute time by counting seconds since the <em>epoch</em> of 1970-01-01
00:00:00 UTC (Coordinated Universal Time).  Typically these counts ignore
leap seconds; however, GNU and some other operating systems can be
configured to count leap seconds.
</p>
<p>伝統的なLispタイムスタンプが整数のペアであったとしても、それらの形式は進化しており、プログラムは通常はカレントのデフォルト形式に依存するべきではありません。プログラムに特定のタイムスタンプ形式が必要なら、<code>time-convert</code>関数を使用して必要とする形式に変換できます。<a href="Time-Conversion.html">時刻の変換</a>を参照してください。
</p>
<span id="index-epoch"></span>
<p>現在のところ3つのLispタイムスタンプ形式があり、それぞれが秒数を表します:
</p>
<ul>
<li> 整数。これがもっとも単純な形式だが、少数秒のタイムスタンプは表現できない。

</li><li> A pair of integers <code>(<var>ticks</var> . <var>hz</var>)</code>, where <var>hz</var> is
positive.  This represents <var>ticks</var>/<var>hz</var> seconds, which is the same
time as plain <var>ticks</var> if <var>hz</var> is 1.  A common value for <var>hz</var> is
1000000000, for a nanosecond-resolution clock.

</li><li> 4つの整数からなるリスト<code>(<var>high</var> <var>low</var> <var>micro</var> <var>pico</var>)</code>
(0&le;<var>low</var>&lt;65536、0&le;<var>micro</var>&lt;1000000、0&le;<var>pico</var>&lt;1000000)。これは次式を使用して秒数を表す:
<var>high</var> * 2**16 + <var>low</var> + <var>micro</var> * 10**-6 + <var>pico</var> *
10**-12。
If <code>current-time-list</code> is <code>t</code>, some functions may default to
returning two- or three-element lists, with omitted <var>micro</var> and
<var>pico</var> components defaulting to zero.  On all current machines
<var>pico</var> is a multiple of 1000, but this may change as higher-resolution
clocks become available.
</li></ul>

<span id="index-time-value"></span>
<p>Function arguments, e.g., the <var>time</var> argument to
<code>format-time-string</code>, accept a more-general <em>time value</em> format,
which can be a Lisp timestamp, <code>nil</code> for the current time, a finite
floating-point number for seconds, or a list <code>(<var>high</var> <var>low</var>
<var>micro</var>)</code> or <code>(<var>high</var> <var>low</var>)</code> that is a truncated list
timestamp with missing elements taken to be zero.
</p>
<span id="index-Specified-time-is-not-representable"></span>
<p>Time values can be converted to and from calendrical and other forms.  Some
of these conversions rely on operating system functions that limit the range
of possible time values, and signal an error such as &lsquo;<samp>&quot;Specified time
is not representable&quot;</samp>&rsquo; if the limits are exceeded.  For instance, a system
might not support timestamps before the epoch, or years far in the future.
You can convert a time value into a human-readable string using
<code>format-time-string</code>, into a Lisp timestamp using <code>time-convert</code>,
and into other forms using <code>decode-time</code> and <code>float-time</code>.  These
functions are described in the following sections.
</p>
<dl class="def">
<dt id="index-current_002dtime_002dstring"><span class="category">Function: </span><span><strong>current-time-string</strong> <em>&amp;optional time zone</em><a href='#index-current_002dtime_002dstring' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数はカレントの時刻と日付を可読形式の文字列でリターンする。この文字列の先頭部分には曜日、月、日付、時刻がこの順に含まれて、それらが可変長となることはない。これらのフィールドにたいして使用される文字数は常に同じとはいえ、年は正確に4桁とはかぎらず、いつかの将来に終端に追加情報が追加されるかもしれないので、<code>current-time-string</code>の出力からフィールドを抽出するより<code>format-time-string</code>を使うほうが通常は便利です。
</p>
<p>引数<var>time</var>が与えられたら、それはカレント時刻のかわりにフォーマットする時刻を指定する。オプション引数<var>zone</var>のデフォルトはカレントのタイムゾーンルール。<a href="Time-Zone-Rules.html">タイムゾーンのルール</a>を参照のこと。timeの範囲およびzoneの値はオペレーティングシステムが制限する。
</p>
<div class="example">
<pre class="example">(current-time-string)
     &rArr; &quot;Fri Nov &nbsp;1 15:59:49 2019&quot;
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-current_002dtime_002dlist"><span class="category">Variable: </span><span><strong>current-time-list</strong><a href='#index-current_002dtime_002dlist' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>This boolean variable is a transition aid.  If <code>t</code>, <code>current-time</code>
and related functions return timestamps in list form, typically
<code>(<var>high</var> <var>low</var> <var>micro</var> <var>pico</var>)</code>; otherwise, they use
<code>(<var>ticks</var> . <var>hz</var>)</code> form.  Currently this variable defaults to
<code>t</code>, for behavior compatible with previous Emacs versions.  Developers
are encouraged to test timestamp-related code with this variable set to
<code>nil</code>, as it will default to <code>nil</code> in a future Emacs version, and
will be removed in some version after that.
</p></dd></dl>

<dl class="def">
<dt id="index-current_002dtime"><span class="category">Function: </span><span><strong>current-time</strong><a href='#index-current_002dtime' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>This function returns the current time as a Lisp timestamp.  If
<code>current-time-list</code> is <code>nil</code>, the timestamp has the form
<code>(<var>ticks</var> . <var>hz</var>)</code> where <var>ticks</var> counts clock ticks and
<var>hz</var> is the clock ticks per second.  Otherwise, the timestamp has the
list form <code>(<var>high</var> <var>low</var> <var>usec</var> <var>psec</var>)</code>.  You can use
<code>(time-convert nil t)</code> or <code>(time-convert nil 'list)</code> to obtain a
particular form regardless of the value of <code>current-time-list</code>.
See <a href="Time-Conversion.html">時刻の変換</a>.
</p></dd></dl>

<dl class="def">
<dt id="index-float_002dtime"><span class="category">Function: </span><span><strong>float-time</strong> <em>&amp;optional time</em><a href='#index-float_002dtime' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数はエポックからの経過秒数を浮動小数点数としてリターンする。オプション引数<var>time-value</var>が与えられた場合には、カレント時刻ではなく変換する時刻を指定する。
</p>
<p><em>警告</em>:
結果は浮動小数点数なので正確ではないかもしれない。正確なタイムスタンプが必要なら使用しないこと。たとえば典型的なシステムにおいては<code>(float-time
'(1 . 10))</code>を&lsquo;<samp>0.1</samp>&rsquo;と表示するが、これは1/10より若干大きい。
</p>
<p><code>time-to-seconds</code>はこの関数のエイリアス。
</p></dd></dl>

<dl class="def">
<dt id="index-current_002dcpu_002dtime"><span class="category">Function: </span><span><strong>current-cpu-time</strong><a href='#index-current_002dcpu_002dtime' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>Return the current <acronym>CPU</acronym> time along with its resolution.  The return
value is a pair <code>(CPU-TICKS . TICKS-PER-SEC)</code>.  The <var>CPU-TICKS</var>
counter can wrap around, so values cannot be meaningfully compared if too
much time has passed between them.
</p></dd></dl>

</div>
<hr>
<div class="header">
<p>
Next: <a href="Time-Zone-Rules.html">タイムゾーンのルール</a>, Previous: <a href="User-Identification.html">ユーザーの識別</a>, Up: <a href="System-Interface.html">オペレーティングシステムのインターフェース</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-29_edd64e64a389e0f0e6ce670846d4fae79a9d8b35, commit:89d0356b80a051ac647e34834fe1bc777f3ef21a to check Japanese translation.
</body>
</html>
