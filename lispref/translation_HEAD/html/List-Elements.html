<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.3.

Copyright (C) 1990-1996, 1998-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>List Elements (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="List Elements (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="List Elements (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="April 29, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Lists.html" rel="up" title="Lists">
<link href="Building-Lists.html" rel="next" title="Building Lists">
<link href="List_002drelated-Predicates.html" rel="prev" title="List-related Predicates">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="List-Elements">
<div class="header">
<p>
Next: <a href="Building-Lists.html" accesskey="n" rel="next">コンスセルおよびリストの構築</a>, Previous: <a href="List_002drelated-Predicates.html" accesskey="p" rel="prev">リストのための述語</a>, Up: <a href="Lists.html" accesskey="u" rel="up">リスト</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="risutoYao-Su-henoakusesu"></span><h3 class="section">5.3 リスト要素へのアクセス</h3>
<span id="index-list-elements"></span>

<dl class="def">
<dt id="index-car"><span class="category">Function: </span><span><strong>car</strong> <em>cons-cell</em><a href='#index-car' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数はコンスセル<var>cons-cell</var>の1番目のスロットが参照する値をリターンする。言い換えるとこの関数は<var>cons-cell</var>の<small>CAR</small>をリターンする。
</p>
<p>特別なケースとして<var>cons-cell</var>が<code>nil</code>の場合、この関数は<code>nil</code>をリターンする。したがってリストはすべて引数として有効である。引数がコンスセルでも<code>nil</code>でもなければエラーがシグナルされる。
</p>
<div class="example">
<pre class="example">(car '(a b c))
     &rArr; a
</pre><pre class="example">(car '())
     &rArr; nil
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-cdr"><span class="category">Function: </span><span><strong>cdr</strong> <em>cons-cell</em><a href='#index-cdr' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数はコンスセル<var>cons-cell</var>の2番目のスロットにより参照される値をリターンする。言い換えるとこの関数は<var>cons-cell</var>の<small>CDR</small>をリターンする。
</p>
<p>特別なケースとして<var>cons-cell</var>が<code>nil</code>の場合、この関数は<code>nil</code>をリターンする。したがってリストはすべて引数として有効である。引数がコンスセルでも<code>nil</code>でもければエラーがシグナルされる。
</p>
<div class="example">
<pre class="example">(cdr '(a b c))
     &rArr; (b c)
</pre><pre class="example">(cdr '())
     &rArr; nil
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-car_002dsafe"><span class="category">Function: </span><span><strong>car-safe</strong> <em>object</em><a href='#index-car_002dsafe' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数により他のデータ型によるエラーを起こさずに、コンスセルの<small>CAR</small>を取得できり。この関数は<var>object</var>がコンスセルなら<var>object</var>の<small>CAR</small>、それ以外は<code>nil</code>をリターンする。この関数は、<var>object</var>がリストでなければエラーをシグナルする<code>car</code>とは対象的である。
</p>
<div class="example">
<pre class="example">(car-safe <var>object</var>)
&equiv;
(let ((x <var>object</var>))
  (if (consp x)
      (car x)
    nil))
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-cdr_002dsafe"><span class="category">Function: </span><span><strong>cdr-safe</strong> <em>object</em><a href='#index-cdr_002dsafe' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数により他のデータ型によるエラーを起こさずに、コンスセルの<small>CDR</small>を取得できる。この関数は<var>object</var>がコンスセルなら<var>object</var>の<small>CDR</small>、それ以外は<code>nil</code>をリターンする。この関数は、<var>object</var>がリストでないときはエラーをシグナルする<code>cdr</code>とは対象的である。
</p>
<div class="example">
<pre class="example">(cdr-safe <var>object</var>)
&equiv;
(let ((x <var>object</var>))
  (if (consp x)
      (cdr x)
    nil))
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-pop"><span class="category">Macro: </span><span><strong>pop</strong> <em>listname</em><a href='#index-pop' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>このマクロはリストの<small>CAR</small>を調べて、それをリストから取り去るのを一度に行なう便利な方法を提供する。この関数は<var>listname</var>に格納されたリストにたいして処理を行なう。この関数はリストから1番目の要素を削除して、<small>CDR</small>を<var>listname</var>に保存し、その後で削除した要素をリターンする。
</p>
<p>もっとも単純なケースは、リストに名前をつけるためのクォートされていないシンボルの場合である。この場合、このマクロは<code>(prog1&nbsp;(car&nbsp;listname)&nbsp;(setq&nbsp;listname&nbsp;(cdr&nbsp;listname)))</code><!-- /@w -->と等価である。
</p>
<div class="example">
<pre class="example">x
     &rArr; (a b c)
(pop x)
     &rArr; a
x
     &rArr; (b c)
</pre></div>

<p>より一般的なのは<var>listname</var>が汎変数(generalized
variable)の場合である。この場合、このマクロは<code>setf</code>を使用して<var>listname</var>に保存する。<a href="Generalized-Variables.html">ジェネリック変数</a>を参照のこと。
</p>
<p>リストに要素を追加する<code>push</code>マクロについては<a href="List-Variables.html">リスト変数の変更</a>を参照のこと。
</p></dd></dl>

<dl class="def">
<dt id="index-nth"><span class="category">Function: </span><span><strong>nth</strong> <em>n list</em><a href='#index-nth' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="Definition-of-nth"></span><p>この関数は<var>list</var>の<var>n</var>番目の要素をリターンする。要素は0から数えられるので<var>list</var>の<small>CAR</small>は要素0になる。<var>list</var>の長さが<var>n</var>以下なら値は<code>nil</code>。
</p>

<div class="example">
<pre class="example">(nth 2 '(1 2 3 4))
     &rArr; 3
</pre><pre class="example">(nth 10 '(1 2 3 4))
     &rArr; nil

(nth n x) &equiv; (car (nthcdr n x))
</pre></div>

<p>これは関数<code>elt</code>も類似しているが、任意の種類のシーケンスに適用される。歴史的な理由によりこの関数は逆の順序で引数を受け取る。<a href="Sequence-Functions.html">シーケンス</a>を参照のこと。
</p></dd></dl>

<dl class="def">
<dt id="index-nthcdr"><span class="category">Function: </span><span><strong>nthcdr</strong> <em>n list</em><a href='#index-nthcdr' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数は<var>list</var>の<var>n</var>番目の<small>CDR</small>をリターンする。言い換えると、この関数は<var>list</var>の最初の<var>n</var>個のリンクをスキップしてから、それ以降をリターンする。
</p>
<p><var>n</var>が0なら<code>nthcdr</code>は<var>list</var>全体をリターンする。<var>list</var>の長さが<var>n</var>以下なら<code>nthcdr</code>は<code>nil</code>をリターンする。
</p>
<div class="example">
<pre class="example">(nthcdr 1 '(1 2 3 4))
     &rArr; (2 3 4)
</pre><pre class="example">(nthcdr 10 '(1 2 3 4))
     &rArr; nil
</pre><pre class="example">(nthcdr 0 '(1 2 3 4))
     &rArr; (1 2 3 4)
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-take"><span class="category">Function: </span><span><strong>take</strong> <em>n list</em><a href='#index-take' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数は<var>list</var>の最初の<var>n</var>個の要素をリターンする。要するに<var>list</var>から<code>nthcdr</code>をスキップした部分をリターンする。
</p>
<p><var>list</var>の要素の数が<var>n</var>より少なければ<var>list</var>、<var>n</var>が0か負なら<code>nil</code>をリターンする。
</p>
<div class="example">
<pre class="example">(take 3 '(a b c d))
     &rArr; (a b c)
</pre><pre class="example">(take 10 '(a b c d))
     &rArr; (a b c d)
</pre><pre class="example">(take 0 '(a b c d))
     &rArr; nil
</pre></div>
</dd></dl>

<dl class="def">
<dt id="index-ntake"><span class="category">Function: </span><span><strong>ntake</strong> <em>n list</em><a href='#index-ntake' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>これは引数であるリストの構造を破壊的に変更することによって機能するバージョンの<code>take</code>である。これにより高速になるが、<var>list</var>の元の値は失われるだろう。
</p>
<p><code>ntake</code>は要素の数が<var>n</var>より少なければ変更せずに<var>list</var>を、<var>n</var>が0か負なら<code>nil</code>をリターンする。それ以外の場合には最初の<var>n</var>個の要素に切り詰められた<var>list</var>をリターンする。
</p>
<p>これは<var>n</var>が正だと判っていない場合には単純に切り詰め効果を信頼するのではなく、通常はリターン値を使うほうが賢明だということを意味している。
</p></dd></dl>

<dl class="def">
<dt id="index-last"><span class="category">Function: </span><span><strong>last</strong> <em>list &amp;optional n</em><a href='#index-last' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数は<var>list</var>の最後のリンクをリターンする。このリンクの<code>car</code>はこのリストの最後の要素。<var>list</var>がnullなら<code>nil</code>がリターンされる。<var>n</var>が非<code>nil</code>なら<var>n</var>番目から最後までのリンクがリターンされる。<var>n</var>が<var>list</var>の長さより大きければ<var>list</var>全体がリターンされる。
</p></dd></dl>

<dl class="def">
<dt id="index-safe_002dlength"><span class="category">Function: </span><span><strong>safe-length</strong> <em>list</em><a href='#index-safe_002dlength' class='copiable-anchor'> &para;</a></span></dt>
<dd><span id="Definition-of-safe_002dlength"></span><p>この関数はエラーや無限ループの危険なしで、<var>list</var>の長さをリターンする。この関数は一般的に、リスト内のコンスセルの個数をリターンする。しかし循環リストでは単に上限値が値となるため、非常に大きくなる場合があります。
</p>
<p><var>list</var>が<code>nil</code>とコンスセルのいずれでもなければ<code>safe-length</code>は0をリターンする。
</p></dd></dl>

<p>循環リストを考慮しなくてもよい場合にリストの長さを計算するもっとも一般的な方法は、<code>length</code>を使う方法です。<a href="Sequence-Functions.html">シーケンス</a>を参照してください。
</p>
<dl class="def">
<dt id="index-caar"><span class="category">Function: </span><span><strong>caar</strong> <em>cons-cell</em><a href='#index-caar' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>これは<code>(car (car <var>cons-cell</var>))</code>と同じ。
</p></dd></dl>

<dl class="def">
<dt id="index-cadr"><span class="category">Function: </span><span><strong>cadr</strong> <em>cons-cell</em><a href='#index-cadr' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>これは<code>(car (cdr <var>cons-cell</var>))</code>か<code>(nth 1 <var>cons-cell</var>)</code>と同じ。
</p></dd></dl>

<dl class="def">
<dt id="index-cdar"><span class="category">Function: </span><span><strong>cdar</strong> <em>cons-cell</em><a href='#index-cdar' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>これは<code>(cdr (car <var>cons-cell</var>))</code>と同じ。
</p></dd></dl>

<dl class="def">
<dt id="index-cddr"><span class="category">Function: </span><span><strong>cddr</strong> <em>cons-cell</em><a href='#index-cddr' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>これは<code>(cdr (cdr <var>cons-cell</var>))</code>か<code>(nthcdr 2 <var>cons-cell</var>)</code>と同じ。
</p></dd></dl>

<span id="index-caaar"></span>
<span id="index-caadr"></span>
<span id="index-cadar"></span>
<span id="index-caddr"></span>
<span id="index-cdaar"></span>
<span id="index-cdadr"></span>
<span id="index-cddar"></span>
<span id="index-cdddr"></span>
<span id="index-caaaar"></span>
<span id="index-caaadr"></span>
<span id="index-caadar"></span>
<span id="index-caaddr"></span>
<span id="index-cadaar"></span>
<span id="index-cadadr"></span>
<span id="index-caddar"></span>
<span id="index-cadddr"></span>
<span id="index-cdaaar"></span>
<span id="index-cdaadr"></span>
<span id="index-cdadar"></span>
<span id="index-cdaddr"></span>
<span id="index-cddaar"></span>
<span id="index-cddadr"></span>
<span id="index-cdddar"></span>
<span id="index-cddddr"></span>
<p>上記に加えて<code>c<var>xxx</var>r</code>や<code>c<var>xxxx</var>r</code>のような<code>car</code>と<code>cdr</code>で構成される24の関数が定義されています。ここで<code><var>x</var></code>は<code>a</code>か<code>d</code>のいずれかです。<code>cadr</code>と<code>caddr</code>と<code>cadddr</code>はそれぞれリストの2つ目、3つ目、4つ目の要素です。<samp>cl-lib</samp>は同じものを<code>cl-second</code>、<code>cl-third</code>、<code>cl-fourth</code>という名前で提供しています。<a data-manual="cl" href="https://www.gnu.org/software/emacs/manual/html_node/cl/List-Functions.html#List-Functions">List
Functions</a> in <cite>Common Lisp Extensions</cite>を参照してください。
</p>
<dl class="def">
<dt id="index-butlast"><span class="category">Function: </span><span><strong>butlast</strong> <em>x &amp;optional n</em><a href='#index-butlast' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数はリスト<var>x</var>から、最後の要素か最後の<var>n</var>個の要素を削除してリターンする。<var>n</var>が0より大きければこの関数はリストのコピーを作成するので、元のリストに影響はない。一般的に<code>(append
(butlast <var>x</var> <var>n</var>)  (last <var>x</var> <var>n</var>))</code>は、<var>x</var>と等しいリストをリターンする。
</p></dd></dl>

<dl class="def">
<dt id="index-nbutlast"><span class="category">Function: </span><span><strong>nbutlast</strong> <em>x &amp;optional n</em><a href='#index-nbutlast' class='copiable-anchor'> &para;</a></span></dt>
<dd><p>この関数はリストのコピーを作成するのではなく、<code>cdr</code>を適切な要素に変更することにより破壊的に機能するバージョンの<code>butlast</code>である。
</p></dd></dl>

</div>
<hr>
<div class="header">
<p>
Next: <a href="Building-Lists.html">コンスセルおよびリストの構築</a>, Previous: <a href="List_002drelated-Predicates.html">リストのための述語</a>, Up: <a href="Lists.html">リスト</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-29_d8687fd6cd807db1c76084a5e2bb214f9b6c9a49, commit:bd548f250daa6ecf5605a09ccbdbacac4c18dd31 to check Japanese translation.
</body>
</html>
