<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.0.91.

Copyright © 1990-1996, 1998-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>List Elements (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="List Elements (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="List Elements (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="December 26, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Lists.html" rel="up" title="Lists">
<link href="Building-Lists.html" rel="next" title="Building Lists">
<link href="List_002drelated-Predicates.html" rel="prev" title="List-related Predicates">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="List-Elements">
<div class="nav-panel">
<p>
Next: <a href="Building-Lists.html" accesskey="n" rel="next">コンスセルおよびリストの構築</a>, Previous: <a href="List_002drelated-Predicates.html" accesskey="p" rel="prev">リストのための述語</a>, Up: <a href="Lists.html" accesskey="u" rel="up">リスト</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="risutoYao-Su-henoakusesu"><span>5.3 リスト要素へのアクセス<a class="copiable-link" href="#risutoYao-Su-henoakusesu"> &para;</a></span></h3>
<a class="index-entry-id" id="index-list-elements"></a>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-car"><span class="category-def">Function: </span><span><strong class="def-name">car</strong> <var class="def-var-arguments">cons-cell</var><a class="copiable-link" href="#index-car"> &para;</a></span></dt>
<dd><p>この関数はコンスセル<var class="var">cons-cell</var>の1番目のスロットが参照する値をリターンする。言い換えるとこの関数は<var class="var">cons-cell</var>の<small class="sc">CAR</small>をリターンする。
</p>
<p>特別なケースとして<var class="var">cons-cell</var>が<code class="code">nil</code>の場合、この関数は<code class="code">nil</code>をリターンする。したがってリストはすべて引数として有効である。引数がコンスセルでも<code class="code">nil</code>でもなければエラーがシグナルされる。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(car '(a b c))
     &rArr; a
</pre></div><div class="group"><pre class="example-preformatted">(car '())
     &rArr; nil
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-cdr"><span class="category-def">Function: </span><span><strong class="def-name">cdr</strong> <var class="def-var-arguments">cons-cell</var><a class="copiable-link" href="#index-cdr"> &para;</a></span></dt>
<dd><p>この関数はコンスセル<var class="var">cons-cell</var>の2番目のスロットにより参照される値をリターンする。言い換えるとこの関数は<var class="var">cons-cell</var>の<small class="sc">CDR</small>をリターンする。
</p>
<p>特別なケースとして<var class="var">cons-cell</var>が<code class="code">nil</code>の場合、この関数は<code class="code">nil</code>をリターンする。したがってリストはすべて引数として有効である。引数がコンスセルでも<code class="code">nil</code>でもければエラーがシグナルされる。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(cdr '(a b c))
     &rArr; (b c)
</pre></div><div class="group"><pre class="example-preformatted">(cdr '())
     &rArr; nil
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-car_002dsafe"><span class="category-def">Function: </span><span><strong class="def-name">car-safe</strong> <var class="def-var-arguments">object</var><a class="copiable-link" href="#index-car_002dsafe"> &para;</a></span></dt>
<dd><p>この関数により他のデータ型によるエラーを起こさずに、コンスセルの<small class="sc">CAR</small>を取得できり。この関数は<var class="var">object</var>がコンスセルなら<var class="var">object</var>の<small class="sc">CAR</small>、それ以外は<code class="code">nil</code>をリターンする。この関数は、<var class="var">object</var>がリストでなければエラーをシグナルする<code class="code">car</code>とは対象的である。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(car-safe <var class="var">object</var>)
&equiv;
(let ((x <var class="var">object</var>))
  (if (consp x)
      (car x)
    nil))
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-cdr_002dsafe"><span class="category-def">Function: </span><span><strong class="def-name">cdr-safe</strong> <var class="def-var-arguments">object</var><a class="copiable-link" href="#index-cdr_002dsafe"> &para;</a></span></dt>
<dd><p>この関数により他のデータ型によるエラーを起こさずに、コンスセルの<small class="sc">CDR</small>を取得できる。この関数は<var class="var">object</var>がコンスセルなら<var class="var">object</var>の<small class="sc">CDR</small>、それ以外は<code class="code">nil</code>をリターンする。この関数は、<var class="var">object</var>がリストでないときはエラーをシグナルする<code class="code">cdr</code>とは対象的である。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(cdr-safe <var class="var">object</var>)
&equiv;
(let ((x <var class="var">object</var>))
  (if (consp x)
      (cdr x)
    nil))
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-pop"><span class="category-def">Macro: </span><span><strong class="def-name">pop</strong> <var class="def-var-arguments">listname</var><a class="copiable-link" href="#index-pop"> &para;</a></span></dt>
<dd><p>このマクロはリストの<small class="sc">CAR</small>を調べて、それをリストから取り去るのを一度に行なう便利な方法を提供する。この関数は<var class="var">listname</var>に格納されたリストにたいして処理を行なう。この関数はリストから1番目の要素を削除して、<small class="sc">CDR</small>を<var class="var">listname</var>に保存し、その後で削除した要素をリターンする。
</p>
<p>もっとも単純なケースは、リストに名前をつけるためのクォートされていないシンボルの場合である。この場合、このマクロは<code class="code">(prog1&nbsp;(car&nbsp;listname)&nbsp;(setq&nbsp;listname&nbsp;(cdr&nbsp;listname)))</code><!-- /@w -->と等価である。
</p>
<div class="example">
<pre class="example-preformatted">x
     &rArr; (a b c)
(pop x)
     &rArr; a
x
     &rArr; (b c)
</pre></div>

<p>より一般的なのは<var class="var">listname</var>が汎変数(generalized
variable)の場合である。この場合、このマクロは<code class="code">setf</code>を使用して<var class="var">listname</var>に保存する。<a class="ref" href="Generalized-Variables.html">ジェネリック変数</a>を参照のこと。
</p>
<p>リストに要素を追加する<code class="code">push</code>マクロについては<a class="ref" href="List-Variables.html">リスト変数の変更</a>を参照のこと。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-nth"><span class="category-def">Function: </span><span><strong class="def-name">nth</strong> <var class="def-var-arguments">n list</var><a class="copiable-link" href="#index-nth"> &para;</a></span></dt>
<dd><a class="anchor" id="Definition-of-nth"></a><p>この関数は<var class="var">list</var>の<var class="var">n</var>番目の要素をリターンする。要素は0から数えられるので<var class="var">list</var>の<small class="sc">CAR</small>は要素0になる。<var class="var">list</var>の長さが<var class="var">n</var>以下なら値は<code class="code">nil</code>。
</p>

<div class="example">
<div class="group"><pre class="example-preformatted">(nth 2 '(1 2 3 4))
     &rArr; 3
</pre></div><div class="group"><pre class="example-preformatted">(nth 10 '(1 2 3 4))
     &rArr; nil

(nth n x) &equiv; (car (nthcdr n x))
</pre></div></div>

<p>これは関数<code class="code">elt</code>も類似しているが、任意の種類のシーケンスに適用される。歴史的な理由によりこの関数は逆の順序で引数を受け取る。<a class="ref" href="Sequence-Functions.html">シーケンス</a>を参照のこと。
</p></dd></dl>

<a class="index-entry-id" id="index-drop"></a>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-nthcdr"><span class="category-def">Function: </span><span><strong class="def-name">nthcdr</strong> <var class="def-var-arguments">n list</var><a class="copiable-link" href="#index-nthcdr"> &para;</a></span></dt>
<dd><p>この関数は<var class="var">list</var>の<var class="var">n</var>番目の<small class="sc">CDR</small>をリターンする。言い換えると、この関数は<var class="var">list</var>の最初の<var class="var">n</var>個のリンクをスキップしてから、それ以降をリターンする。
</p>
<p><var class="var">n</var>が0なら<code class="code">nthcdr</code>は<var class="var">list</var>全体をリターンする。<var class="var">list</var>の長さが<var class="var">n</var>以下なら<code class="code">nthcdr</code>は<code class="code">nil</code>をリターンする。
</p>
<p><code class="code">nthcdr</code>のエイリアスは<code class="code">drop</code>。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(nthcdr 1 '(1 2 3 4))
     &rArr; (2 3 4)
</pre></div><div class="group"><pre class="example-preformatted">(nthcdr 10 '(1 2 3 4))
     &rArr; nil
</pre></div><div class="group"><pre class="example-preformatted">(nthcdr 0 '(1 2 3 4))
     &rArr; (1 2 3 4)
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-take"><span class="category-def">Function: </span><span><strong class="def-name">take</strong> <var class="def-var-arguments">n list</var><a class="copiable-link" href="#index-take"> &para;</a></span></dt>
<dd><p>この関数は<var class="var">list</var>の最初の<var class="var">n</var>個の要素をリターンする。要するに<var class="var">list</var>から<code class="code">nthcdr</code>をスキップした部分をリターンする。
</p>
<p><var class="var">list</var>の要素の数が<var class="var">n</var>より少なければ<var class="var">list</var>、<var class="var">n</var>が0か負なら<code class="code">nil</code>をリターンする。
</p>
<p>一般的に<code class="code">(append (take <var class="var">n</var> <var class="var">list</var>) (drop <var class="var">n</var>
<var class="var">list</var>))</code>は<var class="var">list</var>と同じリストをリターンする。
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(take 3 '(a b c d))
     &rArr; (a b c)
</pre></div><div class="group"><pre class="example-preformatted">(take 10 '(a b c d))
     &rArr; (a b c d)
</pre></div><div class="group"><pre class="example-preformatted">(take 0 '(a b c d))
     &rArr; nil
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-ntake"><span class="category-def">Function: </span><span><strong class="def-name">ntake</strong> <var class="def-var-arguments">n list</var><a class="copiable-link" href="#index-ntake"> &para;</a></span></dt>
<dd><p>これは引数であるリストの構造を破壊的に変更することによって機能するバージョンの<code class="code">take</code>である。これにより高速になるが、<var class="var">list</var>の元の値は失われるだろう。
</p>
<p><code class="code">ntake</code>は要素の数が<var class="var">n</var>より少なければ変更せずに<var class="var">list</var>を、<var class="var">n</var>が0か負なら<code class="code">nil</code>をリターンする。それ以外の場合には最初の<var class="var">n</var>個の要素に切り詰められた<var class="var">list</var>をリターンする。
</p>
<p>これは<var class="var">n</var>が正だと判っていない場合には単純に切り詰め効果を信頼するのではなく、通常はリターン値を使うほうが賢明だということを意味している。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-last"><span class="category-def">Function: </span><span><strong class="def-name">last</strong> <var class="def-var-arguments">list &amp;optional n</var><a class="copiable-link" href="#index-last"> &para;</a></span></dt>
<dd><p>この関数は<var class="var">list</var>の最後のリンクをリターンする。このリンクの<code class="code">car</code>はこのリストの最後の要素。<var class="var">list</var>がnullなら<code class="code">nil</code>がリターンされる。<var class="var">n</var>が非<code class="code">nil</code>なら<var class="var">n</var>番目から最後までのリンクがリターンされる。<var class="var">n</var>が<var class="var">list</var>の長さより大きければ<var class="var">list</var>全体がリターンされる。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-safe_002dlength"><span class="category-def">Function: </span><span><strong class="def-name">safe-length</strong> <var class="def-var-arguments">list</var><a class="copiable-link" href="#index-safe_002dlength"> &para;</a></span></dt>
<dd><a class="anchor" id="Definition-of-safe_002dlength"></a><p>この関数はエラーや無限ループの危険なしで、<var class="var">list</var>の長さをリターンする。この関数は一般的に、リスト内のコンスセルの個数をリターンする。しかし循環リストでは単に上限値が値となるため、非常に大きくなる場合があります。
</p>
<p><var class="var">list</var>が<code class="code">nil</code>とコンスセルのいずれでもなければ<code class="code">safe-length</code>は0をリターンする。
</p></dd></dl>

<p>循環リストを考慮しなくてもよい場合にリストの長さを計算するもっとも一般的な方法は、<code class="code">length</code>を使う方法です。<a class="ref" href="Sequence-Functions.html">シーケンス</a>を参照してください。
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-caar"><span class="category-def">Function: </span><span><strong class="def-name">caar</strong> <var class="def-var-arguments">cons-cell</var><a class="copiable-link" href="#index-caar"> &para;</a></span></dt>
<dd><p>これは<code class="code">(car (car <var class="var">cons-cell</var>))</code>と同じ。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-cadr"><span class="category-def">Function: </span><span><strong class="def-name">cadr</strong> <var class="def-var-arguments">cons-cell</var><a class="copiable-link" href="#index-cadr"> &para;</a></span></dt>
<dd><p>これは<code class="code">(car (cdr <var class="var">cons-cell</var>))</code>か<code class="code">(nth 1 <var class="var">cons-cell</var>)</code>と同じ。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-cdar"><span class="category-def">Function: </span><span><strong class="def-name">cdar</strong> <var class="def-var-arguments">cons-cell</var><a class="copiable-link" href="#index-cdar"> &para;</a></span></dt>
<dd><p>これは<code class="code">(cdr (car <var class="var">cons-cell</var>))</code>と同じ。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-cddr"><span class="category-def">Function: </span><span><strong class="def-name">cddr</strong> <var class="def-var-arguments">cons-cell</var><a class="copiable-link" href="#index-cddr"> &para;</a></span></dt>
<dd><p>これは<code class="code">(cdr (cdr <var class="var">cons-cell</var>))</code>か<code class="code">(nthcdr 2 <var class="var">cons-cell</var>)</code>と同じ。
</p></dd></dl>

<a class="index-entry-id" id="index-caaar"></a>
<a class="index-entry-id" id="index-caadr"></a>
<a class="index-entry-id" id="index-cadar"></a>
<a class="index-entry-id" id="index-caddr"></a>
<a class="index-entry-id" id="index-cdaar"></a>
<a class="index-entry-id" id="index-cdadr"></a>
<a class="index-entry-id" id="index-cddar"></a>
<a class="index-entry-id" id="index-cdddr"></a>
<a class="index-entry-id" id="index-caaaar"></a>
<a class="index-entry-id" id="index-caaadr"></a>
<a class="index-entry-id" id="index-caadar"></a>
<a class="index-entry-id" id="index-caaddr"></a>
<a class="index-entry-id" id="index-cadaar"></a>
<a class="index-entry-id" id="index-cadadr"></a>
<a class="index-entry-id" id="index-caddar"></a>
<a class="index-entry-id" id="index-cadddr"></a>
<a class="index-entry-id" id="index-cdaaar"></a>
<a class="index-entry-id" id="index-cdaadr"></a>
<a class="index-entry-id" id="index-cdadar"></a>
<a class="index-entry-id" id="index-cdaddr"></a>
<a class="index-entry-id" id="index-cddaar"></a>
<a class="index-entry-id" id="index-cddadr"></a>
<a class="index-entry-id" id="index-cdddar"></a>
<a class="index-entry-id" id="index-cddddr"></a>
<p>上記に加えて<code class="code">c<var class="var">xxx</var>r</code>や<code class="code">c<var class="var">xxxx</var>r</code>のような<code class="code">car</code>と<code class="code">cdr</code>で構成される24の関数が定義されています。ここで<code class="code"><var class="var">x</var></code>は<code class="code">a</code>か<code class="code">d</code>のいずれかです。<code class="code">cadr</code>と<code class="code">caddr</code>と<code class="code">cadddr</code>はそれぞれリストの2つ目、3つ目、4つ目の要素です。<samp class="file">cl-lib</samp>は同じものを<code class="code">cl-second</code>、<code class="code">cl-third</code>、<code class="code">cl-fourth</code>という名前で提供しています。<a data-manual="cl" href="https://www.gnu.org/software/emacs/manual/html_node/cl/List-Functions.html#List-Functions">List
Functions</a> in <cite class="cite">Common Lisp Extensions</cite>を参照してください。
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-butlast"><span class="category-def">Function: </span><span><strong class="def-name">butlast</strong> <var class="def-var-arguments">x &amp;optional n</var><a class="copiable-link" href="#index-butlast"> &para;</a></span></dt>
<dd><p>この関数はリスト<var class="var">x</var>から、最後の要素か最後の<var class="var">n</var>個の要素を削除してリターンする。<var class="var">n</var>が0より大きければこの関数はリストのコピーを作成するので、元のリストに影響はない。一般的に<code class="code">(append
(butlast <var class="var">x</var> <var class="var">n</var>)  (last <var class="var">x</var> <var class="var">n</var>))</code>は、<var class="var">x</var>と等しいリストをリターンする。
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-nbutlast"><span class="category-def">Function: </span><span><strong class="def-name">nbutlast</strong> <var class="def-var-arguments">x &amp;optional n</var><a class="copiable-link" href="#index-nbutlast"> &para;</a></span></dt>
<dd><p>この関数はリストのコピーを作成するのではなく、<code class="code">cdr</code>を適切な要素に変更することにより破壊的に機能するバージョンの<code class="code">butlast</code>である。
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Building-Lists.html">コンスセルおよびリストの構築</a>, Previous: <a href="List_002drelated-Predicates.html">リストのための述語</a>, Up: <a href="Lists.html">リスト</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-30_69b16e5c63840479270d32f58daea923fe725b90, commit:1608b90db4c745c353a95eeb7e6b0f0bcc1a5f70 to check Japanese translation.
</body>
</html>
