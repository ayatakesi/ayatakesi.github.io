<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 26.3.

Copyright (C) 1990-1996, 1998-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>What Is a Function (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="What Is a Function (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="What Is a Function (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Functions.html#Functions" rel="up" title="Functions">
<link href="Lambda-Expressions.html#Lambda-Expressions" rel="next" title="Lambda Expressions">
<link href="Functions.html#Functions" rel="prev" title="Functions">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="What-Is-a-Function"></span><div class="header">
<p>
Next: <a href="Lambda-Expressions.html#Lambda-Expressions" accesskey="n" rel="next">Lambda Expressions</a>, Up: <a href="Functions.html#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Guan-Shu-toha_003f"></span><h3 class="section">13.1 関数とは?</h3>

<span id="index-return-value"></span>
<span id="index-value-of-function"></span>
<span id="index-argument"></span>
<span id="index-pure-function"></span>
<p>In a general sense, a function is a rule for carrying out a computation
given input values called <em>arguments</em>.  The result of the computation is
called the <em>value</em> or <em>return value</em> of the function.  The
computation can also have side effects, such as lasting changes in the
values of variables or the contents of data structures (see <a href="Intro-Eval.html#Definition-of-side-effect">Definition of side effect</a>).  A <em>pure function</em> is a function which, in addition to
having no side effects, always returns the same value for the same
combination of arguments, regardless of external factors such as machine
type or system state.
</p>
<p>ほとんどのコンピューター言語では、関数はそれぞれ名前をもちます。しかしLispでは厳密な意味において関数は名前をもちません。関数はオブジェクトであり、関数の名前の役割を果たすシンボルに関連づけることができますが(たとえば<code>car</code>)、それは<em>オプション</em>です。<a href="Function-Names.html#Function-Names">Function Names</a>を参照してください。関数が名前を与えられたとき、通常はそのシンボルを&ldquo;関数&rdquo;として参照します(たとえば関数<code>car</code>のように参照する)。このマニュアルでは、関数名と関数オブジェクト自身との間の区別は通常は重要ではありませんが、それが意味をもつような場合には注記します。
</p>
<p><em>スペシャルフォーム(special
form)</em>、<em>マクロ(macro)</em>と呼ばれる関数likeなオブジェクトがいくつかあり、それらも引数を受け取って計算を行います。しかし以下で説明するようにEmacs
Lispではこれらは関数とはみなされません。
</p>
<p>以下は関数と関数likeなオブジェクトにたいする重要な条件です:
</p>
<dl compact="compact">
<dt><em>lambda expression</em></dt>
<dd><p>Lispで記述された関数(厳密には関数オブジェクト)。これらについては以降のセクションで説明します。
<a href="Lambda-Expressions.html#Lambda-Expressions">Lambda Expressions</a>を参照のこと。
</p>
</dd>
<dt><em>primitive</em></dt>
<dd><span id="index-primitive"></span>
<span id="index-subr"></span>
<span id="index-built_002din-function"></span>
<p>Lispから呼び出すことができるが実際にはCで記述されている。プリミティブは<em>ビルトイン関数(built-in
functions)</em>とか<em>サブルーチン(subr)</em>のようにも呼ばれる。それらの例には関数likeな<code>car</code>や<code>append</code>が含まれる。加えてすべてのスペシャルフォーム(以下参照)もプリミティブとみなされる。
</p>
<p>関数はLispの基礎となる部分(たとえば<code>car</code>)であり、オペレーティングシステムのサービスにたいして低レベルのインターフェースを与え、高速に実行される必要があるために、通常はプリミティブとして実装されている。Lispで定義された関数と異なり、プリミティブの修正や追加には、Cソースの変更とEmacsのリコンパイルが必要となる。<a href="Writing-Emacs-Primitives.html#Writing-Emacs-Primitives">Writing Emacs Primitives</a>を参照のこと。
</p>
</dd>
<dt><em>special form</em></dt>
<dd><p>プリミティブは関数と似ているが、すべての引数が通常の方法で評価されない。いくつかの引数だけが評価されるかもしれず、通常ではない順序で評価されるか、複数回評価されるかもしれない。プリミティブの例には<code>if</code>、<code>and</code>、<code>while</code>が含まれる。<a href="Special-Forms.html#Special-Forms">Special Forms</a>を参照のこと。
</p>
</dd>
<dt><em>macro</em></dt>
<dd><span id="index-macro"></span>
<p>あるLisp式をオリジナルの式のかわりに評価される別の式に変換する、関数とは別のLispで定義された構文。マクロはスペシャルフォームが行う一連のことを、Lispプログラマーが行うのを可能にする。<a href="Macros.html#Macros">Macros</a>を参照のこと。
</p>
</dd>
<dt><em>command</em></dt>
<dd><span id="index-command"></span>
<p>プリミティブ<code>command-execute</code>を通じて呼び出すことができるオブジェクトで、通常はそのコマンドに<em>バインド</em>されたキーシーケンスをユーザーがタイプすることにより呼び出される。<a href="Interactive-Call.html#Interactive-Call">Interactive Call</a>を参照のこと。コマンドは通常は関数である。その関数がLispで記述されていれば、関数の定義内の<code>interactive</code>フォームによってコマンドとなる(<a href="Defining-Commands.html#Defining-Commands">Defining Commands</a>を参照)。関数であるコマンドは他の関数と同様、Lisp式から呼び出すこともできる。
</p>
<p>キーボードマクロ(文字列かベクター)は関数ではないが、これらもコマンドである。<a href="Keyboard-Macros.html#Keyboard-Macros">Keyboard Macros</a>を参照のこと。シンボルの関数セルにコマンドが含まれてれば、わたしたちはそのシンボルをコマンドと言う(<a href="Symbol-Components.html#Symbol-Components">Symbol Components</a>を参照)。そのような<em>名前つきコマンド(named command)</em>は<kbd>M-x</kbd>で呼び出すことができる。
</p>
</dd>
<dt><em>closure</em></dt>
<dd><p>ラムダ式とよく似た関数オブジェクトだが、クロージャーはレキシカル変数バインディングの環境にも囲われている。<a href="Closures.html#Closures">Closures</a>を参照のこと。
</p>
</dd>
<dt><em>byte-code function</em></dt>
<dd><p>バイトコンパイラーによりコンパイル済みの関数。<a href="Byte_002dCode-Type.html#Byte_002dCode-Type">Byte-Code Type</a>を参照のこと。
</p>
</dd>
<dt><em>autoload object</em></dt>
<dd><span id="index-autoload-object"></span>
<p>実際の関数のプレースホルダー。autoloadオブジェクトが呼び出されると、Emacsは実際の関数の定義を含むファイルをロードした後に実際の関数を呼び出す。<a href="Autoload.html#Autoload">Autoload</a>を参照のこと。
</p></dd>
</dl>

<p>関数<code>functionp</code>を使用して、あるオブジェクトが関数かどうかテストできます:
</p>
<dl>
<dt id="index-functionp">Function: <strong>functionp</strong> <em>object</em></dt>
<dd><p>この関数は<var>object</var>が任意の種類の関数(<code>funcall</code>に渡すことができる)なら<code>t</code>をリターンする。<code>functionp</code>は関数を名づけるシンボルにたいしては<code>t</code>、スペシャルフォームにたいしては<code>nil</code>をリターンすることに注意。
</p></dd></dl>

<p>It is also possible to find out how many arguments an arbitrary function
expects:
</p>
<dl>
<dt id="index-func_002darity">Function: <strong>func-arity</strong> <em>function</em></dt>
<dd><p>This function provides information about the argument list of the specified
<var>function</var>.  The returned value is a cons cell of the form
<code>(<var>min</var>&nbsp;.&nbsp;<var>max</var>)</code><!-- /@w -->, where <var>min</var> is the minimum number of
arguments, and <var>max</var> is either the maximum number of arguments, or the
symbol <code>many</code> for functions with <code>&amp;rest</code> arguments, or the symbol
<code>unevalled</code> if <var>function</var> is a special form.
</p>
<p>Note that this function might return inaccurate results in some situations,
such as the following:
</p>
<ul class="no-bullet">
<li>- Functions defined using <code>apply-partially</code> (see <a href="Calling-Functions.html#Calling-Functions">apply-partially</a>).

</li><li>- Functions that are advised using <code>advice-add</code> (see <a href="Advising-Named-Functions.html#Advising-Named-Functions">Advising Named Functions</a>).

</li><li>- Functions that determine the argument list dynamically, as part of their
code.
</li></ul>

</dd></dl>

<p><code>functionp</code>と異なり、以下の3つの関数はシンボルをそれの関数定義としては<em>扱いません</em>。
</p>
<dl>
<dt id="index-subrp">Function: <strong>subrp</strong> <em>object</em></dt>
<dd><p>この関数は<var>object</var>がビルトイン関数(たとえばLispプリミティブ)なら<code>t</code>をリターンする。
</p>
<div class="example">
<pre class="example">(subrp 'message)            ; <span class="roman"><code>message</code>はシンボルであり、</span>
     &rArr; nil                 ;   <span class="roman">subrオブジェクトではない</span>
</pre><pre class="example">(subrp (symbol-function 'message))
     &rArr; t
</pre></div>
</dd></dl>

<dl>
<dt id="index-byte_002dcode_002dfunction_002dp">Function: <strong>byte-code-function-p</strong> <em>object</em></dt>
<dd><p>この関数は<var>object</var>がバイトコード関数なら<code>t</code>をリターンする。たとえば:
</p>
<div class="example">
<pre class="example">(byte-code-function-p (symbol-function 'next-line))
     &rArr; t
</pre></div>
</dd></dl>

<dl>
<dt id="index-subr_002darity">Function: <strong>subr-arity</strong> <em>subr</em></dt>
<dd><p>This works like <code>func-arity</code>, but only for built-in functions and
without symbol indirection.  It signals an error for non-built-in
functions.  We recommend to use <code>func-arity</code> instead.
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Lambda-Expressions.html#Lambda-Expressions" accesskey="n" rel="next">Lambda Expressions</a>, Up: <a href="Functions.html#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
