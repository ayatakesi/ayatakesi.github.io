<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 26.2.

Copyright (C) 1990-1996, 1998-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Lisp Reference Manual: Choosing Window Options</title>

<meta name="description" content="GNU Emacs Lisp Reference Manual: Choosing Window Options">
<meta name="keywords" content="GNU Emacs Lisp Reference Manual: Choosing Window Options">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Displaying-Buffers.html#Displaying-Buffers" rel="up" title="Displaying Buffers">
<link href="Precedence-of-Action-Functions.html#Precedence-of-Action-Functions" rel="next" title="Precedence of Action Functions">
<link href="Buffer-Display-Action-Alists.html#Buffer-Display-Action-Alists" rel="prev" title="Buffer Display Action Alists">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Choosing-Window-Options"></a>
<div class="header">
<p>
Next: <a href="Precedence-of-Action-Functions.html#Precedence-of-Action-Functions" accesskey="n" rel="next">Precedence of Action Functions</a>, Previous: <a href="Buffer-Display-Action-Alists.html#Buffer-Display-Action-Alists" accesskey="p" rel="prev">Buffer Display Action Alists</a>, Up: <a href="Displaying-Buffers.html#Displaying-Buffers" accesskey="u" rel="up">Displaying Buffers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Additional-Options-for-Displaying-Buffers"></a>
<h4 class="subsection">28.13.4 Additional Options for Displaying Buffers</h4>

<p>The behavior of buffer display actions (see <a href="Choosing-Window.html#Choosing-Window">Choosing Window</a>) can be
further modified by the following user options.
</p>
<dl>
<dt><a name="index-pop_002dup_002dwindows"></a>User Option: <strong>pop-up-windows</strong></dt>
<dd><p>この変数の値が非<code>nil</code>なら、<code>display-buffer</code>は表示のために既存のバッファーを分割して新たなウィンドウを作成できる。
</p>
<p>This variable is provided for backward compatibility only.  It is obeyed by
<code>display-buffer</code> via a special mechanism in
<code>display-buffer-fallback-action</code>, which calls the action function
<code>display-buffer-pop-up-window</code> (see <a href="Buffer-Display-Action-Functions.html#Buffer-Display-Action-Functions">Buffer Display Action Functions</a>) when the value of this option is non-<code>nil</code>.  It is not
consulted by <code>display-buffer-pop-up-window</code> itself, which the user may
specify directly in <code>display-buffer-alist</code> etc.
</p></dd></dl>

<dl>
<dt><a name="index-split_002dwindow_002dpreferred_002dfunction"></a>User Option: <strong>split-window-preferred-function</strong></dt>
<dd><p>This variable specifies a function for splitting a window, in order to make
a new window for displaying a buffer.  It is used by the
<code>display-buffer-pop-up-window</code> action function to actually split the
window.
</p>
<p>The value must be a function that takes one argument, a window, and returns
either a new window (which will be used to display the desired buffer) or
<code>nil</code> (which means the splitting failed).  The default value is
<code>split-window-sensibly</code>, which is documented next.
</p></dd></dl>

<dl>
<dt><a name="index-split_002dwindow_002dsensibly"></a>Function: <strong>split-window-sensibly</strong> <em>&amp;optional window</em></dt>
<dd><p>This function tries to split <var>window</var> and return the newly created
window.  If <var>window</var> cannot be split, it returns <code>nil</code>.  If
<var>window</var> is omitted or <code>nil</code>, it defaults to the selected window.
</p>
<p>This function obeys the usual rules that determine when a window may be
split (see <a href="Splitting-Windows.html#Splitting-Windows">Splitting Windows</a>).  It first tries to split by placing the
new window below, subject to the restriction imposed by
<code>split-height-threshold</code> (see below), in addition to any other
restrictions.  If that fails, it tries to split by placing the new window to
the right, subject to <code>split-width-threshold</code> (see below).  If that
also fails, and the window is the only window on its frame, this function
again tries to split and place the new window below, disregarding
<code>split-height-threshold</code>.  If this fails as well, this function gives
up and returns <code>nil</code>.
</p></dd></dl>

<dl>
<dt><a name="index-split_002dheight_002dthreshold"></a>User Option: <strong>split-height-threshold</strong></dt>
<dd><p>This variable specifies whether <code>split-window-sensibly</code> is allowed to
split the window placing the new window below.  If it is an integer, that
means to split only if the original window has at least that many lines.  If
it is <code>nil</code>, that means not to split this way.
</p></dd></dl>

<dl>
<dt><a name="index-split_002dwidth_002dthreshold"></a>User Option: <strong>split-width-threshold</strong></dt>
<dd><p>This variable specifies whether <code>split-window-sensibly</code> is allowed to
split the window placing the new window to the right.  If the value is an
integer, that means to split only if the original window has at least that
many columns.  If the value is <code>nil</code>, that means not to split this way.
</p></dd></dl>

<dl>
<dt><a name="index-even_002dwindow_002dsizes"></a>User Option: <strong>even-window-sizes</strong></dt>
<dd><p>This variable, if non-<code>nil</code>, causes <code>display-buffer</code> to even
window sizes whenever it reuses an existing window, and that window is
adjacent to the selected one.
</p>
<p>値が<code>width-only</code>なら再利用されるウィンドウが選択されたウィンドウの左か右にあり、かつ選択されたウィンドウが再利用されるウィンドウより広い場合のみサイズは均等になる。値が<code>height-only</code>なら再利用されるウィンドウが選択されたウィンドウの上か下にあり、かつ選択されたウィンドウが再利用されるウィンドウより高い場合のみサイズは均等になる。その他の非<code>nil</code>値は、選択されたウィンドウと再利用されるウィンドウをコンビネーション的に比較して選択されたウィンドウの方が大ならサイズを均等にすることを意味する。
</p></dd></dl>

<dl>
<dt><a name="index-pop_002dup_002dframes"></a>User Option: <strong>pop-up-frames</strong></dt>
<dd><p>この変数の値が非<code>nil</code>なら、新たにフレームを作成することにより<code>display-buffer</code>がバッファーを表示できることを意味する。デフォルトは<code>nil</code>。
</p>
<p>非<code>nil</code>値は<code>display-buffer</code>がすでに<var>buffer-or-name</var>を表示しているウィンドウを探す際に、選択されたフレームだけでなく可視およびアイコン化されたフレームを検索できることも意味する。
</p>
<p>This variable is provided mainly for backward compatibility.  It is obeyed
by <code>display-buffer</code> via a special mechanism in
<code>display-buffer-fallback-action</code>, which calls the action function
<code>display-buffer-pop-up-frame</code> (see <a href="Buffer-Display-Action-Functions.html#Buffer-Display-Action-Functions">Buffer Display Action Functions</a>)
if the value is non-<code>nil</code>.  (This is done before attempting to split a
window.)  This variable is not consulted by
<code>display-buffer-pop-up-frame</code> itself, which the user may specify
directly in <code>display-buffer-alist</code> etc.
</p></dd></dl>

<dl>
<dt><a name="index-pop_002dup_002dframe_002dfunction"></a>User Option: <strong>pop-up-frame-function</strong></dt>
<dd><p>This variable specifies a function for creating a new frame, in order to
make a new window for displaying a buffer.  It is used by the
<code>display-buffer-pop-up-frame</code> action function.
</p>
<p>値はフレーム、またはフレームを作成できなかったら<code>nil</code>をリターンする引数をとらない関数であること。デフォルト値は<code>pop-up-frame-alist</code>
(以下参照)により指定されるパラメーターを使用してフレームを作成する関数。
</p></dd></dl>

<dl>
<dt><a name="index-pop_002dup_002dframe_002dalist"></a>User Option: <strong>pop-up-frame-alist</strong></dt>
<dd><p>This variable holds an alist of frame parameters (see <a href="Frame-Parameters.html#Frame-Parameters">Frame Parameters</a>),
which is used by the function specified by <code>pop-up-frame-function</code> to
make a new frame.  The default is <code>nil</code>.
</p>
<p>This option is provided for backward compatibility only.  Note, that when
<code>display-buffer-pop-up-frame</code> calls the function specified by
<code>pop-up-frame-function</code>, it prepends the value of all
<code>pop-up-frame-parameters</code> action alist entries to
<code>pop-up-frame-alist</code> so that the values specified by the action alist
entry effectively override any corresponding values of
<code>pop-up-frame-alist</code>.
</p>
<p>Hence, users should set up a <code>pop-up-frame-parameters</code> action alist
entry in <code>display-buffer-alist</code> instead of customizing
<code>pop-up-frame-alist</code>.  Only this will guarantee that the value of a
parameter specified by the user overrides the value of that parameter
specified by the caller of <code>display-buffer</code>.
</p></dd></dl>

<p>Many efforts in the design of <code>display-buffer</code> have been given to
maintain compatibility with code that uses older options like
<code>pop-up-windows</code>, <code>pop-up-frames</code>, <code>pop-up-frame-alist</code>,
<code>same-window-buffer-names</code> and <code>same-window-regexps</code>.  Lisp
Programs and users should refrain from using these options.  Above we
already warned against customizing <code>pop-up-frame-alist</code>.  Here we
describe how to convert the remaining options to use display actions
instead.
</p>
<dl compact="compact">
<dt><code>pop-up-windows</code></dt>
<dd><a name="index-pop_002dup_002dwindows_002c-replacement-for"></a>
<p>This variable is <code>t</code> by default.  Instead of customizing it to
<code>nil</code> and thus telling <code>display-buffer</code> what not to do, it&rsquo;s much
better to list in <code>display-buffer-base-action</code> the action functions it
should try instead as, for example:
</p>
<div class="example">
<pre class="example">(customize-set-variable
 'display-buffer-base-action
 '((display-buffer-reuse-window display-buffer-same-window
    display-buffer-in-previous-window
    display-buffer-use-some-window)))
</pre></div>

</dd>
<dt><code>pop-up-frames</code></dt>
<dd><a name="index-pop_002dup_002dframes_002c-replacement-for"></a>
<p>Instead of customizing this variable to <code>t</code>, customize
<code>display-buffer-base-action</code>, for example, as follows:
</p>
<div class="example">
<pre class="example">(customize-set-variable
 'display-buffer-base-action
 '((display-buffer-reuse-window display-buffer-pop-up-frame)
   (reusable-frames . 0)))
</pre></div>

</dd>
<dt><code>same-window-buffer-names</code></dt>
<dt><code>same-window-regexps</code></dt>
<dd><a name="index-same_002dwindow_002dbuffer_002dnames_002c-replacement-for"></a>
<a name="index-same_002dwindow_002dregexps_002c-replacement-for"></a>
<p>Instead of adding a buffer name or a regular expression to one of these
options use a <code>display-buffer-alist</code> entry for that buffer specifying
the action function <code>display-buffer-same-window</code>.
</p>
<div class="example">
<pre class="example">(customize-set-variable
 'display-buffer-alist
 (cons '(&quot;\\*foo\\*&quot; (display-buffer-same-window))
        display-buffer-alist))
</pre></div>
</dd>
</dl>


<hr>
<div class="header">
<p>
Next: <a href="Precedence-of-Action-Functions.html#Precedence-of-Action-Functions" accesskey="n" rel="next">Precedence of Action Functions</a>, Previous: <a href="Buffer-Display-Action-Alists.html#Buffer-Display-Action-Alists" accesskey="p" rel="prev">Buffer Display Action Alists</a>, Up: <a href="Displaying-Buffers.html#Displaying-Buffers" accesskey="u" rel="up">Displaying Buffers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
