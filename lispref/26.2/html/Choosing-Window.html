<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 26.2.

Copyright (C) 1990-1996, 1998-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "GNU General Public License," with the Front-Cover Texts
being "A GNU Manual," and with the Back-Cover Texts as in (a) below.  A
copy of the license is included in the section entitled "GNU Free
Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>28.13.1 Choosing a Window for Displaying a Buffer (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="28.13.1 Choosing a Window for Displaying a Buffer (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="28.13.1 Choosing a Window for Displaying a Buffer (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Emacs Lisp">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Displaying-Buffers.html#Displaying-Buffers" rel="up" title="28.13 Displaying a Buffer in a Suitable Window">
<link href="Buffer-Display-Action-Functions.html#Buffer-Display-Action-Functions" rel="next" title="28.13.2 Action Functions for Buffer Display">
<link href="Displaying-Buffers.html#Displaying-Buffers" rel="prev" title="28.13 Displaying a Buffer in a Suitable Window">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="Choosing-Window"></span><div class="header">
<p>
Next: <a href="Buffer-Display-Action-Functions.html#Buffer-Display-Action-Functions" accesskey="n" rel="next">Buffer Display Action Functions</a>, Up: <a href="Displaying-Buffers.html#Displaying-Buffers" accesskey="u" rel="up">Displaying Buffers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Choosing-a-Window-for-Displaying-a-Buffer"></span><h4 class="subsection">28.13.1 Choosing a Window for Displaying a Buffer</h4>

<p>コマンド<code>display-buffer</code>は、表示のために柔軟にウィンドウを選択して、そのウィンドウ内に指定されたバッファーを表示します。これは、キーバインディング<kbd>C-x
4
C-o</kbd>を通じて、インタラクティブに呼び出すことができます。また、<code>switch-to-buffer</code>や<code>pop-to-buffer</code>を含む、多くの関数およびコマンドにより、サブルーチンとしても使用されます(<a href="Switching-Buffers.html#Switching-Buffers">ウィンドウ内のバッファーへの切り替え</a>を参照)。
</p>
<span id="index-buffer-display-display-action"></span>
<span id="index-display-action"></span>
<p>This command performs several complex steps to find a window to display in.
These steps are described by means of <em>display actions</em>, which have the
form <code>(<var>functions</var> . <var>alist</var>)</code>.  Here, <var>functions</var> is
either a single function or a list of functions, referred to as &ldquo;action
functions&rdquo; (see section <a href="Buffer-Display-Action-Functions.html#Buffer-Display-Action-Functions">Action Functions for Buffer Display</a>); and <var>alist</var> is an
association list, referred to as &ldquo;action alist&rdquo; (see section <a href="Buffer-Display-Action-Alists.html#Buffer-Display-Action-Alists">Action Alists for Buffer Display</a>).  See section <a href="The-Zen-of-Buffer-Display.html#The-Zen-of-Buffer-Display">The Zen of Buffer Display</a>, for samples of display
actions.
</p>
<p>An action function accepts two arguments: the buffer to display and an
action alist.  It attempts to display the buffer in some window, picking or
creating a window according to its own criteria.  If successful, it returns
the window; otherwise, it returns <code>nil</code>.
</p>
<p><code>display-buffer</code>は、複数ソースからのディスプレイアクションを組み合わせて、アクション関数のいずれか1つがバッファーの表示を管理して非<code>nil</code>値をリターンするまで、アクション関数を順に呼び出します。
</p>
<dl>
<dt id="index-display_002dbuffer">Command: <strong>display-buffer</strong> <em>buffer-or-name &amp;optional action frame</em></dt>
<dd><p>This command makes <var>buffer-or-name</var> appear in some window, without
selecting the window or making the buffer current.  The argument
<var>buffer-or-name</var> must be a buffer or the name of an existing buffer.
The return value is the window chosen to display the buffer, or <code>nil</code>
if no suitable window was found.
</p>
<p>The optional argument <var>action</var>, if non-<code>nil</code>, should normally be a
display action (described above).  <code>display-buffer</code> builds a list of
action functions and an action alist, by consolidating display actions from
the following sources (in order of their precedence, from highest to
lowest):
</p>
<ul>
<li> 変数<code>display-buffer-overriding-action</code>。

</li><li> ユーザーオプション<code>display-buffer-alist</code>。

</li><li> <var>action</var>引数。

</li><li> ユーザーオプション<code>display-buffer-base-action</code>。

</li><li> 定数<code>display-buffer-fallback-action</code>。
</li></ul>

<p>In practice this means that <code>display-buffer</code> builds a list of all
action functions specified by these display actions.  The first element of
this list is the first action function specified by
<code>display-buffer-overriding-action</code>, if any.  Its last element is
<code>display-buffer-pop-up-frame</code>&mdash;the last action function specified by
<code>display-buffer-fallback-action</code>.  Duplicates are not removed from this
list&mdash;hence one and the same action function may be called multiple times
during one call of <code>display-buffer</code>.
</p>
<p><code>display-buffer</code> calls the action functions specified by this list in
turn, passing the buffer as the first argument and the combined action alist
as the second argument, until one of the functions returns non-<code>nil</code>.
See section <a href="Precedence-of-Action-Functions.html#Precedence-of-Action-Functions">Precedence of Action Functions</a>, for examples how display actions
specified by different sources are processed by <code>display-buffer</code>.
</p>
<p>Note that the second argument is always the list of <em>all</em> action alist
entries specified by the sources named above.  Hence, the first element of
that list is the first action alist entry specified by
<code>display-buffer-overriding-action</code>, if any.  Its last element is the
last alist entry of <code>display-buffer-base-action</code>, if any (the action
alist of <code>display-buffer-fallback-action</code> is empty).
</p>
<p>Note also, that the combined action alist may contain duplicate entries and
entries for the same key with different values.  As a rule, action functions
always use the first association of a key they find.  Hence, the association
an action function uses is not necessarily the association provided by the
display action that specified that action function,
</p>
<p>The argument <var>action</var> can also have a non-<code>nil</code>, non-list value.
This has the special meaning that the buffer should be displayed in a window
other than the selected one, even if the selected window is already
displaying it.  If called interactively with a prefix argument, <var>action</var>
is <code>t</code>.  Lisp programs should always supply a list value.
</p>
<p>The optional argument <var>frame</var>, if non-<code>nil</code>, specifies which frames
to check when deciding whether the buffer is already displayed.  It is
equivalent to adding an element <code><span class="nolinebreak">(reusable-frames</span>&nbsp;.&nbsp;<var>frame</var>)</code><!-- /@w -->
to the action alist of <var>action</var> (see section <a href="Buffer-Display-Action-Alists.html#Buffer-Display-Action-Alists">Action Alists for Buffer Display</a>).
The <var>frame</var> argument is provided for compatibility reasons, Lisp
programs should not use it.
</p></dd></dl>

<dl>
<dt id="index-display_002dbuffer_002doverriding_002daction">Variable: <strong>display-buffer-overriding-action</strong></dt>
<dd><p>The value of this variable should be a display action, which is treated with
the highest priority by <code>display-buffer</code>.  The default value is an
empty display action, i.e., <code>(nil&nbsp;.&nbsp;nil)</code><!-- /@w -->.
</p></dd></dl>

<dl>
<dt id="index-display_002dbuffer_002dalist">User Option: <strong>display-buffer-alist</strong></dt>
<dd><p>The value of this option is an alist mapping conditions to display actions.
Each condition may be either a regular expression matching a buffer name or
a function that takes two arguments: a buffer name and the <var>action</var>
argument passed to <code>display-buffer</code>.  If either the name of the buffer
passed to <code>display-buffer</code> matches a regular expression in this alist,
or the function specified by a condition returns non-<code>nil</code>, then
<code>display-buffer</code> uses the corresponding display action to display the
buffer.
</p></dd></dl>

<dl>
<dt id="index-display_002dbuffer_002dbase_002daction">User Option: <strong>display-buffer-base-action</strong></dt>
<dd><p>The value of this option should be a display action.  This option can be
used to define a standard display action for calls to <code>display-buffer</code>.
</p></dd></dl>

<dl>
<dt id="index-display_002dbuffer_002dfallback_002daction">Constant: <strong>display-buffer-fallback-action</strong></dt>
<dd><p>このディスプレイアクションは、<code>display-buffer</code>にたいして、他のディスプレイアクションが与えられなかった場合の代替え処理を指定する。
</p></dd></dl>


<hr>
<div class="header">
<p>
Next: <a href="Buffer-Display-Action-Functions.html#Buffer-Display-Action-Functions" accesskey="n" rel="next">Buffer Display Action Functions</a>, Up: <a href="Displaying-Buffers.html#Displaying-Buffers" accesskey="u" rel="up">Displaying Buffers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
