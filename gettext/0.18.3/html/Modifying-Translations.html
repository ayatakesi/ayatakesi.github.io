<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU gettext utilities: Modifying Translations</title>

<meta name="description" content="GNU gettext utilities: Modifying Translations">
<meta name="keywords" content="GNU gettext utilities: Modifying Translations">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Program-Index.html#Program-Index" rel="index" title="Program Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="PO-Mode.html#PO-Mode" rel="up" title="PO Mode">
<link href="Modifying-Comments.html#Modifying-Comments" rel="next" title="Modifying Comments">
<link href="Obsolete-Entries.html#Obsolete-Entries" rel="prev" title="Obsolete Entries">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Modifying-Translations"></a>
<div class="header">
<p>
Next: <a href="Modifying-Comments.html#Modifying-Comments" accesskey="n" rel="next">Modifying Comments</a>, Previous: <a href="Obsolete-Entries.html#Obsolete-Entries" accesskey="p" rel="prev">Obsolete Entries</a>, Up: <a href="PO-Mode.html#PO-Mode" accesskey="u" rel="up">PO Mode</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Program-Index.html#Program-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Fan-Yi-noXiu-Zheng-"></a>
<h4 class="subsection">8.3.9 翻訳の修正</h4>
<a name="index-editing-translations"></a>
<a name="index-editing-translations-1"></a>

<p>POモードは、通常Emacsのバッファーを変更するような方法でPOファイルを直接編集することを防ぎます。そうすることで、直接編集してファイル全体のフォーマットや文字列の引用符を誤って編集してしまう等の、容易に発生し得るエラーを防ぎます。他の種類のエラーもありますが、それらのエラーは翻訳者が<kbd>V</kbd>コマンドを使っていつでも、バッチ検証プロセスにより発見・診断することができます。その他のエラーについては、翻訳者自身の判断と、彼女が翻訳したパッケージにたいする同じ母国語ユーザーによる、言語的な判定に頼る必要があります。
</p>
<p>翻訳を作成し、機械的な診断およびユーザーによる報告を経た後、翻訳者は以下のコマンドを使って翻訳を変更します。
</p>
<dl compact="compact">
<dt><kbd><span class="key">RET</span></kbd></dt>
<dd><a name="index-RET_002c-PO-Mode-command"></a>
<p>翻訳を対話的に編集します(<code>po-edit-msgstr</code>)。
</p>
</dd>
<dt><kbd><span class="key">LFD</span></kbd></dt>
<dt><kbd>C-j</kbd></dt>
<dd><a name="index-LFD_002c-PO-Mode-command"></a>
<a name="index-C_002dj_002c-PO-Mode-command"></a>
<p>翻訳を元の未翻訳の文字列で再初期化します(<code>po-msgid-to-msgstr</code>)。
</p>
</dd>
<dt><kbd>k</kbd></dt>
<dd><a name="index-k_002c-PO-Mode-command-2"></a>
<p>翻訳をkillリングに保存してから、削除します(<code>po-kill-msgstr</code>)。
</p>
</dd>
<dt><kbd>w</kbd></dt>
<dd><a name="index-w_002c-PO-Mode-command"></a>
<p>翻訳をkillリングに保存するだけで、削除はしません(<code>po-kill-ring-save-msgstr</code>)。
</p>
</dd>
<dt><kbd>y</kbd></dt>
<dd><a name="index-y_002c-PO-Mode-command"></a>
<p>翻訳をkillリングのもので置き換えます(<code>po-yank-msgstr</code>)。
</p>
</dd>
</dl>

<a name="index-RET_002c-PO-Mode-command-1"></a>
<a name="index-po_002dedit_002dmsgstr_002c-PO-Mode-command"></a>
<p><kbd><span class="key">RET</span></kbd>コマンド(<code>po-edit-msgstr</code>)は、新しい翻訳を編集したり既存の翻訳を変更するための、新しいEmacsのウィンドウをオープンします。新しいウィンドウにはPOファイルのカレントエントリーの、翻訳のコピーが含まれています。翻訳のコピーは、すぐに編集できるように引用符を除かれていて、Emacsによる編集コマンドのすべてが使用できます。翻訳者が文字列の変更を終えたら、<kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-c</span></kbd><!-- /@w -->により、自動的に引用符を付加した形式で結果を保存し、編集用のサブウィンドウを閉じることができます。変更を保存せずに取り消す場合には、<kbd><span class="nolinebreak">C-c</span>&nbsp;<span class="nolinebreak">C-k</span></kbd><!-- /@w -->を使用してください。詳細は、<a href="Subedit.html#Subedit">Subedit</a>を参照してください。
</p>
<a name="index-LFD_002c-PO-Mode-command-1"></a>
<a name="index-C_002dj_002c-PO-Mode-command-1"></a>
<a name="index-po_002dmsgid_002dto_002dmsgstr_002c-PO-Mode-command"></a>
<p><kbd><span class="key">LFD</span></kbd>コマンド(<code>po-msgid-to-msgstr</code>)は、翻訳を元の文字列で初期化します。このコマンドは通常、翻訳者が以前の作業を破棄して、元の文字列にたいして新しく翻訳をやり直したいときに使用します。
</p>
<a name="index-po_002dauto_002dedit_002dwith_002dmsgid_002c-PO-Mode-variable"></a>
<p>未翻訳のエントリーを編集するときに、常に<kbd><span class="key">LFD</span></kbd>コマンドを自動的に実行させることもできます。<code>po-auto-edit-with-msgid</code>に<code>t</code>をセットすれば、翻訳に何も文字列が設定されていない場合には、元の文字列により翻訳が初期化されます。デフォルトでは<code>po-auto-edit-with-msgid</code>は<code>nil</code>です。
</p>
<a name="index-starting-a-string-translation"></a>
<p>実際のところ、空の文字列から翻訳を開始するのか、それとも元の文字列のコピーから翻訳を開始するのかは好みの問題です。元の言語と、翻訳する言語があまりに異なっている場合には、単に空の文字列から開始するのがよいでしょう。その反対に元の言語と翻訳する言語が似ている場合には、元の文字列の数字や文字を再入力する手間を省きたいときもあるでしょう。未翻訳の余分な元文字列を取り除く手間がかかるとしても、彼女は元の文字列を見ながら未翻訳の文字列を翻訳で上書きしていく方法を好むかもしれません。
</p>
<a name="index-cut-and-paste-for-translated-strings"></a>
<a name="index-k_002c-PO-Mode-command-3"></a>
<a name="index-po_002dkill_002dmsgstr_002c-PO-Mode-command-1"></a>
<a name="index-w_002c-PO-Mode-command-1"></a>
<a name="index-po_002dkill_002dring_002dsave_002dmsgstr_002c-PO-Mode-command"></a>
<p>これにより、空文字列になる前の内容は、killリングと呼ばれる特別な場所に置かれます。wコマンド(po-kill-ring-save-msgstr)も、翻訳をkillリングにコピーする効果に違いはありませんが、エントリーをそのままにする点が異なります。この場合、エントリーから翻訳は削除されません。どちらのコマンドも、Emacs愛好家にはよく知られている共有バッファーである、Emacsのkillリングを使用します。
</p>
<p>翻訳者は作業する過程で、<kbd>k</kbd>や<kbd>w</kbd>を多く使うことでしょう。それにともないkillリングには翻訳が保存されていきます。killリングに保存された文字列は、後でEmacsの他のバッファーに挿入することができます。killリングは、単一のPOファイル内の異なるエントリー間だけではなく、翻訳者がPOファイルを複数開いている場合は、異なるPOファイル間で翻訳文字列を移動するのに使用されます。
</p>
<p>POモードではないバッファーと文字列をやりとりするのを容易にするために、<kbd>k</kbd>コマンドでkillリングに置かれた翻訳文字列は、引用符が取り除かれて保存されます。すなわち、文字列を囲うための引用符は取り除かれ、複数行の文字列は結合され、バックスラッシュでエスケープされた文字は対応する実際の文字に変換されます。陳腐化したエントリーの場合、保存される前に翻訳は非コメント化されます。
</p>
<a name="index-y_002c-PO-Mode-command-1"></a>
<a name="index-po_002dyank_002dmsgstr_002c-PO-Mode-command"></a>
<p><kbd>y</kbd>コマンド(<code>po-yank-msgstr</code>)は、カレントエントリーの翻訳をkillリングの文字列で完全に置き換えます。Emacsの用語にしたがうと、置き換えた文字列は、PO
ファイルのバッファーへ<em>yank(yanked)</em>されたといいます。<a href="../emacs/Yanking.html#Yanking">Yanking</a> in <cite>The Emacs
Editor</cite>を参照してください。最初に<kbd>y</kbd>を使用したときは、killリングに最後に追加された値が翻訳として戻されます。他のキーを押さずに、もう一度<kbd>y</kbd>をタイプすると、killリングの最後から2番目に追加された文字列が、翻訳として挿入されます。<kbd>y</kbd>を何度も繰り返すことにより、望む文字列が見つかるまで、killリングに保存された文字列を巡回することができます。
</p>
<p>文字列がPOファイルのエントリーにyankされるときには、自動的にPOファイルの書式にしたがった形式の引用符が付与されます。さらに陳腐化したエントリーの場合には、文字列は適切にコメント化されます。プログラムが使用できるように、翻訳された個々の文字列に引用符を付与するために、翻訳者が患わされることはありません。
</p>
<p><kbd>k</kbd>と<kbd>w</kbd>だけが、文字列をkillリングに保存するコマンドではないことに注意してください。POモードの多くのコマンドは、翻訳された文字列(または翻訳者のコメント)を置き換えて、自動的にリングに保存します。この一般的なルールに当てはまらないコマンドは、yankコマンド自身です。
</p>
<a name="index-using-obsolete-translations-to-make-new-entries"></a>
<p>文字列のkillとyankについては、一般的な状況の実例で説明したほうがよいでしょう。プログラマーが文字列にちょっとした変更を加えたとしましょう。その後、彼が行った変更は、変更した文字列にたいする新しい未翻訳のエントリーとしてPOファイルに出現し、元の変更されていない文字列にたいする翻訳は、陳腐化したエントリーとなります。多くの場合、翻訳者は未翻訳エントリーの<code>msgstr</code>に、陳腐化したエントリーの変更前の翻訳を流用することで作業を節約できるでしょう。その後、陳腐化したエントリーが必要ないなら、安全に削除することができます。
</p>
<p>翻訳者が未翻訳のエントリーを見つけて、それが既存の翻訳と少ししか違わないのではないか、と思ったとしましょう。そのような場合は、すぐにカレントエントリーの場所を<kbd>m</kbd>でマークしてから、陳腐化したエントリーを検索して、変更される前の文字列にたいする翻訳を探すために<kbd>o</kbd>を使用します。見つかったら、DELコマンドで廃止されたエントリーを削除します。なぜなら彼女はDELコマンドが翻訳をkillすることを知っており、それはつまり翻訳がkillリングに保存されることを知っているからです。その後<kbd>r</kbd>コマンドで最初の未翻訳エントリーに戻り、保存した翻訳を<kbd>y</kbd>コマンドで<code>msgstr</code>に<em>yank</em>します。これで翻訳者は、<kbd><span class="key">RET</span></kbd>を使って自由に翻訳内容を調整することができます。そしてその後は再び<kbd>u</kbd>と<kbd>m</kbd>で次の未翻訳の文字列を探していくのかもしれません。
</p>
<p>翻訳者が同じキーシーケンスを何度も使用する必要があるときには、要求したときにそのキーシーケンスを再生させるEmacsの機能について学習するほうがよいかもしれません。<a href="../emacs/Keyboard-Macros.html#Keyboard-Macros">Keyboard
Macros</a> in <cite>The Emacs Editor</cite>を参照してください。
</p>



</body>
</html>
