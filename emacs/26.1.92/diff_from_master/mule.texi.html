<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">0001:</font></a> <i><font color="#9A1900">@c -*- coding: utf-8 -*-</font></i>
<a name="line2"><font color="#000000">0002:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line3"><font color="#000000">0003:</font></a> <i><font color="#9A1900">@c Copyright (C) 1997, 1999-2019 Free Software Foundation, Inc.</font></i>
<a name="line4"><font color="#000000">0004:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line5"><font color="#000000">0005:</font></a> <b><font color="#0000FF">@node</font></b> International
<a name="line6"><font color="#000000">0006:</font></a> <i><font color="#9A1900">@chapter International Character Set Support</font></i>
<a name="line7"><font color="#000000">0007:</font></a> <i><font color="#9A1900">@c This node is referenced in the tutorial.  When renaming or deleting</font></i>
<a name="line8"><font color="#000000">0008:</font></a> <i><font color="#9A1900">@c it, the tutorial needs to be adjusted.  (TUTORIAL.de)</font></i>
<a name="line9"><font color="#000000">0009:</font></a> <i><font color="#9A1900">@cindex international scripts</font></i>
<a name="line10"><font color="#000000">0010:</font></a> <i><font color="#9A1900">@cindex multibyte characters</font></i>
<a name="line11"><font color="#000000">0011:</font></a> <i><font color="#9A1900">@cindex encoding of characters</font></i>
<a name="line12"><font color="#000000">0012:</font></a> 
<a name="line13"><font color="#000000">0013:</font></a> <i><font color="#9A1900">@cindex Han</font></i>
<a name="line14"><font color="#000000">0014:</font></a> <i><font color="#9A1900">@cindex Hindi</font></i>
<a name="line15"><font color="#000000">0015:</font></a> <i><font color="#9A1900">@cindex Hangul</font></i>
<a name="line16"><font color="#000000">0016:</font></a>   Emacs supports a wide variety of international character sets,
<a name="line17"><font color="#000000">0017:</font></a> including European and Vietnamese variants of the Latin alphabet, as
<a name="line18"><font color="#000000">0018:</font></a> well as Arabic scripts, Brahmic scripts (for languages such as
<a name="line19"><font color="#000000">0019:</font></a> Bengali, Hindi, and Thai), Cyrillic, Ethiopic, Georgian, Greek, Han
<a name="line20"><font color="#000000">0020:</font></a> (for Chinese and Japanese), Hangul (for Korean), Hebrew and IPA<b><font color="#0000FF">@.</font></b>
<a name="line21"><font color="#000000">0021:</font></a> Emacs also supports various encodings of these characters that are used by
<a name="line22"><font color="#000000">0022:</font></a> other internationalized software, such as word processors and mailers.
<a name="line23"><font color="#000000">0023:</font></a> 
<a name="line24"><font color="#000000">0024:</font></a>   Emacs allows editing text with international characters by supporting
<a name="line25"><font color="#000000">0025:</font></a> all the related activities:
<a name="line26"><font color="#000000">0026:</font></a> 
<a name="line27"><font color="#000000">0027:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line28"><font color="#000000">0028:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line29"><font color="#000000">0029:</font></a> You can visit files with non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters, save non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> text, and
<a name="line30"><font color="#000000">0030:</font></a> pass non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> text between Emacs and programs it invokes (such as
<a name="line31"><font color="#000000">0031:</font></a> compilers, spell-checkers, and mailers).  Setting your language
<a name="line32"><font color="#000000">0032:</font></a> environment (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments</font><font color="#FF0000">}</font>) takes care of setting up the
<a name="line33"><font color="#000000">0033:</font></a> coding systems and other options for a specific language or culture.
<a name="line34"><font color="#000000">0034:</font></a> Alternatively, you can specify how Emacs should encode or decode text
<a name="line35"><font color="#000000">0035:</font></a> for each command; see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text Coding</font><font color="#FF0000">}</font>.
<a name="line36"><font color="#000000">0036:</font></a> 
<a name="line37"><font color="#000000">0037:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line38"><font color="#000000">0038:</font></a> You can display non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters encoded by the various
<a name="line39"><font color="#000000">0039:</font></a> scripts.  This works by using appropriate fonts on graphics displays
<a name="line40"><font color="#000000">0040:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Defining Fontsets</font><font color="#FF0000">}</font>), and by sending special codes to text
<a name="line41"><font color="#000000">0041:</font></a> displays (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Terminal Coding</font><font color="#FF0000">}</font>).  If some characters are displayed
<a name="line42"><font color="#000000">0042:</font></a> incorrectly, refer to <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Undisplayable Characters</font><font color="#FF0000">}</font>, which describes
<a name="line43"><font color="#000000">0043:</font></a> possible problems and explains how to solve them.
<a name="line44"><font color="#000000">0044:</font></a> 
<a name="line45"><font color="#000000">0045:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line46"><font color="#000000">0046:</font></a> Characters from scripts whose natural ordering of text is from right
<a name="line47"><font color="#000000">0047:</font></a> to left are reordered for display (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Bidirectional Editing</font><font color="#FF0000">}</font>).
<a name="line48"><font color="#000000">0048:</font></a> These scripts include Arabic, Hebrew, Syriac, Thaana, and a few
<a name="line49"><font color="#000000">0049:</font></a> others.
<a name="line50"><font color="#000000">0050:</font></a> 
<a name="line51"><font color="#000000">0051:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line52"><font color="#000000">0052:</font></a> You can insert non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters or search for them.  To do that,
<a name="line53"><font color="#000000">0053:</font></a> you can specify an input method (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Select Input Method</font><font color="#FF0000">}</font>) suitable
<a name="line54"><font color="#000000">0054:</font></a> for your language, or use the default input method set up when you choose
<a name="line55"><font color="#000000">0055:</font></a> your language environment.  If
<a name="line56"><font color="#000000">0056:</font></a> your keyboard can produce non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters, you can select an
<a name="line57"><font color="#000000">0057:</font></a> appropriate keyboard coding system (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Terminal Coding</font><font color="#FF0000">}</font>), and Emacs
<a name="line58"><font color="#000000">0058:</font></a> will accept those characters.  Latin-1 characters can also be input by
<a name="line59"><font color="#000000">0059:</font></a> using the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8}</font> prefix, see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Unibyte Mode</font><font color="#FF0000">}</font>.
<a name="line60"><font color="#000000">0060:</font></a> 
<a name="line61"><font color="#000000">0061:</font></a> With the X Window System, your locale should be set to an appropriate
<a name="line62"><font color="#000000">0062:</font></a> value to make sure Emacs interprets keyboard input correctly; see
<a name="line63"><font color="#000000">0063:</font></a> <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments, locales</font><font color="#FF0000">}</font>.
<a name="line64"><font color="#000000">0064:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line65"><font color="#000000">0065:</font></a> 
<a name="line66"><font color="#000000">0066:</font></a>   The rest of this chapter describes these issues in detail.
<a name="line67"><font color="#000000">0067:</font></a> 
<a name="line68"><font color="#000000">0068:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line69"><font color="#000000">0069:</font></a> <font color="#FF0000">* International Chars::</font>     Basic concepts of multibyte characters.
<a name="line70"><font color="#000000">0070:</font></a> <font color="#FF0000">* Language Environments::</font>   Setting things up for the language you use.
<a name="line71"><font color="#000000">0071:</font></a> <font color="#FF0000">* Input Methods::</font>           Entering text characters not on your keyboard.
<a name="line72"><font color="#000000">0072:</font></a> <font color="#FF0000">* Select Input Method::</font>     Specifying your choice of input methods.
<a name="line73"><font color="#000000">0073:</font></a> <font color="#FF0000">* Coding Systems::</font>          Character set conversion when you read and
<a name="line74"><font color="#000000">0074:</font></a>                               write files, and so on.
<a name="line75"><font color="#000000">0075:</font></a> <font color="#FF0000">* Recognize Coding::</font>        How Emacs figures out which conversion to use.
<a name="line76"><font color="#000000">0076:</font></a> <font color="#FF0000">* Specify Coding::</font>          Specifying a file's coding system explicitly.
<a name="line77"><font color="#000000">0077:</font></a> <font color="#FF0000">* Output Coding::</font>           Choosing coding systems for output.
<a name="line78"><font color="#000000">0078:</font></a> <font color="#FF0000">* Text Coding::</font>             Choosing conversion to use for file text.
<a name="line79"><font color="#000000">0079:</font></a> <font color="#FF0000">* Communication Coding::</font>    Coding systems for interprocess communication.
<a name="line80"><font color="#000000">0080:</font></a> <font color="#FF0000">* File Name Coding::</font>        Coding systems for file <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">names</font></i><font color="#FF0000">}</font>.
<a name="line81"><font color="#000000">0081:</font></a> <font color="#FF0000">* Terminal Coding::</font>         Specifying coding systems for converting
<a name="line82"><font color="#000000">0082:</font></a>                               terminal input and output.
<a name="line83"><font color="#000000">0083:</font></a> <font color="#FF0000">* Fontsets::</font>                Fontsets are collections of fonts
<a name="line84"><font color="#000000">0084:</font></a>                               that cover the whole spectrum of characters.
<a name="line85"><font color="#000000">0085:</font></a> <font color="#FF0000">* Defining Fontsets::</font>       Defining a new fontset.
<a name="line86"><font color="#000000">0086:</font></a> <font color="#FF0000">* Modifying Fontsets::</font>      Modifying an existing fontset.
<a name="line87"><font color="#000000">0087:</font></a> <font color="#FF0000">* Undisplayable Characters::</font> When characters don't display.
<a name="line88"><font color="#000000">0088:</font></a> <font color="#FF0000">* Unibyte Mode::</font>            You can pick one European character set
<a name="line89"><font color="#000000">0089:</font></a>                               to use without multibyte characters.
<a name="line90"><font color="#000000">0090:</font></a> <font color="#FF0000">* Charsets::</font>                How Emacs groups its internal character codes.
<a name="line91"><font color="#000000">0091:</font></a> <font color="#FF0000">* Bidirectional Editing::</font>   Support for right-to-left scripts.
<a name="line92"><font color="#000000">0092:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line93"><font color="#000000">0093:</font></a> 
<a name="line94"><font color="#000000">0094:</font></a> <b><font color="#0000FF">@node</font></b> International Chars
<a name="line95"><font color="#000000">0095:</font></a> <b><font color="#0000FF">@section</font></b> Introduction to International Character Sets
<a name="line96"><font color="#000000">0096:</font></a> 
<a name="line97"><font color="#000000">0097:</font></a>   The users of international character sets and scripts have
<a name="line98"><font color="#000000">0098:</font></a> established many more-or-less standard coding systems for storing
<a name="line99"><font color="#000000">0099:</font></a> files.  These coding systems are typically <b><font color="#0000FF">@dfn</font></b><font color="#009900">{multibyte}</font>, meaning
<a name="line100"><font color="#000000">0100:</font></a> that sequences of two or more bytes are used to represent individual
<a name="line101"><font color="#000000">0101:</font></a> non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters.
<a name="line102"><font color="#000000">0102:</font></a> 
<a name="line103"><font color="#000000">0103:</font></a> <i><font color="#9A1900">@cindex Unicode</font></i>
<a name="line104"><font color="#000000">0104:</font></a>   Internally, Emacs uses its own multibyte character encoding, which
<a name="line105"><font color="#000000">0105:</font></a> is a superset of the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Unicode}</font> standard.  This internal encoding
<a name="line106"><font color="#000000">0106:</font></a> allows characters from almost every known script to be intermixed in a
<a name="line107"><font color="#000000">0107:</font></a> single buffer or string.  Emacs translates between the multibyte
<a name="line108"><font color="#000000">0108:</font></a> character encoding and various other coding systems when reading and
<a name="line109"><font color="#000000">0109:</font></a> writing files, and when exchanging data with subprocesses.
<a name="line110"><font color="#000000">0110:</font></a> 
<a name="line111"><font color="#000000">0111:</font></a> <b><font color="#0000FF">@kindex</font></b> C-h h
<a name="line112"><font color="#000000">0112:</font></a> <b><font color="#0000FF">@findex</font></b> view-hello-file
<a name="line113"><font color="#000000">0113:</font></a> <i><font color="#9A1900">@cindex undisplayable characters</font></i>
<a name="line114"><font color="#000000">0114:</font></a> <i><font color="#9A1900">@cindex @samp{?} in display</font></i>
<a name="line115"><font color="#000000">0115:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h h}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{view-hello-file}</font>) displays the file
<a name="line116"><font color="#000000">0116:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{etc/HELLO}</font>, which illustrates various scripts by showing
<a name="line117"><font color="#000000">0117:</font></a> how to say ``hello'' in many languages.  If some characters can't be
<a name="line118"><font color="#000000">0118:</font></a> displayed on your terminal, they appear as <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font> or as hollow boxes
<a name="line119"><font color="#000000">0119:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Undisplayable Characters</font><font color="#FF0000">}</font>).
<a name="line120"><font color="#000000">0120:</font></a> 
<a name="line121"><font color="#000000">0121:</font></a>   Keyboards, even in the countries where these character sets are
<a name="line122"><font color="#000000">0122:</font></a> used, generally don't have keys for all the characters in them.  You
<a name="line123"><font color="#000000">0123:</font></a> can insert characters that your keyboard does not support, using
<a name="line124"><font color="#000000">0124:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8 @key{RET}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{insert-char}</font>).  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Inserting Text</font><font color="#FF0000">}</font>.
<a name="line125"><font color="#000000">0125:</font></a> Shorthands are available for some common characters; for example, you
<a name="line126"><font color="#000000">0126:</font></a> can insert a left single quotation mark <b><font color="#0000FF">@t</font></b><font color="#009900">{‘}</font> by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8</font>
<a name="line127"><font color="#000000">0127:</font></a> <font color="#009900">[}</font>, or in Electric Quote mode, usually by simply typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{`}</font>.
<a name="line128"><font color="#000000">0128:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Quotation Marks</font><font color="#FF0000">}</font>.  Emacs also supports
<a name="line129"><font color="#000000">0129:</font></a> various <b><font color="#0000FF">@dfn</font></b><font color="#009900">{input methods}</font>, typically one for each script or
<a name="line130"><font color="#000000">0130:</font></a> language, which make it easier to type characters in the script.
<a name="line131"><font color="#000000">0131:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Input Methods</font><font color="#FF0000">}</font>.
<a name="line132"><font color="#000000">0132:</font></a> 
<a name="line133"><font color="#000000">0133:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET
<a name="line134"><font color="#000000">0134:</font></a>   The prefix key <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET}}</font> is used for commands that pertain
<a name="line135"><font color="#000000">0135:</font></a> to multibyte characters, coding systems, and input methods.
<a name="line136"><font color="#000000">0136:</font></a> 
<a name="line137"><font color="#000000">0137:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x =<b><font color="#0000FF">@r</font></b><font color="#009900">{, and international characters}</font>
<a name="line138"><font color="#000000">0138:</font></a> <b><font color="#0000FF">@findex</font></b> what-cursor-position<b><font color="#0000FF">@r</font></b><font color="#009900">{, and international characters}</font>
<a name="line139"><font color="#000000">0139:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x =}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{what-cursor-position}</font>) shows
<a name="line140"><font color="#000000">0140:</font></a> information about the character at point.  In addition to the
<a name="line141"><font color="#000000">0141:</font></a> character position, which was described in <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Position Info</font><font color="#FF0000">}</font>, this
<a name="line142"><font color="#000000">0142:</font></a> command displays how the character is encoded.  For instance, it
<a name="line143"><font color="#000000">0143:</font></a> displays the following line in the echo area for the character
<a name="line144"><font color="#000000">0144:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{c}</font>:
<a name="line145"><font color="#000000">0145:</font></a> 
<a name="line146"><font color="#000000">0146:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line147"><font color="#000000">0147:</font></a> Char: c (99, #o143, #x63) point=28062 of 36168 (78%) column=53
<a name="line148"><font color="#000000">0148:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line149"><font color="#000000">0149:</font></a> 
<a name="line150"><font color="#000000">0150:</font></a>   The four values after <b><font color="#0000FF">@samp</font></b><font color="#009900">{Char:}</font> describe the character that
<a name="line151"><font color="#000000">0151:</font></a> follows point, first by showing it and then by giving its character
<a name="line152"><font color="#000000">0152:</font></a> code in decimal, octal and hex.  For a non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> multibyte
<a name="line153"><font color="#000000">0153:</font></a> character, these are followed by <b><font color="#0000FF">@samp</font></b><font color="#009900">{file}</font> and the character's
<a name="line154"><font color="#000000">0154:</font></a> representation, in hex, in the buffer's coding system, if that coding
<a name="line155"><font color="#000000">0155:</font></a> system encodes the character safely and with a single byte
<a name="line156"><font color="#000000">0156:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Coding Systems</font><font color="#FF0000">}</font>).  If the character's encoding is longer than
<a name="line157"><font color="#000000">0157:</font></a> one byte, Emacs shows <b><font color="#0000FF">@samp</font></b><font color="#009900">{file ...}</font>.
<a name="line158"><font color="#000000">0158:</font></a> 
<a name="line159"><font color="#000000">0159:</font></a> <i><font color="#9A1900">@cindex eight-bit character set</font></i>
<a name="line160"><font color="#000000">0160:</font></a> <i><font color="#9A1900">@cindex raw bytes</font></i>
<a name="line161"><font color="#000000">0161:</font></a>   On rare occasions, Emacs encounters <b><font color="#0000FF">@dfn</font></b><font color="#009900">{raw bytes}</font>: single bytes
<a name="line162"><font color="#000000">0162:</font></a> whose values are in the range 128 (0200 octal) through 255 (0377
<a name="line163"><font color="#000000">0163:</font></a> octal), which Emacs cannot interpret as part of a known encoding of
<a name="line164"><font color="#000000">0164:</font></a> some non-ASCII character.  Such raw bytes are treated as if they
<a name="line165"><font color="#000000">0165:</font></a> belonged to a special character set <b><font color="#0000FF">@code</font></b><font color="#009900">{eight-bit}</font>; Emacs displays
<a name="line166"><font color="#000000">0166:</font></a> them as escaped octal codes (this can be customized; <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Display</font>
<a name="line167"><font color="#000000">0167:</font></a> <font color="#FF0000">Custom</font><font color="#FF0000">}</font>).  In this case, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x =}</font> shows <b><font color="#0000FF">@samp</font></b><font color="#009900">{raw-byte}</font> instead of
<a name="line168"><font color="#000000">0168:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{file}</font>.  In addition, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x =}</font> shows the character codes of
<a name="line169"><font color="#000000">0169:</font></a> raw bytes as if they were in the range <b><font color="#0000FF">@code</font></b><font color="#009900">{#x3FFF80..#x3FFFFF}</font>,
<a name="line170"><font color="#000000">0170:</font></a> which is where Emacs maps them to distinguish them from Unicode
<a name="line171"><font color="#000000">0171:</font></a> characters in the range <b><font color="#0000FF">@code</font></b><font color="#009900">{#x0080..#x00FF}</font>.
<a name="line172"><font color="#000000">0172:</font></a> 
<a name="line173"><font color="#000000">0173:</font></a> <i><font color="#9A1900">@cindex character set of character at point</font></i>
<a name="line174"><font color="#000000">0174:</font></a> <i><font color="#9A1900">@cindex font of character at point</font></i>
<a name="line175"><font color="#000000">0175:</font></a> <i><font color="#9A1900">@cindex text properties at point</font></i>
<a name="line176"><font color="#000000">0176:</font></a> <i><font color="#9A1900">@cindex face at point</font></i>
<a name="line177"><font color="#000000">0177:</font></a>   With a prefix argument (<b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x =}</font>), this command displays a
<a name="line178"><font color="#000000">0178:</font></a> detailed description of the character in a window:
<a name="line179"><font color="#000000">0179:</font></a> 
<a name="line180"><font color="#000000">0180:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line181"><font color="#000000">0181:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line182"><font color="#000000">0182:</font></a> The character set name, and the codes that identify the character
<a name="line183"><font color="#000000">0183:</font></a> within that character set; <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters are identified
<a name="line184"><font color="#000000">0184:</font></a> as belonging to the <b><font color="#0000FF">@code</font></b><font color="#009900">{ascii}</font> character set.
<a name="line185"><font color="#000000">0185:</font></a> 
<a name="line186"><font color="#000000">0186:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line187"><font color="#000000">0187:</font></a> The character's script, syntax and categories.
<a name="line188"><font color="#000000">0188:</font></a> 
<a name="line189"><font color="#000000">0189:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line190"><font color="#000000">0190:</font></a> What keys to type to input the character in the current input method
<a name="line191"><font color="#000000">0191:</font></a> (if it supports the character).
<a name="line192"><font color="#000000">0192:</font></a> 
<a name="line193"><font color="#000000">0193:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line194"><font color="#000000">0194:</font></a> The character's encodings, both internally in the buffer, and externally
<a name="line195"><font color="#000000">0195:</font></a> if you were to save the file.
<a name="line196"><font color="#000000">0196:</font></a> 
<a name="line197"><font color="#000000">0197:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line198"><font color="#000000">0198:</font></a> If you are running Emacs on a graphical display, the font name and
<a name="line199"><font color="#000000">0199:</font></a> glyph code for the character.  If you are running Emacs on a text
<a name="line200"><font color="#000000">0200:</font></a> terminal, the code(s) sent to the terminal.
<a name="line201"><font color="#000000">0201:</font></a> 
<a name="line202"><font color="#000000">0202:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line203"><font color="#000000">0203:</font></a> The character's text properties (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text Properties,,,</font>
<a name="line204"><font color="#000000">0204:</font></a> <font color="#FF0000">elisp, the Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>), including any non-default
<a name="line205"><font color="#000000">0205:</font></a> faces used to display the character, and any overlays containing it
<a name="line206"><font color="#000000">0206:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Overlays,,, elisp, the same manual</font><font color="#FF0000">}</font>).
<a name="line207"><font color="#000000">0207:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line208"><font color="#000000">0208:</font></a> 
<a name="line209"><font color="#000000">0209:</font></a>   Here's an example, with some lines folded to fit into this manual:
<a name="line210"><font color="#000000">0210:</font></a> 
<a name="line211"><font color="#000000">0211:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line212"><font color="#000000">0212:</font></a>              position: 1 of 1 (0%), column: 0
<a name="line213"><font color="#000000">0213:</font></a>             character: ê (displayed as ê) (codepoint 234, #o352, #xea)
<a name="line214"><font color="#000000">0214:</font></a>     preferred charset: unicode (Unicode (ISO10646))
<a name="line215"><font color="#000000">0215:</font></a> code point in charset: 0xEA
<a name="line216"><font color="#000000">0216:</font></a>                script: latin
<a name="line217"><font color="#000000">0217:</font></a>                syntax: w        which means: word
<a name="line218"><font color="#000000">0218:</font></a>              category: .:Base, L:Left-to-right (strong), c:Chinese,
<a name="line219"><font color="#000000">0219:</font></a>                        j:Japanese, l:Latin, v:Viet
<a name="line220"><font color="#000000">0220:</font></a>              to input: type "C-x 8 RET ea" or
<a name="line221"><font color="#000000">0221:</font></a>                        "C-x 8 RET LATIN SMALL LETTER E WITH CIRCUMFLEX"
<a name="line222"><font color="#000000">0222:</font></a>           buffer code: #xC3 #xAA
<a name="line223"><font color="#000000">0223:</font></a>             file code: #xC3 #xAA (encoded by coding system utf-8-unix)
<a name="line224"><font color="#000000">0224:</font></a>               display: by this font (glyph code)
<a name="line225"><font color="#000000">0225:</font></a>     xft:-PfEd-DejaVu Sans Mono-normal-normal-
<a name="line226"><font color="#000000">0226:</font></a>         normal-*-15-*-*-*-m-0-iso10646-1 (#xAC)
<a name="line227"><font color="#000000">0227:</font></a> 
<a name="line228"><font color="#000000">0228:</font></a> Character code properties: customize what to show
<a name="line229"><font color="#000000">0229:</font></a>   name: LATIN SMALL LETTER E WITH CIRCUMFLEX
<a name="line230"><font color="#000000">0230:</font></a>   old-name: LATIN SMALL LETTER E CIRCUMFLEX
<a name="line231"><font color="#000000">0231:</font></a>   general-category: Ll (Letter, Lowercase)
<a name="line232"><font color="#000000">0232:</font></a>   decomposition: (101 770) ('e' '^')
<a name="line233"><font color="#000000">0233:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line234"><font color="#000000">0234:</font></a> 
<a name="line235"><font color="#000000">0235:</font></a> <b><font color="#0000FF">@node</font></b> Language Environments
<a name="line236"><font color="#000000">0236:</font></a> <b><font color="#0000FF">@section</font></b> Language Environments
<a name="line237"><font color="#000000">0237:</font></a> <i><font color="#9A1900">@cindex language environments</font></i>
<a name="line238"><font color="#000000">0238:</font></a> 
<a name="line239"><font color="#000000">0239:</font></a>   All supported character sets are supported in Emacs buffers whenever
<a name="line240"><font color="#000000">0240:</font></a> multibyte characters are enabled; there is no need to select a
<a name="line241"><font color="#000000">0241:</font></a> particular language in order to display its characters.
<a name="line242"><font color="#000000">0242:</font></a> However, it is important to select a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{language</font>
<a name="line243"><font color="#000000">0243:</font></a> <font color="#009900">environment}</font> in order to set various defaults.  Roughly speaking, the
<a name="line244"><font color="#000000">0244:</font></a> language environment represents a choice of preferred script rather
<a name="line245"><font color="#000000">0245:</font></a> than a choice of language.
<a name="line246"><font color="#000000">0246:</font></a> 
<a name="line247"><font color="#000000">0247:</font></a>   The language environment controls which coding systems to recognize
<a name="line248"><font color="#000000">0248:</font></a> when reading text (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Recognize Coding</font><font color="#FF0000">}</font>).  This applies to files,
<a name="line249"><font color="#000000">0249:</font></a> incoming mail, and any other text you read into Emacs.  It may also
<a name="line250"><font color="#000000">0250:</font></a> specify the default coding system to use when you create a file.  Each
<a name="line251"><font color="#000000">0251:</font></a> language environment also specifies a default input method.
<a name="line252"><font color="#000000">0252:</font></a> 
<a name="line253"><font color="#000000">0253:</font></a> <b><font color="#0000FF">@findex</font></b> set-language-environment
<a name="line254"><font color="#000000">0254:</font></a> <b><font color="#0000FF">@vindex</font></b> current-language-environment
<a name="line255"><font color="#000000">0255:</font></a>   To select a language environment, customize
<a name="line256"><font color="#000000">0256:</font></a> <i><font color="#9A1900">@code{current-language-environment} or use the command @kbd{M-x</font></i>
<a name="line257"><font color="#000000">0257:</font></a> set-language-environment}.  It makes no difference which buffer is
<a name="line258"><font color="#000000">0258:</font></a> current when you use this command, because the effects apply globally
<a name="line259"><font color="#000000">0259:</font></a> to the Emacs session.  See the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{language-info-alist}</font> for
<a name="line260"><font color="#000000">0260:</font></a> the list of supported language environments, and use the command
<a name="line261"><font color="#000000">0261:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h L @var{lang-env} @key{RET}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-language-environment}</font>)
<a name="line262"><font color="#000000">0262:</font></a> for more information about the language environment <b><font color="#0000FF">@var</font></b><font color="#009900">{lang-env}</font>.
<a name="line263"><font color="#000000">0263:</font></a> Supported language environments include:
<a name="line264"><font color="#000000">0264:</font></a> 
<a name="line265"><font color="#000000">0265:</font></a> <i><font color="#9A1900">@c @cindex entries below are split between portions of the list to</font></i>
<a name="line266"><font color="#000000">0266:</font></a> <i><font color="#9A1900">@c make them more accurate, i.e., land on the line that mentions the</font></i>
<a name="line267"><font color="#000000">0267:</font></a> <i><font color="#9A1900">@c language.  However, makeinfo 4.x doesn't fill inside @quotation</font></i>
<a name="line268"><font color="#000000">0268:</font></a> <i><font color="#9A1900">@c lines that follow a @cindex entry and whose text has no whitespace.</font></i>
<a name="line269"><font color="#000000">0269:</font></a> <i><font color="#9A1900">@c To work around, we group the language environments together, so</font></i>
<a name="line270"><font color="#000000">0270:</font></a> <i><font color="#9A1900">@c that the blank that separates them triggers refill.</font></i>
<a name="line271"><font color="#000000">0271:</font></a> <b><font color="#0000FF">@quotation</font></b>
<a name="line272"><font color="#000000">0272:</font></a> <i><font color="#9A1900">@cindex ASCII (language environment)</font></i>
<a name="line273"><font color="#000000">0273:</font></a> <i><font color="#9A1900">@cindex Arabic</font></i>
<a name="line274"><font color="#000000">0274:</font></a> ASCII, Arabic,
<a name="line275"><font color="#000000">0275:</font></a> <i><font color="#9A1900">@cindex Belarusian</font></i>
<a name="line276"><font color="#000000">0276:</font></a> <i><font color="#9A1900">@cindex Bengali</font></i>
<a name="line277"><font color="#000000">0277:</font></a> Belarusian, Bengali,
<a name="line278"><font color="#000000">0278:</font></a> <i><font color="#9A1900">@cindex Brazilian Portuguese</font></i>
<a name="line279"><font color="#000000">0279:</font></a> <i><font color="#9A1900">@cindex Bulgarian</font></i>
<a name="line280"><font color="#000000">0280:</font></a> Brazilian Portuguese, Bulgarian,
<a name="line281"><font color="#000000">0281:</font></a> <i><font color="#9A1900">@cindex Burmese</font></i>
<a name="line282"><font color="#000000">0282:</font></a> <i><font color="#9A1900">@cindex Cham</font></i>
<a name="line283"><font color="#000000">0283:</font></a> Burmese, Cham,
<a name="line284"><font color="#000000">0284:</font></a> <i><font color="#9A1900">@cindex Chinese</font></i>
<a name="line285"><font color="#000000">0285:</font></a> Chinese-BIG5, Chinese-CNS, Chinese-EUC-TW, Chinese-GB,
<a name="line286"><font color="#000000">0286:</font></a> Chinese-GB18030, Chinese-GBK,
<a name="line287"><font color="#000000">0287:</font></a> <i><font color="#9A1900">@cindex Croatian</font></i>
<a name="line288"><font color="#000000">0288:</font></a> <i><font color="#9A1900">@cindex Cyrillic</font></i>
<a name="line289"><font color="#000000">0289:</font></a> Croatian, Cyrillic-ALT, Cyrillic-ISO, Cyrillic-KOI8,
<a name="line290"><font color="#000000">0290:</font></a> <i><font color="#9A1900">@cindex Czech</font></i>
<a name="line291"><font color="#000000">0291:</font></a> <i><font color="#9A1900">@cindex Devanagari</font></i>
<a name="line292"><font color="#000000">0292:</font></a> Czech, Devanagari,
<a name="line293"><font color="#000000">0293:</font></a> <i><font color="#9A1900">@cindex Dutch</font></i>
<a name="line294"><font color="#000000">0294:</font></a> <i><font color="#9A1900">@cindex English</font></i>
<a name="line295"><font color="#000000">0295:</font></a> Dutch, English,
<a name="line296"><font color="#000000">0296:</font></a> <i><font color="#9A1900">@cindex Esperanto</font></i>
<a name="line297"><font color="#000000">0297:</font></a> <i><font color="#9A1900">@cindex Ethiopic</font></i>
<a name="line298"><font color="#000000">0298:</font></a> Esperanto, Ethiopic,
<a name="line299"><font color="#000000">0299:</font></a> <i><font color="#9A1900">@cindex French</font></i>
<a name="line300"><font color="#000000">0300:</font></a> <i><font color="#9A1900">@cindex Georgian</font></i>
<a name="line301"><font color="#000000">0301:</font></a> French, Georgian,
<a name="line302"><font color="#000000">0302:</font></a> <i><font color="#9A1900">@cindex German</font></i>
<a name="line303"><font color="#000000">0303:</font></a> <i><font color="#9A1900">@cindex Greek</font></i>
<a name="line304"><font color="#000000">0304:</font></a> <i><font color="#9A1900">@cindex Gujarati</font></i>
<a name="line305"><font color="#000000">0305:</font></a> German, Greek, Gujarati,
<a name="line306"><font color="#000000">0306:</font></a> <i><font color="#9A1900">@cindex Hebrew</font></i>
<a name="line307"><font color="#000000">0307:</font></a> <i><font color="#9A1900">@cindex IPA</font></i>
<a name="line308"><font color="#000000">0308:</font></a> Hebrew, IPA,
<a name="line309"><font color="#000000">0309:</font></a> <i><font color="#9A1900">@cindex Italian</font></i>
<a name="line310"><font color="#000000">0310:</font></a> Italian,
<a name="line311"><font color="#000000">0311:</font></a> <i><font color="#9A1900">@cindex Japanese</font></i>
<a name="line312"><font color="#000000">0312:</font></a> <i><font color="#9A1900">@cindex Kannada</font></i>
<a name="line313"><font color="#000000">0313:</font></a> Japanese, Kannada,
<a name="line314"><font color="#000000">0314:</font></a> <i><font color="#9A1900">@cindex Khmer</font></i>
<a name="line315"><font color="#000000">0315:</font></a> <i><font color="#9A1900">@cindex Korean</font></i>
<a name="line316"><font color="#000000">0316:</font></a> <i><font color="#9A1900">@cindex Lao</font></i>
<a name="line317"><font color="#000000">0317:</font></a> Khmer, Korean, Lao,
<a name="line318"><font color="#000000">0318:</font></a> <i><font color="#9A1900">@cindex Latin</font></i>
<a name="line319"><font color="#000000">0319:</font></a> Latin-1, Latin-2, Latin-3, Latin-4, Latin-5, Latin-6, Latin-7,
<a name="line320"><font color="#000000">0320:</font></a> Latin-8, Latin-9,
<a name="line321"><font color="#000000">0321:</font></a> <i><font color="#9A1900">@cindex Latvian</font></i>
<a name="line322"><font color="#000000">0322:</font></a> <i><font color="#9A1900">@cindex Lithuanian</font></i>
<a name="line323"><font color="#000000">0323:</font></a> Latvian, Lithuanian,
<a name="line324"><font color="#000000">0324:</font></a> <i><font color="#9A1900">@cindex Malayalam</font></i>
<a name="line325"><font color="#000000">0325:</font></a> <i><font color="#9A1900">@cindex Oriya</font></i>
<a name="line326"><font color="#000000">0326:</font></a> Malayalam, Oriya,
<a name="line327"><font color="#000000">0327:</font></a> <i><font color="#9A1900">@cindex Persian</font></i>
<a name="line328"><font color="#000000">0328:</font></a> <i><font color="#9A1900">@cindex Polish</font></i>
<a name="line329"><font color="#000000">0329:</font></a> Persian, Polish,
<a name="line330"><font color="#000000">0330:</font></a> <i><font color="#9A1900">@cindex Punjabi</font></i>
<a name="line331"><font color="#000000">0331:</font></a> <i><font color="#9A1900">@cindex Romanian</font></i>
<a name="line332"><font color="#000000">0332:</font></a> Punjabi, Romanian,
<a name="line333"><font color="#000000">0333:</font></a> <i><font color="#9A1900">@cindex Russian</font></i>
<a name="line334"><font color="#000000">0334:</font></a> <i><font color="#9A1900">@cindex Sinhala</font></i>
<a name="line335"><font color="#000000">0335:</font></a> Russian, Sinhala,
<a name="line336"><font color="#000000">0336:</font></a> <i><font color="#9A1900">@cindex Slovak</font></i>
<a name="line337"><font color="#000000">0337:</font></a> <i><font color="#9A1900">@cindex Slovenian</font></i>
<a name="line338"><font color="#000000">0338:</font></a> <i><font color="#9A1900">@cindex Spanish</font></i>
<a name="line339"><font color="#000000">0339:</font></a> Slovak, Slovenian, Spanish,
<a name="line340"><font color="#000000">0340:</font></a> <i><font color="#9A1900">@cindex Swedish</font></i>
<a name="line341"><font color="#000000">0341:</font></a> <i><font color="#9A1900">@cindex TaiViet</font></i>
<a name="line342"><font color="#000000">0342:</font></a> Swedish, TaiViet,
<a name="line343"><font color="#000000">0343:</font></a> <i><font color="#9A1900">@cindex Tajik</font></i>
<a name="line344"><font color="#000000">0344:</font></a> <i><font color="#9A1900">@cindex Tamil</font></i>
<a name="line345"><font color="#000000">0345:</font></a> Tajik, Tamil,
<a name="line346"><font color="#000000">0346:</font></a> <i><font color="#9A1900">@cindex Telugu</font></i>
<a name="line347"><font color="#000000">0347:</font></a> <i><font color="#9A1900">@cindex Thai</font></i>
<a name="line348"><font color="#000000">0348:</font></a> Telugu, Thai,
<a name="line349"><font color="#000000">0349:</font></a> <i><font color="#9A1900">@cindex Tibetan</font></i>
<a name="line350"><font color="#000000">0350:</font></a> <i><font color="#9A1900">@cindex Turkish</font></i>
<a name="line351"><font color="#000000">0351:</font></a> Tibetan, Turkish,
<a name="line352"><font color="#000000">0352:</font></a> <i><font color="#9A1900">@cindex UTF-8</font></i>
<a name="line353"><font color="#000000">0353:</font></a> <i><font color="#9A1900">@cindex Ukrainian</font></i>
<a name="line354"><font color="#000000">0354:</font></a> UTF-8, Ukrainian,
<a name="line355"><font color="#000000">0355:</font></a> <i><font color="#9A1900">@cindex Vietnamese</font></i>
<a name="line356"><font color="#000000">0356:</font></a> <i><font color="#9A1900">@cindex Welsh</font></i>
<a name="line357"><font color="#000000">0357:</font></a> Vietnamese, Welsh,
<a name="line358"><font color="#000000">0358:</font></a> <i><font color="#9A1900">@cindex Windows-1255</font></i>
<a name="line359"><font color="#000000">0359:</font></a> and Windows-1255.
<a name="line360"><font color="#000000">0360:</font></a> <b><font color="#0000FF">@end quotation</font></b>
<a name="line361"><font color="#000000">0361:</font></a> 
<a name="line362"><font color="#000000">0362:</font></a>   To display the script(s) used by your language environment on a
<a name="line363"><font color="#000000">0363:</font></a> graphical display, you need to have suitable fonts.
<a name="line364"><font color="#000000">0364:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Fontsets</font><font color="#FF0000">}</font>, for more details about setting up your fonts.
<a name="line365"><font color="#000000">0365:</font></a> 
<a name="line366"><font color="#000000">0366:</font></a> <b><font color="#0000FF">@findex</font></b> set-locale-environment
<a name="line367"><font color="#000000">0367:</font></a> <b><font color="#0000FF">@vindex</font></b> locale-language-names
<a name="line368"><font color="#000000">0368:</font></a> <b><font color="#0000FF">@vindex</font></b> locale-charset-language-names
<a name="line369"><font color="#000000">0369:</font></a> <i><font color="#9A1900">@cindex locales</font></i>
<a name="line370"><font color="#000000">0370:</font></a>   Some operating systems let you specify the character-set locale you
<a name="line371"><font color="#000000">0371:</font></a> are using by setting the locale environment variables <b><font color="#0000FF">@env</font></b><font color="#009900">{LC_ALL}</font>,
<a name="line372"><font color="#000000">0372:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{LC_CTYPE}</font>, or <b><font color="#0000FF">@env</font></b><font color="#009900">{LANG}</font>.  (If more than one of these is
<a name="line373"><font color="#000000">0373:</font></a> set, the first one that is nonempty specifies your locale for this
<a name="line374"><font color="#000000">0374:</font></a> purpose.)  During startup, Emacs looks up your character-set locale's
<a name="line375"><font color="#000000">0375:</font></a> name in the system locale alias table, matches its canonical name
<a name="line376"><font color="#000000">0376:</font></a> against entries in the value of the variables
<a name="line377"><font color="#000000">0377:</font></a> <i><font color="#9A1900">@code{locale-charset-language-names} and @code{locale-language-names}</font></i>
<a name="line378"><font color="#000000">0378:</font></a> (the former overrides the latter),
<a name="line379"><font color="#000000">0379:</font></a> and selects the corresponding language environment if a match is found.
<a name="line380"><font color="#000000">0380:</font></a> It also adjusts the display
<a name="line381"><font color="#000000">0381:</font></a> table and terminal coding system, the locale coding system, the
<a name="line382"><font color="#000000">0382:</font></a> preferred coding system as needed for the locale, and---last but not
<a name="line383"><font color="#000000">0383:</font></a> least---the way Emacs decodes non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters sent by your keyboard.
<a name="line384"><font color="#000000">0384:</font></a> 
<a name="line385"><font color="#000000">0385:</font></a> <i><font color="#9A1900">@c This seems unlikely, doesn't it?</font></i>
<a name="line386"><font color="#000000">0386:</font></a>   If you modify the <b><font color="#0000FF">@env</font></b><font color="#009900">{LC_ALL}</font>, <b><font color="#0000FF">@env</font></b><font color="#009900">{LC_CTYPE}</font>, or <b><font color="#0000FF">@env</font></b><font color="#009900">{LANG}</font>
<a name="line387"><font color="#000000">0387:</font></a> environment variables while running Emacs (by using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x setenv}</font>),
<a name="line388"><font color="#000000">0388:</font></a> you may want to invoke the <b><font color="#0000FF">@code</font></b><font color="#009900">{set-locale-environment}</font>
<a name="line389"><font color="#000000">0389:</font></a> command afterwards to readjust the language environment from the new
<a name="line390"><font color="#000000">0390:</font></a> locale.
<a name="line391"><font color="#000000">0391:</font></a> 
<a name="line392"><font color="#000000">0392:</font></a> <b><font color="#0000FF">@vindex</font></b> locale-preferred-coding-systems
<a name="line393"><font color="#000000">0393:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{set-locale-environment}</font> function normally uses the preferred
<a name="line394"><font color="#000000">0394:</font></a> coding system established by the language environment to decode system
<a name="line395"><font color="#000000">0395:</font></a> messages.  But if your locale matches an entry in the variable
<a name="line396"><font color="#000000">0396:</font></a> <i><font color="#9A1900">@code{locale-preferred-coding-systems}, Emacs uses the corresponding</font></i>
<a name="line397"><font color="#000000">0397:</font></a> coding system instead.  For example, if the locale <b><font color="#0000FF">@samp</font></b><font color="#009900">{ja_JP.PCK}</font>
<a name="line398"><font color="#000000">0398:</font></a> matches <b><font color="#0000FF">@code</font></b><font color="#009900">{japanese-shift-jis}</font> in
<a name="line399"><font color="#000000">0399:</font></a> <i><font color="#9A1900">@code{locale-preferred-coding-systems}, Emacs uses that encoding even</font></i>
<a name="line400"><font color="#000000">0400:</font></a> though it might normally use <b><font color="#0000FF">@code</font></b><font color="#009900">{utf-8}</font>.
<a name="line401"><font color="#000000">0401:</font></a> 
<a name="line402"><font color="#000000">0402:</font></a>   You can override the language environment chosen at startup with
<a name="line403"><font color="#000000">0403:</font></a> explicit use of the command <b><font color="#0000FF">@code</font></b><font color="#009900">{set-language-environment}</font>, or with
<a name="line404"><font color="#000000">0404:</font></a> customization of <b><font color="#0000FF">@code</font></b><font color="#009900">{current-language-environment}</font> in your init
<a name="line405"><font color="#000000">0405:</font></a> file.
<a name="line406"><font color="#000000">0406:</font></a> 
<a name="line407"><font color="#000000">0407:</font></a> <b><font color="#0000FF">@kindex</font></b> C-h L
<a name="line408"><font color="#000000">0408:</font></a> <b><font color="#0000FF">@findex</font></b> describe-language-environment
<a name="line409"><font color="#000000">0409:</font></a>   To display information about the effects of a certain language
<a name="line410"><font color="#000000">0410:</font></a> environment <b><font color="#0000FF">@var</font></b><font color="#009900">{lang-env}</font>, use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h L @var{lang-env}</font>
<a name="line411"><font color="#000000">0411:</font></a> <font color="#009900">@key{RET}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-language-environment}</font>).  This tells you
<a name="line412"><font color="#000000">0412:</font></a> which languages this language environment is useful for, and lists the
<a name="line413"><font color="#000000">0413:</font></a> character sets, coding systems, and input methods that go with it.  It
<a name="line414"><font color="#000000">0414:</font></a> also shows some sample text to illustrate scripts used in this
<a name="line415"><font color="#000000">0415:</font></a> language environment.  If you give an empty input for <b><font color="#0000FF">@var</font></b><font color="#009900">{lang-env}</font>,
<a name="line416"><font color="#000000">0416:</font></a> this command describes the chosen language environment.
<a name="line417"><font color="#000000">0417:</font></a> 
<a name="line418"><font color="#000000">0418:</font></a> <b><font color="#0000FF">@vindex</font></b> set-language-environment-hook
<a name="line419"><font color="#000000">0419:</font></a>   You can customize any language environment with the normal hook
<a name="line420"><font color="#000000">0420:</font></a> <i><font color="#9A1900">@code{set-language-environment-hook}.  The command</font></i>
<a name="line421"><font color="#000000">0421:</font></a> <i><font color="#9A1900">@code{set-language-environment} runs that hook after setting up the new</font></i>
<a name="line422"><font color="#000000">0422:</font></a> language environment.  The hook functions can test for a specific
<a name="line423"><font color="#000000">0423:</font></a> language environment by checking the variable
<a name="line424"><font color="#000000">0424:</font></a> <i><font color="#9A1900">@code{current-language-environment}.  This hook is where you should</font></i>
<a name="line425"><font color="#000000">0425:</font></a> put non-default settings for specific language environments, such as
<a name="line426"><font color="#000000">0426:</font></a> coding systems for keyboard input and terminal output, the default
<a name="line427"><font color="#000000">0427:</font></a> input method, etc.
<a name="line428"><font color="#000000">0428:</font></a> 
<a name="line429"><font color="#000000">0429:</font></a> <b><font color="#0000FF">@vindex</font></b> exit-language-environment-hook
<a name="line430"><font color="#000000">0430:</font></a>   Before it starts to set up the new language environment,
<a name="line431"><font color="#000000">0431:</font></a> <i><font color="#9A1900">@code{set-language-environment} first runs the hook</font></i>
<a name="line432"><font color="#000000">0432:</font></a> <i><font color="#9A1900">@code{exit-language-environment-hook}.  This hook is useful for undoing</font></i>
<a name="line433"><font color="#000000">0433:</font></a> customizations that were made with <b><font color="#0000FF">@code</font></b><font color="#009900">{set-language-environment-hook}</font>.
<a name="line434"><font color="#000000">0434:</font></a> For instance, if you set up a special key binding in a specific language
<a name="line435"><font color="#000000">0435:</font></a> environment using <b><font color="#0000FF">@code</font></b><font color="#009900">{set-language-environment-hook}</font>, you should set
<a name="line436"><font color="#000000">0436:</font></a> up <b><font color="#0000FF">@code</font></b><font color="#009900">{exit-language-environment-hook}</font> to restore the normal binding
<a name="line437"><font color="#000000">0437:</font></a> for that key.
<a name="line438"><font color="#000000">0438:</font></a> 
<a name="line439"><font color="#000000">0439:</font></a> <b><font color="#0000FF">@node</font></b> Input Methods
<a name="line440"><font color="#000000">0440:</font></a> <b><font color="#0000FF">@section</font></b> Input Methods
<a name="line441"><font color="#000000">0441:</font></a> 
<a name="line442"><font color="#000000">0442:</font></a> <i><font color="#9A1900">@cindex input methods</font></i>
<a name="line443"><font color="#000000">0443:</font></a>   An <b><font color="#0000FF">@dfn</font></b><font color="#009900">{input method}</font> is a kind of character conversion designed
<a name="line444"><font color="#000000">0444:</font></a> specifically for interactive input.  In Emacs, typically each language
<a name="line445"><font color="#000000">0445:</font></a> has its own input method; sometimes several languages that use the same
<a name="line446"><font color="#000000">0446:</font></a> characters can share one input method.  A few languages support several
<a name="line447"><font color="#000000">0447:</font></a> input methods.
<a name="line448"><font color="#000000">0448:</font></a> 
<a name="line449"><font color="#000000">0449:</font></a>   The simplest kind of input method works by mapping <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> letters
<a name="line450"><font color="#000000">0450:</font></a> into another alphabet; this allows you to use one other alphabet
<a name="line451"><font color="#000000">0451:</font></a> instead of <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>.  The Greek and Russian input methods
<a name="line452"><font color="#000000">0452:</font></a> work this way.
<a name="line453"><font color="#000000">0453:</font></a> 
<a name="line454"><font color="#000000">0454:</font></a>   A more powerful technique is composition: converting sequences of
<a name="line455"><font color="#000000">0455:</font></a> characters into one letter.  Many European input methods use composition
<a name="line456"><font color="#000000">0456:</font></a> to produce a single non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> letter from a sequence that consists of a
<a name="line457"><font color="#000000">0457:</font></a> letter followed by accent characters (or vice versa).  For example, some
<a name="line458"><font color="#000000">0458:</font></a> methods convert the sequence <b><font color="#0000FF">@kbd</font></b><font color="#009900">{o ^}</font> into a single accented letter.
<a name="line459"><font color="#000000">0459:</font></a> These input methods have no special commands of their own; all they do
<a name="line460"><font color="#000000">0460:</font></a> is compose sequences of printing characters.
<a name="line461"><font color="#000000">0461:</font></a> 
<a name="line462"><font color="#000000">0462:</font></a>   The input methods for syllabic scripts typically use mapping followed
<a name="line463"><font color="#000000">0463:</font></a> by composition.  The input methods for Thai and Korean work this way.
<a name="line464"><font color="#000000">0464:</font></a> First, letters are mapped into symbols for particular sounds or tone
<a name="line465"><font color="#000000">0465:</font></a> marks; then, sequences of these that make up a whole syllable are
<a name="line466"><font color="#000000">0466:</font></a> mapped into one syllable sign.
<a name="line467"><font color="#000000">0467:</font></a> 
<a name="line468"><font color="#000000">0468:</font></a>   Chinese and Japanese require more complex methods.  In Chinese input
<a name="line469"><font color="#000000">0469:</font></a> methods, first you enter the phonetic spelling of a Chinese word (in
<a name="line470"><font color="#000000">0470:</font></a> input method <b><font color="#0000FF">@code</font></b><font color="#009900">{chinese-py}</font>, among others), or a sequence of
<a name="line471"><font color="#000000">0471:</font></a> portions of the character (input methods <b><font color="#0000FF">@code</font></b><font color="#009900">{chinese-4corner}</font> and
<a name="line472"><font color="#000000">0472:</font></a> <i><font color="#9A1900">@code{chinese-sw}, and others).  One input sequence typically</font></i>
<a name="line473"><font color="#000000">0473:</font></a> corresponds to many possible Chinese characters.  You select the one
<a name="line474"><font color="#000000">0474:</font></a> you mean using keys such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-b}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font>,
<a name="line475"><font color="#000000">0475:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font> (or the arrow keys), and digits, which have special meanings
<a name="line476"><font color="#000000">0476:</font></a> in this situation.
<a name="line477"><font color="#000000">0477:</font></a> 
<a name="line478"><font color="#000000">0478:</font></a>   The possible characters are conceptually arranged in several rows,
<a name="line479"><font color="#000000">0479:</font></a> with each row holding up to 10 alternatives.  Normally, Emacs displays
<a name="line480"><font color="#000000">0480:</font></a> just one row at a time, in the echo area; <b><font color="#0000FF">@code</font></b><font color="#009900">{(@var{i}/@var{j})}</font>
<a name="line481"><font color="#000000">0481:</font></a> appears at the beginning, to indicate that this is the <b><font color="#0000FF">@var</font></b><font color="#009900">{i}</font>th row
<a name="line482"><font color="#000000">0482:</font></a> out of a total of <b><font color="#0000FF">@var</font></b><font color="#009900">{j}</font> rows.  Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font> to
<a name="line483"><font color="#000000">0483:</font></a> display the next row or the previous row.
<a name="line484"><font color="#000000">0484:</font></a> 
<a name="line485"><font color="#000000">0485:</font></a>     Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-b}</font> to move forward and backward among
<a name="line486"><font color="#000000">0486:</font></a> the alternatives in the current row.  As you do this, Emacs highlights
<a name="line487"><font color="#000000">0487:</font></a> the current alternative with a special color; type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@key{SPC}}</font>
<a name="line488"><font color="#000000">0488:</font></a> to select the current alternative and use it as input.  The
<a name="line489"><font color="#000000">0489:</font></a> alternatives in the row are also numbered; the number appears before
<a name="line490"><font color="#000000">0490:</font></a> the alternative.  Typing a number selects the associated alternative
<a name="line491"><font color="#000000">0491:</font></a> of the current row and uses it as input.
<a name="line492"><font color="#000000">0492:</font></a> 
<a name="line493"><font color="#000000">0493:</font></a>   <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> in these Chinese input methods displays a buffer showing
<a name="line494"><font color="#000000">0494:</font></a> all the possible characters at once; then clicking <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font> on
<a name="line495"><font color="#000000">0495:</font></a> one of them selects that alternative.  The keys <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-b}</font>,
<a name="line496"><font color="#000000">0496:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font>, and digits continue to work as usual, but they
<a name="line497"><font color="#000000">0497:</font></a> do the highlighting in the buffer showing the possible characters,
<a name="line498"><font color="#000000">0498:</font></a> rather than in the echo area.
<a name="line499"><font color="#000000">0499:</font></a> 
<a name="line500"><font color="#000000">0500:</font></a>   In Japanese input methods, first you input a whole word using
<a name="line501"><font color="#000000">0501:</font></a> phonetic spelling; then, after the word is in the buffer, Emacs
<a name="line502"><font color="#000000">0502:</font></a> converts it into one or more characters using a large dictionary.  One
<a name="line503"><font color="#000000">0503:</font></a> phonetic spelling corresponds to a number of different Japanese words;
<a name="line504"><font color="#000000">0504:</font></a> to select one of them, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font> to cycle through
<a name="line505"><font color="#000000">0505:</font></a> the alternatives.
<a name="line506"><font color="#000000">0506:</font></a> 
<a name="line507"><font color="#000000">0507:</font></a>   Sometimes it is useful to cut off input method processing so that the
<a name="line508"><font color="#000000">0508:</font></a> characters you have just entered will not combine with subsequent
<a name="line509"><font color="#000000">0509:</font></a> characters.  For example, in input method <b><font color="#0000FF">@code</font></b><font color="#009900">{latin-1-postfix}</font>, the
<a name="line510"><font color="#000000">0510:</font></a> sequence <b><font color="#0000FF">@kbd</font></b><font color="#009900">{o ^}</font> combines to form an <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font> with an accent.  What if
<a name="line511"><font color="#000000">0511:</font></a> you want to enter them as separate characters?
<a name="line512"><font color="#000000">0512:</font></a> 
<a name="line513"><font color="#000000">0513:</font></a>   One way is to type the accent twice; this is a special feature for
<a name="line514"><font color="#000000">0514:</font></a> entering the separate letter and accent.  For example, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{o ^ ^}</font> gives
<a name="line515"><font color="#000000">0515:</font></a> you the two characters <b><font color="#0000FF">@samp</font></b><font color="#009900">{o^}</font>.  Another way is to type another letter
<a name="line516"><font color="#000000">0516:</font></a> after the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{o}</font>---something that won't combine with that---and
<a name="line517"><font color="#000000">0517:</font></a> immediately delete it.  For example, you could type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{o o @key{DEL}</font>
<a name="line518"><font color="#000000">0518:</font></a> <font color="#009900">^}</font> to get separate <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{^}</font>.  Another method, more
<a name="line519"><font color="#000000">0519:</font></a> general but not quite as easy to type, is to use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\ C-\}</font> between
<a name="line520"><font color="#000000">0520:</font></a> two characters to stop them from combining.  This is the command
<a name="line521"><font color="#000000">0521:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{toggle-input-method}</font>) used twice.
<a name="line522"><font color="#000000">0522:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line523"><font color="#000000">0523:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Select Input Method</font><font color="#FF0000">}</font>.
<a name="line524"><font color="#000000">0524:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line525"><font color="#000000">0525:</font></a> 
<a name="line526"><font color="#000000">0526:</font></a> <i><font color="#9A1900">@cindex incremental search, input method interference</font></i>
<a name="line527"><font color="#000000">0527:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\ C-\}</font> is especially useful inside an incremental search,
<a name="line528"><font color="#000000">0528:</font></a> because it stops waiting for more characters to combine, and starts
<a name="line529"><font color="#000000">0529:</font></a> searching for what you have already entered.
<a name="line530"><font color="#000000">0530:</font></a> 
<a name="line531"><font color="#000000">0531:</font></a>   To find out how to input the character after point using the current
<a name="line532"><font color="#000000">0532:</font></a> input method, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x =}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Position Info</font><font color="#FF0000">}</font>.
<a name="line533"><font color="#000000">0533:</font></a> 
<a name="line534"><font color="#000000">0534:</font></a> <i><font color="#9A1900">@c TODO: document complex-only/default/t of</font></i>
<a name="line535"><font color="#000000">0535:</font></a> <i><font color="#9A1900">@c @code{input-method-verbose-flag}</font></i>
<a name="line536"><font color="#000000">0536:</font></a> <b><font color="#0000FF">@vindex</font></b> input-method-verbose-flag
<a name="line537"><font color="#000000">0537:</font></a> <b><font color="#0000FF">@vindex</font></b> input-method-highlight-flag
<a name="line538"><font color="#000000">0538:</font></a>   The variables <b><font color="#0000FF">@code</font></b><font color="#009900">{input-method-highlight-flag}</font> and
<a name="line539"><font color="#000000">0539:</font></a> <i><font color="#9A1900">@code{input-method-verbose-flag} control how input methods explain</font></i>
<a name="line540"><font color="#000000">0540:</font></a> what is happening.  If <b><font color="#0000FF">@code</font></b><font color="#009900">{input-method-highlight-flag}</font> is
<a name="line541"><font color="#000000">0541:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, the partial sequence is highlighted in the buffer (for
<a name="line542"><font color="#000000">0542:</font></a> most input methods---some disable this feature).  If
<a name="line543"><font color="#000000">0543:</font></a> <i><font color="#9A1900">@code{input-method-verbose-flag} is non-@code{nil}, the list of</font></i>
<a name="line544"><font color="#000000">0544:</font></a> possible characters to type next is displayed in the echo area (but
<a name="line545"><font color="#000000">0545:</font></a> not when you are in the minibuffer).
<a name="line546"><font color="#000000">0546:</font></a> 
<a name="line547"><font color="#000000">0547:</font></a> <b><font color="#0000FF">@vindex</font></b> quail-activate-hook
<a name="line548"><font color="#000000">0548:</font></a> <b><font color="#0000FF">@findex</font></b> quail-translation-keymap
<a name="line549"><font color="#000000">0549:</font></a>   You can modify how an input method works by making your changes in a
<a name="line550"><font color="#000000">0550:</font></a> function that you add to the hook variable <b><font color="#0000FF">@code</font></b><font color="#009900">{quail-activate-hook}</font>.
<a name="line551"><font color="#000000">0551:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>.  For example, you can redefine some of the input
<a name="line552"><font color="#000000">0552:</font></a> method's keys by defining key bindings in the keymap returned by the
<a name="line553"><font color="#000000">0553:</font></a> function <b><font color="#0000FF">@code</font></b><font color="#009900">{quail-translation-keymap}</font>, using <b><font color="#0000FF">@code</font></b><font color="#009900">{define-key}</font>.
<a name="line554"><font color="#000000">0554:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Rebinding</font><font color="#FF0000">}</font>.
<a name="line555"><font color="#000000">0555:</font></a> 
<a name="line556"><font color="#000000">0556:</font></a>   Another facility for typing characters not on your keyboard is by
<a name="line557"><font color="#000000">0557:</font></a> using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8 @key{RET}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{insert-char}</font>) to insert a single
<a name="line558"><font color="#000000">0558:</font></a> character based on its Unicode name or code-point; see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Inserting</font>
<a name="line559"><font color="#000000">0559:</font></a> <font color="#FF0000">Text</font><font color="#FF0000">}</font>.
<a name="line560"><font color="#000000">0560:</font></a> 
<a name="line561"><font color="#000000">0561:</font></a> <b><font color="#0000FF">@node</font></b> Select Input Method
<a name="line562"><font color="#000000">0562:</font></a> <b><font color="#0000FF">@section</font></b> Selecting an Input Method
<a name="line563"><font color="#000000">0563:</font></a> 
<a name="line564"><font color="#000000">0564:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line565"><font color="#000000">0565:</font></a> <b><font color="#0000FF">@item</font></b> C-\
<a name="line566"><font color="#000000">0566:</font></a> Enable or disable use of the selected input method (<b><font color="#0000FF">@code</font></b><font color="#009900">{toggle-input-method}</font>).
<a name="line567"><font color="#000000">0567:</font></a> 
<a name="line568"><font color="#000000">0568:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> C-\ <b><font color="#0000FF">@var</font></b><font color="#009900">{method}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line569"><font color="#000000">0569:</font></a> Select a new input method for the current buffer (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-input-method}</font>).
<a name="line570"><font color="#000000">0570:</font></a> 
<a name="line571"><font color="#000000">0571:</font></a> <b><font color="#0000FF">@item</font></b> C-h I <b><font color="#0000FF">@var</font></b><font color="#009900">{method}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line572"><font color="#000000">0572:</font></a> <b><font color="#0000FF">@itemx</font></b> C-h C-\ <b><font color="#0000FF">@var</font></b><font color="#009900">{method}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line573"><font color="#000000">0573:</font></a> <b><font color="#0000FF">@findex</font></b> describe-input-method
<a name="line574"><font color="#000000">0574:</font></a> <b><font color="#0000FF">@kindex</font></b> C-h I
<a name="line575"><font color="#000000">0575:</font></a> <b><font color="#0000FF">@kindex</font></b> C-h C-\
<a name="line576"><font color="#000000">0576:</font></a> Describe the input method <b><font color="#0000FF">@var</font></b><font color="#009900">{method}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-input-method}</font>).
<a name="line577"><font color="#000000">0577:</font></a> By default, it describes the current input method (if any).  This
<a name="line578"><font color="#000000">0578:</font></a> description should give you the full details of how to use any
<a name="line579"><font color="#000000">0579:</font></a> particular input method.
<a name="line580"><font color="#000000">0580:</font></a> 
<a name="line581"><font color="#000000">0581:</font></a> <b><font color="#0000FF">@item</font></b> M-x list-input-methods
<a name="line582"><font color="#000000">0582:</font></a> Display a list of all the supported input methods.
<a name="line583"><font color="#000000">0583:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line584"><font color="#000000">0584:</font></a> 
<a name="line585"><font color="#000000">0585:</font></a> <b><font color="#0000FF">@findex</font></b> set-input-method
<a name="line586"><font color="#000000">0586:</font></a> <b><font color="#0000FF">@vindex</font></b> current-input-method
<a name="line587"><font color="#000000">0587:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET C-\
<a name="line588"><font color="#000000">0588:</font></a>   To choose an input method for the current buffer, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x</font>
<a name="line589"><font color="#000000">0589:</font></a> <font color="#009900">@key{RET} C-\}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-input-method}</font>).  This command reads the
<a name="line590"><font color="#000000">0590:</font></a> input method name from the minibuffer; the name normally starts with the
<a name="line591"><font color="#000000">0591:</font></a> language environment that it is meant to be used with.  The variable
<a name="line592"><font color="#000000">0592:</font></a> <i><font color="#9A1900">@code{current-input-method} records which input method is selected.</font></i>
<a name="line593"><font color="#000000">0593:</font></a> 
<a name="line594"><font color="#000000">0594:</font></a> <b><font color="#0000FF">@findex</font></b> toggle-input-method
<a name="line595"><font color="#000000">0595:</font></a> <b><font color="#0000FF">@kindex</font></b> C-\
<a name="line596"><font color="#000000">0596:</font></a>   Input methods use various sequences of <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters to
<a name="line597"><font color="#000000">0597:</font></a> stand for non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters.  Sometimes it is useful to
<a name="line598"><font color="#000000">0598:</font></a> turn off the input method temporarily.  To do this, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\}</font>
<a name="line599"><font color="#000000">0599:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{toggle-input-method}</font>).  To reenable the input method, type
<a name="line600"><font color="#000000">0600:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\}</font> again.
<a name="line601"><font color="#000000">0601:</font></a> 
<a name="line602"><font color="#000000">0602:</font></a>   If you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\}</font> and you have not yet selected an input method,
<a name="line603"><font color="#000000">0603:</font></a> it prompts you to specify one.  This has the same effect as using
<a name="line604"><font color="#000000">0604:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} C-\}</font> to specify an input method.
<a name="line605"><font color="#000000">0605:</font></a> 
<a name="line606"><font color="#000000">0606:</font></a>   When invoked with a numeric argument, as in <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-\}</font>,
<a name="line607"><font color="#000000">0607:</font></a> <i><font color="#9A1900">@code{toggle-input-method} always prompts you for an input method,</font></i>
<a name="line608"><font color="#000000">0608:</font></a> suggesting the most recently selected one as the default.
<a name="line609"><font color="#000000">0609:</font></a> 
<a name="line610"><font color="#000000">0610:</font></a> <b><font color="#0000FF">@vindex</font></b> default-input-method
<a name="line611"><font color="#000000">0611:</font></a>   Selecting a language environment specifies a default input method for
<a name="line612"><font color="#000000">0612:</font></a> use in various buffers.  When you have a default input method, you can
<a name="line613"><font color="#000000">0613:</font></a> select it in the current buffer by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\}</font>.  The variable
<a name="line614"><font color="#000000">0614:</font></a> <i><font color="#9A1900">@code{default-input-method} specifies the default input method</font></i>
<a name="line615"><font color="#000000">0615:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> means there is none).
<a name="line616"><font color="#000000">0616:</font></a> 
<a name="line617"><font color="#000000">0617:</font></a>   In some language environments, which support several different input
<a name="line618"><font color="#000000">0618:</font></a> methods, you might want to use an input method different from the
<a name="line619"><font color="#000000">0619:</font></a> default chosen by <b><font color="#0000FF">@code</font></b><font color="#009900">{set-language-environment}</font>.  You can instruct
<a name="line620"><font color="#000000">0620:</font></a> Emacs to select a different default input method for a certain
<a name="line621"><font color="#000000">0621:</font></a> language environment, if you wish, by using
<a name="line622"><font color="#000000">0622:</font></a> <i><font color="#9A1900">@code{set-language-environment-hook} (@pxref{Language Environments,</font></i>
<a name="line623"><font color="#000000">0623:</font></a> set-language-environment-hook}).  For example:
<a name="line624"><font color="#000000">0624:</font></a> 
<a name="line625"><font color="#000000">0625:</font></a> <b><font color="#0000FF">@lisp</font></b>
<a name="line626"><font color="#000000">0626:</font></a> (defun my-chinese-setup ()
<a name="line627"><font color="#000000">0627:</font></a>   "Set up my private Chinese environment."
<a name="line628"><font color="#000000">0628:</font></a>   (if (equal current-language-environment "Chinese-GB")
<a name="line629"><font color="#000000">0629:</font></a>       (setq default-input-method "chinese-tonepy")))
<a name="line630"><font color="#000000">0630:</font></a> (add-hook 'set-language-environment-hook 'my-chinese-setup)
<a name="line631"><font color="#000000">0631:</font></a> <b><font color="#0000FF">@end lisp</font></b>
<a name="line632"><font color="#000000">0632:</font></a> 
<a name="line633"><font color="#000000">0633:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line634"><font color="#000000">0634:</font></a> This sets the default input method to be <b><font color="#0000FF">@code</font></b><font color="#009900">{chinese-tonepy}</font>
<a name="line635"><font color="#000000">0635:</font></a> whenever you choose a Chinese-GB language environment.
<a name="line636"><font color="#000000">0636:</font></a> 
<a name="line637"><font color="#000000">0637:</font></a> You can instruct Emacs to activate a certain input method
<a name="line638"><font color="#000000">0638:</font></a> automatically.  For example:
<a name="line639"><font color="#000000">0639:</font></a> 
<a name="line640"><font color="#000000">0640:</font></a> <b><font color="#0000FF">@lisp</font></b>
<a name="line641"><font color="#000000">0641:</font></a> (add-hook 'text-mode-hook
<a name="line642"><font color="#000000">0642:</font></a>   (lambda () (set-input-method "german-prefix")))
<a name="line643"><font color="#000000">0643:</font></a> <b><font color="#0000FF">@end lisp</font></b>
<a name="line644"><font color="#000000">0644:</font></a> 
<a name="line645"><font color="#000000">0645:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line646"><font color="#000000">0646:</font></a> This automatically activates the input method <b><font color="#0000FF">@code{german-pref</font></b><font color="#FF0000">ix</font><font color="#FF0000">}</font> in
<a name="line647"><font color="#000000">0647:</font></a> Text mode.
<a name="line648"><font color="#000000">0648:</font></a> 
<a name="line649"><font color="#000000">0649:</font></a> <b><font color="#0000FF">@findex</font></b> quail-set-keyboard-layout
<a name="line650"><font color="#000000">0650:</font></a>   Some input methods for alphabetic scripts work by (in effect)
<a name="line651"><font color="#000000">0651:</font></a> remapping the keyboard to emulate various keyboard layouts commonly used
<a name="line652"><font color="#000000">0652:</font></a> for those scripts.  How to do this remapping properly depends on your
<a name="line653"><font color="#000000">0653:</font></a> actual keyboard layout.  To specify which layout your keyboard has, use
<a name="line654"><font color="#000000">0654:</font></a> the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x quail-set-keyboard-layout}</font>.
<a name="line655"><font color="#000000">0655:</font></a> 
<a name="line656"><font color="#000000">0656:</font></a> <b><font color="#0000FF">@findex</font></b> quail-show-key
<a name="line657"><font color="#000000">0657:</font></a>   You can use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x quail-show-key}</font> to show what key (or
<a name="line658"><font color="#000000">0658:</font></a> key sequence) to type in order to input the character following point,
<a name="line659"><font color="#000000">0659:</font></a> using the selected keyboard layout.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x =}</font> also
<a name="line660"><font color="#000000">0660:</font></a> shows that information, in addition to other information about the
<a name="line661"><font color="#000000">0661:</font></a> character.
<a name="line662"><font color="#000000">0662:</font></a> 
<a name="line663"><font color="#000000">0663:</font></a> <b><font color="#0000FF">@findex</font></b> list-input-methods
<a name="line664"><font color="#000000">0664:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-input-methods}</font> displays a list of all the supported
<a name="line665"><font color="#000000">0665:</font></a> input methods.  The list gives information about each input method,
<a name="line666"><font color="#000000">0666:</font></a> including the string that stands for it in the mode line.
<a name="line667"><font color="#000000">0667:</font></a> 
<a name="line668"><font color="#000000">0668:</font></a> <b><font color="#0000FF">@node</font></b> Coding Systems
<a name="line669"><font color="#000000">0669:</font></a> <b><font color="#0000FF">@section</font></b> Coding Systems
<a name="line670"><font color="#000000">0670:</font></a> <i><font color="#9A1900">@cindex coding systems</font></i>
<a name="line671"><font color="#000000">0671:</font></a> 
<a name="line672"><font color="#000000">0672:</font></a>   Users of various languages have established many more-or-less standard
<a name="line673"><font color="#000000">0673:</font></a> coding systems for representing them.  Emacs does not use these coding
<a name="line674"><font color="#000000">0674:</font></a> systems internally; instead, it converts from various coding systems to
<a name="line675"><font color="#000000">0675:</font></a> its own system when reading data, and converts the internal coding
<a name="line676"><font color="#000000">0676:</font></a> system to other coding systems when writing data.  Conversion is
<a name="line677"><font color="#000000">0677:</font></a> possible in reading or writing files, in sending or receiving from the
<a name="line678"><font color="#000000">0678:</font></a> terminal, and in exchanging data with subprocesses.
<a name="line679"><font color="#000000">0679:</font></a> 
<a name="line680"><font color="#000000">0680:</font></a>   Emacs assigns a name to each coding system.  Most coding systems are
<a name="line681"><font color="#000000">0681:</font></a> used for one language, and the name of the coding system starts with
<a name="line682"><font color="#000000">0682:</font></a> the language name.  Some coding systems are used for several
<a name="line683"><font color="#000000">0683:</font></a> languages; their names usually start with <b><font color="#0000FF">@samp</font></b><font color="#009900">{iso}</font>.  There are also
<a name="line684"><font color="#000000">0684:</font></a> special coding systems, such as <b><font color="#0000FF">@code</font></b><font color="#009900">{no-conversion}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{raw-text}</font>,
<a name="line685"><font color="#000000">0685:</font></a> and <b><font color="#0000FF">@code</font></b><font color="#009900">{emacs-internal}</font>.
<a name="line686"><font color="#000000">0686:</font></a> 
<a name="line687"><font color="#000000">0687:</font></a> <i><font color="#9A1900">@cindex international files from DOS/Windows systems</font></i>
<a name="line688"><font color="#000000">0688:</font></a>   A special class of coding systems, collectively known as
<a name="line689"><font color="#000000">0689:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{codepages}</font>, is designed to support text encoded by MS-Windows and
<a name="line690"><font color="#000000">0690:</font></a> MS-DOS software.  The names of these coding systems are
<a name="line691"><font color="#000000">0691:</font></a> <i><font color="#9A1900">@code{cp@var{nnnn}}, where @var{nnnn} is a 3- or 4-digit number of the</font></i>
<a name="line692"><font color="#000000">0692:</font></a> codepage.  You can use these encodings just like any other coding
<a name="line693"><font color="#000000">0693:</font></a> system; for example, to visit a file encoded in codepage 850, type
<a name="line694"><font color="#000000">0694:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c cp850 @key{RET} C-x C-f @var{filename}</font>
<a name="line695"><font color="#000000">0695:</font></a> <font color="#009900">@key{RET}}</font>.
<a name="line696"><font color="#000000">0696:</font></a> 
<a name="line697"><font color="#000000">0697:</font></a>   In addition to converting various representations of non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>
<a name="line698"><font color="#000000">0698:</font></a> characters, a coding system can perform end-of-line conversion.  Emacs
<a name="line699"><font color="#000000">0699:</font></a> handles three different conventions for how to separate lines in a file:
<a name="line700"><font color="#000000">0700:</font></a> newline (Unix), carriage return followed by linefeed (DOS), and just
<a name="line701"><font color="#000000">0701:</font></a> carriage return (Mac).
<a name="line702"><font color="#000000">0702:</font></a> 
<a name="line703"><font color="#000000">0703:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line704"><font color="#000000">0704:</font></a> <b><font color="#0000FF">@item</font></b> C-h C <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line705"><font color="#000000">0705:</font></a> Describe coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-coding-system}</font>).
<a name="line706"><font color="#000000">0706:</font></a> 
<a name="line707"><font color="#000000">0707:</font></a> <b><font color="#0000FF">@item</font></b> C-h C <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line708"><font color="#000000">0708:</font></a> Describe the coding systems currently in use (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-coding-system}</font>).
<a name="line709"><font color="#000000">0709:</font></a> 
<a name="line710"><font color="#000000">0710:</font></a> <b><font color="#0000FF">@item</font></b> M-x list-coding-systems
<a name="line711"><font color="#000000">0711:</font></a> Display a list of all the supported coding systems.
<a name="line712"><font color="#000000">0712:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line713"><font color="#000000">0713:</font></a> 
<a name="line714"><font color="#000000">0714:</font></a> <b><font color="#0000FF">@kindex</font></b> C-h C
<a name="line715"><font color="#000000">0715:</font></a> <b><font color="#0000FF">@findex</font></b> describe-coding-system
<a name="line716"><font color="#000000">0716:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h C}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-coding-system}</font>) displays
<a name="line717"><font color="#000000">0717:</font></a> information about particular coding systems, including the end-of-line
<a name="line718"><font color="#000000">0718:</font></a> conversion specified by those coding systems.  You can specify a coding
<a name="line719"><font color="#000000">0719:</font></a> system name as the argument; alternatively, with an empty argument, it
<a name="line720"><font color="#000000">0720:</font></a> describes the coding systems currently selected for various purposes,
<a name="line721"><font color="#000000">0721:</font></a> both in the current buffer and as the defaults, and the priority list
<a name="line722"><font color="#000000">0722:</font></a> for recognizing coding systems (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Recognize Coding</font><font color="#FF0000">}</font>).
<a name="line723"><font color="#000000">0723:</font></a> 
<a name="line724"><font color="#000000">0724:</font></a> <b><font color="#0000FF">@findex</font></b> list-coding-systems
<a name="line725"><font color="#000000">0725:</font></a>   To display a list of all the supported coding systems, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line726"><font color="#000000">0726:</font></a> <font color="#009900">list-coding-systems}</font>.  The list gives information about each coding
<a name="line727"><font color="#000000">0727:</font></a> system, including the letter that stands for it in the mode line
<a name="line728"><font color="#000000">0728:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mode Line</font><font color="#FF0000">}</font>).
<a name="line729"><font color="#000000">0729:</font></a> 
<a name="line730"><font color="#000000">0730:</font></a> <i><font color="#9A1900">@cindex end-of-line conversion</font></i>
<a name="line731"><font color="#000000">0731:</font></a> <i><font color="#9A1900">@cindex line endings</font></i>
<a name="line732"><font color="#000000">0732:</font></a> <i><font color="#9A1900">@cindex MS-DOS end-of-line conversion</font></i>
<a name="line733"><font color="#000000">0733:</font></a> <i><font color="#9A1900">@cindex Macintosh end-of-line conversion</font></i>
<a name="line734"><font color="#000000">0734:</font></a>   Each of the coding systems that appear in this list---except for
<a name="line735"><font color="#000000">0735:</font></a> <i><font color="#9A1900">@code{no-conversion}, which means no conversion of any kind---specifies</font></i>
<a name="line736"><font color="#000000">0736:</font></a> how and whether to convert printing characters, but leaves the choice of
<a name="line737"><font color="#000000">0737:</font></a> end-of-line conversion to be decided based on the contents of each file.
<a name="line738"><font color="#000000">0738:</font></a> For example, if the file appears to use the sequence carriage return
<a name="line739"><font color="#000000">0739:</font></a> and linefeed to separate lines, DOS end-of-line conversion will be used.
<a name="line740"><font color="#000000">0740:</font></a> 
<a name="line741"><font color="#000000">0741:</font></a>   Each of the listed coding systems has three variants, which specify
<a name="line742"><font color="#000000">0742:</font></a> exactly what to do for end-of-line conversion:
<a name="line743"><font color="#000000">0743:</font></a> 
<a name="line744"><font color="#000000">0744:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line745"><font color="#000000">0745:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>-unix
<a name="line746"><font color="#000000">0746:</font></a> Don't do any end-of-line conversion; assume the file uses
<a name="line747"><font color="#000000">0747:</font></a> newline to separate lines.  (This is the convention normally used
<a name="line748"><font color="#000000">0748:</font></a> on Unix and GNU systems, and macOS.)
<a name="line749"><font color="#000000">0749:</font></a> 
<a name="line750"><font color="#000000">0750:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>-dos
<a name="line751"><font color="#000000">0751:</font></a> Assume the file uses carriage return followed by linefeed to separate
<a name="line752"><font color="#000000">0752:</font></a> lines, and do the appropriate conversion.  (This is the convention
<a name="line753"><font color="#000000">0753:</font></a> normally used on Microsoft systems.<b><font color="#0000FF">@footnote</font></b><font color="#009900">{It is also specified for</font>
<a name="line754"><font color="#000000">0754:</font></a> <font color="#009900">MIME @samp{text/*} bodies and in other network transport contexts.  It</font>
<a name="line755"><font color="#000000">0755:</font></a> <font color="#009900">is different from the SGML reference syntax record-start/record-end</font>
<a name="line756"><font color="#000000">0756:</font></a> <font color="#009900">format, which Emacs doesn't support directly.}</font>)
<a name="line757"><font color="#000000">0757:</font></a> 
<a name="line758"><font color="#000000">0758:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>-mac
<a name="line759"><font color="#000000">0759:</font></a> Assume the file uses carriage return to separate lines, and do the
<a name="line760"><font color="#000000">0760:</font></a> appropriate conversion.  (This was the convention used in Classic Mac
<a name="line761"><font color="#000000">0761:</font></a> OS.)
<a name="line762"><font color="#000000">0762:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line763"><font color="#000000">0763:</font></a> 
<a name="line764"><font color="#000000">0764:</font></a>   These variant coding systems are omitted from the
<a name="line765"><font color="#000000">0765:</font></a> <i><font color="#9A1900">@code{list-coding-systems} display for brevity, since they are entirely</font></i>
<a name="line766"><font color="#000000">0766:</font></a> predictable.  For example, the coding system <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-latin-1}</font> has
<a name="line767"><font color="#000000">0767:</font></a> variants <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-latin-1-unix}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-latin-1-dos}</font> and
<a name="line768"><font color="#000000">0768:</font></a> <i><font color="#9A1900">@code{iso-latin-1-mac}.</font></i>
<a name="line769"><font color="#000000">0769:</font></a> 
<a name="line770"><font color="#000000">0770:</font></a> <i><font color="#9A1900">@cindex @code{undecided}, coding system</font></i>
<a name="line771"><font color="#000000">0771:</font></a>   The coding systems <b><font color="#0000FF">@code</font></b><font color="#009900">{unix}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{dos}</font>, and <b><font color="#0000FF">@code</font></b><font color="#009900">{mac}</font> are
<a name="line772"><font color="#000000">0772:</font></a> aliases for <b><font color="#0000FF">@code</font></b><font color="#009900">{undecided-unix}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{undecided-dos}</font>, and
<a name="line773"><font color="#000000">0773:</font></a> <i><font color="#9A1900">@code{undecided-mac}, respectively.  These coding systems specify only</font></i>
<a name="line774"><font color="#000000">0774:</font></a> the end-of-line conversion, and leave the character code conversion to
<a name="line775"><font color="#000000">0775:</font></a> be deduced from the text itself.
<a name="line776"><font color="#000000">0776:</font></a> 
<a name="line777"><font color="#000000">0777:</font></a> <i><font color="#9A1900">@cindex @code{raw-text}, coding system</font></i>
<a name="line778"><font color="#000000">0778:</font></a>   The coding system <b><font color="#0000FF">@code</font></b><font color="#009900">{raw-text}</font> is good for a file which is mainly
<a name="line779"><font color="#000000">0779:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> text, but may contain byte values above 127 that are
<a name="line780"><font color="#000000">0780:</font></a> not meant to encode non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters.  With
<a name="line781"><font color="#000000">0781:</font></a> <i><font color="#9A1900">@code{raw-text}, Emacs copies those byte values unchanged, and sets</font></i>
<a name="line782"><font color="#000000">0782:</font></a> <i><font color="#9A1900">@code{enable-multibyte-characters} to @code{nil} in the current buffer</font></i>
<a name="line783"><font color="#000000">0783:</font></a> so that they will be interpreted properly.  <b><font color="#0000FF">@code</font></b><font color="#009900">{raw-text}</font> handles
<a name="line784"><font color="#000000">0784:</font></a> end-of-line conversion in the usual way, based on the data
<a name="line785"><font color="#000000">0785:</font></a> encountered, and has the usual three variants to specify the kind of
<a name="line786"><font color="#000000">0786:</font></a> end-of-line conversion to use.
<a name="line787"><font color="#000000">0787:</font></a> 
<a name="line788"><font color="#000000">0788:</font></a> <i><font color="#9A1900">@cindex @code{no-conversion}, coding system</font></i>
<a name="line789"><font color="#000000">0789:</font></a>   In contrast, the coding system <b><font color="#0000FF">@code</font></b><font color="#009900">{no-conversion}</font> specifies no
<a name="line790"><font color="#000000">0790:</font></a> character code conversion at all---none for non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> byte values and
<a name="line791"><font color="#000000">0791:</font></a> none for end of line.  This is useful for reading or writing binary
<a name="line792"><font color="#000000">0792:</font></a> files, tar files, and other files that must be examined verbatim.  It,
<a name="line793"><font color="#000000">0793:</font></a> too, sets <b><font color="#0000FF">@code</font></b><font color="#009900">{enable-multibyte-characters}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line794"><font color="#000000">0794:</font></a> 
<a name="line795"><font color="#000000">0795:</font></a>   The easiest way to edit a file with no conversion of any kind is with
<a name="line796"><font color="#000000">0796:</font></a> the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x find-file-literally}</font> command.  This uses
<a name="line797"><font color="#000000">0797:</font></a> <i><font color="#9A1900">@code{no-conversion}, and also suppresses other Emacs features that</font></i>
<a name="line798"><font color="#000000">0798:</font></a> might convert the file contents before you see them.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Visiting</font><font color="#FF0000">}</font>.
<a name="line799"><font color="#000000">0799:</font></a> 
<a name="line800"><font color="#000000">0800:</font></a> <i><font color="#9A1900">@cindex @code{emacs-internal}, coding system</font></i>
<a name="line801"><font color="#000000">0801:</font></a>   The coding system <b><font color="#0000FF">@code</font></b><font color="#009900">{emacs-internal}</font> (or <b><font color="#0000FF">@code</font></b><font color="#009900">{utf-8-emacs}</font>,
<a name="line802"><font color="#000000">0802:</font></a> which is equivalent) means that the file contains non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>
<a name="line803"><font color="#000000">0803:</font></a> characters stored with the internal Emacs encoding.  This coding
<a name="line804"><font color="#000000">0804:</font></a> system handles end-of-line conversion based on the data encountered,
<a name="line805"><font color="#000000">0805:</font></a> and has the usual three variants to specify the kind of end-of-line
<a name="line806"><font color="#000000">0806:</font></a> conversion.
<a name="line807"><font color="#000000">0807:</font></a> 
<a name="line808"><font color="#000000">0808:</font></a> <b><font color="#0000FF">@node</font></b> Recognize Coding
<a name="line809"><font color="#000000">0809:</font></a> <b><font color="#0000FF">@section</font></b> Recognizing Coding Systems
<a name="line810"><font color="#000000">0810:</font></a> 
<a name="line811"><font color="#000000">0811:</font></a>   Whenever Emacs reads a given piece of text, it tries to recognize
<a name="line812"><font color="#000000">0812:</font></a> which coding system to use.  This applies to files being read, output
<a name="line813"><font color="#000000">0813:</font></a> from subprocesses, text from X selections, etc.  Emacs can select the
<a name="line814"><font color="#000000">0814:</font></a> right coding system automatically most of the time---once you have
<a name="line815"><font color="#000000">0815:</font></a> specified your preferences.
<a name="line816"><font color="#000000">0816:</font></a> 
<a name="line817"><font color="#000000">0817:</font></a>   Some coding systems can be recognized or distinguished by which byte
<a name="line818"><font color="#000000">0818:</font></a> sequences appear in the data.  However, there are coding systems that
<a name="line819"><font color="#000000">0819:</font></a> cannot be distinguished, not even potentially.  For example, there is no
<a name="line820"><font color="#000000">0820:</font></a> way to distinguish between Latin-1 and Latin-2; they use the same byte
<a name="line821"><font color="#000000">0821:</font></a> values with different meanings.
<a name="line822"><font color="#000000">0822:</font></a> 
<a name="line823"><font color="#000000">0823:</font></a>   Emacs handles this situation by means of a priority list of coding
<a name="line824"><font color="#000000">0824:</font></a> systems.  Whenever Emacs reads a file, if you do not specify the coding
<a name="line825"><font color="#000000">0825:</font></a> system to use, Emacs checks the data against each coding system,
<a name="line826"><font color="#000000">0826:</font></a> starting with the first in priority and working down the list, until it
<a name="line827"><font color="#000000">0827:</font></a> finds a coding system that fits the data.  Then it converts the file
<a name="line828"><font color="#000000">0828:</font></a> contents assuming that they are represented in this coding system.
<a name="line829"><font color="#000000">0829:</font></a> 
<a name="line830"><font color="#000000">0830:</font></a>   The priority list of coding systems depends on the selected language
<a name="line831"><font color="#000000">0831:</font></a> environment (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments</font><font color="#FF0000">}</font>).  For example, if you use
<a name="line832"><font color="#000000">0832:</font></a> French, you probably want Emacs to prefer Latin-1 to Latin-2; if you use
<a name="line833"><font color="#000000">0833:</font></a> Czech, you probably want Latin-2 to be preferred.  This is one of the
<a name="line834"><font color="#000000">0834:</font></a> reasons to specify a language environment.
<a name="line835"><font color="#000000">0835:</font></a> 
<a name="line836"><font color="#000000">0836:</font></a> <b><font color="#0000FF">@findex</font></b> prefer-coding-system
<a name="line837"><font color="#000000">0837:</font></a>   However, you can alter the coding system priority list in detail
<a name="line838"><font color="#000000">0838:</font></a> with the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x prefer-coding-system}</font>.  This command reads
<a name="line839"><font color="#000000">0839:</font></a> the name of a coding system from the minibuffer, and adds it to the
<a name="line840"><font color="#000000">0840:</font></a> front of the priority list, so that it is preferred to all others.  If
<a name="line841"><font color="#000000">0841:</font></a> you use this command several times, each use adds one element to the
<a name="line842"><font color="#000000">0842:</font></a> front of the priority list.
<a name="line843"><font color="#000000">0843:</font></a> 
<a name="line844"><font color="#000000">0844:</font></a>   If you use a coding system that specifies the end-of-line conversion
<a name="line845"><font color="#000000">0845:</font></a> type, such as <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-8859-1-dos}</font>, what this means is that Emacs
<a name="line846"><font color="#000000">0846:</font></a> should attempt to recognize <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-8859-1}</font> with priority, and should
<a name="line847"><font color="#000000">0847:</font></a> use DOS end-of-line conversion when it does recognize <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-8859-1}</font>.
<a name="line848"><font color="#000000">0848:</font></a> 
<a name="line849"><font color="#000000">0849:</font></a> <b><font color="#0000FF">@vindex</font></b> file-coding-system-alist
<a name="line850"><font color="#000000">0850:</font></a>   Sometimes a file name indicates which coding system to use for the
<a name="line851"><font color="#000000">0851:</font></a> file.  The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{file-coding-system-alist}</font> specifies this
<a name="line852"><font color="#000000">0852:</font></a> correspondence.  There is a special function
<a name="line853"><font color="#000000">0853:</font></a> <i><font color="#9A1900">@code{modify-coding-system-alist} for adding elements to this list.  For</font></i>
<a name="line854"><font color="#000000">0854:</font></a> example, to read and write all <b><font color="#0000FF">@samp</font></b><font color="#009900">{.txt}</font> files using the coding system
<a name="line855"><font color="#000000">0855:</font></a> <i><font color="#9A1900">@code{chinese-iso-8bit}, you can execute this Lisp expression:</font></i>
<a name="line856"><font color="#000000">0856:</font></a> 
<a name="line857"><font color="#000000">0857:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line858"><font color="#000000">0858:</font></a> (modify-coding-system-alist 'file "\\.txt\\'" 'chinese-iso-8bit)
<a name="line859"><font color="#000000">0859:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line860"><font color="#000000">0860:</font></a> 
<a name="line861"><font color="#000000">0861:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line862"><font color="#000000">0862:</font></a> The first argument should be <b><font color="#0000FF">@code</font></b><font color="#009900">{file}</font>, the second argument should be
<a name="line863"><font color="#000000">0863:</font></a> a regular expression that determines which files this applies to, and
<a name="line864"><font color="#000000">0864:</font></a> the third argument says which coding system to use for these files.
<a name="line865"><font color="#000000">0865:</font></a> 
<a name="line866"><font color="#000000">0866:</font></a> <b><font color="#0000FF">@vindex</font></b> inhibit-eol-conversion
<a name="line867"><font color="#000000">0867:</font></a> <i><font color="#9A1900">@cindex DOS-style end-of-line display</font></i>
<a name="line868"><font color="#000000">0868:</font></a>   Emacs recognizes which kind of end-of-line conversion to use based on
<a name="line869"><font color="#000000">0869:</font></a> the contents of the file: if it sees only carriage returns, or only
<a name="line870"><font color="#000000">0870:</font></a> carriage return followed by linefeed sequences, then it chooses the
<a name="line871"><font color="#000000">0871:</font></a> end-of-line conversion accordingly.  You can inhibit the automatic use
<a name="line872"><font color="#000000">0872:</font></a> of end-of-line conversion by setting the variable
<a name="line873"><font color="#000000">0873:</font></a> <i><font color="#9A1900">@code{inhibit-eol-conversion} to non-@code{nil}.  If you do that,</font></i>
<a name="line874"><font color="#000000">0874:</font></a> DOS-style files will be displayed with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{^M}</font> characters
<a name="line875"><font color="#000000">0875:</font></a> visible in the buffer; some people prefer this to the more subtle
<a name="line876"><font color="#000000">0876:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{(DOS)}</font> end-of-line type indication near the left edge of the
<a name="line877"><font color="#000000">0877:</font></a> mode line (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mode Line, eol-mnemonic</font><font color="#FF0000">}</font>).
<a name="line878"><font color="#000000">0878:</font></a> 
<a name="line879"><font color="#000000">0879:</font></a> <b><font color="#0000FF">@vindex</font></b> inhibit-iso-escape-detection
<a name="line880"><font color="#000000">0880:</font></a> <i><font color="#9A1900">@cindex escape sequences in files</font></i>
<a name="line881"><font color="#000000">0881:</font></a>   By default, the automatic detection of the coding system is sensitive to
<a name="line882"><font color="#000000">0882:</font></a> escape sequences.  If Emacs sees a sequence of characters that begin
<a name="line883"><font color="#000000">0883:</font></a> with an escape character, and the sequence is valid as an ISO-2022
<a name="line884"><font color="#000000">0884:</font></a> code, that tells Emacs to use one of the ISO-2022 encodings to decode
<a name="line885"><font color="#000000">0885:</font></a> the file.
<a name="line886"><font color="#000000">0886:</font></a> 
<a name="line887"><font color="#000000">0887:</font></a>   However, there may be cases that you want to read escape sequences
<a name="line888"><font color="#000000">0888:</font></a> in a file as is.  In such a case, you can set the variable
<a name="line889"><font color="#000000">0889:</font></a> <i><font color="#9A1900">@code{inhibit-iso-escape-detection} to non-@code{nil}.  Then the code</font></i>
<a name="line890"><font color="#000000">0890:</font></a> detection ignores any escape sequences, and never uses an ISO-2022
<a name="line891"><font color="#000000">0891:</font></a> encoding.  The result is that all escape sequences become visible in
<a name="line892"><font color="#000000">0892:</font></a> the buffer.
<a name="line893"><font color="#000000">0893:</font></a> 
<a name="line894"><font color="#000000">0894:</font></a>   The default value of <b><font color="#0000FF">@code</font></b><font color="#009900">{inhibit-iso-escape-detection}</font> is
<a name="line895"><font color="#000000">0895:</font></a> <i><font color="#9A1900">@code{nil}.  We recommend that you not change it permanently, only for</font></i>
<a name="line896"><font color="#000000">0896:</font></a> one specific operation.  That's because some Emacs Lisp source files
<a name="line897"><font color="#000000">0897:</font></a> in the Emacs distribution contain non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters encoded in the
<a name="line898"><font color="#000000">0898:</font></a> coding system <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-2022-7bit}</font>, and they won't be
<a name="line899"><font color="#000000">0899:</font></a> decoded correctly when you visit those files if you suppress the
<a name="line900"><font color="#000000">0900:</font></a> escape sequence detection.
<a name="line901"><font color="#000000">0901:</font></a> <i><font color="#9A1900">@c I count a grand total of 3 such files, so is the above really true?</font></i>
<a name="line902"><font color="#000000">0902:</font></a> 
<a name="line903"><font color="#000000">0903:</font></a> <b><font color="#0000FF">@vindex</font></b> auto-coding-alist
<a name="line904"><font color="#000000">0904:</font></a> <b><font color="#0000FF">@vindex</font></b> auto-coding-regexp-alist
<a name="line905"><font color="#000000">0905:</font></a>   The variables <b><font color="#0000FF">@code</font></b><font color="#009900">{auto-coding-alist}</font> and
<a name="line906"><font color="#000000">0906:</font></a> <i><font color="#9A1900">@code{auto-coding-regexp-alist} are</font></i>
<a name="line907"><font color="#000000">0907:</font></a> the strongest way to specify the coding system for certain patterns of
<a name="line908"><font color="#000000">0908:</font></a> file names, or for files containing certain patterns, respectively.
<a name="line909"><font color="#000000">0909:</font></a> These variables even override <b><font color="#0000FF">@samp</font></b><font color="#009900">{-*-coding:-*-}</font> tags in the file
<a name="line910"><font color="#000000">0910:</font></a> itself (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Specify Coding</font><font color="#FF0000">}</font>).  For example, Emacs
<a name="line911"><font color="#000000">0911:</font></a> uses <b><font color="#0000FF">@code</font></b><font color="#009900">{auto-coding-alist}</font> for tar and archive files, to prevent it
<a name="line912"><font color="#000000">0912:</font></a> from being confused by a <b><font color="#0000FF">@samp</font></b><font color="#009900">{-*-coding:-*-}</font> tag in a member of the
<a name="line913"><font color="#000000">0913:</font></a> archive and thinking it applies to the archive file as a whole.
<a name="line914"><font color="#000000">0914:</font></a> <b><font color="#0000FF">@ignore</font></b>
<a name="line915"><font color="#000000">0915:</font></a> <i><font color="#9A1900">@c This describes old-style BABYL files, which are no longer relevant.</font></i>
<a name="line916"><font color="#000000">0916:</font></a> Likewise, Emacs uses <b><font color="#0000FF">@code</font></b><font color="#009900">{auto-coding-regexp-alist}</font> to ensure that
<a name="line917"><font color="#000000">0917:</font></a> RMAIL files, whose names in general don't match any particular
<a name="line918"><font color="#000000">0918:</font></a> pattern, are decoded correctly.
<a name="line919"><font color="#000000">0919:</font></a> <b><font color="#0000FF">@end ignore</font></b>
<a name="line920"><font color="#000000">0920:</font></a> 
<a name="line921"><font color="#000000">0921:</font></a> <b><font color="#0000FF">@vindex</font></b> auto-coding-functions
<a name="line922"><font color="#000000">0922:</font></a>   Another way to specify a coding system is with the variable
<a name="line923"><font color="#000000">0923:</font></a> <i><font color="#9A1900">@code{auto-coding-functions}.  For example, one of the builtin</font></i>
<a name="line924"><font color="#000000">0924:</font></a> <i><font color="#9A1900">@code{auto-coding-functions} detects the encoding for XML files.</font></i>
<a name="line925"><font color="#000000">0925:</font></a> Unlike the previous two, this variable does not override any
<a name="line926"><font color="#000000">0926:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{-*-coding:-*-}</font> tag.
<a name="line927"><font color="#000000">0927:</font></a> 
<a name="line928"><font color="#000000">0928:</font></a> <b><font color="#0000FF">@node</font></b> Specify Coding
<a name="line929"><font color="#000000">0929:</font></a> <b><font color="#0000FF">@section</font></b> Specifying a File's Coding System
<a name="line930"><font color="#000000">0930:</font></a> 
<a name="line931"><font color="#000000">0931:</font></a>   If Emacs recognizes the encoding of a file incorrectly, you can
<a name="line932"><font color="#000000">0932:</font></a> reread the file using the correct coding system with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x</font>
<a name="line933"><font color="#000000">0933:</font></a> <font color="#009900">@key{RET} r}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{revert-buffer-with-coding-system}</font>).  This command
<a name="line934"><font color="#000000">0934:</font></a> prompts for the coding system to use.  To see what coding system Emacs
<a name="line935"><font color="#000000">0935:</font></a> actually used to decode the file, look at the coding system mnemonic
<a name="line936"><font color="#000000">0936:</font></a> letter near the left edge of the mode line (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mode Line</font><font color="#FF0000">}</font>), or
<a name="line937"><font color="#000000">0937:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h C}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-coding-system}</font>).
<a name="line938"><font color="#000000">0938:</font></a> 
<a name="line939"><font color="#000000">0939:</font></a> <b><font color="#0000FF">@vindex</font></b> coding
<a name="line940"><font color="#000000">0940:</font></a>   You can specify the coding system for a particular file in the file
<a name="line941"><font color="#000000">0941:</font></a> itself, using the <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{-*-@dots{}-*-}}</font> construct at the beginning,
<a name="line942"><font color="#000000">0942:</font></a> or a local variables list at the end (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">File Variables</font><font color="#FF0000">}</font>).  You do
<a name="line943"><font color="#000000">0943:</font></a> this by defining a value for the ``variable'' named <b><font color="#0000FF">@code</font></b><font color="#009900">{coding}</font>.
<a name="line944"><font color="#000000">0944:</font></a> Emacs does not really have a variable <b><font color="#0000FF">@code</font></b><font color="#009900">{coding}</font>; instead of
<a name="line945"><font color="#000000">0945:</font></a> setting a variable, this uses the specified coding system for the
<a name="line946"><font color="#000000">0946:</font></a> file.  For example, <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{-*-mode: C; coding: latin-1; -*-}}</font> specifies
<a name="line947"><font color="#000000">0947:</font></a> use of the Latin-1 coding system, as well as C mode.  When you specify
<a name="line948"><font color="#000000">0948:</font></a> the coding explicitly in the file, that overrides
<a name="line949"><font color="#000000">0949:</font></a> <i><font color="#9A1900">@code{file-coding-system-alist}.</font></i>
<a name="line950"><font color="#000000">0950:</font></a> 
<a name="line951"><font color="#000000">0951:</font></a> <b><font color="#0000FF">@node</font></b> Output Coding
<a name="line952"><font color="#000000">0952:</font></a> <b><font color="#0000FF">@section</font></b> Choosing Coding Systems for Output
<a name="line953"><font color="#000000">0953:</font></a> 
<a name="line954"><font color="#000000">0954:</font></a> <b><font color="#0000FF">@vindex</font></b> buffer-file-coding-system
<a name="line955"><font color="#000000">0955:</font></a>   Once Emacs has chosen a coding system for a buffer, it stores that
<a name="line956"><font color="#000000">0956:</font></a> coding system in <b><font color="#0000FF">@code</font></b><font color="#009900">{buffer-file-coding-system}</font>.  That makes it the
<a name="line957"><font color="#000000">0957:</font></a> default for operations that write from this buffer into a file, such
<a name="line958"><font color="#000000">0958:</font></a> as <b><font color="#0000FF">@code</font></b><font color="#009900">{save-buffer}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{write-region}</font>.  You can specify a
<a name="line959"><font color="#000000">0959:</font></a> different coding system for further file output from the buffer using
<a name="line960"><font color="#000000">0960:</font></a> <i><font color="#9A1900">@code{set-buffer-file-coding-system} (@pxref{Text Coding}).</font></i>
<a name="line961"><font color="#000000">0961:</font></a> 
<a name="line962"><font color="#000000">0962:</font></a>   You can insert any character Emacs supports into any Emacs buffer,
<a name="line963"><font color="#000000">0963:</font></a> but most coding systems can only handle a subset of these characters.
<a name="line964"><font color="#000000">0964:</font></a> Therefore, it's possible that the characters you insert cannot be
<a name="line965"><font color="#000000">0965:</font></a> encoded with the coding system that will be used to save the buffer.
<a name="line966"><font color="#000000">0966:</font></a> For example, you could visit a text file in Polish, encoded in
<a name="line967"><font color="#000000">0967:</font></a> <i><font color="#9A1900">@code{iso-8859-2}, and add some Russian words to it.  When you save</font></i>
<a name="line968"><font color="#000000">0968:</font></a> that buffer, Emacs cannot use the current value of
<a name="line969"><font color="#000000">0969:</font></a> <i><font color="#9A1900">@code{buffer-file-coding-system}, because the characters you added</font></i>
<a name="line970"><font color="#000000">0970:</font></a> cannot be encoded by that coding system.
<a name="line971"><font color="#000000">0971:</font></a> 
<a name="line972"><font color="#000000">0972:</font></a>   When that happens, Emacs tries the most-preferred coding system (set
<a name="line973"><font color="#000000">0973:</font></a> by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x prefer-coding-system}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line974"><font color="#000000">0974:</font></a> <font color="#009900">set-language-environment}</font>).  If that coding system can safely encode
<a name="line975"><font color="#000000">0975:</font></a> all of the characters in the buffer, Emacs uses it, and stores its
<a name="line976"><font color="#000000">0976:</font></a> value in <b><font color="#0000FF">@code</font></b><font color="#009900">{buffer-file-coding-system}</font>.  Otherwise, Emacs displays
<a name="line977"><font color="#000000">0977:</font></a> a list of coding systems suitable for encoding the buffer's contents,
<a name="line978"><font color="#000000">0978:</font></a> and asks you to choose one of those coding systems.
<a name="line979"><font color="#000000">0979:</font></a> 
<a name="line980"><font color="#000000">0980:</font></a>   If you insert the unsuitable characters in a mail message, Emacs
<a name="line981"><font color="#000000">0981:</font></a> behaves a bit differently.  It additionally checks whether the
<a name="line982"><font color="#000000">0982:</font></a> <i><font color="#9A1900">@c What determines this?</font></i>
<a name="line983"><font color="#000000">0983:</font></a> most-preferred coding system is recommended for use in MIME messages;
<a name="line984"><font color="#000000">0984:</font></a> if not, it informs you of this fact and prompts you for another coding
<a name="line985"><font color="#000000">0985:</font></a> system.  This is so you won't inadvertently send a message encoded in
<a name="line986"><font color="#000000">0986:</font></a> a way that your recipient's mail software will have difficulty
<a name="line987"><font color="#000000">0987:</font></a> decoding.  (You can still use an unsuitable coding system if you enter
<a name="line988"><font color="#000000">0988:</font></a> its name at the prompt.)
<a name="line989"><font color="#000000">0989:</font></a> 
<a name="line990"><font color="#000000">0990:</font></a> <i><font color="#9A1900">@c It seems that select-message-coding-system does this.</font></i>
<a name="line991"><font color="#000000">0991:</font></a> <i><font color="#9A1900">@c Both sendmail.el and smptmail.el call it; i.e., smtpmail.el still</font></i>
<a name="line992"><font color="#000000">0992:</font></a> <i><font color="#9A1900">@c obeys sendmail-coding-system.</font></i>
<a name="line993"><font color="#000000">0993:</font></a> <b><font color="#0000FF">@vindex</font></b> sendmail-coding-system
<a name="line994"><font color="#000000">0994:</font></a>   When you send a mail message (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Sending Mail</font><font color="#FF0000">}</font>),
<a name="line995"><font color="#000000">0995:</font></a> Emacs has four different ways to determine the coding system to use
<a name="line996"><font color="#000000">0996:</font></a> for encoding the message text.  It first tries the buffer's own value of
<a name="line997"><font color="#000000">0997:</font></a> <i><font color="#9A1900">@code{buffer-file-coding-system}, if that is non-@code{nil}.</font></i>
<a name="line998"><font color="#000000">0998:</font></a> Otherwise, it uses the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{sendmail-coding-system}</font>, if that
<a name="line999"><font color="#000000">0999:</font></a> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.  Thirdly, it uses the value of
<a name="line1000"><font color="#000000">1000:</font></a> <i><font color="#9A1900">@code{default-sendmail-coding-system}.</font></i>
<a name="line1001"><font color="#000000">1001:</font></a> If all of these three values are <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, Emacs encodes outgoing
<a name="line1002"><font color="#000000">1002:</font></a> mail using the default coding system for new files (i.e., the
<a name="line1003"><font color="#000000">1003:</font></a> default value of <b><font color="#0000FF">@code</font></b><font color="#009900">{buffer-file-coding-system}</font>), which is
<a name="line1004"><font color="#000000">1004:</font></a> controlled by your choice of language environment.
<a name="line1005"><font color="#000000">1005:</font></a> 
<a name="line1006"><font color="#000000">1006:</font></a> <b><font color="#0000FF">@node</font></b> Text Coding
<a name="line1007"><font color="#000000">1007:</font></a> <b><font color="#0000FF">@section</font></b> Specifying a Coding System for File Text
<a name="line1008"><font color="#000000">1008:</font></a> 
<a name="line1009"><font color="#000000">1009:</font></a>   In cases where Emacs does not automatically choose the right coding
<a name="line1010"><font color="#000000">1010:</font></a> system for a file's contents, you can use these commands to specify
<a name="line1011"><font color="#000000">1011:</font></a> one:
<a name="line1012"><font color="#000000">1012:</font></a> 
<a name="line1013"><font color="#000000">1013:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1014"><font color="#000000">1014:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> f <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1015"><font color="#000000">1015:</font></a> Use coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> to save or revisit the file in
<a name="line1016"><font color="#000000">1016:</font></a> the current buffer (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-buffer-file-coding-system}</font>).
<a name="line1017"><font color="#000000">1017:</font></a> 
<a name="line1018"><font color="#000000">1018:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> c <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1019"><font color="#000000">1019:</font></a> Specify coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> for the immediately following
<a name="line1020"><font color="#000000">1020:</font></a> command (<b><font color="#0000FF">@code</font></b><font color="#009900">{universal-coding-system-argument}</font>).
<a name="line1021"><font color="#000000">1021:</font></a> 
<a name="line1022"><font color="#000000">1022:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> r <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1023"><font color="#000000">1023:</font></a> Revisit the current file using the coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font>
<a name="line1024"><font color="#000000">1024:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{revert-buffer-with-coding-system}</font>).
<a name="line1025"><font color="#000000">1025:</font></a> 
<a name="line1026"><font color="#000000">1026:</font></a> <b><font color="#0000FF">@item</font></b> M-x recode-region <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{right}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{wrong}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1027"><font color="#000000">1027:</font></a> Convert a region that was decoded using coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{wrong}</font>,
<a name="line1028"><font color="#000000">1028:</font></a> decoding it using coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{right}</font> instead.
<a name="line1029"><font color="#000000">1029:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1030"><font color="#000000">1030:</font></a> 
<a name="line1031"><font color="#000000">1031:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET f
<a name="line1032"><font color="#000000">1032:</font></a> <b><font color="#0000FF">@findex</font></b> set-buffer-file-coding-system
<a name="line1033"><font color="#000000">1033:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} f}</font>
<a name="line1034"><font color="#000000">1034:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-buffer-file-coding-system}</font>) sets the file coding system for
<a name="line1035"><font color="#000000">1035:</font></a> the current buffer (i.e., the coding system to use when saving or
<a name="line1036"><font color="#000000">1036:</font></a> reverting the file).  You specify which coding system using the
<a name="line1037"><font color="#000000">1037:</font></a> minibuffer.  You can also invoke this command by clicking with
<a name="line1038"><font color="#000000">1038:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-3}</font> on the coding system indicator in the mode line
<a name="line1039"><font color="#000000">1039:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mode Line</font><font color="#FF0000">}</font>).
<a name="line1040"><font color="#000000">1040:</font></a> 
<a name="line1041"><font color="#000000">1041:</font></a>   If you specify a coding system that cannot handle all the characters
<a name="line1042"><font color="#000000">1042:</font></a> in the buffer, Emacs will warn you about the troublesome characters,
<a name="line1043"><font color="#000000">1043:</font></a> and ask you to choose another coding system, when you try to save the
<a name="line1044"><font color="#000000">1044:</font></a> buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Output Coding</font><font color="#FF0000">}</font>).
<a name="line1045"><font color="#000000">1045:</font></a> 
<a name="line1046"><font color="#000000">1046:</font></a> <i><font color="#9A1900">@cindex specify end-of-line conversion</font></i>
<a name="line1047"><font color="#000000">1047:</font></a>   You can also use this command to specify the end-of-line conversion
<a name="line1048"><font color="#000000">1048:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Coding Systems, end-of-line conversion</font><font color="#FF0000">}</font>) for encoding the
<a name="line1049"><font color="#000000">1049:</font></a> current buffer.  For example, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} f dos @key{RET}}</font> will
<a name="line1050"><font color="#000000">1050:</font></a> cause Emacs to save the current buffer's text with DOS-style
<a name="line1051"><font color="#000000">1051:</font></a> carriage return followed by linefeed line endings.
<a name="line1052"><font color="#000000">1052:</font></a> 
<a name="line1053"><font color="#000000">1053:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET c
<a name="line1054"><font color="#000000">1054:</font></a> <b><font color="#0000FF">@findex</font></b> universal-coding-system-argument
<a name="line1055"><font color="#000000">1055:</font></a>   Another way to specify the coding system for a file is when you visit
<a name="line1056"><font color="#000000">1056:</font></a> the file.  First use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c}</font>
<a name="line1057"><font color="#000000">1057:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{universal-coding-system-argument}</font>); this command uses the
<a name="line1058"><font color="#000000">1058:</font></a> minibuffer to read a coding system name.  After you exit the minibuffer,
<a name="line1059"><font color="#000000">1059:</font></a> the specified coding system is used for <b><font color="#0000FF">@emph</font></b><font color="#009900">{the immediately following</font>
<a name="line1060"><font color="#000000">1060:</font></a> <font color="#009900">command}</font>.
<a name="line1061"><font color="#000000">1061:</font></a> 
<a name="line1062"><font color="#000000">1062:</font></a>   So if the immediately following command is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-f}</font>, for example,
<a name="line1063"><font color="#000000">1063:</font></a> it reads the file using that coding system (and records the coding
<a name="line1064"><font color="#000000">1064:</font></a> system for when you later save the file).  Or if the immediately following
<a name="line1065"><font color="#000000">1065:</font></a> command is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-w}</font>, it writes the file using that coding system.
<a name="line1066"><font color="#000000">1066:</font></a> When you specify the coding system for saving in this way, instead
<a name="line1067"><font color="#000000">1067:</font></a> of with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} f}</font>, there is no warning if the buffer
<a name="line1068"><font color="#000000">1068:</font></a> contains characters that the coding system cannot handle.
<a name="line1069"><font color="#000000">1069:</font></a> 
<a name="line1070"><font color="#000000">1070:</font></a>   Other file commands affected by a specified coding system include
<a name="line1071"><font color="#000000">1071:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x i}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-v}</font>, as well as the other-window variants
<a name="line1072"><font color="#000000">1072:</font></a> of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-f}</font>.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c}</font> also affects commands that
<a name="line1073"><font color="#000000">1073:</font></a> start subprocesses, including <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x shell}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Shell</font><font color="#FF0000">}</font>).  If the
<a name="line1074"><font color="#000000">1074:</font></a> immediately following command does not use the coding system, then
<a name="line1075"><font color="#000000">1075:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c}</font> ultimately has no effect.
<a name="line1076"><font color="#000000">1076:</font></a> 
<a name="line1077"><font color="#000000">1077:</font></a>   An easy way to visit a file with no conversion is with the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line1078"><font color="#000000">1078:</font></a> <font color="#009900">find-file-literally}</font> command.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Visiting</font><font color="#FF0000">}</font>.
<a name="line1079"><font color="#000000">1079:</font></a> 
<a name="line1080"><font color="#000000">1080:</font></a>   The default value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{buffer-file-coding-system}</font>
<a name="line1081"><font color="#000000">1081:</font></a> specifies the choice of coding system to use when you create a new file.
<a name="line1082"><font color="#000000">1082:</font></a> It applies when you find a new file, and when you create a buffer and
<a name="line1083"><font color="#000000">1083:</font></a> then save it in a file.  Selecting a language environment typically sets
<a name="line1084"><font color="#000000">1084:</font></a> this variable to a good choice of default coding system for that language
<a name="line1085"><font color="#000000">1085:</font></a> environment.
<a name="line1086"><font color="#000000">1086:</font></a> 
<a name="line1087"><font color="#000000">1087:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET r
<a name="line1088"><font color="#000000">1088:</font></a> <b><font color="#0000FF">@findex</font></b> revert-buffer-with-coding-system
<a name="line1089"><font color="#000000">1089:</font></a>   If you visit a file with a wrong coding system, you can correct this
<a name="line1090"><font color="#000000">1090:</font></a> with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} r}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{revert-buffer-with-coding-system}</font>).
<a name="line1091"><font color="#000000">1091:</font></a> This visits the current file again, using a coding system you specify.
<a name="line1092"><font color="#000000">1092:</font></a> 
<a name="line1093"><font color="#000000">1093:</font></a> <b><font color="#0000FF">@findex</font></b> recode-region
<a name="line1094"><font color="#000000">1094:</font></a>   If a piece of text has already been inserted into a buffer using the
<a name="line1095"><font color="#000000">1095:</font></a> wrong coding system, you can redo the decoding of it using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line1096"><font color="#000000">1096:</font></a> <font color="#009900">recode-region}</font>.  This prompts you for the proper coding system, then
<a name="line1097"><font color="#000000">1097:</font></a> for the wrong coding system that was actually used, and does the
<a name="line1098"><font color="#000000">1098:</font></a> conversion.  It first encodes the region using the wrong coding system,
<a name="line1099"><font color="#000000">1099:</font></a> then decodes it again using the proper coding system.
<a name="line1100"><font color="#000000">1100:</font></a> 
<a name="line1101"><font color="#000000">1101:</font></a> <b><font color="#0000FF">@node</font></b> Communication Coding
<a name="line1102"><font color="#000000">1102:</font></a> <b><font color="#0000FF">@section</font></b> Coding Systems for Interprocess Communication
<a name="line1103"><font color="#000000">1103:</font></a> 
<a name="line1104"><font color="#000000">1104:</font></a>   This section explains how to specify coding systems for use
<a name="line1105"><font color="#000000">1105:</font></a> in communication with other processes.
<a name="line1106"><font color="#000000">1106:</font></a> 
<a name="line1107"><font color="#000000">1107:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1108"><font color="#000000">1108:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> x <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1109"><font color="#000000">1109:</font></a> Use coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> for transferring selections to and from
<a name="line1110"><font color="#000000">1110:</font></a> other graphical applications (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-selection-coding-system}</font>).
<a name="line1111"><font color="#000000">1111:</font></a> 
<a name="line1112"><font color="#000000">1112:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> X <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1113"><font color="#000000">1113:</font></a> Use coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> for transferring <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">one</font></i><font color="#FF0000">}</font>
<a name="line1114"><font color="#000000">1114:</font></a> selection---the next one---to or from another graphical application
<a name="line1115"><font color="#000000">1115:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-next-selection-coding-system}</font>).
<a name="line1116"><font color="#000000">1116:</font></a> 
<a name="line1117"><font color="#000000">1117:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> p <b><font color="#0000FF">@var</font></b><font color="#009900">{input-coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{output-coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1118"><font color="#000000">1118:</font></a> Use coding systems <b><font color="#0000FF">@var</font></b><font color="#009900">{input-coding}</font> and <b><font color="#0000FF">@var</font></b><font color="#009900">{output-coding}</font> for
<a name="line1119"><font color="#000000">1119:</font></a> subprocess input and output in the current buffer
<a name="line1120"><font color="#000000">1120:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-buffer-process-coding-system}</font>).
<a name="line1121"><font color="#000000">1121:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1122"><font color="#000000">1122:</font></a> 
<a name="line1123"><font color="#000000">1123:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET x
<a name="line1124"><font color="#000000">1124:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET X
<a name="line1125"><font color="#000000">1125:</font></a> <b><font color="#0000FF">@findex</font></b> set-selection-coding-system
<a name="line1126"><font color="#000000">1126:</font></a> <b><font color="#0000FF">@findex</font></b> set-next-selection-coding-system
<a name="line1127"><font color="#000000">1127:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} x}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-selection-coding-system}</font>)
<a name="line1128"><font color="#000000">1128:</font></a> specifies the coding system for sending selected text to other windowing
<a name="line1129"><font color="#000000">1129:</font></a> applications, and for receiving the text of selections made in other
<a name="line1130"><font color="#000000">1130:</font></a> applications.  This command applies to all subsequent selections, until
<a name="line1131"><font color="#000000">1131:</font></a> you override it by using the command again.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x</font>
<a name="line1132"><font color="#000000">1132:</font></a> <font color="#009900">@key{RET} X}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-next-selection-coding-system}</font>) specifies the
<a name="line1133"><font color="#000000">1133:</font></a> coding system for the next selection made in Emacs or read by Emacs.
<a name="line1134"><font color="#000000">1134:</font></a> 
<a name="line1135"><font color="#000000">1135:</font></a> <b><font color="#0000FF">@vindex</font></b> x-select-request-type
<a name="line1136"><font color="#000000">1136:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{x-select-request-type}</font> specifies the data type to
<a name="line1137"><font color="#000000">1137:</font></a> request from the X Window System for receiving text selections from
<a name="line1138"><font color="#000000">1138:</font></a> other applications.  If the value is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> (the default), Emacs
<a name="line1139"><font color="#000000">1139:</font></a> tries <b><font color="#0000FF">@code</font></b><font color="#009900">{UTF8_STRING}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{COMPOUND_TEXT}</font>, in this order, and
<a name="line1140"><font color="#000000">1140:</font></a> uses various heuristics to choose the more appropriate of the two
<a name="line1141"><font color="#000000">1141:</font></a> results; if none of these succeed, Emacs falls back on <b><font color="#0000FF">@code</font></b><font color="#009900">{STRING}</font>.
<a name="line1142"><font color="#000000">1142:</font></a> If the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{x-select-request-type}</font> is one of the symbols
<a name="line1143"><font color="#000000">1143:</font></a> <i><font color="#9A1900">@code{COMPOUND_TEXT}, @code{UTF8_STRING}, @code{STRING}, or</font></i>
<a name="line1144"><font color="#000000">1144:</font></a> <i><font color="#9A1900">@code{TEXT}, Emacs uses only that request type.  If the value is a</font></i>
<a name="line1145"><font color="#000000">1145:</font></a> list of some of these symbols, Emacs tries only the request types in
<a name="line1146"><font color="#000000">1146:</font></a> the list, in order, until one of them succeeds, or until the list is
<a name="line1147"><font color="#000000">1147:</font></a> exhausted.
<a name="line1148"><font color="#000000">1148:</font></a> 
<a name="line1149"><font color="#000000">1149:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET p
<a name="line1150"><font color="#000000">1150:</font></a> <b><font color="#0000FF">@findex</font></b> set-buffer-process-coding-system
<a name="line1151"><font color="#000000">1151:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} p}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-buffer-process-coding-system}</font>)
<a name="line1152"><font color="#000000">1152:</font></a> specifies the coding system for input and output to a subprocess.  This
<a name="line1153"><font color="#000000">1153:</font></a> command applies to the current buffer; normally, each subprocess has its
<a name="line1154"><font color="#000000">1154:</font></a> own buffer, and thus you can use this command to specify translation to
<a name="line1155"><font color="#000000">1155:</font></a> and from a particular subprocess by giving the command in the
<a name="line1156"><font color="#000000">1156:</font></a> corresponding buffer.
<a name="line1157"><font color="#000000">1157:</font></a> 
<a name="line1158"><font color="#000000">1158:</font></a>   You can also use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c}</font>
<a name="line1159"><font color="#000000">1159:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{universal-coding-system-argument}</font>) just before the command that
<a name="line1160"><font color="#000000">1160:</font></a> runs or starts a subprocess, to specify the coding system for
<a name="line1161"><font color="#000000">1161:</font></a> communicating with that subprocess.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text Coding</font><font color="#FF0000">}</font>.
<a name="line1162"><font color="#000000">1162:</font></a> 
<a name="line1163"><font color="#000000">1163:</font></a>   The default for translation of process input and output depends on the
<a name="line1164"><font color="#000000">1164:</font></a> current language environment.
<a name="line1165"><font color="#000000">1165:</font></a> 
<a name="line1166"><font color="#000000">1166:</font></a> <b><font color="#0000FF">@vindex</font></b> locale-coding-system
<a name="line1167"><font color="#000000">1167:</font></a> <i><font color="#9A1900">@cindex decoding non-@acronym{ASCII} keyboard input on X</font></i>
<a name="line1168"><font color="#000000">1168:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{locale-coding-system}</font> specifies a coding system
<a name="line1169"><font color="#000000">1169:</font></a> to use when encoding and decoding system strings such as system error
<a name="line1170"><font color="#000000">1170:</font></a> messages and <b><font color="#0000FF">@code</font></b><font color="#009900">{format-time-string}</font> formats and time stamps.  That
<a name="line1171"><font color="#000000">1171:</font></a> coding system is also used for decoding non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> keyboard
<a name="line1172"><font color="#000000">1172:</font></a> input on the X Window System and for encoding text sent to the
<a name="line1173"><font color="#000000">1173:</font></a> standard output and error streams when in batch mode.  You should
<a name="line1174"><font color="#000000">1174:</font></a> choose a coding system that is compatible
<a name="line1175"><font color="#000000">1175:</font></a> with the underlying system's text representation, which is normally
<a name="line1176"><font color="#000000">1176:</font></a> specified by one of the environment variables <b><font color="#0000FF">@env</font></b><font color="#009900">{LC_ALL}</font>,
<a name="line1177"><font color="#000000">1177:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{LC_CTYPE}</font>, and <b><font color="#0000FF">@env</font></b><font color="#009900">{LANG}</font>.  (The first one, in the order
<a name="line1178"><font color="#000000">1178:</font></a> specified above, whose value is nonempty is the one that determines
<a name="line1179"><font color="#000000">1179:</font></a> the text representation.)
<a name="line1180"><font color="#000000">1180:</font></a> 
<a name="line1181"><font color="#000000">1181:</font></a> <b><font color="#0000FF">@node</font></b> File Name Coding
<a name="line1182"><font color="#000000">1182:</font></a> <b><font color="#0000FF">@section</font></b> Coding Systems for File Names
<a name="line1183"><font color="#000000">1183:</font></a> 
<a name="line1184"><font color="#000000">1184:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1185"><font color="#000000">1185:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> F <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1186"><font color="#000000">1186:</font></a> Use coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> for encoding and decoding file
<a name="line1187"><font color="#000000">1187:</font></a> names (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-file-name-coding-system}</font>).
<a name="line1188"><font color="#000000">1188:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1189"><font color="#000000">1189:</font></a> 
<a name="line1190"><font color="#000000">1190:</font></a> <b><font color="#0000FF">@findex</font></b> set-file-name-coding-system
<a name="line1191"><font color="#000000">1191:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET F
<a name="line1192"><font color="#000000">1192:</font></a> <i><font color="#9A1900">@cindex file names with non-@acronym{ASCII} characters</font></i>
<a name="line1193"><font color="#000000">1193:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} F}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-file-name-coding-system}</font>)
<a name="line1194"><font color="#000000">1194:</font></a> specifies a coding system to use for encoding file <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">names</font></i><font color="#FF0000">}</font>.  It
<a name="line1195"><font color="#000000">1195:</font></a> has no effect on reading and writing the <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">contents</font></i><font color="#FF0000">}</font> of files.
<a name="line1196"><font color="#000000">1196:</font></a> 
<a name="line1197"><font color="#000000">1197:</font></a> <b><font color="#0000FF">@vindex</font></b> file-name-coding-system
<a name="line1198"><font color="#000000">1198:</font></a>   In fact, all this command does is set the value of the variable
<a name="line1199"><font color="#000000">1199:</font></a> <i><font color="#9A1900">@code{file-name-coding-system}.  If you set the variable to a coding</font></i>
<a name="line1200"><font color="#000000">1200:</font></a> system name (as a Lisp symbol or a string), Emacs encodes file names
<a name="line1201"><font color="#000000">1201:</font></a> using that coding system for all file operations.  This makes it
<a name="line1202"><font color="#000000">1202:</font></a> possible to use non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters in file names---or, at
<a name="line1203"><font color="#000000">1203:</font></a> least, those non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters that the specified coding
<a name="line1204"><font color="#000000">1204:</font></a> system can encode.
<a name="line1205"><font color="#000000">1205:</font></a> 
<a name="line1206"><font color="#000000">1206:</font></a>   If <b><font color="#0000FF">@code</font></b><font color="#009900">{file-name-coding-system}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, Emacs uses a
<a name="line1207"><font color="#000000">1207:</font></a> default coding system determined by the selected language environment,
<a name="line1208"><font color="#000000">1208:</font></a> and stored in the <b><font color="#0000FF">@code</font></b><font color="#009900">{default-file-name-coding-system}</font> variable.
<a name="line1209"><font color="#000000">1209:</font></a> <i><font color="#9A1900">@c FIXME?  Is this correct?  What is the "default language environment"?</font></i>
<a name="line1210"><font color="#000000">1210:</font></a> In the default language environment, non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters in
<a name="line1211"><font color="#000000">1211:</font></a> file names are not encoded specially; they appear in the file system
<a name="line1212"><font color="#000000">1212:</font></a> using the internal Emacs representation.
<a name="line1213"><font color="#000000">1213:</font></a> 
<a name="line1214"><font color="#000000">1214:</font></a> <i><font color="#9A1900">@cindex file-name encoding, MS-Windows</font></i>
<a name="line1215"><font color="#000000">1215:</font></a> <b><font color="#0000FF">@vindex</font></b> w32-unicode-filenames
<a name="line1216"><font color="#000000">1216:</font></a>   When Emacs runs on MS-Windows versions that are descendants of the
<a name="line1217"><font color="#000000">1217:</font></a> NT family (Windows 2000, XP, and all the later versions), the value of
<a name="line1218"><font color="#000000">1218:</font></a> <i><font color="#9A1900">@code{file-name-coding-system} is largely ignored, as Emacs by default</font></i>
<a name="line1219"><font color="#000000">1219:</font></a> uses APIs that allow passing Unicode file names directly.  By
<a name="line1220"><font color="#000000">1220:</font></a> contrast, on Windows 9X, file names are encoded using
<a name="line1221"><font color="#000000">1221:</font></a> <i><font color="#9A1900">@code{file-name-coding-system}, which should be set to the codepage</font></i>
<a name="line1222"><font color="#000000">1222:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Coding Systems, codepage</font><font color="#FF0000">}</font>) pertinent for the current system
<a name="line1223"><font color="#000000">1223:</font></a> locale.  The value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{w32-unicode-filenames}</font>
<a name="line1224"><font color="#000000">1224:</font></a> controls whether Emacs uses the Unicode APIs when it calls OS
<a name="line1225"><font color="#000000">1225:</font></a> functions that accept file names.  This variable is set by the startup
<a name="line1226"><font color="#000000">1226:</font></a> code to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> on Windows 9X, and to <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> on newer versions of
<a name="line1227"><font color="#000000">1227:</font></a> MS-Windows.
<a name="line1228"><font color="#000000">1228:</font></a> 
<a name="line1229"><font color="#000000">1229:</font></a>   <b><font color="#0000FF">@strong</font></b><font color="#009900">{Warning:}</font> if you change <b><font color="#0000FF">@code</font></b><font color="#009900">{file-name-coding-system}</font> (or the
<a name="line1230"><font color="#000000">1230:</font></a> language environment) in the middle of an Emacs session, problems can
<a name="line1231"><font color="#000000">1231:</font></a> result if you have already visited files whose names were encoded using
<a name="line1232"><font color="#000000">1232:</font></a> the earlier coding system and cannot be encoded (or are encoded
<a name="line1233"><font color="#000000">1233:</font></a> differently) under the new coding system.  If you try to save one of
<a name="line1234"><font color="#000000">1234:</font></a> these buffers under the visited file name, saving may use the wrong file
<a name="line1235"><font color="#000000">1235:</font></a> name, or it may encounter an error.  If such a problem happens, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x</font>
<a name="line1236"><font color="#000000">1236:</font></a> <font color="#009900">C-w}</font> to specify a new file name for that buffer.
<a name="line1237"><font color="#000000">1237:</font></a> 
<a name="line1238"><font color="#000000">1238:</font></a> <b><font color="#0000FF">@findex</font></b> recode-file-name
<a name="line1239"><font color="#000000">1239:</font></a>   If a mistake occurs when encoding a file name, use the command
<a name="line1240"><font color="#000000">1240:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x recode-file-name}</font> to change the file name's coding
<a name="line1241"><font color="#000000">1241:</font></a> system.  This prompts for an existing file name, its old coding
<a name="line1242"><font color="#000000">1242:</font></a> system, and the coding system to which you wish to convert.
<a name="line1243"><font color="#000000">1243:</font></a> 
<a name="line1244"><font color="#000000">1244:</font></a> <b><font color="#0000FF">@node</font></b> Terminal Coding
<a name="line1245"><font color="#000000">1245:</font></a> <b><font color="#0000FF">@section</font></b> Coding Systems for Terminal I/O
<a name="line1246"><font color="#000000">1246:</font></a> 
<a name="line1247"><font color="#000000">1247:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1248"><font color="#000000">1248:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> t <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1249"><font color="#000000">1249:</font></a> Use coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> for terminal output
<a name="line1250"><font color="#000000">1250:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-terminal-coding-system}</font>).
<a name="line1251"><font color="#000000">1251:</font></a> 
<a name="line1252"><font color="#000000">1252:</font></a> <b><font color="#0000FF">@item</font></b> C-x <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> k <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1253"><font color="#000000">1253:</font></a> Use coding system <b><font color="#0000FF">@var</font></b><font color="#009900">{coding}</font> for keyboard input
<a name="line1254"><font color="#000000">1254:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-keyboard-coding-system}</font>).
<a name="line1255"><font color="#000000">1255:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1256"><font color="#000000">1256:</font></a> 
<a name="line1257"><font color="#000000">1257:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET t
<a name="line1258"><font color="#000000">1258:</font></a> <b><font color="#0000FF">@findex</font></b> set-terminal-coding-system
<a name="line1259"><font color="#000000">1259:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} t}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-terminal-coding-system}</font>)
<a name="line1260"><font color="#000000">1260:</font></a> specifies the coding system for terminal output.  If you specify a
<a name="line1261"><font color="#000000">1261:</font></a> character code for terminal output, all characters output to the
<a name="line1262"><font color="#000000">1262:</font></a> terminal are translated into that coding system.
<a name="line1263"><font color="#000000">1263:</font></a> 
<a name="line1264"><font color="#000000">1264:</font></a>   This feature is useful for certain character-only terminals built to
<a name="line1265"><font color="#000000">1265:</font></a> support specific languages or character sets---for example, European
<a name="line1266"><font color="#000000">1266:</font></a> terminals that support one of the ISO Latin character sets.  You need to
<a name="line1267"><font color="#000000">1267:</font></a> specify the terminal coding system when using multibyte text, so that
<a name="line1268"><font color="#000000">1268:</font></a> Emacs knows which characters the terminal can actually handle.
<a name="line1269"><font color="#000000">1269:</font></a> 
<a name="line1270"><font color="#000000">1270:</font></a>   By default, output to the terminal is not translated at all, unless
<a name="line1271"><font color="#000000">1271:</font></a> Emacs can deduce the proper coding system from your terminal type or
<a name="line1272"><font color="#000000">1272:</font></a> your locale specification (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments</font><font color="#FF0000">}</font>).
<a name="line1273"><font color="#000000">1273:</font></a> 
<a name="line1274"><font color="#000000">1274:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x RET k
<a name="line1275"><font color="#000000">1275:</font></a> <b><font color="#0000FF">@findex</font></b> set-keyboard-coding-system
<a name="line1276"><font color="#000000">1276:</font></a> <b><font color="#0000FF">@vindex</font></b> keyboard-coding-system
<a name="line1277"><font color="#000000">1277:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} k}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{set-keyboard-coding-system}</font>),
<a name="line1278"><font color="#000000">1278:</font></a> or the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{keyboard-coding-system}</font>, specifies the coding
<a name="line1279"><font color="#000000">1279:</font></a> system for keyboard input.  Character-code translation of keyboard
<a name="line1280"><font color="#000000">1280:</font></a> input is useful for terminals with keys that send non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>
<a name="line1281"><font color="#000000">1281:</font></a> graphic characters---for example, some terminals designed for ISO
<a name="line1282"><font color="#000000">1282:</font></a> Latin-1 or subsets of it.
<a name="line1283"><font color="#000000">1283:</font></a> 
<a name="line1284"><font color="#000000">1284:</font></a>   By default, keyboard input is translated based on your system locale
<a name="line1285"><font color="#000000">1285:</font></a> setting.  If your terminal does not really support the encoding
<a name="line1286"><font color="#000000">1286:</font></a> implied by your locale (for example, if you find it inserts a
<a name="line1287"><font color="#000000">1287:</font></a> non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> character if you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-i}</font>), you will need to set
<a name="line1288"><font color="#000000">1288:</font></a> <i><font color="#9A1900">@code{keyboard-coding-system} to @code{nil} to turn off encoding.</font></i>
<a name="line1289"><font color="#000000">1289:</font></a> You can do this by putting
<a name="line1290"><font color="#000000">1290:</font></a> 
<a name="line1291"><font color="#000000">1291:</font></a> <b><font color="#0000FF">@lisp</font></b>
<a name="line1292"><font color="#000000">1292:</font></a> (set-keyboard-coding-system nil)
<a name="line1293"><font color="#000000">1293:</font></a> <b><font color="#0000FF">@end lisp</font></b>
<a name="line1294"><font color="#000000">1294:</font></a> 
<a name="line1295"><font color="#000000">1295:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1296"><font color="#000000">1296:</font></a> in your init file.
<a name="line1297"><font color="#000000">1297:</font></a> 
<a name="line1298"><font color="#000000">1298:</font></a>   There is a similarity between using a coding system translation for
<a name="line1299"><font color="#000000">1299:</font></a> keyboard input, and using an input method: both define sequences of
<a name="line1300"><font color="#000000">1300:</font></a> keyboard input that translate into single characters.  However, input
<a name="line1301"><font color="#000000">1301:</font></a> methods are designed to be convenient for interactive use by humans, and
<a name="line1302"><font color="#000000">1302:</font></a> the sequences that are translated are typically sequences of <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>
<a name="line1303"><font color="#000000">1303:</font></a> printing characters.  Coding systems typically translate sequences of
<a name="line1304"><font color="#000000">1304:</font></a> non-graphic characters.
<a name="line1305"><font color="#000000">1305:</font></a> 
<a name="line1306"><font color="#000000">1306:</font></a> <b><font color="#0000FF">@node</font></b> Fontsets
<a name="line1307"><font color="#000000">1307:</font></a> <b><font color="#0000FF">@section</font></b> Fontsets
<a name="line1308"><font color="#000000">1308:</font></a> <i><font color="#9A1900">@cindex fontsets</font></i>
<a name="line1309"><font color="#000000">1309:</font></a> 
<a name="line1310"><font color="#000000">1310:</font></a>   A font typically defines shapes for a single alphabet or script.
<a name="line1311"><font color="#000000">1311:</font></a> Therefore, displaying the entire range of scripts that Emacs supports
<a name="line1312"><font color="#000000">1312:</font></a> requires a collection of many fonts.  In Emacs, such a collection is
<a name="line1313"><font color="#000000">1313:</font></a> called a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{fontset}</font>.  A fontset is defined by a list of font specifications,
<a name="line1314"><font color="#000000">1314:</font></a> each assigned to handle a range of character codes, and may fall back
<a name="line1315"><font color="#000000">1315:</font></a> on another fontset for characters that are not covered by the fonts
<a name="line1316"><font color="#000000">1316:</font></a> it specifies.
<a name="line1317"><font color="#000000">1317:</font></a> 
<a name="line1318"><font color="#000000">1318:</font></a> <i><font color="#9A1900">@cindex fonts for various scripts</font></i>
<a name="line1319"><font color="#000000">1319:</font></a> <i><font color="#9A1900">@cindex Intlfonts package, installation</font></i>
<a name="line1320"><font color="#000000">1320:</font></a>   Each fontset has a name, like a font.  However, while fonts are
<a name="line1321"><font color="#000000">1321:</font></a> stored in the system and the available font names are defined by the
<a name="line1322"><font color="#000000">1322:</font></a> system, fontsets are defined within Emacs itself.  Once you have
<a name="line1323"><font color="#000000">1323:</font></a> defined a fontset, you can use it within Emacs by specifying its name,
<a name="line1324"><font color="#000000">1324:</font></a> anywhere that you could use a single font.  Of course, Emacs fontsets
<a name="line1325"><font color="#000000">1325:</font></a> can use only the fonts that the system supports.  If some characters
<a name="line1326"><font color="#000000">1326:</font></a> appear on the screen as empty boxes or hex codes, this means that the
<a name="line1327"><font color="#000000">1327:</font></a> fontset in use for them has no font for those characters.  In this
<a name="line1328"><font color="#000000">1328:</font></a> case, or if the characters are shown, but not as well as you would
<a name="line1329"><font color="#000000">1329:</font></a> like, you may need to install extra fonts.  Your operating system may
<a name="line1330"><font color="#000000">1330:</font></a> have optional fonts that you can install; or you can install the GNU
<a name="line1331"><font color="#000000">1331:</font></a> Intlfonts package, which includes fonts for most supported
<a name="line1332"><font color="#000000">1332:</font></a> scripts.<b><font color="#0000FF">@footnote</font></b><font color="#009900">{If you run Emacs on X, you may need to inform the X</font>
<a name="line1333"><font color="#000000">1333:</font></a> <font color="#009900">server about the location of the newly installed fonts with commands</font>
<a name="line1334"><font color="#000000">1334:</font></a> <font color="#009900">such as:</font>
<a name="line1335"><font color="#000000">1335:</font></a> <font color="#009900">@c FIXME?  I feel like this may be out of date.</font>
<a name="line1336"><font color="#000000">1336:</font></a> <font color="#009900">@c E.g., the intlfonts tarfile is ~ 10 years old.</font>
<a name="line1337"><font color="#000000">1337:</font></a> 
<a name="line1338"><font color="#000000">1338:</font></a> <font color="#009900">@example</font>
<a name="line1339"><font color="#000000">1339:</font></a> <font color="#009900"> xset fp+ /usr/local/share/emacs/fonts</font>
<a name="line1340"><font color="#000000">1340:</font></a> <font color="#009900"> xset fp rehash</font>
<a name="line1341"><font color="#000000">1341:</font></a> <font color="#009900">@end example</font>
<a name="line1342"><font color="#000000">1342:</font></a> <font color="#009900">}</font>
<a name="line1343"><font color="#000000">1343:</font></a> 
<a name="line1344"><font color="#000000">1344:</font></a>   Emacs creates three fontsets automatically: the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{standard</font>
<a name="line1345"><font color="#000000">1345:</font></a> <font color="#009900">fontset}</font>, the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{startup fontset}</font> and the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{default fontset}</font>.
<a name="line1346"><font color="#000000">1346:</font></a> <i><font color="#9A1900">@c FIXME?  The doc of *standard*-fontset-spec says:</font></i>
<a name="line1347"><font color="#000000">1347:</font></a> <i><font color="#9A1900">@c "You have the biggest chance to display international characters</font></i>
<a name="line1348"><font color="#000000">1348:</font></a> <i><font color="#9A1900">@c with correct glyphs by using the *standard* fontset." (my emphasis)</font></i>
<a name="line1349"><font color="#000000">1349:</font></a> <i><font color="#9A1900">@c See https://lists.gnu.org/r/emacs-devel/2012-04/msg00430.html</font></i>
<a name="line1350"><font color="#000000">1350:</font></a> The default fontset is most likely to have fonts for a wide variety of
<a name="line1351"><font color="#000000">1351:</font></a> non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters, and is the default fallback for the
<a name="line1352"><font color="#000000">1352:</font></a> other two fontsets, and if you set a default font rather than fontset.
<a name="line1353"><font color="#000000">1353:</font></a> However, it does not specify font family names, so results can be
<a name="line1354"><font color="#000000">1354:</font></a> somewhat random if you use it directly.  You can specify a particular
<a name="line1355"><font color="#000000">1355:</font></a> fontset by starting Emacs with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-fn}</font> option.  For example,
<a name="line1356"><font color="#000000">1356:</font></a> 
<a name="line1357"><font color="#000000">1357:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1358"><font color="#000000">1358:</font></a> emacs -fn fontset-standard
<a name="line1359"><font color="#000000">1359:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1360"><font color="#000000">1360:</font></a> 
<a name="line1361"><font color="#000000">1361:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1362"><font color="#000000">1362:</font></a> You can also specify a fontset with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Font}</font> resource (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">X</font>
<a name="line1363"><font color="#000000">1363:</font></a> <font color="#FF0000">Resources</font><font color="#FF0000">}</font>).
<a name="line1364"><font color="#000000">1364:</font></a> 
<a name="line1365"><font color="#000000">1365:</font></a>   If no fontset is specified for use, then Emacs uses an
<a name="line1366"><font color="#000000">1366:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> font, with <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-default}</font> as a fallback for
<a name="line1367"><font color="#000000">1367:</font></a> characters the font does not cover.  The standard fontset is only used if
<a name="line1368"><font color="#000000">1368:</font></a> explicitly requested, despite its name.
<a name="line1369"><font color="#000000">1369:</font></a> 
<a name="line1370"><font color="#000000">1370:</font></a> <b><font color="#0000FF">@findex</font></b> describe-fontset
<a name="line1371"><font color="#000000">1371:</font></a>   To show the information about a specific fontset, use the
<a name="line1372"><font color="#000000">1372:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{M-x describe-fontset}}</font> command.  It prompts for a fontset
<a name="line1373"><font color="#000000">1373:</font></a> name, defaulting to the one used by the current frame, and then
<a name="line1374"><font color="#000000">1374:</font></a> displays all the subranges of characters and the fonts assigned to
<a name="line1375"><font color="#000000">1375:</font></a> them in that fontset.
<a name="line1376"><font color="#000000">1376:</font></a> 
<a name="line1377"><font color="#000000">1377:</font></a>   A fontset does not necessarily specify a font for every character
<a name="line1378"><font color="#000000">1378:</font></a> code.  If a fontset specifies no font for a certain character, or if
<a name="line1379"><font color="#000000">1379:</font></a> it specifies a font that does not exist on your system, then it cannot
<a name="line1380"><font color="#000000">1380:</font></a> display that character properly.  It will display that character as a
<a name="line1381"><font color="#000000">1381:</font></a> hex code or thin space or an empty box instead.  (<b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text Display, ,</font>
<a name="line1382"><font color="#000000">1382:</font></a> <font color="#FF0000">glyphless characters</font><font color="#FF0000">}</font>, for details.)
<a name="line1383"><font color="#000000">1383:</font></a> 
<a name="line1384"><font color="#000000">1384:</font></a> <b><font color="#0000FF">@node</font></b> Defining Fontsets
<a name="line1385"><font color="#000000">1385:</font></a> <b><font color="#0000FF">@section</font></b> Defining Fontsets
<a name="line1386"><font color="#000000">1386:</font></a> 
<a name="line1387"><font color="#000000">1387:</font></a> <b><font color="#0000FF">@vindex</font></b> standard-fontset-spec
<a name="line1388"><font color="#000000">1388:</font></a> <b><font color="#0000FF">@vindex</font></b> w32-standard-fontset-spec
<a name="line1389"><font color="#000000">1389:</font></a> <b><font color="#0000FF">@vindex</font></b> ns-standard-fontset-spec
<a name="line1390"><font color="#000000">1390:</font></a> <i><font color="#9A1900">@cindex standard fontset</font></i>
<a name="line1391"><font color="#000000">1391:</font></a>   When running on X, Emacs creates a standard fontset automatically according to the value
<a name="line1392"><font color="#000000">1392:</font></a> of <b><font color="#0000FF">@code</font></b><font color="#009900">{standard-fontset-spec}</font>.  This fontset's name is
<a name="line1393"><font color="#000000">1393:</font></a> 
<a name="line1394"><font color="#000000">1394:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1395"><font color="#000000">1395:</font></a> -*-fixed-medium-r-normal-*-16-*-*-*-*-*-fontset-standard
<a name="line1396"><font color="#000000">1396:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1397"><font color="#000000">1397:</font></a> 
<a name="line1398"><font color="#000000">1398:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1399"><font color="#000000">1399:</font></a> or just <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-standard}</font> for short.
<a name="line1400"><font color="#000000">1400:</font></a> 
<a name="line1401"><font color="#000000">1401:</font></a>   On GNUstep and macOS, the standard fontset is created using the value of
<a name="line1402"><font color="#000000">1402:</font></a> <i><font color="#9A1900">@code{ns-standard-fontset-spec}, and on MS Windows it is</font></i>
<a name="line1403"><font color="#000000">1403:</font></a> created using the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{w32-standard-fontset-spec}</font>.
<a name="line1404"><font color="#000000">1404:</font></a> 
<a name="line1405"><font color="#000000">1405:</font></a> <i><font color="#9A1900">@c FIXME?  How does one access these, or do anything with them?</font></i>
<a name="line1406"><font color="#000000">1406:</font></a> <i><font color="#9A1900">@c Does it matter?</font></i>
<a name="line1407"><font color="#000000">1407:</font></a>   Bold, italic, and bold-italic variants of the standard fontset are
<a name="line1408"><font color="#000000">1408:</font></a> created automatically.  Their names have <b><font color="#0000FF">@samp</font></b><font color="#009900">{bold}</font> instead of
<a name="line1409"><font color="#000000">1409:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{medium}</font>, or <b><font color="#0000FF">@samp</font></b><font color="#009900">{i}</font> instead of <b><font color="#0000FF">@samp</font></b><font color="#009900">{r}</font>, or both.
<a name="line1410"><font color="#000000">1410:</font></a> 
<a name="line1411"><font color="#000000">1411:</font></a> <i><font color="#9A1900">@cindex startup fontset</font></i>
<a name="line1412"><font color="#000000">1412:</font></a>   Emacs generates a fontset automatically, based on any default
<a name="line1413"><font color="#000000">1413:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> font that you specify with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Font}</font> resource or
<a name="line1414"><font color="#000000">1414:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-fn}</font> argument, or the default font that Emacs found when it
<a name="line1415"><font color="#000000">1415:</font></a> started.  This is the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{startup fontset}</font> and its name is
<a name="line1416"><font color="#000000">1416:</font></a> <i><font color="#9A1900">@code{fontset-startup}.  Emacs generates this fontset by replacing the</font></i>
<a name="line1417"><font color="#000000">1417:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{charset_registry}</font> field with <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset}</font>, and replacing the
<a name="line1418"><font color="#000000">1418:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{charset_encoding}</font> field with <b><font color="#0000FF">@samp</font></b><font color="#009900">{startup}</font>, then using the
<a name="line1419"><font color="#000000">1419:</font></a> resulting string to specify a fontset.
<a name="line1420"><font color="#000000">1420:</font></a> 
<a name="line1421"><font color="#000000">1421:</font></a>   For instance, if you start Emacs with a font of this form,
<a name="line1422"><font color="#000000">1422:</font></a> 
<a name="line1423"><font color="#000000">1423:</font></a> <i><font color="#9A1900">@c FIXME?  I think this is a little misleading, because you cannot (?)</font></i>
<a name="line1424"><font color="#000000">1424:</font></a> <i><font color="#9A1900">@c actually specify a font with wildcards, it has to be a complete spec.</font></i>
<a name="line1425"><font color="#000000">1425:</font></a> <i><font color="#9A1900">@c Also, an X font specification of this form hasn't (?) been</font></i>
<a name="line1426"><font color="#000000">1426:</font></a> <i><font color="#9A1900">@c mentioned before now, and is somewhat obsolete these days.</font></i>
<a name="line1427"><font color="#000000">1427:</font></a> <i><font color="#9A1900">@c People are more likely to use a form like</font></i>
<a name="line1428"><font color="#000000">1428:</font></a> <i><font color="#9A1900">@c emacs -fn "DejaVu Sans Mono-12"</font></i>
<a name="line1429"><font color="#000000">1429:</font></a> <i><font color="#9A1900">@c How does any of this apply in that case?</font></i>
<a name="line1430"><font color="#000000">1430:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1431"><font color="#000000">1431:</font></a> emacs -fn "*courier-medium-r-normal--14-140-*-iso8859-1"
<a name="line1432"><font color="#000000">1432:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1433"><font color="#000000">1433:</font></a> 
<a name="line1434"><font color="#000000">1434:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1435"><font color="#000000">1435:</font></a> Emacs generates the following fontset and uses it for the initial X
<a name="line1436"><font color="#000000">1436:</font></a> window frame:
<a name="line1437"><font color="#000000">1437:</font></a> 
<a name="line1438"><font color="#000000">1438:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1439"><font color="#000000">1439:</font></a> -*-courier-medium-r-normal-*-14-140-*-*-*-*-fontset-startup
<a name="line1440"><font color="#000000">1440:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1441"><font color="#000000">1441:</font></a> 
<a name="line1442"><font color="#000000">1442:</font></a>   The startup fontset will use the font that you specify, or a variant
<a name="line1443"><font color="#000000">1443:</font></a> with a different registry and encoding, for all the characters that
<a name="line1444"><font color="#000000">1444:</font></a> are supported by that font, and fallback on <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-default}</font> for
<a name="line1445"><font color="#000000">1445:</font></a> other characters.
<a name="line1446"><font color="#000000">1446:</font></a> 
<a name="line1447"><font color="#000000">1447:</font></a>   With the X resource <b><font color="#0000FF">@samp</font></b><font color="#009900">{Emacs.Font}</font>, you can specify a fontset name
<a name="line1448"><font color="#000000">1448:</font></a> just like an actual font name.  But be careful not to specify a fontset
<a name="line1449"><font color="#000000">1449:</font></a> name in a wildcard resource like <b><font color="#0000FF">@samp</font></b><font color="#009900">{Emacs*Font}</font>---that wildcard
<a name="line1450"><font color="#000000">1450:</font></a> specification matches various other resources, such as for menus, and
<a name="line1451"><font color="#000000">1451:</font></a> <i><font color="#9A1900">@c FIXME is this still true?</font></i>
<a name="line1452"><font color="#000000">1452:</font></a> menus cannot handle fontsets.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">X Resources</font><font color="#FF0000">}</font>.
<a name="line1453"><font color="#000000">1453:</font></a> 
<a name="line1454"><font color="#000000">1454:</font></a>   You can specify additional fontsets using X resources named
<a name="line1455"><font color="#000000">1455:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Fontset-@var{n}}</font>, where <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> is an integer starting from 0.
<a name="line1456"><font color="#000000">1456:</font></a> The resource value should have this form:
<a name="line1457"><font color="#000000">1457:</font></a> 
<a name="line1458"><font color="#000000">1458:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line1459"><font color="#000000">1459:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{fontpattern}</font>, <b><font color="#0000FF">@r</font></b><font color="#009900">{[}</font><b><font color="#0000FF">@var</font></b><font color="#009900">{charset}</font>:<b><font color="#0000FF">@var</font></b><font color="#009900">{font}</font><b><font color="#0000FF">@r</font></b><font color="#009900">{]@dots{}}</font>
<a name="line1460"><font color="#000000">1460:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line1461"><font color="#000000">1461:</font></a> 
<a name="line1462"><font color="#000000">1462:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1463"><font color="#000000">1463:</font></a> where <b><font color="#0000FF">@var</font></b><font color="#009900">{fontpattern}</font> should have the form of a standard X font name
<a name="line1464"><font color="#000000">1464:</font></a> (see the previous fontset-startup example), except for the last two
<a name="line1465"><font color="#000000">1465:</font></a> fields.  They should have the form <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-@var{alias}}</font>.
<a name="line1466"><font color="#000000">1466:</font></a> 
<a name="line1467"><font color="#000000">1467:</font></a>   Each fontset has two names, one long and one short.  The long name
<a name="line1468"><font color="#000000">1468:</font></a> is  <b><font color="#0000FF">@var</font></b><font color="#009900">{fontpattern}</font>.  The short name is <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-@var{alias}}</font>,
<a name="line1469"><font color="#000000">1469:</font></a> the last 2 fields of the long name (e.g., <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-startup}</font> for
<a name="line1470"><font color="#000000">1470:</font></a> the  fontset automatically created at startup).  You can refer to the
<a name="line1471"><font color="#000000">1471:</font></a> fontset by either name.
<a name="line1472"><font color="#000000">1472:</font></a> 
<a name="line1473"><font color="#000000">1473:</font></a>   The construct <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{charset}:@var{font}}</font> specifies which font to
<a name="line1474"><font color="#000000">1474:</font></a> use (in this fontset) for one particular character set.  Here,
<a name="line1475"><font color="#000000">1475:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{charset}</font> is the name of a character set, and <b><font color="#0000FF">@var</font></b><font color="#009900">{font}</font> is the
<a name="line1476"><font color="#000000">1476:</font></a> font to use for that character set.  You can use this construct any
<a name="line1477"><font color="#000000">1477:</font></a> number of times in defining one fontset.
<a name="line1478"><font color="#000000">1478:</font></a> 
<a name="line1479"><font color="#000000">1479:</font></a>   For the other character sets, Emacs chooses a font based on
<a name="line1480"><font color="#000000">1480:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{fontpattern}</font>.  It replaces <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-@var{alias}}</font> with values
<a name="line1481"><font color="#000000">1481:</font></a> that describe the character set.  For the <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> character font,
<a name="line1482"><font color="#000000">1482:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-@var{alias}}</font> is replaced with <b><font color="#0000FF">@samp</font></b><font color="#009900">{ISO8859-1}</font>.
<a name="line1483"><font color="#000000">1483:</font></a> 
<a name="line1484"><font color="#000000">1484:</font></a>   In addition, when several consecutive fields are wildcards, Emacs
<a name="line1485"><font color="#000000">1485:</font></a> collapses them into a single wildcard.  This is to prevent use of
<a name="line1486"><font color="#000000">1486:</font></a> auto-scaled fonts.  Fonts made by scaling larger fonts are not usable
<a name="line1487"><font color="#000000">1487:</font></a> for editing, and scaling a smaller font is also not useful, because it is
<a name="line1488"><font color="#000000">1488:</font></a> better to use the smaller font in its own size, which is what Emacs
<a name="line1489"><font color="#000000">1489:</font></a> does.
<a name="line1490"><font color="#000000">1490:</font></a> 
<a name="line1491"><font color="#000000">1491:</font></a>   Thus if <b><font color="#0000FF">@var</font></b><font color="#009900">{fontpattern}</font> is this,
<a name="line1492"><font color="#000000">1492:</font></a> 
<a name="line1493"><font color="#000000">1493:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1494"><font color="#000000">1494:</font></a> -*-fixed-medium-r-normal-*-24-*-*-*-*-*-fontset-24
<a name="line1495"><font color="#000000">1495:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1496"><font color="#000000">1496:</font></a> 
<a name="line1497"><font color="#000000">1497:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1498"><font color="#000000">1498:</font></a> the font specification for <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters would be this:
<a name="line1499"><font color="#000000">1499:</font></a> 
<a name="line1500"><font color="#000000">1500:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1501"><font color="#000000">1501:</font></a> -*-fixed-medium-r-normal-*-24-*-ISO8859-1
<a name="line1502"><font color="#000000">1502:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1503"><font color="#000000">1503:</font></a> 
<a name="line1504"><font color="#000000">1504:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1505"><font color="#000000">1505:</font></a> and the font specification for Chinese GB2312 characters would be this:
<a name="line1506"><font color="#000000">1506:</font></a> 
<a name="line1507"><font color="#000000">1507:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1508"><font color="#000000">1508:</font></a> -*-fixed-medium-r-normal-*-24-*-gb2312*-*
<a name="line1509"><font color="#000000">1509:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1510"><font color="#000000">1510:</font></a> 
<a name="line1511"><font color="#000000">1511:</font></a>   You may not have any Chinese font matching the above font
<a name="line1512"><font color="#000000">1512:</font></a> specification.  Most X distributions include only Chinese fonts that
<a name="line1513"><font color="#000000">1513:</font></a> have <b><font color="#0000FF">@samp</font></b><font color="#009900">{song ti}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{fangsong ti}</font> in the <b><font color="#0000FF">@var</font></b><font color="#009900">{family}</font> field.  In
<a name="line1514"><font color="#000000">1514:</font></a> such a case, <b><font color="#0000FF">@samp</font></b><font color="#009900">{Fontset-@var{n}}</font> can be specified as:
<a name="line1515"><font color="#000000">1515:</font></a> 
<a name="line1516"><font color="#000000">1516:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line1517"><font color="#000000">1517:</font></a> Emacs.Fontset-0: -*-fixed-medium-r-normal-*-24-*-*-*-*-*-fontset-24,\
<a name="line1518"><font color="#000000">1518:</font></a>         chinese-gb2312:-*-*-medium-r-normal-*-24-*-gb2312*-*
<a name="line1519"><font color="#000000">1519:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line1520"><font color="#000000">1520:</font></a> 
<a name="line1521"><font color="#000000">1521:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1522"><font color="#000000">1522:</font></a> Then, the font specifications for all but Chinese GB2312 characters have
<a name="line1523"><font color="#000000">1523:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{fixed}</font> in the <b><font color="#0000FF">@var</font></b><font color="#009900">{family}</font> field, and the font specification for
<a name="line1524"><font color="#000000">1524:</font></a> Chinese GB2312 characters has a wild card <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> in the <b><font color="#0000FF">@var</font></b><font color="#009900">{family}</font>
<a name="line1525"><font color="#000000">1525:</font></a> field.
<a name="line1526"><font color="#000000">1526:</font></a> 
<a name="line1527"><font color="#000000">1527:</font></a> <b><font color="#0000FF">@findex</font></b> create-fontset-from-fontset-spec
<a name="line1528"><font color="#000000">1528:</font></a>   The function that processes the fontset resource value to create the
<a name="line1529"><font color="#000000">1529:</font></a> fontset is called <b><font color="#0000FF">@code</font></b><font color="#009900">{create-fontset-from-fontset-spec}</font>.  You can also
<a name="line1530"><font color="#000000">1530:</font></a> call this function explicitly to create a fontset.
<a name="line1531"><font color="#000000">1531:</font></a> 
<a name="line1532"><font color="#000000">1532:</font></a>   <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Fonts</font><font color="#FF0000">}</font>, for more information about font naming.
<a name="line1533"><font color="#000000">1533:</font></a> 
<a name="line1534"><font color="#000000">1534:</font></a> <b><font color="#0000FF">@node</font></b> Modifying Fontsets
<a name="line1535"><font color="#000000">1535:</font></a> <b><font color="#0000FF">@section</font></b> Modifying Fontsets
<a name="line1536"><font color="#000000">1536:</font></a> <i><font color="#9A1900">@cindex fontsets, modifying</font></i>
<a name="line1537"><font color="#000000">1537:</font></a> <b><font color="#0000FF">@findex</font></b> set-fontset-font
<a name="line1538"><font color="#000000">1538:</font></a> 
<a name="line1539"><font color="#000000">1539:</font></a>   Fontsets do not always have to be created from scratch.  If only
<a name="line1540"><font color="#000000">1540:</font></a> minor changes are required it may be easier to modify an existing
<a name="line1541"><font color="#000000">1541:</font></a> fontset.  Modifying <b><font color="#0000FF">@samp</font></b><font color="#009900">{fontset-default}</font> will also affect other
<a name="line1542"><font color="#000000">1542:</font></a> fontsets that use it as a fallback, so can be an effective way of
<a name="line1543"><font color="#000000">1543:</font></a> fixing problems with the fonts that Emacs chooses for a particular
<a name="line1544"><font color="#000000">1544:</font></a> script.
<a name="line1545"><font color="#000000">1545:</font></a> 
<a name="line1546"><font color="#000000">1546:</font></a> Fontsets can be modified using the function <b><font color="#0000FF">@code</font></b><font color="#009900">{set-fontset-font}</font>,
<a name="line1547"><font color="#000000">1547:</font></a> specifying a character, a charset, a script, or a range of characters
<a name="line1548"><font color="#000000">1548:</font></a> to modify the font for, and a font specification for the font to be
<a name="line1549"><font color="#000000">1549:</font></a> used.  Some examples are:
<a name="line1550"><font color="#000000">1550:</font></a> 
<a name="line1551"><font color="#000000">1551:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1552"><font color="#000000">1552:</font></a> ;; Use Liberation Mono for latin-3 charset.
<a name="line1553"><font color="#000000">1553:</font></a> (set-fontset-font "fontset-default" 'iso-8859-3
<a name="line1554"><font color="#000000">1554:</font></a>                   "Liberation Mono")
<a name="line1555"><font color="#000000">1555:</font></a> 
<a name="line1556"><font color="#000000">1556:</font></a> ;; Prefer a big5 font for han characters.
<a name="line1557"><font color="#000000">1557:</font></a> (set-fontset-font "fontset-default"
<a name="line1558"><font color="#000000">1558:</font></a>                   'han (font-spec :registry "big5")
<a name="line1559"><font color="#000000">1559:</font></a>                   nil 'prepend)
<a name="line1560"><font color="#000000">1560:</font></a> 
<a name="line1561"><font color="#000000">1561:</font></a> ;; Use DejaVu Sans Mono as a fallback in fontset-startup
<a name="line1562"><font color="#000000">1562:</font></a> ;; before resorting to fontset-default.
<a name="line1563"><font color="#000000">1563:</font></a> (set-fontset-font "fontset-startup" nil "DejaVu Sans Mono"
<a name="line1564"><font color="#000000">1564:</font></a>                   nil 'append)
<a name="line1565"><font color="#000000">1565:</font></a> 
<a name="line1566"><font color="#000000">1566:</font></a> ;; Use MyPrivateFont for the Unicode private use area.
<a name="line1567"><font color="#000000">1567:</font></a> (set-fontset-font "fontset-default"  '(#xe000 . #xf8ff)
<a name="line1568"><font color="#000000">1568:</font></a>                   "MyPrivateFont")
<a name="line1569"><font color="#000000">1569:</font></a> 
<a name="line1570"><font color="#000000">1570:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1571"><font color="#000000">1571:</font></a> 
<a name="line1572"><font color="#000000">1572:</font></a> <i><font color="#9A1900">@cindex ignore font</font></i>
<a name="line1573"><font color="#000000">1573:</font></a> <i><font color="#9A1900">@cindex fonts, how to ignore</font></i>
<a name="line1574"><font color="#000000">1574:</font></a> <b><font color="#0000FF">@vindex</font></b> face-ignored-fonts
<a name="line1575"><font color="#000000">1575:</font></a>   Some fonts installed on your system might be broken, or produce
<a name="line1576"><font color="#000000">1576:</font></a> unpleasant results for characters for which they are used, and you may
<a name="line1577"><font color="#000000">1577:</font></a> wish to instruct Emacs to completely ignore them while searching for a
<a name="line1578"><font color="#000000">1578:</font></a> suitable font required to display a character.  You can do that by
<a name="line1579"><font color="#000000">1579:</font></a> adding the offending fonts to the value of the variable
<a name="line1580"><font color="#000000">1580:</font></a> <i><font color="#9A1900">@code{face-ignored-fonts}, which is a list.  Here's an example to put</font></i>
<a name="line1581"><font color="#000000">1581:</font></a> in your <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs}</font>:
<a name="line1582"><font color="#000000">1582:</font></a> 
<a name="line1583"><font color="#000000">1583:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1584"><font color="#000000">1584:</font></a> (add-to-list 'face-ignored-fonts "Some Bad Font")
<a name="line1585"><font color="#000000">1585:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1586"><font color="#000000">1586:</font></a> 
<a name="line1587"><font color="#000000">1587:</font></a> <b><font color="#0000FF">@node</font></b> Undisplayable Characters
<a name="line1588"><font color="#000000">1588:</font></a> <b><font color="#0000FF">@section</font></b> Undisplayable Characters
<a name="line1589"><font color="#000000">1589:</font></a> 
<a name="line1590"><font color="#000000">1590:</font></a>   There may be some non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters that your
<a name="line1591"><font color="#000000">1591:</font></a> terminal cannot display.  Most text terminals support just a single
<a name="line1592"><font color="#000000">1592:</font></a> character set (use the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{default-terminal-coding-system}</font>
<a name="line1593"><font color="#000000">1593:</font></a> to tell Emacs which one, <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Terminal Coding</font><font color="#FF0000">}</font>); characters that
<a name="line1594"><font color="#000000">1594:</font></a> can't be encoded in that coding system are displayed as <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font> by
<a name="line1595"><font color="#000000">1595:</font></a> default.
<a name="line1596"><font color="#000000">1596:</font></a> 
<a name="line1597"><font color="#000000">1597:</font></a>   Graphical displays can display a broader range of characters, but
<a name="line1598"><font color="#000000">1598:</font></a> you may not have fonts installed for all of them; characters that have
<a name="line1599"><font color="#000000">1599:</font></a> no font appear as a hollow box.
<a name="line1600"><font color="#000000">1600:</font></a> 
<a name="line1601"><font color="#000000">1601:</font></a>   If you use Latin-1 characters but your terminal can't display
<a name="line1602"><font color="#000000">1602:</font></a> Latin-1, you can arrange to display mnemonic <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> sequences
<a name="line1603"><font color="#000000">1603:</font></a> instead, e.g., <b><font color="#0000FF">@samp</font></b><font color="#009900">{"o}</font> for o-umlaut.  Load the library
<a name="line1604"><font color="#000000">1604:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{iso-ascii}</font> to do this.
<a name="line1605"><font color="#000000">1605:</font></a> 
<a name="line1606"><font color="#000000">1606:</font></a> <b><font color="#0000FF">@vindex</font></b> latin1-display
<a name="line1607"><font color="#000000">1607:</font></a>   If your terminal can display Latin-1, you can display characters
<a name="line1608"><font color="#000000">1608:</font></a> from other European character sets using a mixture of equivalent
<a name="line1609"><font color="#000000">1609:</font></a> Latin-1 characters and <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> mnemonics.  Customize the variable
<a name="line1610"><font color="#000000">1610:</font></a> <i><font color="#9A1900">@code{latin1-display} to enable this.  The mnemonic @acronym{ASCII}</font></i>
<a name="line1611"><font color="#000000">1611:</font></a> sequences mostly correspond to those of the prefix input methods.
<a name="line1612"><font color="#000000">1612:</font></a> 
<a name="line1613"><font color="#000000">1613:</font></a> <b><font color="#0000FF">@node</font></b> Unibyte Mode
<a name="line1614"><font color="#000000">1614:</font></a> <b><font color="#0000FF">@section</font></b> Unibyte Editing Mode
<a name="line1615"><font color="#000000">1615:</font></a> 
<a name="line1616"><font color="#000000">1616:</font></a> <i><font color="#9A1900">@cindex European character sets</font></i>
<a name="line1617"><font color="#000000">1617:</font></a> <i><font color="#9A1900">@cindex accented characters</font></i>
<a name="line1618"><font color="#000000">1618:</font></a> <i><font color="#9A1900">@cindex ISO Latin character sets</font></i>
<a name="line1619"><font color="#000000">1619:</font></a> <i><font color="#9A1900">@cindex Unibyte operation</font></i>
<a name="line1620"><font color="#000000">1620:</font></a>   The ISO 8859 Latin-<b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> character sets define character codes in
<a name="line1621"><font color="#000000">1621:</font></a> the range 0240 to 0377 octal (160 to 255 decimal) to handle the
<a name="line1622"><font color="#000000">1622:</font></a> accented letters and punctuation needed by various European languages
<a name="line1623"><font color="#000000">1623:</font></a> (and some non-European ones).  Note that Emacs considers bytes with
<a name="line1624"><font color="#000000">1624:</font></a> codes in this range as raw bytes, not as characters, even in a unibyte
<a name="line1625"><font color="#000000">1625:</font></a> buffer, i.e., if you disable multibyte characters.  However, Emacs can
<a name="line1626"><font color="#000000">1626:</font></a> still handle these character codes as if they belonged to <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">one</font></i><font color="#FF0000">}</font>
<a name="line1627"><font color="#000000">1627:</font></a> of the single-byte character sets at a time.  To specify <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">which</font></i><font color="#FF0000">}</font>
<a name="line1628"><font color="#000000">1628:</font></a> of these codes to use, invoke <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x set-language-environment}</font> and
<a name="line1629"><font color="#000000">1629:</font></a> specify a suitable language environment such as <b><font color="#0000FF">@samp</font></b><font color="#009900">{Latin-@var{n}}</font>.
<a name="line1630"><font color="#000000">1630:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Disabling Multibyte, , Disabling Multibyte Characters, elisp,</font>
<a name="line1631"><font color="#000000">1631:</font></a> <font color="#FF0000">GNU Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>.
<a name="line1632"><font color="#000000">1632:</font></a> 
<a name="line1633"><font color="#000000">1633:</font></a> <b><font color="#0000FF">@vindex</font></b> unibyte-display-via-language-environment
<a name="line1634"><font color="#000000">1634:</font></a>   Emacs can also display bytes in the range 160 to 255 as readable
<a name="line1635"><font color="#000000">1635:</font></a> characters, provided the terminal or font in use supports them.  This
<a name="line1636"><font color="#000000">1636:</font></a> works automatically.  On a graphical display, Emacs can also display
<a name="line1637"><font color="#000000">1637:</font></a> single-byte characters through fontsets, in effect by displaying the
<a name="line1638"><font color="#000000">1638:</font></a> equivalent multibyte characters according to the current language
<a name="line1639"><font color="#000000">1639:</font></a> environment.  To request this, set the variable
<a name="line1640"><font color="#000000">1640:</font></a> <i><font color="#9A1900">@code{unibyte-display-via-language-environment} to a non-@code{nil}</font></i>
<a name="line1641"><font color="#000000">1641:</font></a> value.  Note that setting this only affects how these bytes are
<a name="line1642"><font color="#000000">1642:</font></a> displayed, but does not change the fundamental fact that Emacs treats
<a name="line1643"><font color="#000000">1643:</font></a> them as raw bytes, not as characters.
<a name="line1644"><font color="#000000">1644:</font></a> 
<a name="line1645"><font color="#000000">1645:</font></a> <i><font color="#9A1900">@cindex @code{iso-ascii} library</font></i>
<a name="line1646"><font color="#000000">1646:</font></a>   If your terminal does not support display of the Latin-1 character
<a name="line1647"><font color="#000000">1647:</font></a> set, Emacs can display these characters as <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> sequences which at
<a name="line1648"><font color="#000000">1648:</font></a> least give you a clear idea of what the characters are.  To do this,
<a name="line1649"><font color="#000000">1649:</font></a> load the library <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-ascii}</font>.  Similar libraries for other
<a name="line1650"><font color="#000000">1650:</font></a> Latin-<b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> character sets could be implemented, but have not been
<a name="line1651"><font color="#000000">1651:</font></a> so far.
<a name="line1652"><font color="#000000">1652:</font></a> 
<a name="line1653"><font color="#000000">1653:</font></a> <b><font color="#0000FF">@findex</font></b> standard-display-8bit
<a name="line1654"><font color="#000000">1654:</font></a> <i><font color="#9A1900">@cindex 8-bit display</font></i>
<a name="line1655"><font color="#000000">1655:</font></a>   Normally non-ISO-8859 characters (decimal codes between 128 and 159
<a name="line1656"><font color="#000000">1656:</font></a> inclusive) are displayed as octal escapes.  You can change this for
<a name="line1657"><font color="#000000">1657:</font></a> non-standard extended versions of ISO-8859 character sets by using the
<a name="line1658"><font color="#000000">1658:</font></a> function <b><font color="#0000FF">@code</font></b><font color="#009900">{standard-display-8bit}</font> in the <b><font color="#0000FF">@code</font></b><font color="#009900">{disp-table}</font> library.
<a name="line1659"><font color="#000000">1659:</font></a> 
<a name="line1660"><font color="#000000">1660:</font></a>   There are two ways to input single-byte non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>
<a name="line1661"><font color="#000000">1661:</font></a> characters:
<a name="line1662"><font color="#000000">1662:</font></a> 
<a name="line1663"><font color="#000000">1663:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line1664"><font color="#000000">1664:</font></a> <i><font color="#9A1900">@cindex 8-bit input</font></i>
<a name="line1665"><font color="#000000">1665:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1666"><font color="#000000">1666:</font></a> You can use an input method for the selected language environment.
<a name="line1667"><font color="#000000">1667:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Input Methods</font><font color="#FF0000">}</font>.  When you use an input method in a unibyte
<a name="line1668"><font color="#000000">1668:</font></a> buffer, the non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> character you specify with it is
<a name="line1669"><font color="#000000">1669:</font></a> converted to unibyte.
<a name="line1670"><font color="#000000">1670:</font></a> 
<a name="line1671"><font color="#000000">1671:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1672"><font color="#000000">1672:</font></a> If your keyboard can generate character codes 128 (decimal) and up,
<a name="line1673"><font color="#000000">1673:</font></a> representing non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters, you can type those
<a name="line1674"><font color="#000000">1674:</font></a> character codes directly.
<a name="line1675"><font color="#000000">1675:</font></a> 
<a name="line1676"><font color="#000000">1676:</font></a> On a graphical display, you should not need to do anything special to
<a name="line1677"><font color="#000000">1677:</font></a> use these keys; they should simply work.  On a text terminal, you
<a name="line1678"><font color="#000000">1678:</font></a> should use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x set-keyboard-coding-system}</font> or
<a name="line1679"><font color="#000000">1679:</font></a> customize the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{keyboard-coding-system}</font> to specify which
<a name="line1680"><font color="#000000">1680:</font></a> coding system your keyboard uses (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Terminal Coding</font><font color="#FF0000">}</font>).  Enabling
<a name="line1681"><font color="#000000">1681:</font></a> this feature will probably require you to use <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font> to type Meta
<a name="line1682"><font color="#000000">1682:</font></a> characters; however, on a console terminal or a terminal emulator such
<a name="line1683"><font color="#000000">1683:</font></a> as <b><font color="#0000FF">@code</font></b><font color="#009900">{xterm}</font>, you can arrange for Meta to be converted to <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font>
<a name="line1684"><font color="#000000">1684:</font></a> and still be able to type 8-bit characters present directly on the
<a name="line1685"><font color="#000000">1685:</font></a> keyboard or using <b><font color="#0000FF">@key</font></b><font color="#009900">{Compose}</font> or <b><font color="#0000FF">@key</font></b><font color="#009900">{AltGr}</font> keys.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">User Input</font><font color="#FF0000">}</font>.
<a name="line1686"><font color="#000000">1686:</font></a> 
<a name="line1687"><font color="#000000">1687:</font></a> <i><font color="#9A1900">@cindex @code{iso-transl} library</font></i>
<a name="line1688"><font color="#000000">1688:</font></a> <i><font color="#9A1900">@cindex compose character</font></i>
<a name="line1689"><font color="#000000">1689:</font></a> <i><font color="#9A1900">@cindex dead character</font></i>
<a name="line1690"><font color="#000000">1690:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1691"><font color="#000000">1691:</font></a> You can use the key <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8}</font> as a compose-character prefix for
<a name="line1692"><font color="#000000">1692:</font></a> entry of non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> Latin-1 and a few other printing
<a name="line1693"><font color="#000000">1693:</font></a> characters.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8}</font> is good for insertion (in the minibuffer as
<a name="line1694"><font color="#000000">1694:</font></a> well as other buffers), for searching, and in any other context where
<a name="line1695"><font color="#000000">1695:</font></a> a key sequence is allowed.
<a name="line1696"><font color="#000000">1696:</font></a> 
<a name="line1697"><font color="#000000">1697:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8}</font> works by loading the <b><font color="#0000FF">@code</font></b><font color="#009900">{iso-transl}</font> library.  Once that
<a name="line1698"><font color="#000000">1698:</font></a> library is loaded, the <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font> modifier key, if the keyboard has
<a name="line1699"><font color="#000000">1699:</font></a> one, serves the same purpose as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8}</font>: use <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font> together
<a name="line1700"><font color="#000000">1700:</font></a> with an accent character to modify the following letter.  In addition,
<a name="line1701"><font color="#000000">1701:</font></a> if the keyboard has keys for the Latin-1 dead accent characters,
<a name="line1702"><font color="#000000">1702:</font></a> they too are defined to compose with the following character, once
<a name="line1703"><font color="#000000">1703:</font></a> <i><font color="#9A1900">@code{iso-transl} is loaded.</font></i>
<a name="line1704"><font color="#000000">1704:</font></a> 
<a name="line1705"><font color="#000000">1705:</font></a> Use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8 C-h}</font> to list all the available <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8}</font> translations.
<a name="line1706"><font color="#000000">1706:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line1707"><font color="#000000">1707:</font></a> 
<a name="line1708"><font color="#000000">1708:</font></a> <b><font color="#0000FF">@node</font></b> Charsets
<a name="line1709"><font color="#000000">1709:</font></a> <b><font color="#0000FF">@section</font></b> Charsets
<a name="line1710"><font color="#000000">1710:</font></a> <i><font color="#9A1900">@cindex charsets</font></i>
<a name="line1711"><font color="#000000">1711:</font></a> 
<a name="line1712"><font color="#000000">1712:</font></a>   In Emacs, <b><font color="#0000FF">@dfn</font></b><font color="#009900">{charset}</font> is short for ``character set''.  Emacs
<a name="line1713"><font color="#000000">1713:</font></a> supports most popular charsets (such as <b><font color="#0000FF">@code</font></b><font color="#009900">{ascii}</font>,
<a name="line1714"><font color="#000000">1714:</font></a> <i><font color="#9A1900">@code{iso-8859-1}, @code{cp1250}, @code{big5}, and @code{unicode}), in</font></i>
<a name="line1715"><font color="#000000">1715:</font></a> addition to some charsets of its own (such as <b><font color="#0000FF">@code</font></b><font color="#009900">{emacs}</font>,
<a name="line1716"><font color="#000000">1716:</font></a> <i><font color="#9A1900">@code{unicode-bmp}, and @code{eight-bit}).  All supported characters</font></i>
<a name="line1717"><font color="#000000">1717:</font></a> belong to one or more charsets.
<a name="line1718"><font color="#000000">1718:</font></a> 
<a name="line1719"><font color="#000000">1719:</font></a>   Emacs normally does the right thing with respect to charsets, so
<a name="line1720"><font color="#000000">1720:</font></a> that you don't have to worry about them.  However, it is sometimes
<a name="line1721"><font color="#000000">1721:</font></a> helpful to know some of the underlying details about charsets.
<a name="line1722"><font color="#000000">1722:</font></a> 
<a name="line1723"><font color="#000000">1723:</font></a>   One example is font selection (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Fonts</font><font color="#FF0000">}</font>).  Each language
<a name="line1724"><font color="#000000">1724:</font></a> environment (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments</font><font color="#FF0000">}</font>) defines a priority
<a name="line1725"><font color="#000000">1725:</font></a> list for the various charsets.  When searching for a font, Emacs
<a name="line1726"><font color="#000000">1726:</font></a> initially attempts to find one that can display the highest-priority
<a name="line1727"><font color="#000000">1727:</font></a> charsets.  For instance, in the Japanese language environment, the
<a name="line1728"><font color="#000000">1728:</font></a> charset <b><font color="#0000FF">@code</font></b><font color="#009900">{japanese-jisx0208}</font> has the highest priority, so Emacs
<a name="line1729"><font color="#000000">1729:</font></a> tries to use a font whose <b><font color="#0000FF">@code</font></b><font color="#009900">{registry}</font> property is
<a name="line1730"><font color="#000000">1730:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{JISX0208.1983-0}</font>.
<a name="line1731"><font color="#000000">1731:</font></a> 
<a name="line1732"><font color="#000000">1732:</font></a> <b><font color="#0000FF">@findex</font></b> list-charset-chars
<a name="line1733"><font color="#000000">1733:</font></a> <i><font color="#9A1900">@cindex characters in a certain charset</font></i>
<a name="line1734"><font color="#000000">1734:</font></a> <b><font color="#0000FF">@findex</font></b> describe-character-set
<a name="line1735"><font color="#000000">1735:</font></a>   There are two commands that can be used to obtain information about
<a name="line1736"><font color="#000000">1736:</font></a> charsets.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-charset-chars}</font> prompts for a
<a name="line1737"><font color="#000000">1737:</font></a> charset name, and displays all the characters in that character set.
<a name="line1738"><font color="#000000">1738:</font></a> The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x describe-character-set}</font> prompts for a charset
<a name="line1739"><font color="#000000">1739:</font></a> name, and displays information about that charset, including its
<a name="line1740"><font color="#000000">1740:</font></a> internal representation within Emacs.
<a name="line1741"><font color="#000000">1741:</font></a> 
<a name="line1742"><font color="#000000">1742:</font></a> <b><font color="#0000FF">@findex</font></b> list-character-sets
<a name="line1743"><font color="#000000">1743:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-character-sets}</font> displays a list of all supported
<a name="line1744"><font color="#000000">1744:</font></a> charsets.  The list gives the names of charsets and additional
<a name="line1745"><font color="#000000">1745:</font></a> information to identity each charset; for more details, see the
<a name="line1746"><font color="#000000">1746:</font></a> <b><font color="#0000FF">@url</font></b><font color="#009900">{https://www.itscj.ipsj.or.jp/itscj_english/iso-ir/ISO-IR.pdf,</font>
<a name="line1747"><font color="#000000">1747:</font></a> <font color="#009900">ISO International Register of Coded Character Sets to be Used with</font>
<a name="line1748"><font color="#000000">1748:</font></a> <font color="#009900">Escape Sequences (ISO-IR)}</font> maintained by
<a name="line1749"><font color="#000000">1749:</font></a> the <b><font color="#0000FF">@url</font></b><font color="#009900">{https://www.itscj.ipsj.or.jp/itscj_english/,</font>
<a name="line1750"><font color="#000000">1750:</font></a> <font color="#009900">Information Processing Society of Japan/Information Technology</font>
<a name="line1751"><font color="#000000">1751:</font></a> <font color="#009900">Standards Commission of Japan (IPSJ/ITSCJ)}</font>.  In this list,
<a name="line1752"><font color="#000000">1752:</font></a> charsets are divided into two categories: <b><font color="#0000FF">@dfn</font></b><font color="#009900">{normal charsets}</font> are
<a name="line1753"><font color="#000000">1753:</font></a> listed first, followed by <b><font color="#0000FF">@dfn</font></b><font color="#009900">{supplementary charsets}</font>.  A
<a name="line1754"><font color="#000000">1754:</font></a> supplementary charset is one that is used to define another charset
<a name="line1755"><font color="#000000">1755:</font></a> (as a parent or a subset), or to provide backward-compatibility for
<a name="line1756"><font color="#000000">1756:</font></a> older Emacs versions.
<a name="line1757"><font color="#000000">1757:</font></a> 
<a name="line1758"><font color="#000000">1758:</font></a>   To find out which charset a character in the buffer belongs to, put
<a name="line1759"><font color="#000000">1759:</font></a> point before it and type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x =}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">International</font>
<a name="line1760"><font color="#000000">1760:</font></a> <font color="#FF0000">Chars</font><font color="#FF0000">}</font>).
<a name="line1761"><font color="#000000">1761:</font></a> 
<a name="line1762"><font color="#000000">1762:</font></a> <b><font color="#0000FF">@node</font></b> Bidirectional Editing
<a name="line1763"><font color="#000000">1763:</font></a> <b><font color="#0000FF">@section</font></b> Bidirectional Editing
<a name="line1764"><font color="#000000">1764:</font></a> <i><font color="#9A1900">@cindex bidirectional editing</font></i>
<a name="line1765"><font color="#000000">1765:</font></a> <i><font color="#9A1900">@cindex right-to-left text</font></i>
<a name="line1766"><font color="#000000">1766:</font></a> 
<a name="line1767"><font color="#000000">1767:</font></a>   Emacs supports editing text written in scripts, such as Arabic,
<a name="line1768"><font color="#000000">1768:</font></a> Farsi, and Hebrew, whose natural ordering of horizontal text for
<a name="line1769"><font color="#000000">1769:</font></a> display is from right to left.  However, digits and Latin text
<a name="line1770"><font color="#000000">1770:</font></a> embedded in these scripts are still displayed left to right.  It is
<a name="line1771"><font color="#000000">1771:</font></a> also not uncommon to have small portions of text in Arabic or Hebrew
<a name="line1772"><font color="#000000">1772:</font></a> embedded in an otherwise Latin document; e.g., as comments and strings
<a name="line1773"><font color="#000000">1773:</font></a> in a program source file.  For these reasons, text that uses these
<a name="line1774"><font color="#000000">1774:</font></a> scripts is actually <b><font color="#0000FF">@dfn</font></b><font color="#009900">{bidirectional}</font>: a mixture of runs of
<a name="line1775"><font color="#000000">1775:</font></a> left-to-right and right-to-left characters.
<a name="line1776"><font color="#000000">1776:</font></a> 
<a name="line1777"><font color="#000000">1777:</font></a>   This section describes the facilities and options provided by Emacs
<a name="line1778"><font color="#000000">1778:</font></a> for editing bidirectional text.
<a name="line1779"><font color="#000000">1779:</font></a> 
<a name="line1780"><font color="#000000">1780:</font></a> <i><font color="#9A1900">@cindex logical order</font></i>
<a name="line1781"><font color="#000000">1781:</font></a> <i><font color="#9A1900">@cindex visual order</font></i>
<a name="line1782"><font color="#000000">1782:</font></a>   Emacs stores right-to-left and bidirectional text in the so-called
<a name="line1783"><font color="#000000">1783:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{logical}</font> (or <b><font color="#0000FF">@dfn</font></b><font color="#009900">{reading}</font>) order: the buffer or string position
<a name="line1784"><font color="#000000">1784:</font></a> of the first character you read precedes that of the next character.
<a name="line1785"><font color="#000000">1785:</font></a> Reordering of bidirectional text into the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{visual}</font> order happens
<a name="line1786"><font color="#000000">1786:</font></a> at display time.  As a result, character positions no longer increase
<a name="line1787"><font color="#000000">1787:</font></a> monotonically with their positions on display.  Emacs implements the
<a name="line1788"><font color="#000000">1788:</font></a> Unicode Bidirectional Algorithm (UBA) described in the
<a name="line1789"><font color="#000000">1789:</font></a> <b><font color="#0000FF">@uref</font></b><font color="#FF0000">{</font><font color="#FF0000">http://unicode.org/reports/tr9/, Unicode Standard Annex #9</font><font color="#FF0000">}</font>, for
<a name="line1790"><font color="#000000">1790:</font></a> reordering of bidirectional text for display.
<a name="line1791"><font color="#000000">1791:</font></a> It deviates from the UBA only in how continuation lines are displayed
<a name="line1792"><font color="#000000">1792:</font></a> when text direction is opposite to the base paragraph direction,
<a name="line1793"><font color="#000000">1793:</font></a> e.g., when a long line of English text appears in a right-to-left
<a name="line1794"><font color="#000000">1794:</font></a> paragraph.
<a name="line1795"><font color="#000000">1795:</font></a> 
<a name="line1796"><font color="#000000">1796:</font></a> <b><font color="#0000FF">@vindex</font></b> bidi-display-reordering
<a name="line1797"><font color="#000000">1797:</font></a>   The buffer-local variable <b><font color="#0000FF">@code</font></b><font color="#009900">{bidi-display-reordering}</font> controls
<a name="line1798"><font color="#000000">1798:</font></a> whether text in the buffer is reordered for display.  If its value is
<a name="line1799"><font color="#000000">1799:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, Emacs reorders characters that have right-to-left
<a name="line1800"><font color="#000000">1800:</font></a> directionality when they are displayed.  The default value is
<a name="line1801"><font color="#000000">1801:</font></a> <i><font color="#9A1900">@code{t}.</font></i>
<a name="line1802"><font color="#000000">1802:</font></a> 
<a name="line1803"><font color="#000000">1803:</font></a> <i><font color="#9A1900">@cindex base direction of paragraphs</font></i>
<a name="line1804"><font color="#000000">1804:</font></a> <i><font color="#9A1900">@cindex paragraph, base direction</font></i>
<a name="line1805"><font color="#000000">1805:</font></a> <b><font color="#0000FF">@vindex</font></b> bidi-paragraph-start-re
<a name="line1806"><font color="#000000">1806:</font></a> <b><font color="#0000FF">@vindex</font></b> bidi-paragraph-separate-re
<a name="line1807"><font color="#000000">1807:</font></a>   Each paragraph of bidirectional text can have its own <b><font color="#0000FF">@dfn</font></b><font color="#009900">{base</font>
<a name="line1808"><font color="#000000">1808:</font></a> <font color="#009900">direction}</font>, either right-to-left or left-to-right.  Text in
<a name="line1809"><font color="#000000">1809:</font></a> left-to-right paragraphs begins on the screen at the left margin of
<a name="line1810"><font color="#000000">1810:</font></a> the window and is truncated or continued when it reaches the right
<a name="line1811"><font color="#000000">1811:</font></a> margin.  By contrast, text in right-to-left paragraphs is displayed
<a name="line1812"><font color="#000000">1812:</font></a> starting at the right margin and is continued or truncated at the left
<a name="line1813"><font color="#000000">1813:</font></a> margin.  By default, paragraph boundaries are empty lines, i.e., lines
<a name="line1814"><font color="#000000">1814:</font></a> consisting entirely of whitespace characters.  To change that, you can
<a name="line1815"><font color="#000000">1815:</font></a> customize the two variables <b><font color="#0000FF">@code</font></b><font color="#009900">{bidi-paragraph-start-re}</font> and
<a name="line1816"><font color="#000000">1816:</font></a> <i><font color="#9A1900">@code{bidi-paragraph-separate-re}, whose values should be regular</font></i>
<a name="line1817"><font color="#000000">1817:</font></a> expressions (strings); e.g., to have a single newline start a new
<a name="line1818"><font color="#000000">1818:</font></a> paragraph, set both of these variables to <b><font color="#0000FF">@code</font></b><font color="#009900">{"^"}</font>.  These two
<a name="line1819"><font color="#000000">1819:</font></a> variables are buffer-local (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Locals</font><font color="#FF0000">}</font>).
<a name="line1820"><font color="#000000">1820:</font></a> 
<a name="line1821"><font color="#000000">1821:</font></a> <b><font color="#0000FF">@vindex</font></b> bidi-paragraph-direction
<a name="line1822"><font color="#000000">1822:</font></a>   Emacs determines the base direction of each paragraph dynamically,
<a name="line1823"><font color="#000000">1823:</font></a> based on the text at the beginning of the paragraph.  However,
<a name="line1824"><font color="#000000">1824:</font></a> sometimes a buffer may need to force a certain base direction for its
<a name="line1825"><font color="#000000">1825:</font></a> paragraphs.  The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{bidi-paragraph-direction}</font>, if
<a name="line1826"><font color="#000000">1826:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, disables the dynamic determination of the base
<a name="line1827"><font color="#000000">1827:</font></a> direction, and instead forces all paragraphs in the buffer to have the
<a name="line1828"><font color="#000000">1828:</font></a> direction specified by its buffer-local value.  The value can be either
<a name="line1829"><font color="#000000">1829:</font></a> <i><font color="#9A1900">@code{right-to-left} or @code{left-to-right}.  Any other value is</font></i>
<a name="line1830"><font color="#000000">1830:</font></a> interpreted as <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line1831"><font color="#000000">1831:</font></a> 
<a name="line1832"><font color="#000000">1832:</font></a> <i><font color="#9A1900">@cindex LRM</font></i>
<a name="line1833"><font color="#000000">1833:</font></a> <i><font color="#9A1900">@cindex RLM</font></i>
<a name="line1834"><font color="#000000">1834:</font></a>   Alternatively, you can control the base direction of a paragraph by
<a name="line1835"><font color="#000000">1835:</font></a> inserting special formatting characters in front of the paragraph.
<a name="line1836"><font color="#000000">1836:</font></a> The special character <b><font color="#0000FF">@code</font></b><font color="#009900">{RIGHT-TO-LEFT MARK}</font>, or <b><font color="#0000FF">@sc</font></b><font color="#009900">{rlm}</font>, forces
<a name="line1837"><font color="#000000">1837:</font></a> the right-to-left direction on the following paragraph, while
<a name="line1838"><font color="#000000">1838:</font></a> <i><font color="#9A1900">@code{LEFT-TO-RIGHT MARK}, or @sc{lrm} forces the left-to-right</font></i>
<a name="line1839"><font color="#000000">1839:</font></a> direction.  (You can use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8 @key{RET}}</font> to insert these characters.)
<a name="line1840"><font color="#000000">1840:</font></a> In a GUI session, the <b><font color="#0000FF">@sc</font></b><font color="#009900">{lrm}</font> and <b><font color="#0000FF">@sc</font></b><font color="#009900">{rlm}</font> characters display as very
<a name="line1841"><font color="#000000">1841:</font></a> thin blank characters; on text terminals they display as blanks.
<a name="line1842"><font color="#000000">1842:</font></a> 
<a name="line1843"><font color="#000000">1843:</font></a>   Because characters are reordered for display, Emacs commands that
<a name="line1844"><font color="#000000">1844:</font></a> operate in the logical order or on stretches of buffer positions may
<a name="line1845"><font color="#000000">1845:</font></a> produce unusual effects.  For example, the commands <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font> and
<a name="line1846"><font color="#000000">1846:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-b}</font> move point in the logical order, so the cursor will
<a name="line1847"><font color="#000000">1847:</font></a> sometimes jump when point traverses reordered bidirectional text.
<a name="line1848"><font color="#000000">1848:</font></a> Similarly, a highlighted region covering a contiguous range of
<a name="line1849"><font color="#000000">1849:</font></a> character positions may look discontinuous if the region spans
<a name="line1850"><font color="#000000">1850:</font></a> reordered text.  This is normal and similar to the behavior of other
<a name="line1851"><font color="#000000">1851:</font></a> programs that support bidirectional text.
<a name="line1852"><font color="#000000">1852:</font></a> 
<a name="line1853"><font color="#000000">1853:</font></a> <b><font color="#0000FF">@kindex</font></b> RIGHT<b><font color="#0000FF">@r</font></b><font color="#009900">{, and bidirectional text}</font>
<a name="line1854"><font color="#000000">1854:</font></a> <b><font color="#0000FF">@kindex</font></b> LEFT<b><font color="#0000FF">@r</font></b><font color="#009900">{, and bidirectional text}</font>
<a name="line1855"><font color="#000000">1855:</font></a> <b><font color="#0000FF">@findex</font></b> right-char<b><font color="#0000FF">@r</font></b><font color="#009900">{, and bidirectional text}</font>
<a name="line1856"><font color="#000000">1856:</font></a> <b><font color="#0000FF">@findex</font></b> left-char<b><font color="#0000FF">@r</font></b><font color="#009900">{, and bidirectional text}</font>
<a name="line1857"><font color="#000000">1857:</font></a>   Cursor motion commands bound to arrow keys, such as <b><font color="#0000FF">@key</font></b><font color="#009900">{LEFT}</font> and
<a name="line1858"><font color="#000000">1858:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@key{RIGHT}}</font>, are sensitive to the base direction of the
<a name="line1859"><font color="#000000">1859:</font></a> current paragraph.  In a left-to-right paragraph, commands bound to
<a name="line1860"><font color="#000000">1860:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{RIGHT}</font> with or without modifiers move <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">forward</font></i><font color="#FF0000">}</font> through
<a name="line1861"><font color="#000000">1861:</font></a> buffer text, but in a right-to-left paragraph they move
<a name="line1862"><font color="#000000">1862:</font></a> <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">backward</font></i><font color="#FF0000">}</font> instead.  This reflects the fact that in a
<a name="line1863"><font color="#000000">1863:</font></a> right-to-left paragraph buffer positions predominantly increase when
<a name="line1864"><font color="#000000">1864:</font></a> moving to the left on display.
<a name="line1865"><font color="#000000">1865:</font></a> 
<a name="line1866"><font color="#000000">1866:</font></a>   When you move out of a paragraph, the meaning of the arrow keys
<a name="line1867"><font color="#000000">1867:</font></a> might change if the base direction of the preceding or the following
<a name="line1868"><font color="#000000">1868:</font></a> paragraph is different from the paragraph out of which you moved.
<a name="line1869"><font color="#000000">1869:</font></a> When that happens, you need to adjust the arrow key you press to the
<a name="line1870"><font color="#000000">1870:</font></a> new base direction.
<a name="line1871"><font color="#000000">1871:</font></a> 
<a name="line1872"><font color="#000000">1872:</font></a> <b><font color="#0000FF">@vindex</font></b> visual-order-cursor-movement
<a name="line1873"><font color="#000000">1873:</font></a> <i><font color="#9A1900">@cindex cursor, visual-order motion</font></i>
<a name="line1874"><font color="#000000">1874:</font></a>   By default, <b><font color="#0000FF">@key</font></b><font color="#009900">{LEFT}</font> and <b><font color="#0000FF">@key</font></b><font color="#009900">{RIGHT}</font> move in the logical order,
<a name="line1875"><font color="#000000">1875:</font></a> but if <b><font color="#0000FF">@code</font></b><font color="#009900">{visual-order-cursor-movement}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, these
<a name="line1876"><font color="#000000">1876:</font></a> commands move to the character that is, correspondingly, to the left
<a name="line1877"><font color="#000000">1877:</font></a> or right of the current screen position, moving to the next or
<a name="line1878"><font color="#000000">1878:</font></a> previous screen line as appropriate.  Note that this might potentially
<a name="line1879"><font color="#000000">1879:</font></a> move point many buffer positions away, depending on the surrounding
<a name="line1880"><font color="#000000">1880:</font></a> bidirectional context.
<a name="line1881"><font color="#000000">1881:</font></a> </tt></pre>
