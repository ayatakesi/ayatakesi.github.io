<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">001:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line2"><font color="#000000">002:</font></a> <i><font color="#9A1900">@c Copyright (C) 1985-1987, 1993-1995, 1997, 2000-2018 Free Software</font></i>
<a name="line3"><font color="#000000">003:</font></a> <i><font color="#9A1900">@c Foundation, Inc.</font></i>
<a name="line4"><font color="#000000">004:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line5"><font color="#000000">005:</font></a> <b><font color="#0000FF">@node</font></b> Sending Mail
<a name="line6"><font color="#000000">006:</font></a> <i><font color="#9A1900">@chapter Sending Mail</font></i>
<a name="line7"><font color="#000000">007:</font></a> <i><font color="#9A1900">@cindex sending mail</font></i>
<a name="line8"><font color="#000000">008:</font></a> <i><font color="#9A1900">@cindex mail</font></i>
<a name="line9"><font color="#000000">009:</font></a> <i><font color="#9A1900">@cindex email</font></i>
<a name="line10"><font color="#000000">010:</font></a> <i><font color="#9A1900">@cindex message</font></i>
<a name="line11"><font color="#000000">011:</font></a> 
<a name="line12"><font color="#000000">012:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x m
<a name="line13"><font color="#000000">013:</font></a> <b><font color="#0000FF">@findex</font></b> compose-mail
<a name="line14"><font color="#000000">014:</font></a>   To send an email message from Emacs, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font>.  This
<a name="line15"><font color="#000000">015:</font></a> switches to a buffer named <b><font color="#0000FF">@file</font></b><font color="#009900">{*unsent mail*}</font>, where you can edit
<a name="line16"><font color="#000000">016:</font></a> the text and headers of the message.  When done, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-s}</font> or
<a name="line17"><font color="#000000">017:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> to send it.
<a name="line18"><font color="#000000">018:</font></a> 
<a name="line19"><font color="#000000">019:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line20"><font color="#000000">020:</font></a> <b><font color="#0000FF">@item</font></b> C-x m
<a name="line21"><font color="#000000">021:</font></a> Begin composing mail (<b><font color="#0000FF">@code</font></b><font color="#009900">{compose-mail}</font>).
<a name="line22"><font color="#000000">022:</font></a> <b><font color="#0000FF">@item</font></b> C-x 4 m
<a name="line23"><font color="#000000">023:</font></a> Likewise, in another window (<b><font color="#0000FF">@code</font></b><font color="#009900">{compose-mail-other-window}</font>).
<a name="line24"><font color="#000000">024:</font></a> <b><font color="#0000FF">@item</font></b> C-x 5 m
<a name="line25"><font color="#000000">025:</font></a> Likewise, but in a new frame (<b><font color="#0000FF">@code</font></b><font color="#009900">{compose-mail-other-frame}</font>).
<a name="line26"><font color="#000000">026:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-s
<a name="line27"><font color="#000000">027:</font></a> In the mail buffer, send the message (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-send}</font>).
<a name="line28"><font color="#000000">028:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-c
<a name="line29"><font color="#000000">029:</font></a> In the mail buffer, send the message and bury the buffer
<a name="line30"><font color="#000000">030:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-send-and-exit}</font>).
<a name="line31"><font color="#000000">031:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line32"><font color="#000000">032:</font></a> 
<a name="line33"><font color="#000000">033:</font></a>   The mail buffer is an ordinary Emacs buffer, so you can switch to
<a name="line34"><font color="#000000">034:</font></a> other buffers while composing the mail.  If you want to send another
<a name="line35"><font color="#000000">035:</font></a> mail before finishing the current one, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font> again to open
<a name="line36"><font color="#000000">036:</font></a> a new mail buffer whose name has a different numeric suffix
<a name="line37"><font color="#000000">037:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Misc Buffer</font><font color="#FF0000">}</font>).  If you invoke the command with a prefix
<a name="line38"><font color="#000000">038:</font></a> argument, <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-u C-x m}}</font>, Emacs switches back to the last mail
<a name="line39"><font color="#000000">039:</font></a> buffer, and asks if you want to erase the message in that buffer; if
<a name="line40"><font color="#000000">040:</font></a> you answer no, this lets you pick up editing the message where you
<a name="line41"><font color="#000000">041:</font></a> left off.
<a name="line42"><font color="#000000">042:</font></a> 
<a name="line43"><font color="#000000">043:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 4 m
<a name="line44"><font color="#000000">044:</font></a> <b><font color="#0000FF">@findex</font></b> compose-mail-other-window
<a name="line45"><font color="#000000">045:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 5 m
<a name="line46"><font color="#000000">046:</font></a> <b><font color="#0000FF">@findex</font></b> compose-mail-other-frame
<a name="line47"><font color="#000000">047:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 m}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{compose-mail-other-window}</font>) does
<a name="line48"><font color="#000000">048:</font></a> the same as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font>, except it displays the mail buffer in a
<a name="line49"><font color="#000000">049:</font></a> different window.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 5 m}</font>
<a name="line50"><font color="#000000">050:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{compose-mail-other-frame}</font>) does it in a new frame.
<a name="line51"><font color="#000000">051:</font></a> 
<a name="line52"><font color="#000000">052:</font></a>   When you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-s}</font> to send the mail, Emacs
<a name="line53"><font color="#000000">053:</font></a> may ask you how it should deliver the mail---either directly via SMTP,
<a name="line54"><font color="#000000">054:</font></a> or using some other method.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mail Sending</font><font color="#FF0000">}</font>, for details.
<a name="line55"><font color="#000000">055:</font></a> 
<a name="line56"><font color="#000000">056:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line57"><font color="#000000">057:</font></a> * Format: Mail Format.        Format of a mail message.
<a name="line58"><font color="#000000">058:</font></a> * Headers: Mail Headers.      Details of some standard mail header fields.
<a name="line59"><font color="#000000">059:</font></a> * Aliases: Mail Aliases.      Abbreviating and grouping mail addresses.
<a name="line60"><font color="#000000">060:</font></a> * Commands: Mail Commands.    Special commands for editing mail being composed.
<a name="line61"><font color="#000000">061:</font></a> * Signature: Mail Signature.  Adding a signature to every message.
<a name="line62"><font color="#000000">062:</font></a> * Amuse: Mail Amusements.     Distracting the NSA; adding fortune messages.
<a name="line63"><font color="#000000">063:</font></a> * Methods: Mail Methods.      Using alternative mail-composition methods.
<a name="line64"><font color="#000000">064:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line65"><font color="#000000">065:</font></a> 
<a name="line66"><font color="#000000">066:</font></a> <b><font color="#0000FF">@node</font></b> Mail Format
<a name="line67"><font color="#000000">067:</font></a> <b><font color="#0000FF">@section</font></b> The Format of the Mail Buffer
<a name="line68"><font color="#000000">068:</font></a> 
<a name="line69"><font color="#000000">069:</font></a>   Here is an example of the contents of a mail buffer:
<a name="line70"><font color="#000000">070:</font></a> 
<a name="line71"><font color="#000000">071:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line72"><font color="#000000">072:</font></a> To: subotai<b><font color="#0000FF">@@example.org</font></b>
<a name="line73"><font color="#000000">073:</font></a> CC: mongol.soldier<b><font color="#0000FF">@@example.net,</font></b> rms<b><font color="#0000FF">@@gnu.org</font></b>
<a name="line74"><font color="#000000">074:</font></a> Subject: Re: What is best in life?
<a name="line75"><font color="#000000">075:</font></a> From: conan<b><font color="#0000FF">@@example.org</font></b>
<a name="line76"><font color="#000000">076:</font></a> --text follows this line--
<a name="line77"><font color="#000000">077:</font></a> To crush your enemies, see them driven before you, and to
<a name="line78"><font color="#000000">078:</font></a> hear the lamentation of their women.
<a name="line79"><font color="#000000">079:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line80"><font color="#000000">080:</font></a> 
<a name="line81"><font color="#000000">081:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line82"><font color="#000000">082:</font></a> At the top of the mail buffer is a set of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{header fields}</font>, which
<a name="line83"><font color="#000000">083:</font></a> are used for specifying information about the email's recipient(s),
<a name="line84"><font color="#000000">084:</font></a> subject, and so on.  The above buffer contains header fields for
<a name="line85"><font color="#000000">085:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{To}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{CC}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{Subject}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{From}</font>.  Some header
<a name="line86"><font color="#000000">086:</font></a> fields are automatically pre-initialized in the mail buffer, when
<a name="line87"><font color="#000000">087:</font></a> appropriate.
<a name="line88"><font color="#000000">088:</font></a> 
<a name="line89"><font color="#000000">089:</font></a>   The line that says <b><font color="#0000FF">@samp</font></b><font color="#009900">{--text follows this line--}</font> separates the
<a name="line90"><font color="#000000">090:</font></a> header fields from the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{body}</font> (or <b><font color="#0000FF">@dfn</font></b><font color="#009900">{text}</font>) of the message.
<a name="line91"><font color="#000000">091:</font></a> Everything above that line is treated as part of the headers;
<a name="line92"><font color="#000000">092:</font></a> everything below it is treated as the body.  The delimiter line itself
<a name="line93"><font color="#000000">093:</font></a> does not appear in the message actually sent.
<a name="line94"><font color="#000000">094:</font></a> 
<a name="line95"><font color="#000000">095:</font></a>   You can insert and edit header fields using ordinary editing
<a name="line96"><font color="#000000">096:</font></a> commands.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Header Editing</font><font color="#FF0000">}</font>, for commands specific to editing
<a name="line97"><font color="#000000">097:</font></a> header fields.  Certain headers, such as <b><font color="#0000FF">@samp</font></b><font color="#009900">{Date}</font> and
<a name="line98"><font color="#000000">098:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Message-Id}</font>, are normally omitted from the mail buffer and are
<a name="line99"><font color="#000000">099:</font></a> created automatically when the message is sent.
<a name="line100"><font color="#000000">100:</font></a> 
<a name="line101"><font color="#000000">101:</font></a> <b><font color="#0000FF">@node</font></b> Mail Headers
<a name="line102"><font color="#000000">102:</font></a> <b><font color="#0000FF">@section</font></b> Mail Header Fields
<a name="line103"><font color="#000000">103:</font></a> <i><font color="#9A1900">@cindex headers (of mail message)</font></i>
<a name="line104"><font color="#000000">104:</font></a> 
<a name="line105"><font color="#000000">105:</font></a>   A header field in the mail buffer starts with a field name at the
<a name="line106"><font color="#000000">106:</font></a> beginning of a line, terminated by a colon.  Upper and lower case are
<a name="line107"><font color="#000000">107:</font></a> equivalent in field names.  After the colon and optional whitespace
<a name="line108"><font color="#000000">108:</font></a> comes the contents of the field.
<a name="line109"><font color="#000000">109:</font></a> 
<a name="line110"><font color="#000000">110:</font></a>   You can use any name you like for a header field, but normally
<a name="line111"><font color="#000000">111:</font></a> people use only standard field names with accepted meanings.
<a name="line112"><font color="#000000">112:</font></a> 
<a name="line113"><font color="#000000">113:</font></a> <b><font color="#0000FF">@vindex</font></b> user-full-name
<a name="line114"><font color="#000000">114:</font></a> <b><font color="#0000FF">@vindex</font></b> user-mail-address
<a name="line115"><font color="#000000">115:</font></a>   The <b><font color="#0000FF">@samp</font></b><font color="#009900">{From}</font> header field identifies the person sending the email
<a name="line116"><font color="#000000">116:</font></a> (i.e., you).  This should be a valid mailing address, as replies are
<a name="line117"><font color="#000000">117:</font></a> normally sent there.  The default contents of this header field are
<a name="line118"><font color="#000000">118:</font></a> computed from the variables <b><font color="#0000FF">@code</font></b><font color="#009900">{user-full-name}</font> (which specifies
<a name="line119"><font color="#000000">119:</font></a> your full name) and <b><font color="#0000FF">@code</font></b><font color="#009900">{user-mail-address}</font> (your email address).  On
<a name="line120"><font color="#000000">120:</font></a> some operating systems, Emacs initializes these two variables using
<a name="line121"><font color="#000000">121:</font></a> environment variables (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">General Variables</font><font color="#FF0000">}</font>).  If this
<a name="line122"><font color="#000000">122:</font></a> information is unavailable or wrong, you should customize the
<a name="line123"><font color="#000000">123:</font></a> variables yourself (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Easy Customization</font><font color="#FF0000">}</font>).
<a name="line124"><font color="#000000">124:</font></a> 
<a name="line125"><font color="#000000">125:</font></a> <b><font color="#0000FF">@vindex</font></b> mail-from-style
<a name="line126"><font color="#000000">126:</font></a>   The value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{mail-from-style}</font> specifies how to
<a name="line127"><font color="#000000">127:</font></a> format the contents of the <b><font color="#0000FF">@samp</font></b><font color="#009900">{From}</font> field:
<a name="line128"><font color="#000000">128:</font></a> 
<a name="line129"><font color="#000000">129:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line130"><font color="#000000">130:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{nil}</font></i>
<a name="line131"><font color="#000000">131:</font></a> Use just the address, as in <b><font color="#0000FF">@samp</font></b><font color="#009900">{king@@grassland.com}</font>.
<a name="line132"><font color="#000000">132:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{parens}</font></i>
<a name="line133"><font color="#000000">133:</font></a> Use both address and full name, as in:<b><font color="#0000FF">@*</font></b>
<a name="line134"><font color="#000000">134:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{king@@grassland.com (Elvis Parsley)}</font>.
<a name="line135"><font color="#000000">135:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{angles}</font></i>
<a name="line136"><font color="#000000">136:</font></a> Use both address and full name, as in:<b><font color="#0000FF">@*</font></b>
<a name="line137"><font color="#000000">137:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Elvis Parsley &lt;king@@grassland.com&gt;}</font>.
<a name="line138"><font color="#000000">138:</font></a> <b><font color="#0000FF">@item</font></b> any other value
<a name="line139"><font color="#000000">139:</font></a> Use <b><font color="#0000FF">@code</font></b><font color="#009900">{angles}</font> normally.  But if the address must be quoted to
<a name="line140"><font color="#000000">140:</font></a> remain syntactically valid under the <b><font color="#0000FF">@code</font></b><font color="#009900">{angles}</font> format but not
<a name="line141"><font color="#000000">141:</font></a> under the <b><font color="#0000FF">@code</font></b><font color="#009900">{parens}</font> format, use <b><font color="#0000FF">@code</font></b><font color="#009900">{parens}</font> instead.  This is
<a name="line142"><font color="#000000">142:</font></a> the default.
<a name="line143"><font color="#000000">143:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line144"><font color="#000000">144:</font></a> 
<a name="line145"><font color="#000000">145:</font></a>   Apart from <b><font color="#0000FF">@samp</font></b><font color="#009900">{From}</font>, here is a table of commonly-used fields:
<a name="line146"><font color="#000000">146:</font></a> 
<a name="line147"><font color="#000000">147:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@samp</font></b>
<a name="line148"><font color="#000000">148:</font></a> <b><font color="#0000FF">@item</font></b> To
<a name="line149"><font color="#000000">149:</font></a> The mailing address(es) to which the message is addressed.  To list
<a name="line150"><font color="#000000">150:</font></a> more than one address, use commas to separate them.
<a name="line151"><font color="#000000">151:</font></a> 
<a name="line152"><font color="#000000">152:</font></a> <b><font color="#0000FF">@item</font></b> Subject
<a name="line153"><font color="#000000">153:</font></a> The subject of the message.
<a name="line154"><font color="#000000">154:</font></a> 
<a name="line155"><font color="#000000">155:</font></a> <b><font color="#0000FF">@item</font></b> CC
<a name="line156"><font color="#000000">156:</font></a> Additional mailing address(es) to send the message to.  This is like
<a name="line157"><font color="#000000">157:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{To}</font>, except that these readers should not regard the message as
<a name="line158"><font color="#000000">158:</font></a> directed at them.
<a name="line159"><font color="#000000">159:</font></a> 
<a name="line160"><font color="#000000">160:</font></a> <b><font color="#0000FF">@item</font></b> BCC
<a name="line161"><font color="#000000">161:</font></a> Additional mailing address(es) to send the message to, which should
<a name="line162"><font color="#000000">162:</font></a> not appear in the header of the message actually sent.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{BCC}</font> stands
<a name="line163"><font color="#000000">163:</font></a> for <b><font color="#0000FF">@dfn</font></b><font color="#009900">{blind carbon copies}</font>.
<a name="line164"><font color="#000000">164:</font></a> 
<a name="line165"><font color="#000000">165:</font></a> <b><font color="#0000FF">@item</font></b> FCC
<a name="line166"><font color="#000000">166:</font></a> The name of a file, to which a copy of the sent message should be
<a name="line167"><font color="#000000">167:</font></a> appended.  Emacs writes the message in mbox format, unless the file is
<a name="line168"><font color="#000000">168:</font></a> in Babyl format (used by Rmail before Emacs 23), in which case Emacs
<a name="line169"><font color="#000000">169:</font></a> writes in Babyl format.  If an Rmail buffer is visiting the file,
<a name="line170"><font color="#000000">170:</font></a> Emacs updates it accordingly.  To specify more than one file, use
<a name="line171"><font color="#000000">171:</font></a> several <b><font color="#0000FF">@samp</font></b><font color="#009900">{FCC}</font> fields, with one file name in each field.
<a name="line172"><font color="#000000">172:</font></a> 
<a name="line173"><font color="#000000">173:</font></a> <b><font color="#0000FF">@item</font></b> Reply-To
<a name="line174"><font color="#000000">174:</font></a> An address to which replies should be sent, instead of <b><font color="#0000FF">@samp</font></b><font color="#009900">{From}</font>.
<a name="line175"><font color="#000000">175:</font></a> This is used if, for some reason, your <b><font color="#0000FF">@samp</font></b><font color="#009900">{From}</font> address cannot
<a name="line176"><font color="#000000">176:</font></a> receive replies.
<a name="line177"><font color="#000000">177:</font></a> 
<a name="line178"><font color="#000000">178:</font></a> <b><font color="#0000FF">@item</font></b> Mail-Reply-To
<a name="line179"><font color="#000000">179:</font></a> This field takes precedence over <b><font color="#0000FF">@samp</font></b><font color="#009900">{Reply-To}</font>.  It is used because
<a name="line180"><font color="#000000">180:</font></a> some mailing lists set the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Reply-To}</font> field for their own
<a name="line181"><font color="#000000">181:</font></a> purposes (a somewhat controversial practice).
<a name="line182"><font color="#000000">182:</font></a> 
<a name="line183"><font color="#000000">183:</font></a> <b><font color="#0000FF">@item</font></b> Mail-Followup-To
<a name="line184"><font color="#000000">184:</font></a> One of more address(es) to use as default recipient(s) for follow-up
<a name="line185"><font color="#000000">185:</font></a> messages.  This is typically used when you reply to a message from a
<a name="line186"><font color="#000000">186:</font></a> mailing list that you are subscribed to, and want replies to go to the
<a name="line187"><font color="#000000">187:</font></a> list without sending an extra copy to you.
<a name="line188"><font color="#000000">188:</font></a> 
<a name="line189"><font color="#000000">189:</font></a> <b><font color="#0000FF">@item</font></b> In-Reply-To
<a name="line190"><font color="#000000">190:</font></a> An identifier for the message you are replying to.  Most mail readers
<a name="line191"><font color="#000000">191:</font></a> use this information to group related messages together.  Normally,
<a name="line192"><font color="#000000">192:</font></a> this header is filled in automatically when you reply to a message in
<a name="line193"><font color="#000000">193:</font></a> any mail program built into Emacs.
<a name="line194"><font color="#000000">194:</font></a> 
<a name="line195"><font color="#000000">195:</font></a> <b><font color="#0000FF">@item</font></b> References
<a name="line196"><font color="#000000">196:</font></a> Identifiers for previous related messages.  Like <b><font color="#0000FF">@samp</font></b><font color="#009900">{In-Reply-To}</font>,
<a name="line197"><font color="#000000">197:</font></a> this is normally filled in automatically for you.
<a name="line198"><font color="#000000">198:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line199"><font color="#000000">199:</font></a> 
<a name="line200"><font color="#000000">200:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line201"><font color="#000000">201:</font></a> The <b><font color="#0000FF">@samp</font></b><font color="#009900">{To}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{CC}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{BCC}</font> fields can appear any number
<a name="line202"><font color="#000000">202:</font></a> of times, and each such header field can contain multiple addresses,
<a name="line203"><font color="#000000">203:</font></a> separated by commas.  This way, you can specify any number of places
<a name="line204"><font color="#000000">204:</font></a> to send the message.  These fields can also have continuation lines:
<a name="line205"><font color="#000000">205:</font></a> one or more lines starting with whitespace, following the starting
<a name="line206"><font color="#000000">206:</font></a> line of the field, are considered part of the field.  Here's an
<a name="line207"><font color="#000000">207:</font></a> example of a <b><font color="#0000FF">@samp</font></b><font color="#009900">{To}</font> field with a continuation line:
<a name="line208"><font color="#000000">208:</font></a> 
<a name="line209"><font color="#000000">209:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line210"><font color="#000000">210:</font></a> <b><font color="#0000FF">@group</font></b>
<a name="line211"><font color="#000000">211:</font></a> To: foo<b><font color="#0000FF">@@example.net,</font></b> this<b><font color="#0000FF">@@example.net,</font></b>
<a name="line212"><font color="#000000">212:</font></a>   bob<b><font color="#0000FF">@@example.com</font></b>
<a name="line213"><font color="#000000">213:</font></a> <b><font color="#0000FF">@end group</font></b>
<a name="line214"><font color="#000000">214:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line215"><font color="#000000">215:</font></a> 
<a name="line216"><font color="#000000">216:</font></a> <i><font color="#9A1900">@c There is also mail-specify-envelope-from and mail-envelope-from, but</font></i>
<a name="line217"><font color="#000000">217:</font></a> <i><font color="#9A1900">@c these are probably not topics for the Emacs manual.</font></i>
<a name="line218"><font color="#000000">218:</font></a> 
<a name="line219"><font color="#000000">219:</font></a> <b><font color="#0000FF">@vindex</font></b> mail-default-headers
<a name="line220"><font color="#000000">220:</font></a>   You can direct Emacs to insert certain default headers into the mail
<a name="line221"><font color="#000000">221:</font></a> buffer by setting the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{mail-default-headers}</font> to a
<a name="line222"><font color="#000000">222:</font></a> string.  Then <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font> inserts this string into the message
<a name="line223"><font color="#000000">223:</font></a> headers.  For example, here is how to add a <b><font color="#0000FF">@samp</font></b><font color="#009900">{Reply-To}</font> and
<a name="line224"><font color="#000000">224:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{FCC}</font> header to each message:
<a name="line225"><font color="#000000">225:</font></a> 
<a name="line226"><font color="#000000">226:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line227"><font color="#000000">227:</font></a> (setq mail-default-headers
<a name="line228"><font color="#000000">228:</font></a>       "Reply-To: foo<b><font color="#0000FF">@@example.com\nFCC:</font></b> ~/Mail/sent")
<a name="line229"><font color="#000000">229:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line230"><font color="#000000">230:</font></a> 
<a name="line231"><font color="#000000">231:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line232"><font color="#000000">232:</font></a> If the default header fields are not appropriate for a
<a name="line233"><font color="#000000">233:</font></a> particular message, edit them as necessary before sending the message.
<a name="line234"><font color="#000000">234:</font></a> 
<a name="line235"><font color="#000000">235:</font></a> <b><font color="#0000FF">@node</font></b> Mail Aliases
<a name="line236"><font color="#000000">236:</font></a> <b><font color="#0000FF">@section</font></b> Mail Aliases
<a name="line237"><font color="#000000">237:</font></a> <i><font color="#9A1900">@cindex mail aliases</font></i>
<a name="line238"><font color="#000000">238:</font></a> <i><font color="#9A1900">@cindex @file{.mailrc} file</font></i>
<a name="line239"><font color="#000000">239:</font></a> <i><font color="#9A1900">@cindex mailrc file</font></i>
<a name="line240"><font color="#000000">240:</font></a> <b><font color="#0000FF">@vindex</font></b> mail-personal-alias-file
<a name="line241"><font color="#000000">241:</font></a> 
<a name="line242"><font color="#000000">242:</font></a>   You can define <b><font color="#0000FF">@dfn</font></b><font color="#009900">{mail aliases}</font>, which are short mnemonic names
<a name="line243"><font color="#000000">243:</font></a> that stand for one or more mailing addresses.  By default, mail
<a name="line244"><font color="#000000">244:</font></a> aliases are defined in the file <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.mailrc}</font>.  You can specify a
<a name="line245"><font color="#000000">245:</font></a> different file name to use, by setting the variable
<a name="line246"><font color="#000000">246:</font></a> <i><font color="#9A1900">@code{mail-personal-alias-file}.</font></i>
<a name="line247"><font color="#000000">247:</font></a> 
<a name="line248"><font color="#000000">248:</font></a>   To define an alias in <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.mailrc}</font>, write a line like this:
<a name="line249"><font color="#000000">249:</font></a> 
<a name="line250"><font color="#000000">250:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line251"><font color="#000000">251:</font></a> alias <b><font color="#0000FF">@var</font></b><font color="#009900">{nick}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{fulladdresses}</font>
<a name="line252"><font color="#000000">252:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line253"><font color="#000000">253:</font></a> 
<a name="line254"><font color="#000000">254:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line255"><font color="#000000">255:</font></a> This means that <b><font color="#0000FF">@var</font></b><font color="#009900">{nick}</font> should expand into <b><font color="#0000FF">@var</font></b><font color="#009900">{fulladdresses}</font>,
<a name="line256"><font color="#000000">256:</font></a> where <b><font color="#0000FF">@var</font></b><font color="#009900">{fulladdresses}</font> can be either a single address, or multiple
<a name="line257"><font color="#000000">257:</font></a> addresses separated with spaces.  For instance, to make <b><font color="#0000FF">@code</font></b><font color="#009900">{maingnu}</font>
<a name="line258"><font color="#000000">258:</font></a> stand for <b><font color="#0000FF">@code</font></b><font color="#009900">{gnu@@gnu.org}</font> plus a local address of your own, put in
<a name="line259"><font color="#000000">259:</font></a> this line:
<a name="line260"><font color="#000000">260:</font></a> 
<a name="line261"><font color="#000000">261:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line262"><font color="#000000">262:</font></a> alias maingnu gnu<b><font color="#0000FF">@@gnu.org</font></b> local-gnu
<a name="line263"><font color="#000000">263:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line264"><font color="#000000">264:</font></a> 
<a name="line265"><font color="#000000">265:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line266"><font color="#000000">266:</font></a> If an address contains a space, quote the whole address with a pair of
<a name="line267"><font color="#000000">267:</font></a> double quotes, like this:
<a name="line268"><font color="#000000">268:</font></a> 
<a name="line269"><font color="#000000">269:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line270"><font color="#000000">270:</font></a> alias jsmith "John Q. Smith &lt;none<b><font color="#0000FF">@@example.com&gt;"</font></b>
<a name="line271"><font color="#000000">271:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line272"><font color="#000000">272:</font></a> 
<a name="line273"><font color="#000000">273:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line274"><font color="#000000">274:</font></a> Note that you need not include double quotes around individual parts
<a name="line275"><font color="#000000">275:</font></a> of the address, such as the person's full name.  Emacs puts them in if
<a name="line276"><font color="#000000">276:</font></a> they are needed.  For instance, it inserts the above address as
<a name="line277"><font color="#000000">277:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{"John Q. Smith" &lt;none@@example.com&gt;}</font>.
<a name="line278"><font color="#000000">278:</font></a> 
<a name="line279"><font color="#000000">279:</font></a>   Emacs also recognizes include commands in <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.mailrc}</font>.  They
<a name="line280"><font color="#000000">280:</font></a> look like this:
<a name="line281"><font color="#000000">281:</font></a> 
<a name="line282"><font color="#000000">282:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line283"><font color="#000000">283:</font></a> source <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font>
<a name="line284"><font color="#000000">284:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line285"><font color="#000000">285:</font></a> 
<a name="line286"><font color="#000000">286:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line287"><font color="#000000">287:</font></a> The <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.mailrc}</font> file is not unique to Emacs; many other
<a name="line288"><font color="#000000">288:</font></a> mail-reading programs use it for mail aliases, and it can contain
<a name="line289"><font color="#000000">289:</font></a> various other commands.  However, Emacs ignores everything except
<a name="line290"><font color="#000000">290:</font></a> alias definitions and include commands.
<a name="line291"><font color="#000000">291:</font></a> 
<a name="line292"><font color="#000000">292:</font></a> <b><font color="#0000FF">@findex</font></b> mail-abbrev-insert-alias
<a name="line293"><font color="#000000">293:</font></a>   Mail aliases expand as abbrevs---that is to say, as soon as you type
<a name="line294"><font color="#000000">294:</font></a> a word-separator character after an alias (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Abbrevs</font><font color="#FF0000">}</font>).  This
<a name="line295"><font color="#000000">295:</font></a> expansion takes place only within the <b><font color="#0000FF">@samp</font></b><font color="#009900">{To}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{From}</font>,
<a name="line296"><font color="#000000">296:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{CC}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{BCC}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{Reply-To}</font> header fields (plus their
<a name="line297"><font color="#000000">297:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Resent-}</font> variants); it does not take place in other header
<a name="line298"><font color="#000000">298:</font></a> fields, such as <b><font color="#0000FF">@samp</font></b><font color="#009900">{Subject}</font>.
<a name="line299"><font color="#000000">299:</font></a> 
<a name="line300"><font color="#000000">300:</font></a>   You can also insert an aliased address directly, using the command
<a name="line301"><font color="#000000">301:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x mail-abbrev-insert-alias}</font>.  This reads an alias name, with
<a name="line302"><font color="#000000">302:</font></a> completion, and inserts its definition at point.
<a name="line303"><font color="#000000">303:</font></a> 
<a name="line304"><font color="#000000">304:</font></a> <b><font color="#0000FF">@node</font></b> Mail Commands
<a name="line305"><font color="#000000">305:</font></a> <b><font color="#0000FF">@section</font></b> Mail Commands
<a name="line306"><font color="#000000">306:</font></a> <i><font color="#9A1900">@cindex Message mode</font></i>
<a name="line307"><font color="#000000">307:</font></a> <i><font color="#9A1900">@cindex mode, Message</font></i>
<a name="line308"><font color="#000000">308:</font></a> 
<a name="line309"><font color="#000000">309:</font></a>   The default major mode for the <b><font color="#0000FF">@file</font></b><font color="#009900">{*mail*}</font> buffer is called
<a name="line310"><font color="#000000">310:</font></a> Message mode.  It behaves like Text mode in many ways, but provides
<a name="line311"><font color="#000000">311:</font></a> several additional commands on the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> prefix, which make
<a name="line312"><font color="#000000">312:</font></a> editing a message more convenient.
<a name="line313"><font color="#000000">313:</font></a> 
<a name="line314"><font color="#000000">314:</font></a>   In this section, we will describe some of the most commonly-used
<a name="line315"><font color="#000000">315:</font></a> commands available in Message mode.
<a name="line316"><font color="#000000">316:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line317"><font color="#000000">317:</font></a> Message mode also has its own manual, where its features are described
<a name="line318"><font color="#000000">318:</font></a> in greater detail.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,,Message, message, Message</font><font color="#FF0000">}</font>.
<a name="line319"><font color="#000000">319:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line320"><font color="#000000">320:</font></a> 
<a name="line321"><font color="#000000">321:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line322"><font color="#000000">322:</font></a> <font color="#FF0000">* Mail Sending::</font>        Commands to send the message.
<a name="line323"><font color="#000000">323:</font></a> <font color="#FF0000">* Header Editing::</font>      Commands to move to header fields and edit them.
<a name="line324"><font color="#000000">324:</font></a> <font color="#FF0000">* Citing Mail::</font>         Quoting a message you are replying to.
<a name="line325"><font color="#000000">325:</font></a> <font color="#FF0000">* Mail Misc::</font>           Attachments, spell checking, etc.
<a name="line326"><font color="#000000">326:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line327"><font color="#000000">327:</font></a> 
<a name="line328"><font color="#000000">328:</font></a> <b><font color="#0000FF">@node</font></b> Mail Sending
<a name="line329"><font color="#000000">329:</font></a> <b><font color="#0000FF">@subsection</font></b> Mail Sending
<a name="line330"><font color="#000000">330:</font></a> 
<a name="line331"><font color="#000000">331:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line332"><font color="#000000">332:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-c
<a name="line333"><font color="#000000">333:</font></a> Send the message, and bury the mail buffer (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-send-and-exit}</font>).
<a name="line334"><font color="#000000">334:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-s
<a name="line335"><font color="#000000">335:</font></a> Send the message, and leave the mail buffer selected (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-send}</font>).
<a name="line336"><font color="#000000">336:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line337"><font color="#000000">337:</font></a> 
<a name="line338"><font color="#000000">338:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line339"><font color="#000000">339:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-c <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line340"><font color="#000000">340:</font></a> <b><font color="#0000FF">@findex</font></b> message-send
<a name="line341"><font color="#000000">341:</font></a> <b><font color="#0000FF">@vindex</font></b> message-kill-buffer-on-exit
<a name="line342"><font color="#000000">342:</font></a>   The usual command to send a message is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font>
<a name="line343"><font color="#000000">343:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{mail-send-and-exit}</font>).  This sends the message and then
<a name="line344"><font color="#000000">344:</font></a> buries the mail buffer, putting it at the lowest priority for
<a name="line345"><font color="#000000">345:</font></a> reselection.  If you want it to kill the mail buffer instead, change
<a name="line346"><font color="#000000">346:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{message-kill-buffer-on-exit}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>.
<a name="line347"><font color="#000000">347:</font></a> 
<a name="line348"><font color="#000000">348:</font></a> <b><font color="#0000FF">@findex</font></b> message-send-and-exit
<a name="line349"><font color="#000000">349:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-s}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-send}</font>) sends the message
<a name="line350"><font color="#000000">350:</font></a> and leaves the buffer selected.  Use this command if you want to
<a name="line351"><font color="#000000">351:</font></a> modify the message (perhaps with new recipients) and send it again.
<a name="line352"><font color="#000000">352:</font></a> 
<a name="line353"><font color="#000000">353:</font></a> <b><font color="#0000FF">@vindex</font></b> message-send-hook
<a name="line354"><font color="#000000">354:</font></a>   Sending a message runs the hook <b><font color="#0000FF">@code</font></b><font color="#009900">{message-send-hook}</font>.  It also
<a name="line355"><font color="#000000">355:</font></a> marks the mail buffer as unmodified, except if the mail buffer is also
<a name="line356"><font color="#000000">356:</font></a> a file-visiting buffer (in that case, only saving the file does that,
<a name="line357"><font color="#000000">357:</font></a> and you don't get a warning if you try to send the same message
<a name="line358"><font color="#000000">358:</font></a> twice).
<a name="line359"><font color="#000000">359:</font></a> 
<a name="line360"><font color="#000000">360:</font></a> <i><font color="#9A1900">@cindex SMTP</font></i>
<a name="line361"><font color="#000000">361:</font></a> <i><font color="#9A1900">@cindex Feedmail</font></i>
<a name="line362"><font color="#000000">362:</font></a> <i><font color="#9A1900">@cindex Sendmail</font></i>
<a name="line363"><font color="#000000">363:</font></a> <i><font color="#9A1900">@cindex Mailclient</font></i>
<a name="line364"><font color="#000000">364:</font></a> <b><font color="#0000FF">@vindex</font></b> send-mail-function
<a name="line365"><font color="#000000">365:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{send-mail-function}</font> controls how the message is
<a name="line366"><font color="#000000">366:</font></a> delivered.  Its value should be one of the following functions:
<a name="line367"><font color="#000000">367:</font></a> 
<a name="line368"><font color="#000000">368:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line369"><font color="#000000">369:</font></a> <b><font color="#0000FF">@item</font></b> sendmail-query-once
<a name="line370"><font color="#000000">370:</font></a> Query for a delivery method (one of the other entries in this list),
<a name="line371"><font color="#000000">371:</font></a> and use that method for this message; then save the method to
<a name="line372"><font color="#000000">372:</font></a> <i><font color="#9A1900">@code{send-mail-function}, so that it is used for future deliveries.</font></i>
<a name="line373"><font color="#000000">373:</font></a> This is the default, unless you have already set the variables for
<a name="line374"><font color="#000000">374:</font></a> sending mail via <b><font color="#0000FF">@code</font></b><font color="#009900">{smtpmail-send-it}</font> (see below).
<a name="line375"><font color="#000000">375:</font></a> 
<a name="line376"><font color="#000000">376:</font></a> <b><font color="#0000FF">@item</font></b> smtpmail-send-it
<a name="line377"><font color="#000000">377:</font></a> Send mail through an external mail host, such as your
<a name="line378"><font color="#000000">378:</font></a> Internet service provider's outgoing SMTP mail server.  If you have
<a name="line379"><font color="#000000">379:</font></a> not told Emacs how to contact the SMTP server, it prompts for this
<a name="line380"><font color="#000000">380:</font></a> information, which is saved in the <b><font color="#0000FF">@code</font></b><font color="#009900">{smtpmail-smtp-server}</font> variable
<a name="line381"><font color="#000000">381:</font></a> and the file <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.authinfo}</font>.
<a name="line382"><font color="#000000">382:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,,Emacs SMTP Library, smtpmail, Sending mail via SMTP</font><font color="#FF0000">}</font>.
<a name="line383"><font color="#000000">383:</font></a> 
<a name="line384"><font color="#000000">384:</font></a> <b><font color="#0000FF">@item</font></b> sendmail-send-it
<a name="line385"><font color="#000000">385:</font></a> Send mail using the system's default <b><font color="#0000FF">@command</font></b><font color="#009900">{sendmail}</font> program, or
<a name="line386"><font color="#000000">386:</font></a> equivalent.  This requires the system to be set up for delivering mail
<a name="line387"><font color="#000000">387:</font></a> directly via SMTP.
<a name="line388"><font color="#000000">388:</font></a> 
<a name="line389"><font color="#000000">389:</font></a> <b><font color="#0000FF">@item</font></b> mailclient-send-it
<a name="line390"><font color="#000000">390:</font></a> Pass the mail buffer on to the system's designated mail client.  See
<a name="line391"><font color="#000000">391:</font></a> the commentary section in the file <b><font color="#0000FF">@file</font></b><font color="#009900">{mailclient.el}</font> for details.
<a name="line392"><font color="#000000">392:</font></a> 
<a name="line393"><font color="#000000">393:</font></a> <b><font color="#0000FF">@item</font></b> feedmail-send-it
<a name="line394"><font color="#000000">394:</font></a> This is similar to <b><font color="#0000FF">@code</font></b><font color="#009900">{sendmail-send-it}</font>, but allows you to queue
<a name="line395"><font color="#000000">395:</font></a> messages for later sending.  See the commentary section in the file
<a name="line396"><font color="#000000">396:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{feedmail.el}</font> for details.
<a name="line397"><font color="#000000">397:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line398"><font color="#000000">398:</font></a> 
<a name="line399"><font color="#000000">399:</font></a>   When you send a message containing non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters,
<a name="line400"><font color="#000000">400:</font></a> they need to be encoded with a coding system (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Coding Systems</font><font color="#FF0000">}</font>).
<a name="line401"><font color="#000000">401:</font></a> Usually the coding system is specified automatically by your chosen
<a name="line402"><font color="#000000">402:</font></a> language environment (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments</font><font color="#FF0000">}</font>).  You can
<a name="line403"><font color="#000000">403:</font></a> explicitly specify the coding system for outgoing mail by setting the
<a name="line404"><font color="#000000">404:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{sendmail-coding-system}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Recognize Coding</font><font color="#FF0000">}</font>).  If
<a name="line405"><font color="#000000">405:</font></a> the coding system thus determined does not handle the characters in a
<a name="line406"><font color="#000000">406:</font></a> particular message, Emacs asks you to select the coding system to use,
<a name="line407"><font color="#000000">407:</font></a> showing a list of possible coding systems.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Output Coding</font><font color="#FF0000">}</font>.
<a name="line408"><font color="#000000">408:</font></a> 
<a name="line409"><font color="#000000">409:</font></a> <b><font color="#0000FF">@node</font></b> Header Editing
<a name="line410"><font color="#000000">410:</font></a> <b><font color="#0000FF">@subsection</font></b> Mail Header Editing
<a name="line411"><font color="#000000">411:</font></a> 
<a name="line412"><font color="#000000">412:</font></a>   Message mode provides the following special commands to move to
<a name="line413"><font color="#000000">413:</font></a> particular header fields and to complete addresses in headers.
<a name="line414"><font color="#000000">414:</font></a> 
<a name="line415"><font color="#000000">415:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line416"><font color="#000000">416:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f C-t
<a name="line417"><font color="#000000">417:</font></a> Move to the <b><font color="#0000FF">@samp</font></b><font color="#009900">{To}</font> header (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-to}</font>).
<a name="line418"><font color="#000000">418:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f C-s
<a name="line419"><font color="#000000">419:</font></a> Move to the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Subject}</font> header (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-subject}</font>).
<a name="line420"><font color="#000000">420:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f C-c
<a name="line421"><font color="#000000">421:</font></a> Move to the <b><font color="#0000FF">@samp</font></b><font color="#009900">{CC}</font> header (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-cc}</font>).
<a name="line422"><font color="#000000">422:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f C-b
<a name="line423"><font color="#000000">423:</font></a> Move to the <b><font color="#0000FF">@samp</font></b><font color="#009900">{BCC}</font> header (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-bcc}</font>).
<a name="line424"><font color="#000000">424:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f C-r
<a name="line425"><font color="#000000">425:</font></a> Move to the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Reply-To}</font> header (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-reply-to}</font>).
<a name="line426"><font color="#000000">426:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f C-f
<a name="line427"><font color="#000000">427:</font></a> Move to the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Mail-Followup-To}</font> header field
<a name="line428"><font color="#000000">428:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-followup-to}</font>).
<a name="line429"><font color="#000000">429:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f C-w
<a name="line430"><font color="#000000">430:</font></a> Add a new <b><font color="#0000FF">@samp</font></b><font color="#009900">{FCC}</font> header field, with file-name completion
<a name="line431"><font color="#000000">431:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-fcc}</font>).
<a name="line432"><font color="#000000">432:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-b
<a name="line433"><font color="#000000">433:</font></a> Move to the start of the message body (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-body}</font>).
<a name="line434"><font color="#000000">434:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line435"><font color="#000000">435:</font></a> Complete a mailing address (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-tab}</font>).
<a name="line436"><font color="#000000">436:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line437"><font color="#000000">437:</font></a> 
<a name="line438"><font color="#000000">438:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f C-t <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line439"><font color="#000000">439:</font></a> <b><font color="#0000FF">@findex</font></b> message-goto-to
<a name="line440"><font color="#000000">440:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f C-s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line441"><font color="#000000">441:</font></a> <b><font color="#0000FF">@findex</font></b> message-goto-subject
<a name="line442"><font color="#000000">442:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f C-c <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line443"><font color="#000000">443:</font></a> <b><font color="#0000FF">@findex</font></b> message-goto-cc
<a name="line444"><font color="#000000">444:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f C-b <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line445"><font color="#000000">445:</font></a> <b><font color="#0000FF">@findex</font></b> message-goto-bcc
<a name="line446"><font color="#000000">446:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f C-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line447"><font color="#000000">447:</font></a> <b><font color="#0000FF">@findex</font></b> goto-reply-to
<a name="line448"><font color="#000000">448:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f C-f <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line449"><font color="#000000">449:</font></a> <b><font color="#0000FF">@findex</font></b> goto-followup-to
<a name="line450"><font color="#000000">450:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f C-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line451"><font color="#000000">451:</font></a> <b><font color="#0000FF">@findex</font></b> message-goto-fcc
<a name="line452"><font color="#000000">452:</font></a>   The commands to move point to particular header fields are all based
<a name="line453"><font color="#000000">453:</font></a> on the prefix <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-f}</font> (<b><font color="#0000FF">@samp</font></b><font color="#009900">{C-f}</font> is for ``field'').  If the
<a name="line454"><font color="#000000">454:</font></a> field in question does not exist, the command creates one (the
<a name="line455"><font color="#000000">455:</font></a> exception is <b><font color="#0000FF">@code</font></b><font color="#009900">{mail-fcc}</font>, which creates a new field each time).
<a name="line456"><font color="#000000">456:</font></a> 
<a name="line457"><font color="#000000">457:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-b <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line458"><font color="#000000">458:</font></a> <b><font color="#0000FF">@findex</font></b> mail-text
<a name="line459"><font color="#000000">459:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-b}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-goto-body}</font>) moves point to
<a name="line460"><font color="#000000">460:</font></a> just after the header separator line---that is, to the beginning of
<a name="line461"><font color="#000000">461:</font></a> the body.
<a name="line462"><font color="#000000">462:</font></a> 
<a name="line463"><font color="#000000">463:</font></a> <b><font color="#0000FF">@findex</font></b> message-tab
<a name="line464"><font color="#000000">464:</font></a> <b><font color="#0000FF">@kindex</font></b> TAB <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line465"><font color="#000000">465:</font></a>   While editing a header field that contains addresses, such as
<a name="line466"><font color="#000000">466:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{To:}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{CC:}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{BCC:}</font>, you can complete an address by
<a name="line467"><font color="#000000">467:</font></a> typing <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-tab}</font>).  This attempts to insert the
<a name="line468"><font color="#000000">468:</font></a> full name corresponding to the address based on a couple of methods,
<a name="line469"><font color="#000000">469:</font></a> including EUDC, a library that recognizes a number of directory server
<a name="line470"><font color="#000000">470:</font></a> protocols (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,,EUDC,eudc, The Emacs Unified Directory</font>
<a name="line471"><font color="#000000">471:</font></a> <font color="#FF0000">Client</font><font color="#FF0000">}</font>).  Failing that, it attempts to expand the address as a mail
<a name="line472"><font color="#000000">472:</font></a> alias (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mail Aliases</font><font color="#FF0000">}</font>).  If point is on a header field that does
<a name="line473"><font color="#000000">473:</font></a> not take addresses, or if it is in the message body, then <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line474"><font color="#000000">474:</font></a> just inserts a tab character.
<a name="line475"><font color="#000000">475:</font></a> 
<a name="line476"><font color="#000000">476:</font></a> <b><font color="#0000FF">@node</font></b> Citing Mail
<a name="line477"><font color="#000000">477:</font></a> <b><font color="#0000FF">@subsection</font></b> Citing Mail
<a name="line478"><font color="#000000">478:</font></a> <i><font color="#9A1900">@cindex citing mail</font></i>
<a name="line479"><font color="#000000">479:</font></a> 
<a name="line480"><font color="#000000">480:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line481"><font color="#000000">481:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-y
<a name="line482"><font color="#000000">482:</font></a> Yank the selected message from the mail reader, as a citation
<a name="line483"><font color="#000000">483:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-yank-original}</font>).
<a name="line484"><font color="#000000">484:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-q
<a name="line485"><font color="#000000">485:</font></a> Fill each paragraph cited from another message
<a name="line486"><font color="#000000">486:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-fill-yanked-message}</font>).
<a name="line487"><font color="#000000">487:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line488"><font color="#000000">488:</font></a> 
<a name="line489"><font color="#000000">489:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-y <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line490"><font color="#000000">490:</font></a> <b><font color="#0000FF">@findex</font></b> message-yank-original
<a name="line491"><font color="#000000">491:</font></a> <b><font color="#0000FF">@findex</font></b> message-yank-prefix
<a name="line492"><font color="#000000">492:</font></a>   You can use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-y}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-yank-original}</font>)
<a name="line493"><font color="#000000">493:</font></a> to <b><font color="#0000FF">@dfn</font></b><font color="#009900">{cite}</font> a message that you are replying to.  This inserts the
<a name="line494"><font color="#000000">494:</font></a> text of that message into the mail buffer.  This command works only if
<a name="line495"><font color="#000000">495:</font></a> the mail buffer is invoked from a mail reader running in Emacs, such
<a name="line496"><font color="#000000">496:</font></a> as Rmail.
<a name="line497"><font color="#000000">497:</font></a> 
<a name="line498"><font color="#000000">498:</font></a>   By default, Emacs inserts the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{&gt;}</font> in front of each line
<a name="line499"><font color="#000000">499:</font></a> of the cited text; this prefix string is specified by the variable
<a name="line500"><font color="#000000">500:</font></a> <i><font color="#9A1900">@code{message-yank-prefix}.  If you call @code{message-yank-original}</font></i>
<a name="line501"><font color="#000000">501:</font></a> with a prefix argument, the citation prefix is not inserted.
<a name="line502"><font color="#000000">502:</font></a> 
<a name="line503"><font color="#000000">503:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-q <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line504"><font color="#000000">504:</font></a> <b><font color="#0000FF">@findex</font></b> mail-fill-yanked-message
<a name="line505"><font color="#000000">505:</font></a>   After using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-y}</font>, you can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-q}</font>
<a name="line506"><font color="#000000">506:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-fill-yanked-message}</font>) to fill the paragraphs of the
<a name="line507"><font color="#000000">507:</font></a> cited message.  One use of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-q}</font> fills all such paragraphs,
<a name="line508"><font color="#000000">508:</font></a> each one individually.  To fill a single paragraph of the quoted
<a name="line509"><font color="#000000">509:</font></a> message, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-q}</font>.  If filling does not automatically handle the
<a name="line510"><font color="#000000">510:</font></a> type of citation prefix you use, try setting the fill prefix
<a name="line511"><font color="#000000">511:</font></a> explicitly.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Filling</font><font color="#FF0000">}</font>.
<a name="line512"><font color="#000000">512:</font></a> 
<a name="line513"><font color="#000000">513:</font></a> <b><font color="#0000FF">@vindex</font></b> mail-citation-hook
<a name="line514"><font color="#000000">514:</font></a>   You can customize mail citation through the hook
<a name="line515"><font color="#000000">515:</font></a> <i><font color="#9A1900">@code{mail-citation-hook}.  For example, you can use the Supercite</font></i>
<a name="line516"><font color="#000000">516:</font></a> package, which provides more flexible citation
<a name="line517"><font color="#000000">517:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Introduction,,,sc, Supercite</font><font color="#FF0000">}</font>).
<a name="line518"><font color="#000000">518:</font></a> 
<a name="line519"><font color="#000000">519:</font></a> <b><font color="#0000FF">@node</font></b> Mail Misc
<a name="line520"><font color="#000000">520:</font></a> <b><font color="#0000FF">@subsection</font></b> Mail Miscellany
<a name="line521"><font color="#000000">521:</font></a> 
<a name="line522"><font color="#000000">522:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-a <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line523"><font color="#000000">523:</font></a> <b><font color="#0000FF">@findex</font></b> mml-attach-file
<a name="line524"><font color="#000000">524:</font></a> <i><font color="#9A1900">@cindex MIME</font></i>
<a name="line525"><font color="#000000">525:</font></a> <i><font color="#9A1900">@cindex Multipurpose Internet Mail Extensions</font></i>
<a name="line526"><font color="#000000">526:</font></a>   You can <b><font color="#0000FF">@dfn</font></b><font color="#009900">{attach}</font> a file to an outgoing message by typing
<a name="line527"><font color="#000000">527:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-a}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{mml-attach-file}</font>) in the mail buffer.  Attaching
<a name="line528"><font color="#000000">528:</font></a> is done using the Multipurpose Internet Mail Extensions
<a name="line529"><font color="#000000">529:</font></a> (<b><font color="#0000FF">@acronym</font></b><font color="#009900">{MIME}</font>) standard.
<a name="line530"><font color="#000000">530:</font></a> 
<a name="line531"><font color="#000000">531:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{mml-attach-file}</font> command prompts for the name of the file,
<a name="line532"><font color="#000000">532:</font></a> and for the attachment's <b><font color="#0000FF">@dfn</font></b><font color="#009900">{content type}</font>, <b><font color="#0000FF">@dfn</font></b><font color="#009900">{description}</font>, and
<a name="line533"><font color="#000000">533:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{disposition}</font>.  The content type is normally detected
<a name="line534"><font color="#000000">534:</font></a> automatically; just type <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> to accept the default.  The
<a name="line535"><font color="#000000">535:</font></a> description is a single line of text that the recipient will see next
<a name="line536"><font color="#000000">536:</font></a> to the attachment; you may also choose to leave this empty.  The
<a name="line537"><font color="#000000">537:</font></a> disposition is either <b><font color="#0000FF">@samp</font></b><font color="#009900">{inline}</font>, which means the recipient will
<a name="line538"><font color="#000000">538:</font></a> see a link to the attachment within the message body, or
<a name="line539"><font color="#000000">539:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{attachment}</font>, which means the link will be separate from the
<a name="line540"><font color="#000000">540:</font></a> body.
<a name="line541"><font color="#000000">541:</font></a> 
<a name="line542"><font color="#000000">542:</font></a> <b><font color="#0000FF">@findex</font></b> mail-add-attachment
<a name="line543"><font color="#000000">543:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{mml-attach-file}</font> command is specific to Message mode; in
<a name="line544"><font color="#000000">544:</font></a> Mail mode use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mail-add-attachment}</font> instead.  It will prompt only
<a name="line545"><font color="#000000">545:</font></a> for the name of the file, and will determine the content type and the
<a name="line546"><font color="#000000">546:</font></a> disposition automatically.  If you want to include some description of
<a name="line547"><font color="#000000">547:</font></a> the attached file, type that in the message body.
<a name="line548"><font color="#000000">548:</font></a> 
<a name="line549"><font color="#000000">549:</font></a>   The actual contents of the attached file are not inserted into the
<a name="line550"><font color="#000000">550:</font></a> mail buffer.  Instead, some placeholder text is inserted into the mail
<a name="line551"><font color="#000000">551:</font></a> buffer, like this:
<a name="line552"><font color="#000000">552:</font></a> 
<a name="line553"><font color="#000000">553:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line554"><font color="#000000">554:</font></a> &lt;#part type="text/plain" filename="~/foo.txt" disposition=inline&gt;
<a name="line555"><font color="#000000">555:</font></a> &lt;#/part&gt;
<a name="line556"><font color="#000000">556:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line557"><font color="#000000">557:</font></a> 
<a name="line558"><font color="#000000">558:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line559"><font color="#000000">559:</font></a> When you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-s}</font> to send the message, the
<a name="line560"><font color="#000000">560:</font></a> attached file will be delivered with it.
<a name="line561"><font color="#000000">561:</font></a> 
<a name="line562"><font color="#000000">562:</font></a> <b><font color="#0000FF">@findex</font></b> ispell-message
<a name="line563"><font color="#000000">563:</font></a>   While composing a message, you can do spelling correction on the
<a name="line564"><font color="#000000">564:</font></a> message text by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x ispell-message}</font>.  If you have yanked
<a name="line565"><font color="#000000">565:</font></a> an incoming message into the outgoing draft, this command skips what
<a name="line566"><font color="#000000">566:</font></a> was yanked, but it checks the text that you yourself inserted (it
<a name="line567"><font color="#000000">567:</font></a> looks for indentation or <b><font color="#0000FF">@code{mail-yank-pref</font></b><font color="#FF0000">ix</font><font color="#FF0000">}</font> to distinguish the
<a name="line568"><font color="#000000">568:</font></a> cited lines from your input).  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Spelling</font><font color="#FF0000">}</font>.
<a name="line569"><font color="#000000">569:</font></a> 
<a name="line570"><font color="#000000">570:</font></a> <b><font color="#0000FF">@vindex</font></b> message-mode-hook
<a name="line571"><font color="#000000">571:</font></a> <b><font color="#0000FF">@vindex</font></b> message-setup-hook
<a name="line572"><font color="#000000">572:</font></a>   Turning on Message mode (which <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font> does automatically) runs
<a name="line573"><font color="#000000">573:</font></a> the normal hooks <b><font color="#0000FF">@code</font></b><font color="#009900">{text-mode-hook}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{message-mode-hook}</font>.
<a name="line574"><font color="#000000">574:</font></a> Initializing a new outgoing message runs the normal hook
<a name="line575"><font color="#000000">575:</font></a> <i><font color="#9A1900">@code{message-setup-hook}; you can use this hook if you want to make</font></i>
<a name="line576"><font color="#000000">576:</font></a> changes to the appearance of the mail buffer.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>.
<a name="line577"><font color="#000000">577:</font></a> 
<a name="line578"><font color="#000000">578:</font></a>   The main difference between these hooks is just when they are
<a name="line579"><font color="#000000">579:</font></a> invoked.  Whenever you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{message-mode-hook}</font> runs
<a name="line580"><font color="#000000">580:</font></a> as soon as the mail buffer is created.  Then the <b><font color="#0000FF">@code</font></b><font color="#009900">{message-setup}</font>
<a name="line581"><font color="#000000">581:</font></a> function inserts the default contents of the buffer.  After these
<a name="line582"><font color="#000000">582:</font></a> default contents are inserted, <b><font color="#0000FF">@code</font></b><font color="#009900">{message-setup-hook}</font> runs.
<a name="line583"><font color="#000000">583:</font></a> 
<a name="line584"><font color="#000000">584:</font></a>   If you use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font> to continue an existing composition,
<a name="line585"><font color="#000000">585:</font></a> <i><font color="#9A1900">@code{message-mode-hook} runs immediately after switching to the mail</font></i>
<a name="line586"><font color="#000000">586:</font></a> buffer.  If the buffer is unmodified, or if you decide to erase it and
<a name="line587"><font color="#000000">587:</font></a> start again, <b><font color="#0000FF">@code</font></b><font color="#009900">{message-setup-hook}</font> runs after the default contents
<a name="line588"><font color="#000000">588:</font></a> are inserted.
<a name="line589"><font color="#000000">589:</font></a> 
<a name="line590"><font color="#000000">590:</font></a> <b><font color="#0000FF">@node</font></b> Mail Signature
<a name="line591"><font color="#000000">591:</font></a> <b><font color="#0000FF">@section</font></b> Mail Signature
<a name="line592"><font color="#000000">592:</font></a> 
<a name="line593"><font color="#000000">593:</font></a> <i><font color="#9A1900">@cindex mail signature</font></i>
<a name="line594"><font color="#000000">594:</font></a> <b><font color="#0000FF">@vindex</font></b> message-signature-file
<a name="line595"><font color="#000000">595:</font></a> <b><font color="#0000FF">@vindex</font></b> message-signature
<a name="line596"><font color="#000000">596:</font></a>   You can add a standard piece of text---your <b><font color="#0000FF">@dfn</font></b><font color="#009900">{mail</font>
<a name="line597"><font color="#000000">597:</font></a> <font color="#009900">signature}</font>---to the end of every message.  This signature may contain
<a name="line598"><font color="#000000">598:</font></a> information such as your telephone number or your physical location.
<a name="line599"><font color="#000000">599:</font></a> The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{message-signature}</font> determines how Emacs handles the
<a name="line600"><font color="#000000">600:</font></a> mail signature.
<a name="line601"><font color="#000000">601:</font></a> 
<a name="line602"><font color="#000000">602:</font></a>   The default value of <b><font color="#0000FF">@code</font></b><font color="#009900">{message-signature}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>; this
<a name="line603"><font color="#000000">603:</font></a> means to look for your mail signature in the file <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.signature}</font>.
<a name="line604"><font color="#000000">604:</font></a> If this file exists, its contents are automatically inserted into the
<a name="line605"><font color="#000000">605:</font></a> end of the mail buffer.  You can change the signature file via the
<a name="line606"><font color="#000000">606:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{message-signature-file}</font>.
<a name="line607"><font color="#000000">607:</font></a> 
<a name="line608"><font color="#000000">608:</font></a>   If you change <b><font color="#0000FF">@code</font></b><font color="#009900">{message-signature}</font> to a string, that specifies
<a name="line609"><font color="#000000">609:</font></a> the text of the signature directly.
<a name="line610"><font color="#000000">610:</font></a> 
<a name="line611"><font color="#000000">611:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(Message mode)}</font>
<a name="line612"><font color="#000000">612:</font></a> <b><font color="#0000FF">@findex</font></b> message-insert-signature
<a name="line613"><font color="#000000">613:</font></a>   If you change <b><font color="#0000FF">@code</font></b><font color="#009900">{message-signature}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, Emacs will not
<a name="line614"><font color="#000000">614:</font></a> insert your mail signature automatically.  You can insert your mail
<a name="line615"><font color="#000000">615:</font></a> signature by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-w}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{message-insert-signature}</font>) in
<a name="line616"><font color="#000000">616:</font></a> the mail buffer.  Emacs will look for your signature in the signature
<a name="line617"><font color="#000000">617:</font></a> file.
<a name="line618"><font color="#000000">618:</font></a> 
<a name="line619"><font color="#000000">619:</font></a> <b><font color="#0000FF">@vindex</font></b> mail-signature-file
<a name="line620"><font color="#000000">620:</font></a> <b><font color="#0000FF">@vindex</font></b> mail-signature
<a name="line621"><font color="#000000">621:</font></a>   If you use Mail mode rather than Message mode for composing your
<a name="line622"><font color="#000000">622:</font></a> mail, the corresponding variables that determine how your signature is
<a name="line623"><font color="#000000">623:</font></a> sent are <b><font color="#0000FF">@code</font></b><font color="#009900">{mail-signature}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{mail-signature-file}</font> instead.
<a name="line624"><font color="#000000">624:</font></a> 
<a name="line625"><font color="#000000">625:</font></a>   By convention, a mail signature should be marked by a line whose
<a name="line626"><font color="#000000">626:</font></a> contents are <b><font color="#0000FF">@samp</font></b><font color="#009900">{-- }</font>.  If your signature lacks this prefix, it is
<a name="line627"><font color="#000000">627:</font></a> added for you.  The remainder of your signature should be no more than
<a name="line628"><font color="#000000">628:</font></a> four lines.
<a name="line629"><font color="#000000">629:</font></a> 
<a name="line630"><font color="#000000">630:</font></a> <b><font color="#0000FF">@node</font></b> Mail Amusements
<a name="line631"><font color="#000000">631:</font></a> <b><font color="#0000FF">@section</font></b> Mail Amusements
<a name="line632"><font color="#000000">632:</font></a> 
<a name="line633"><font color="#000000">633:</font></a> <b><font color="#0000FF">@findex</font></b> spook
<a name="line634"><font color="#000000">634:</font></a> <i><font color="#9A1900">@cindex NSA</font></i>
<a name="line635"><font color="#000000">635:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x spook}</font> adds a line of randomly chosen keywords to an outgoing
<a name="line636"><font color="#000000">636:</font></a> mail message.  The keywords are chosen from a list of words that suggest
<a name="line637"><font color="#000000">637:</font></a> you are discussing something subversive.
<a name="line638"><font color="#000000">638:</font></a> 
<a name="line639"><font color="#000000">639:</font></a>   The idea behind this feature is the suspicion that the
<a name="line640"><font color="#000000">640:</font></a> NSA<b><font color="#0000FF">@footnote</font></b><font color="#009900">{The US National Security Agency.}</font> and other intelligence
<a name="line641"><font color="#000000">641:</font></a> agencies snoop on all electronic mail messages that contain keywords
<a name="line642"><font color="#000000">642:</font></a> suggesting they might find them interesting.  (The agencies say that
<a name="line643"><font color="#000000">643:</font></a> they don't, but that's what they <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">would</font></i><font color="#FF0000">}</font> say.)  The idea is that if
<a name="line644"><font color="#000000">644:</font></a> lots of people add suspicious words to their messages, the agencies will
<a name="line645"><font color="#000000">645:</font></a> get so busy with spurious input that they will have to give up reading
<a name="line646"><font color="#000000">646:</font></a> it all.  Whether or not this is true, it at least amuses some people.
<a name="line647"><font color="#000000">647:</font></a> 
<a name="line648"><font color="#000000">648:</font></a> <b><font color="#0000FF">@findex</font></b> fortune-to-signature
<a name="line649"><font color="#000000">649:</font></a> <i><font color="#9A1900">@cindex fortune cookies</font></i>
<a name="line650"><font color="#000000">650:</font></a>   You can use the <b><font color="#0000FF">@code</font></b><font color="#009900">{fortune}</font> program to put a fortune cookie
<a name="line651"><font color="#000000">651:</font></a> message into outgoing mail.  To do this, add
<a name="line652"><font color="#000000">652:</font></a> <i><font color="#9A1900">@code{fortune-to-signature} to @code{mail-setup-hook}:</font></i>
<a name="line653"><font color="#000000">653:</font></a> 
<a name="line654"><font color="#000000">654:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line655"><font color="#000000">655:</font></a> (add-hook 'mail-setup-hook 'fortune-to-signature)
<a name="line656"><font color="#000000">656:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line657"><font color="#000000">657:</font></a> 
<a name="line658"><font color="#000000">658:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line659"><font color="#000000">659:</font></a> You will probably need to set the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{fortune-file}</font> before
<a name="line660"><font color="#000000">660:</font></a> using this.
<a name="line661"><font color="#000000">661:</font></a> 
<a name="line662"><font color="#000000">662:</font></a> <b><font color="#0000FF">@node</font></b> Mail Methods
<a name="line663"><font color="#000000">663:</font></a> <b><font color="#0000FF">@section</font></b> Mail-Composition Methods
<a name="line664"><font color="#000000">664:</font></a> <i><font color="#9A1900">@cindex mail-composition methods</font></i>
<a name="line665"><font color="#000000">665:</font></a> <i><font color="#9A1900">@cindex Mail mode</font></i>
<a name="line666"><font color="#000000">666:</font></a> <i><font color="#9A1900">@cindex mode, Mail</font></i>
<a name="line667"><font color="#000000">667:</font></a> 
<a name="line668"><font color="#000000">668:</font></a> <i><font color="#9A1900">@cindex MH mail interface</font></i>
<a name="line669"><font color="#000000">669:</font></a> <i><font color="#9A1900">@cindex Message mode for sending mail</font></i>
<a name="line670"><font color="#000000">670:</font></a>   In this chapter we have described the usual Emacs mode for editing
<a name="line671"><font color="#000000">671:</font></a> and sending mail---Message mode.  This is only one of several
<a name="line672"><font color="#000000">672:</font></a> available modes.  Prior to Emacs 23.2, the default mode was Mail mode,
<a name="line673"><font color="#000000">673:</font></a> which is similar to Message mode in many respects but lacks features
<a name="line674"><font color="#000000">674:</font></a> such as MIME support.  Another available mode is MH-E
<a name="line675"><font color="#000000">675:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,,MH-E,mh-e, The Emacs Interface to MH</font><font color="#FF0000">}</font>).
<a name="line676"><font color="#000000">676:</font></a> 
<a name="line677"><font color="#000000">677:</font></a> <b><font color="#0000FF">@vindex</font></b> mail-user-agent
<a name="line678"><font color="#000000">678:</font></a>   You can choose any of these <b><font color="#0000FF">@dfn</font></b><font color="#009900">{mail user agents}</font> as your preferred
<a name="line679"><font color="#000000">679:</font></a> method for editing and sending mail.  The commands <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x m}</font>,
<a name="line680"><font color="#000000">680:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 m}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 5 m}</font> use whichever agent you have
<a name="line681"><font color="#000000">681:</font></a> specified; so do various other parts of Emacs that send mail, such as
<a name="line682"><font color="#000000">682:</font></a> the bug reporter (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Bugs</font><font color="#FF0000">}</font>).  To specify a mail user agent,
<a name="line683"><font color="#000000">683:</font></a> customize the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{mail-user-agent}</font>.  Currently, legitimate
<a name="line684"><font color="#000000">684:</font></a> values include <b><font color="#0000FF">@code</font></b><font color="#009900">{message-user-agent}</font> (Message mode)
<a name="line685"><font color="#000000">685:</font></a> <i><font color="#9A1900">@code{sendmail-user-agent} (Mail mode), @code{gnus-user-agent}, and</font></i>
<a name="line686"><font color="#000000">686:</font></a> <i><font color="#9A1900">@code{mh-e-user-agent}.</font></i>
<a name="line687"><font color="#000000">687:</font></a> 
<a name="line688"><font color="#000000">688:</font></a>   If you select a different mail-composition method, the information
<a name="line689"><font color="#000000">689:</font></a> in this chapter about the mail buffer and Message mode does not apply;
<a name="line690"><font color="#000000">690:</font></a> the other methods use a different format of text in a different
<a name="line691"><font color="#000000">691:</font></a> buffer, and their commands are different as well.
<a name="line692"><font color="#000000">692:</font></a> 
<a name="line693"><font color="#000000">693:</font></a> <b><font color="#0000FF">@vindex</font></b> read-mail-command
<a name="line694"><font color="#000000">694:</font></a>   Similarly, to specify your preferred method for reading mail,
<a name="line695"><font color="#000000">695:</font></a> customize the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{read-mail-command}</font>.  The default is
<a name="line696"><font color="#000000">696:</font></a> <i><font color="#9A1900">@code{rmail} (@pxref{Rmail}).</font></i>
<a name="line697"><font color="#000000">697:</font></a> </tt></pre>
