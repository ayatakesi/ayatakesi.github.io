<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">001:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line2"><font color="#000000">002:</font></a> <i><font color="#9A1900">@c Copyright (C) 2004-2018 Free Software Foundation, Inc.</font></i>
<a name="line3"><font color="#000000">003:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line4"><font color="#000000">004:</font></a> <i><font color="#9A1900">@c</font></i>
<a name="line5"><font color="#000000">005:</font></a> <i><font color="#9A1900">@c This file is included either in emacs-xtra.texi (when producing the</font></i>
<a name="line6"><font color="#000000">006:</font></a> <i><font color="#9A1900">@c printed version) or in the main Emacs manual (for the on-line version).</font></i>
<a name="line7"><font color="#000000">007:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS
<a name="line8"><font color="#000000">008:</font></a> <b><font color="#0000FF">@section</font></b> Emacs and MS-DOS
<a name="line9"><font color="#000000">009:</font></a> <i><font color="#9A1900">@cindex MS-DOS peculiarities</font></i>
<a name="line10"><font color="#000000">010:</font></a> 
<a name="line11"><font color="#000000">011:</font></a>   This section briefly describes the peculiarities of using Emacs on
<a name="line12"><font color="#000000">012:</font></a> MS-DOS.
<a name="line13"><font color="#000000">013:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line14"><font color="#000000">014:</font></a> Information about Emacs and Microsoft's current operating system
<a name="line15"><font color="#000000">015:</font></a> Windows is in the main Emacs manual
<a name="line16"><font color="#000000">016:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Microsoft Windows,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line17"><font color="#000000">017:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line18"><font color="#000000">018:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line19"><font color="#000000">019:</font></a> Information about peculiarities common to MS-DOS and Microsoft's
<a name="line20"><font color="#000000">020:</font></a> current operating systems Windows is in
<a name="line21"><font color="#000000">021:</font></a> <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Microsoft Windows</font><font color="#FF0000">}</font>.
<a name="line22"><font color="#000000">022:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line23"><font color="#000000">023:</font></a> 
<a name="line24"><font color="#000000">024:</font></a>   If you build Emacs for MS-DOS, the binary will also run on Windows
<a name="line25"><font color="#000000">025:</font></a> 3.X, Windows NT, Windows 9X/ME, or Windows 2000/XP as a DOS
<a name="line26"><font color="#000000">026:</font></a> application; all of this chapter applies for all of those systems, if
<a name="line27"><font color="#000000">027:</font></a> you use an Emacs that was built for MS-DOS.
<a name="line28"><font color="#000000">028:</font></a> 
<a name="line29"><font color="#000000">029:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line30"><font color="#000000">030:</font></a>   <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text and Binary,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>, for information
<a name="line31"><font color="#000000">031:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line32"><font color="#000000">032:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line33"><font color="#000000">033:</font></a>   <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text and Binary</font><font color="#FF0000">}</font>, for information
<a name="line34"><font color="#000000">034:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line35"><font color="#000000">035:</font></a> about Emacs's special handling of text files under MS-DOS (and Windows).
<a name="line36"><font color="#000000">036:</font></a> 
<a name="line37"><font color="#000000">037:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line38"><font color="#000000">038:</font></a> * Keyboard: MS-DOS Keyboard.   Keyboard conventions on MS-DOS.
<a name="line39"><font color="#000000">039:</font></a> * Mouse: MS-DOS Mouse.         Mouse conventions on MS-DOS.
<a name="line40"><font color="#000000">040:</font></a> * Display: MS-DOS Display.     Fonts, frames and display size on MS-DOS.
<a name="line41"><font color="#000000">041:</font></a> * Files: MS-DOS File Names.    File name conventions on MS-DOS.
<a name="line42"><font color="#000000">042:</font></a> * Printing: MS-DOS Printing.   Printing specifics on MS-DOS.
<a name="line43"><font color="#000000">043:</font></a> * I18N: MS-DOS and MULE.       Support for internationalization on MS-DOS.
<a name="line44"><font color="#000000">044:</font></a> * Processes: MS-DOS Processes. Running subprocesses on MS-DOS.
<a name="line45"><font color="#000000">045:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line46"><font color="#000000">046:</font></a> 
<a name="line47"><font color="#000000">047:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS Keyboard
<a name="line48"><font color="#000000">048:</font></a> <b><font color="#0000FF">@subsection</font></b> Keyboard Usage on MS-DOS
<a name="line49"><font color="#000000">049:</font></a> 
<a name="line50"><font color="#000000">050:</font></a> <b><font color="#0000FF">@kindex</font></b> DEL <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line51"><font color="#000000">051:</font></a> <b><font color="#0000FF">@kindex</font></b> BS <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line52"><font color="#000000">052:</font></a>   The key that is called <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font> in Emacs (because that's how it is
<a name="line53"><font color="#000000">053:</font></a> designated on most workstations) is known as <b><font color="#0000FF">@key</font></b><font color="#009900">{BS}</font> (backspace) on a
<a name="line54"><font color="#000000">054:</font></a> PC<b><font color="#0000FF">@.</font></b>  That is why the PC-specific terminal initialization remaps the
<a name="line55"><font color="#000000">055:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{BS}</font> key to act as <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>; the <b><font color="#0000FF">@key</font></b><font color="#009900">{Delete}</font> key is remapped to act
<a name="line56"><font color="#000000">056:</font></a> as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-d}</font> for the same reasons.
<a name="line57"><font color="#000000">057:</font></a> 
<a name="line58"><font color="#000000">058:</font></a> <b><font color="#0000FF">@kindex</font></b> C-g <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line59"><font color="#000000">059:</font></a> <b><font color="#0000FF">@kindex</font></b> C-Break <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line60"><font color="#000000">060:</font></a> <i><font color="#9A1900">@cindex quitting on MS-DOS</font></i>
<a name="line61"><font color="#000000">061:</font></a>   Emacs built for MS-DOS recognizes <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@key{Break}}</font> as a quit
<a name="line62"><font color="#000000">062:</font></a> character, just like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font>.  This is because Emacs cannot detect
<a name="line63"><font color="#000000">063:</font></a> that you have typed <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> until it is ready for more input.  As a
<a name="line64"><font color="#000000">064:</font></a> consequence, you cannot use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> to stop a running command
<a name="line65"><font color="#000000">065:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line66"><font color="#000000">066:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Quitting,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line67"><font color="#000000">067:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line68"><font color="#000000">068:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line69"><font color="#000000">069:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Quitting</font><font color="#FF0000">}</font>).
<a name="line70"><font color="#000000">070:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line71"><font color="#000000">071:</font></a> By contrast, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@key{Break}}</font> <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">is</font></i><font color="#FF0000">}</font> detected as soon as you
<a name="line72"><font color="#000000">072:</font></a> type it (as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> is on other systems), so it can be used to stop
<a name="line73"><font color="#000000">073:</font></a> a running command and for emergency escape
<a name="line74"><font color="#000000">074:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line75"><font color="#000000">075:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Emergency Escape,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line76"><font color="#000000">076:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line77"><font color="#000000">077:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line78"><font color="#000000">078:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Emergency Escape</font><font color="#FF0000">}</font>).
<a name="line79"><font color="#000000">079:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line80"><font color="#000000">080:</font></a> 
<a name="line81"><font color="#000000">081:</font></a> <i><font color="#9A1900">@cindex Meta (under MS-DOS)</font></i>
<a name="line82"><font color="#000000">082:</font></a> <i><font color="#9A1900">@cindex Hyper (under MS-DOS)</font></i>
<a name="line83"><font color="#000000">083:</font></a> <i><font color="#9A1900">@cindex Super (under MS-DOS)</font></i>
<a name="line84"><font color="#000000">084:</font></a> <b><font color="#0000FF">@vindex</font></b> dos-super-key
<a name="line85"><font color="#000000">085:</font></a> <b><font color="#0000FF">@vindex</font></b> dos-hyper-key
<a name="line86"><font color="#000000">086:</font></a>   The PC keyboard maps use the left <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font> key as the <b><font color="#0000FF">@key</font></b><font color="#009900">{Meta}</font> key.
<a name="line87"><font color="#000000">087:</font></a> You have two choices for emulating the <b><font color="#0000FF">@key</font></b><font color="#009900">{SUPER}</font> and <b><font color="#0000FF">@key</font></b><font color="#009900">{Hyper}</font> keys:
<a name="line88"><font color="#000000">088:</font></a> choose either the right <b><font color="#0000FF">@key</font></b><font color="#009900">{Ctrl}</font> key or the right <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font> key by
<a name="line89"><font color="#000000">089:</font></a> setting the variables <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-hyper-key}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-super-key}</font> to 1
<a name="line90"><font color="#000000">090:</font></a> or 2 respectively.  If neither <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-super-key}</font> nor
<a name="line91"><font color="#000000">091:</font></a> <i><font color="#9A1900">@code{dos-hyper-key} is 1, then by default the right @key{Alt} key is</font></i>
<a name="line92"><font color="#000000">092:</font></a> also mapped to the <b><font color="#0000FF">@key</font></b><font color="#009900">{Meta}</font> key.  However, if the MS-DOS international
<a name="line93"><font color="#000000">093:</font></a> keyboard support program <b><font color="#0000FF">@file</font></b><font color="#009900">{KEYB.COM}</font> is installed, Emacs will
<a name="line94"><font color="#000000">094:</font></a> <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">not</font></i><font color="#FF0000">}</font> map the right <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font> to <b><font color="#0000FF">@key</font></b><font color="#009900">{Meta}</font>, since it is used for
<a name="line95"><font color="#000000">095:</font></a> accessing characters like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{~}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@@}</font> on non-US keyboard
<a name="line96"><font color="#000000">096:</font></a> layouts; in this case, you may only use the left <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font> as <b><font color="#0000FF">@key</font></b><font color="#009900">{Meta}</font>
<a name="line97"><font color="#000000">097:</font></a> key.
<a name="line98"><font color="#000000">098:</font></a> 
<a name="line99"><font color="#000000">099:</font></a> <b><font color="#0000FF">@kindex</font></b> C-j <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line100"><font color="#000000">100:</font></a> <b><font color="#0000FF">@vindex</font></b> dos-keypad-mode
<a name="line101"><font color="#000000">101:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-keypad-mode}</font> is a flag variable that controls
<a name="line102"><font color="#000000">102:</font></a> what key codes are returned by keys in the numeric keypad.  You can also
<a name="line103"><font color="#000000">103:</font></a> define the keypad <b><font color="#0000FF">@key</font></b><font color="#009900">{ENTER}</font> key to act like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-j}</font>, by putting the
<a name="line104"><font color="#000000">104:</font></a> following line into your <b><font color="#0000FF">@file</font></b><font color="#009900">{_emacs}</font> file:
<a name="line105"><font color="#000000">105:</font></a> 
<a name="line106"><font color="#000000">106:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line107"><font color="#000000">107:</font></a> ;; <b><font color="#0000FF">@r</font></b><font color="#009900">{Make the @key{ENTER} key from the numeric keypad act as @kbd{C-j}.}</font>
<a name="line108"><font color="#000000">108:</font></a> (define-key function-key-map [kp-enter] [?\C-j])
<a name="line109"><font color="#000000">109:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line110"><font color="#000000">110:</font></a> 
<a name="line111"><font color="#000000">111:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS Mouse
<a name="line112"><font color="#000000">112:</font></a> <b><font color="#0000FF">@subsection</font></b> Mouse Usage on MS-DOS
<a name="line113"><font color="#000000">113:</font></a> 
<a name="line114"><font color="#000000">114:</font></a> <i><font color="#9A1900">@cindex mouse support under MS-DOS</font></i>
<a name="line115"><font color="#000000">115:</font></a>   Emacs on MS-DOS supports a mouse (on the default terminal only).
<a name="line116"><font color="#000000">116:</font></a> The mouse commands work as documented, including those that use menus
<a name="line117"><font color="#000000">117:</font></a> and the menu bar
<a name="line118"><font color="#000000">118:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line119"><font color="#000000">119:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Menu Bar,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line120"><font color="#000000">120:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line121"><font color="#000000">121:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line122"><font color="#000000">122:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Menu Bar</font><font color="#FF0000">}</font>).
<a name="line123"><font color="#000000">123:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line124"><font color="#000000">124:</font></a>  Scroll bars don't work in MS-DOS Emacs.  PC mice usually have only
<a name="line125"><font color="#000000">125:</font></a> two buttons; these act as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-1}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font>, but if you
<a name="line126"><font color="#000000">126:</font></a> press both of them together, that has the effect of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-3}</font>.  If
<a name="line127"><font color="#000000">127:</font></a> the mouse does have 3 buttons, Emacs detects that at startup, and all
<a name="line128"><font color="#000000">128:</font></a> the 3 buttons function normally, as on X.
<a name="line129"><font color="#000000">129:</font></a> 
<a name="line130"><font color="#000000">130:</font></a>   Help strings for menu-bar and pop-up menus are displayed in the echo
<a name="line131"><font color="#000000">131:</font></a> area when the mouse pointer moves across the menu items.  Highlighting
<a name="line132"><font color="#000000">132:</font></a> of mouse-sensitive text
<a name="line133"><font color="#000000">133:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line134"><font color="#000000">134:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mouse References,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line135"><font color="#000000">135:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line136"><font color="#000000">136:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line137"><font color="#000000">137:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mouse References</font><font color="#FF0000">}</font>)
<a name="line138"><font color="#000000">138:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line139"><font color="#000000">139:</font></a> is also supported.
<a name="line140"><font color="#000000">140:</font></a> 
<a name="line141"><font color="#000000">141:</font></a> <i><font color="#9A1900">@cindex mouse, set number of buttons</font></i>
<a name="line142"><font color="#000000">142:</font></a> <b><font color="#0000FF">@findex</font></b> msdos-set-mouse-buttons
<a name="line143"><font color="#000000">143:</font></a>   Some versions of mouse drivers don't report the number of mouse
<a name="line144"><font color="#000000">144:</font></a> buttons correctly.  For example, mice with a wheel report that they
<a name="line145"><font color="#000000">145:</font></a> have 3 buttons, but only 2 of them are passed to Emacs; the clicks on
<a name="line146"><font color="#000000">146:</font></a> the wheel, which serves as the middle button, are not passed.  In
<a name="line147"><font color="#000000">147:</font></a> these cases, you can use the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x msdos-set-mouse-buttons}</font> command
<a name="line148"><font color="#000000">148:</font></a> to tell Emacs how many mouse buttons to expect.  You could make such a
<a name="line149"><font color="#000000">149:</font></a> setting permanent by adding this fragment to your <b><font color="#0000FF">@file</font></b><font color="#009900">{_emacs}</font> init
<a name="line150"><font color="#000000">150:</font></a> file:
<a name="line151"><font color="#000000">151:</font></a> 
<a name="line152"><font color="#000000">152:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line153"><font color="#000000">153:</font></a> ;; <b><font color="#0000FF">@r</font></b><font color="#009900">{Treat the mouse like a 2-button mouse.}</font>
<a name="line154"><font color="#000000">154:</font></a> (msdos-set-mouse-buttons 2)
<a name="line155"><font color="#000000">155:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line156"><font color="#000000">156:</font></a> 
<a name="line157"><font color="#000000">157:</font></a> <i><font color="#9A1900">@cindex Windows clipboard support</font></i>
<a name="line158"><font color="#000000">158:</font></a>   Emacs built for MS-DOS supports clipboard operations when it runs on
<a name="line159"><font color="#000000">159:</font></a> Windows.  Commands that put text on the kill ring, or yank text from
<a name="line160"><font color="#000000">160:</font></a> the ring, check the Windows clipboard first, just as Emacs does on the
<a name="line161"><font color="#000000">161:</font></a> X Window System
<a name="line162"><font color="#000000">162:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line163"><font color="#000000">163:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mouse Commands,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line164"><font color="#000000">164:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line165"><font color="#000000">165:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line166"><font color="#000000">166:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mouse Commands</font><font color="#FF0000">}</font>).
<a name="line167"><font color="#000000">167:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line168"><font color="#000000">168:</font></a> Only the primary selection and the cut buffer are supported by MS-DOS
<a name="line169"><font color="#000000">169:</font></a> Emacs on Windows; the secondary selection always appears as empty.
<a name="line170"><font color="#000000">170:</font></a> 
<a name="line171"><font color="#000000">171:</font></a>   Due to the way clipboard access is implemented by Windows, the
<a name="line172"><font color="#000000">172:</font></a> length of text you can put into the clipboard is limited by the amount
<a name="line173"><font color="#000000">173:</font></a> of free DOS memory that is available to Emacs.  Usually, up to 620KB of
<a name="line174"><font color="#000000">174:</font></a> text can be put into the clipboard, but this limit depends on the system
<a name="line175"><font color="#000000">175:</font></a> configuration and is lower if you run Emacs as a subprocess of
<a name="line176"><font color="#000000">176:</font></a> another program.  If the killed text does not fit, Emacs outputs a
<a name="line177"><font color="#000000">177:</font></a> message saying so, and does not put the text into the clipboard.
<a name="line178"><font color="#000000">178:</font></a> 
<a name="line179"><font color="#000000">179:</font></a>   Null characters also cannot be put into the Windows clipboard.  If the
<a name="line180"><font color="#000000">180:</font></a> killed text includes null characters, Emacs does not put such text into
<a name="line181"><font color="#000000">181:</font></a> the clipboard, and displays in the echo area a message to that effect.
<a name="line182"><font color="#000000">182:</font></a> 
<a name="line183"><font color="#000000">183:</font></a> <b><font color="#0000FF">@vindex</font></b> dos-display-scancodes
<a name="line184"><font color="#000000">184:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-display-scancodes}</font>, when non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line185"><font color="#000000">185:</font></a> directs Emacs to display the <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> value and the keyboard scan code of
<a name="line186"><font color="#000000">186:</font></a> each keystroke; this feature serves as a complement to the
<a name="line187"><font color="#000000">187:</font></a> <i><font color="#9A1900">@code{view-lossage} command, for debugging.</font></i>
<a name="line188"><font color="#000000">188:</font></a> 
<a name="line189"><font color="#000000">189:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS Display
<a name="line190"><font color="#000000">190:</font></a> <b><font color="#0000FF">@subsection</font></b> Display on MS-DOS
<a name="line191"><font color="#000000">191:</font></a> <i><font color="#9A1900">@cindex faces under MS-DOS</font></i>
<a name="line192"><font color="#000000">192:</font></a> <i><font color="#9A1900">@cindex fonts, emulating under MS-DOS</font></i>
<a name="line193"><font color="#000000">193:</font></a> 
<a name="line194"><font color="#000000">194:</font></a>   Display on MS-DOS cannot use font variants, like bold or italic, but
<a name="line195"><font color="#000000">195:</font></a> it does support multiple faces, each of which can specify a foreground
<a name="line196"><font color="#000000">196:</font></a> and a background color.  Therefore, you can get the full functionality
<a name="line197"><font color="#000000">197:</font></a> of Emacs packages that use fonts (such as <b><font color="#0000FF">@code</font></b><font color="#009900">{font-lock}</font>, Enriched
<a name="line198"><font color="#000000">198:</font></a> Text mode, and others) by defining the relevant faces to use different
<a name="line199"><font color="#000000">199:</font></a> colors.  Use the <b><font color="#0000FF">@code</font></b><font color="#009900">{list-colors-display}</font> command
<a name="line200"><font color="#000000">200:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line201"><font color="#000000">201:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Colors,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line202"><font color="#000000">202:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line203"><font color="#000000">203:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line204"><font color="#000000">204:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Colors</font><font color="#FF0000">}</font>)
<a name="line205"><font color="#000000">205:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line206"><font color="#000000">206:</font></a> and the <b><font color="#0000FF">@code</font></b><font color="#009900">{list-faces-display}</font> command
<a name="line207"><font color="#000000">207:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line208"><font color="#000000">208:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line209"><font color="#000000">209:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line210"><font color="#000000">210:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line211"><font color="#000000">211:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces</font><font color="#FF0000">}</font>)
<a name="line212"><font color="#000000">212:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line213"><font color="#000000">213:</font></a> to see what colors and faces are available and what they look like.
<a name="line214"><font color="#000000">214:</font></a> 
<a name="line215"><font color="#000000">215:</font></a>   <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">MS-DOS and MULE</font><font color="#FF0000">}</font>, later in this chapter, for information on
<a name="line216"><font color="#000000">216:</font></a> how Emacs displays glyphs and characters that aren't supported by the
<a name="line217"><font color="#000000">217:</font></a> native font built into the DOS display.
<a name="line218"><font color="#000000">218:</font></a> 
<a name="line219"><font color="#000000">219:</font></a> <i><font color="#9A1900">@cindex cursor shape on MS-DOS</font></i>
<a name="line220"><font color="#000000">220:</font></a>   When Emacs starts, it changes the cursor shape to a solid box.  This
<a name="line221"><font color="#000000">221:</font></a> is for compatibility with other systems, where the box cursor is the
<a name="line222"><font color="#000000">222:</font></a> default in Emacs.  This default shape can be changed to a bar by
<a name="line223"><font color="#000000">223:</font></a> specifying the <b><font color="#0000FF">@code</font></b><font color="#009900">{cursor-type}</font> parameter in the variable
<a name="line224"><font color="#000000">224:</font></a> <i><font color="#9A1900">@code{default-frame-alist}</font></i>
<a name="line225"><font color="#000000">225:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line226"><font color="#000000">226:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Creating Frames,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line227"><font color="#000000">227:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line228"><font color="#000000">228:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line229"><font color="#000000">229:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Creating Frames</font><font color="#FF0000">}</font>).
<a name="line230"><font color="#000000">230:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line231"><font color="#000000">231:</font></a> The MS-DOS terminal doesn't support a vertical-bar cursor,
<a name="line232"><font color="#000000">232:</font></a> so the bar cursor is horizontal, and the <b><font color="#0000FF">@code</font></b><font color="#009900">{@var{width}}</font> parameter,
<a name="line233"><font color="#000000">233:</font></a> if specified by the frame parameters, actually determines its height.
<a name="line234"><font color="#000000">234:</font></a> For this reason, the <b><font color="#0000FF">@code</font></b><font color="#009900">{bar}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{hbar}</font> cursor types produce
<a name="line235"><font color="#000000">235:</font></a> the same effect on MS-DOS<b><font color="#0000FF">@.</font></b>  As an extension, the bar cursor
<a name="line236"><font color="#000000">236:</font></a> specification can include the starting scan line of the cursor as well
<a name="line237"><font color="#000000">237:</font></a> as its width, like this:
<a name="line238"><font color="#000000">238:</font></a> 
<a name="line239"><font color="#000000">239:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line240"><font color="#000000">240:</font></a>  '(cursor-type bar <b><font color="#0000FF">@var</font></b><font color="#009900">{width}</font> . <b><font color="#0000FF">@var</font></b><font color="#009900">{start}</font>)
<a name="line241"><font color="#000000">241:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line242"><font color="#000000">242:</font></a> 
<a name="line243"><font color="#000000">243:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line244"><font color="#000000">244:</font></a> In addition, if the <b><font color="#0000FF">@var</font></b><font color="#009900">{width}</font> parameter is negative, the cursor bar
<a name="line245"><font color="#000000">245:</font></a> begins at the top of the character cell.
<a name="line246"><font color="#000000">246:</font></a> 
<a name="line247"><font color="#000000">247:</font></a> <i><font color="#9A1900">@cindex frames on MS-DOS</font></i>
<a name="line248"><font color="#000000">248:</font></a>   The MS-DOS terminal can only display a single frame at a time.  The
<a name="line249"><font color="#000000">249:</font></a> Emacs frame facilities work on MS-DOS much as they do on text
<a name="line250"><font color="#000000">250:</font></a> terminals
<a name="line251"><font color="#000000">251:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line252"><font color="#000000">252:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Frames,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line253"><font color="#000000">253:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line254"><font color="#000000">254:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line255"><font color="#000000">255:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Frames</font><font color="#FF0000">}</font>).
<a name="line256"><font color="#000000">256:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line257"><font color="#000000">257:</font></a> When you run Emacs from a DOS window on MS-Windows, you can make the
<a name="line258"><font color="#000000">258:</font></a> visible frame smaller than the full screen, but Emacs still cannot
<a name="line259"><font color="#000000">259:</font></a> display more than a single frame at a time.
<a name="line260"><font color="#000000">260:</font></a> 
<a name="line261"><font color="#000000">261:</font></a> <i><font color="#9A1900">@cindex frame size under MS-DOS</font></i>
<a name="line262"><font color="#000000">262:</font></a> <b><font color="#0000FF">@findex</font></b> dos-mode4350
<a name="line263"><font color="#000000">263:</font></a> <b><font color="#0000FF">@findex</font></b> dos-mode25
<a name="line264"><font color="#000000">264:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-mode4350}</font> command switches the display to 43 or 50
<a name="line265"><font color="#000000">265:</font></a> lines, depending on your hardware; the <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-mode25}</font> command switches
<a name="line266"><font color="#000000">266:</font></a> to the default 80x25 screen size.
<a name="line267"><font color="#000000">267:</font></a> 
<a name="line268"><font color="#000000">268:</font></a>   By default, Emacs only knows how to set screen sizes of 80 columns by
<a name="line269"><font color="#000000">269:</font></a> 25, 28, 35, 40, 43 or 50 rows.  However, if your video adapter has
<a name="line270"><font color="#000000">270:</font></a> special video modes that will switch the display to other sizes, you can
<a name="line271"><font color="#000000">271:</font></a> have Emacs support those too.  When you ask Emacs to switch the frame to
<a name="line272"><font color="#000000">272:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> rows by <b><font color="#0000FF">@var</font></b><font color="#009900">{m}</font> columns dimensions, it checks if there is a
<a name="line273"><font color="#000000">273:</font></a> variable called <b><font color="#0000FF">@code</font></b><font color="#009900">{screen-dimensions-@var{n}x@var{m}}</font>, and if so,
<a name="line274"><font color="#000000">274:</font></a> uses its value (which must be an integer) as the video mode to switch
<a name="line275"><font color="#000000">275:</font></a> to.  (Emacs switches to that video mode by calling the BIOS <b><font color="#0000FF">@code</font></b><font color="#009900">{Set</font>
<a name="line276"><font color="#000000">276:</font></a> <font color="#009900">Video Mode}</font> function with the value of
<a name="line277"><font color="#000000">277:</font></a> <i><font color="#9A1900">@code{screen-dimensions-@var{n}x@var{m}} in the @code{AL} register.)</font></i>
<a name="line278"><font color="#000000">278:</font></a> For example, suppose your adapter will switch to 66x80 dimensions when
<a name="line279"><font color="#000000">279:</font></a> put into video mode 85.  Then you can make Emacs support this screen
<a name="line280"><font color="#000000">280:</font></a> size by putting the following into your <b><font color="#0000FF">@file</font></b><font color="#009900">{_emacs}</font> file:
<a name="line281"><font color="#000000">281:</font></a> 
<a name="line282"><font color="#000000">282:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line283"><font color="#000000">283:</font></a> (setq screen-dimensions-66x80 85)
<a name="line284"><font color="#000000">284:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line285"><font color="#000000">285:</font></a> 
<a name="line286"><font color="#000000">286:</font></a>   Since Emacs on MS-DOS can only set the frame size to specific
<a name="line287"><font color="#000000">287:</font></a> supported dimensions, it cannot honor every possible frame resizing
<a name="line288"><font color="#000000">288:</font></a> request.  When an unsupported size is requested, Emacs chooses the next
<a name="line289"><font color="#000000">289:</font></a> larger supported size beyond the specified size.  For example, if you
<a name="line290"><font color="#000000">290:</font></a> ask for 36x80 frame, you will get 40x80 instead.
<a name="line291"><font color="#000000">291:</font></a> 
<a name="line292"><font color="#000000">292:</font></a>   The variables <b><font color="#0000FF">@code</font></b><font color="#009900">{screen-dimensions-@var{n}x@var{m}}</font> are used only
<a name="line293"><font color="#000000">293:</font></a> when they exactly match the specified size; the search for the next
<a name="line294"><font color="#000000">294:</font></a> larger supported size ignores them.  In the above example, even if your
<a name="line295"><font color="#000000">295:</font></a> VGA supports 38x80 dimensions and you define a variable
<a name="line296"><font color="#000000">296:</font></a> <i><font color="#9A1900">@code{screen-dimensions-38x80} with a suitable value, you will still get</font></i>
<a name="line297"><font color="#000000">297:</font></a> 40x80 screen when you ask for a 36x80 frame.  If you want to get the
<a name="line298"><font color="#000000">298:</font></a> 38x80 size in this case, you can do it by setting the variable named
<a name="line299"><font color="#000000">299:</font></a> <i><font color="#9A1900">@code{screen-dimensions-36x80} with the same video mode value as</font></i>
<a name="line300"><font color="#000000">300:</font></a> <i><font color="#9A1900">@code{screen-dimensions-38x80}.</font></i>
<a name="line301"><font color="#000000">301:</font></a> 
<a name="line302"><font color="#000000">302:</font></a>   Changing frame dimensions on MS-DOS has the effect of changing all the
<a name="line303"><font color="#000000">303:</font></a> other frames to the new dimensions.
<a name="line304"><font color="#000000">304:</font></a> 
<a name="line305"><font color="#000000">305:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS File Names
<a name="line306"><font color="#000000">306:</font></a> <b><font color="#0000FF">@subsection</font></b> File Names on MS-DOS
<a name="line307"><font color="#000000">307:</font></a> <i><font color="#9A1900">@cindex file names under MS-DOS</font></i>
<a name="line308"><font color="#000000">308:</font></a> <i><font color="#9A1900">@cindex init file, default name under MS-DOS</font></i>
<a name="line309"><font color="#000000">309:</font></a> 
<a name="line310"><font color="#000000">310:</font></a>   On MS-DOS, file names are case-insensitive and limited to eight
<a name="line311"><font color="#000000">311:</font></a> characters, plus optionally a period and three more characters.  Emacs
<a name="line312"><font color="#000000">312:</font></a> knows enough about these limitations to handle file names that were
<a name="line313"><font color="#000000">313:</font></a> meant for other operating systems.  For instance, leading dots
<a name="line314"><font color="#000000">314:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{.}</font>  in file names are invalid in MS-DOS, so Emacs transparently
<a name="line315"><font color="#000000">315:</font></a> converts them to underscores <b><font color="#0000FF">@samp</font></b><font color="#009900">{_}</font>; thus your default init file
<a name="line316"><font color="#000000">316:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line317"><font color="#000000">317:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line318"><font color="#000000">318:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line319"><font color="#000000">319:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line320"><font color="#000000">320:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>)
<a name="line321"><font color="#000000">321:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line322"><font color="#000000">322:</font></a> is called <b><font color="#0000FF">@file</font></b><font color="#009900">{_emacs}</font> on MS-DOS<b><font color="#0000FF">@.</font></b>  Excess characters before or after
<a name="line323"><font color="#000000">323:</font></a> the period are generally ignored by MS-DOS itself; thus, if you visit
<a name="line324"><font color="#000000">324:</font></a> the file <b><font color="#0000FF">@file</font></b><font color="#009900">{LongFileName.EvenLongerExtension}</font>, you will silently
<a name="line325"><font color="#000000">325:</font></a> get <b><font color="#0000FF">@file</font></b><font color="#009900">{longfile.eve}</font>, but Emacs will still display the long file
<a name="line326"><font color="#000000">326:</font></a> name on the mode line.  Other than that, it's up to you to specify
<a name="line327"><font color="#000000">327:</font></a> file names which are valid under MS-DOS; the transparent conversion as
<a name="line328"><font color="#000000">328:</font></a> described above only works on file names built into Emacs.
<a name="line329"><font color="#000000">329:</font></a> 
<a name="line330"><font color="#000000">330:</font></a> <i><font color="#9A1900">@cindex backup file names on MS-DOS</font></i>
<a name="line331"><font color="#000000">331:</font></a>   The above restrictions on the file names on MS-DOS make it almost
<a name="line332"><font color="#000000">332:</font></a> impossible to construct the name of a backup file
<a name="line333"><font color="#000000">333:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line334"><font color="#000000">334:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Backup Names,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line335"><font color="#000000">335:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line336"><font color="#000000">336:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line337"><font color="#000000">337:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Backup Names</font><font color="#FF0000">}</font>)
<a name="line338"><font color="#000000">338:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line339"><font color="#000000">339:</font></a> without losing some of the original file name characters.  For
<a name="line340"><font color="#000000">340:</font></a> example, the name of a backup file for <b><font color="#0000FF">@file</font></b><font color="#009900">{docs.txt}</font> is
<a name="line341"><font color="#000000">341:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{docs.tx~}</font> even if single backup is used.
<a name="line342"><font color="#000000">342:</font></a> 
<a name="line343"><font color="#000000">343:</font></a> <i><font color="#9A1900">@cindex file names under Windows 95/NT</font></i>
<a name="line344"><font color="#000000">344:</font></a> <i><font color="#9A1900">@cindex long file names in DOS box under Windows 95/NT</font></i>
<a name="line345"><font color="#000000">345:</font></a>   If you run Emacs as a DOS application under Windows 9X, Windows ME, or
<a name="line346"><font color="#000000">346:</font></a> Windows 2000/XP, you can turn on support for long file names.  If you do
<a name="line347"><font color="#000000">347:</font></a> that, Emacs doesn't truncate file names or convert them to lower case;
<a name="line348"><font color="#000000">348:</font></a> instead, it uses the file names that you specify, verbatim.  To enable
<a name="line349"><font color="#000000">349:</font></a> long file name support, set the environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{LFN}</font> to
<a name="line350"><font color="#000000">350:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{y}</font> before starting Emacs.  Unfortunately, Windows NT doesn't allow
<a name="line351"><font color="#000000">351:</font></a> DOS programs to access long file names, so Emacs built for MS-DOS will
<a name="line352"><font color="#000000">352:</font></a> only see their short 8+3 aliases.
<a name="line353"><font color="#000000">353:</font></a> 
<a name="line354"><font color="#000000">354:</font></a> <i><font color="#9A1900">@cindex HOME directory under MS-DOS</font></i>
<a name="line355"><font color="#000000">355:</font></a>   MS-DOS has no notion of home directory, so Emacs on MS-DOS pretends
<a name="line356"><font color="#000000">356:</font></a> that the directory where it is installed is the value of the <b><font color="#0000FF">@env</font></b><font color="#009900">{HOME}</font>
<a name="line357"><font color="#000000">357:</font></a> environment variable.  That is, if your Emacs binary,
<a name="line358"><font color="#000000">358:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{emacs.exe}</font>, is in the directory <b><font color="#0000FF">@file</font></b><font color="#009900">{c:/utils/emacs/bin}</font>, then
<a name="line359"><font color="#000000">359:</font></a> Emacs acts as if <b><font color="#0000FF">@env</font></b><font color="#009900">{HOME}</font> were set to <b><font color="#0000FF">@samp</font></b><font color="#009900">{c:/utils/emacs}</font>.  In
<a name="line360"><font color="#000000">360:</font></a> particular, that is where Emacs looks for the init file <b><font color="#0000FF">@file</font></b><font color="#009900">{_emacs}</font>.
<a name="line361"><font color="#000000">361:</font></a> With this in mind, you can use <b><font color="#0000FF">@samp</font></b><font color="#009900">{~}</font> in file names as an alias for
<a name="line362"><font color="#000000">362:</font></a> the home directory, as you would on GNU or Unix.  You can also set
<a name="line363"><font color="#000000">363:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{HOME}</font> variable in the environment before starting Emacs; its
<a name="line364"><font color="#000000">364:</font></a> value will then override the above default behavior.
<a name="line365"><font color="#000000">365:</font></a> 
<a name="line366"><font color="#000000">366:</font></a>   Emacs on MS-DOS handles the name <b><font color="#0000FF">@file</font></b><font color="#009900">{/dev}</font> specially,
<a name="line367"><font color="#000000">367:</font></a> because of a feature in the emulator libraries of DJGPP that pretends
<a name="line368"><font color="#000000">368:</font></a> I/O devices have names in that directory.  We recommend that you avoid
<a name="line369"><font color="#000000">369:</font></a> using an actual directory named <b><font color="#0000FF">@file</font></b><font color="#009900">{/dev}</font> on any disk.
<a name="line370"><font color="#000000">370:</font></a> 
<a name="line371"><font color="#000000">371:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS Printing
<a name="line372"><font color="#000000">372:</font></a> <b><font color="#0000FF">@subsection</font></b> Printing and MS-DOS
<a name="line373"><font color="#000000">373:</font></a> 
<a name="line374"><font color="#000000">374:</font></a>   Printing commands, such as <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-buffer}</font>
<a name="line375"><font color="#000000">375:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line376"><font color="#000000">376:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Printing,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>) and <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-buffer}</font>
<a name="line377"><font color="#000000">377:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">PostScript,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line378"><font color="#000000">378:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line379"><font color="#000000">379:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line380"><font color="#000000">380:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Printing</font><font color="#FF0000">}</font>) and <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-buffer}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">PostScript</font><font color="#FF0000">}</font>)
<a name="line381"><font color="#000000">381:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line382"><font color="#000000">382:</font></a> can work on MS-DOS by sending the output to one of the printer ports,
<a name="line383"><font color="#000000">383:</font></a> if a POSIX-style <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr}</font> program is unavailable.  The same Emacs
<a name="line384"><font color="#000000">384:</font></a> variables control printing on all systems, but in some cases they have
<a name="line385"><font color="#000000">385:</font></a> different default values on MS-DOS.
<a name="line386"><font color="#000000">386:</font></a> 
<a name="line387"><font color="#000000">387:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line388"><font color="#000000">388:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Windows Printing,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>,
<a name="line389"><font color="#000000">389:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line390"><font color="#000000">390:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line391"><font color="#000000">391:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Windows Printing</font><font color="#FF0000">}</font>,
<a name="line392"><font color="#000000">392:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line393"><font color="#000000">393:</font></a> for details about setting up printing to a networked printer.
<a name="line394"><font color="#000000">394:</font></a> 
<a name="line395"><font color="#000000">395:</font></a>   Some printers expect DOS codepage encoding of non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> text, even
<a name="line396"><font color="#000000">396:</font></a> though they are connected to a Windows machine that uses a different
<a name="line397"><font color="#000000">397:</font></a> encoding for the same locale.  For example, in the Latin-1 locale, DOS
<a name="line398"><font color="#000000">398:</font></a> uses codepage 850 whereas Windows uses codepage 1252.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">MS-DOS and</font>
<a name="line399"><font color="#000000">399:</font></a> <font color="#FF0000">MULE</font><font color="#FF0000">}</font>.  When you print to such printers from Windows, you can use the
<a name="line400"><font color="#000000">400:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{universal-coding-system-argument}</font>) command
<a name="line401"><font color="#000000">401:</font></a> before <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x lpr-buffer}</font>; Emacs will then convert the text to the DOS
<a name="line402"><font color="#000000">402:</font></a> codepage that you specify.  For example,
<a name="line403"><font color="#000000">403:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c cp850-dos @key{RET} M-x lpr-region @key{RET}}</font>
<a name="line404"><font color="#000000">404:</font></a> will print the region while converting it to the codepage 850 encoding.
<a name="line405"><font color="#000000">405:</font></a> 
<a name="line406"><font color="#000000">406:</font></a> <b><font color="#0000FF">@vindex</font></b> dos-printer
<a name="line407"><font color="#000000">407:</font></a> <b><font color="#0000FF">@vindex</font></b> dos-ps-printer
<a name="line408"><font color="#000000">408:</font></a>   For backwards compatibility, the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-printer}</font>
<a name="line409"><font color="#000000">409:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{dos-ps-printer}</font>), if it has a value, overrides the value of
<a name="line410"><font color="#000000">410:</font></a> <i><font color="#9A1900">@code{printer-name} (@code{ps-printer-name}), on MS-DOS.</font></i>
<a name="line411"><font color="#000000">411:</font></a> 
<a name="line412"><font color="#000000">412:</font></a> 
<a name="line413"><font color="#000000">413:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS and MULE
<a name="line414"><font color="#000000">414:</font></a> <b><font color="#0000FF">@subsection</font></b> International Support on MS-DOS
<a name="line415"><font color="#000000">415:</font></a> <i><font color="#9A1900">@cindex international support (MS-DOS)</font></i>
<a name="line416"><font color="#000000">416:</font></a> 
<a name="line417"><font color="#000000">417:</font></a>   Emacs on MS-DOS supports the same international character sets as it
<a name="line418"><font color="#000000">418:</font></a> does on GNU, Unix and other platforms
<a name="line419"><font color="#000000">419:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line420"><font color="#000000">420:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">International,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>),
<a name="line421"><font color="#000000">421:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line422"><font color="#000000">422:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line423"><font color="#000000">423:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">International</font><font color="#FF0000">}</font>),
<a name="line424"><font color="#000000">424:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line425"><font color="#000000">425:</font></a> including coding systems for converting between the different
<a name="line426"><font color="#000000">426:</font></a> character sets.  However, due to incompatibilities between
<a name="line427"><font color="#000000">427:</font></a> MS-DOS/MS-Windows and other systems, there are several DOS-specific
<a name="line428"><font color="#000000">428:</font></a> aspects of this support that you should be aware of.  This section
<a name="line429"><font color="#000000">429:</font></a> describes these aspects.
<a name="line430"><font color="#000000">430:</font></a> 
<a name="line431"><font color="#000000">431:</font></a>   The description below is largely specific to the MS-DOS port of
<a name="line432"><font color="#000000">432:</font></a> Emacs, especially where it talks about practical implications for
<a name="line433"><font color="#000000">433:</font></a> Emacs users.
<a name="line434"><font color="#000000">434:</font></a> 
<a name="line435"><font color="#000000">435:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line436"><font color="#000000">436:</font></a> <b><font color="#0000FF">@item</font></b> M-x dos-codepage-setup
<a name="line437"><font color="#000000">437:</font></a> Set up Emacs display and coding systems as appropriate for the current
<a name="line438"><font color="#000000">438:</font></a> DOS codepage.
<a name="line439"><font color="#000000">439:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line440"><font color="#000000">440:</font></a> 
<a name="line441"><font color="#000000">441:</font></a> <i><font color="#9A1900">@cindex codepage, MS-DOS</font></i>
<a name="line442"><font color="#000000">442:</font></a> <i><font color="#9A1900">@cindex DOS codepages</font></i>
<a name="line443"><font color="#000000">443:</font></a>   MS-DOS is designed to support one character set of 256 characters at
<a name="line444"><font color="#000000">444:</font></a> any given time, but gives you a variety of character sets to choose
<a name="line445"><font color="#000000">445:</font></a> from.  The alternative character sets are known as <b><font color="#0000FF">@dfn</font></b><font color="#009900">{DOS codepages}</font>.
<a name="line446"><font color="#000000">446:</font></a> Each codepage includes all 128 <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters, but the other 128
<a name="line447"><font color="#000000">447:</font></a> characters (codes 128 through 255) vary from one codepage to another.
<a name="line448"><font color="#000000">448:</font></a> Each DOS codepage is identified by a 3-digit number, such as 850, 862,
<a name="line449"><font color="#000000">449:</font></a> etc.
<a name="line450"><font color="#000000">450:</font></a> 
<a name="line451"><font color="#000000">451:</font></a>   In contrast to X, which lets you use several fonts at the same time,
<a name="line452"><font color="#000000">452:</font></a> MS-DOS normally doesn't allow use of several codepages in a single
<a name="line453"><font color="#000000">453:</font></a> session.  MS-DOS was designed to load a single codepage at system
<a name="line454"><font color="#000000">454:</font></a> startup, and require you to reboot in order to change
<a name="line455"><font color="#000000">455:</font></a> it<b><font color="#0000FF">@footnote</font></b><font color="#009900">{Normally, one particular codepage is burnt into the</font>
<a name="line456"><font color="#000000">456:</font></a> <font color="#009900">display memory, while other codepages can be installed by modifying</font>
<a name="line457"><font color="#000000">457:</font></a> <font color="#009900">system configuration files, such as @file{CONFIG.SYS}, and rebooting.</font>
<a name="line458"><font color="#000000">458:</font></a> <font color="#009900">While there is third-party software that allows changing the codepage</font>
<a name="line459"><font color="#000000">459:</font></a> <font color="#009900">without rebooting, we describe here how a stock MS-DOS system</font>
<a name="line460"><font color="#000000">460:</font></a> <font color="#009900">behaves.}</font>.  Much the same limitation applies when you run DOS
<a name="line461"><font color="#000000">461:</font></a> executables on other systems such as MS-Windows.
<a name="line462"><font color="#000000">462:</font></a> 
<a name="line463"><font color="#000000">463:</font></a> <b><font color="#0000FF">@vindex</font></b> dos-codepage
<a name="line464"><font color="#000000">464:</font></a>   For multibyte operation on MS-DOS, Emacs needs to know which
<a name="line465"><font color="#000000">465:</font></a> characters the chosen DOS codepage can display.  So it queries the
<a name="line466"><font color="#000000">466:</font></a> system shortly after startup to get the chosen codepage number, and
<a name="line467"><font color="#000000">467:</font></a> stores the number in the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-codepage}</font>.  Some systems
<a name="line468"><font color="#000000">468:</font></a> return the default value 437 for the current codepage, even though the
<a name="line469"><font color="#000000">469:</font></a> actual codepage is different.  (This typically happens when you use the
<a name="line470"><font color="#000000">470:</font></a> codepage built into the display hardware.)  You can specify a different
<a name="line471"><font color="#000000">471:</font></a> codepage for Emacs to use by setting the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{dos-codepage}</font> in
<a name="line472"><font color="#000000">472:</font></a> your init file.
<a name="line473"><font color="#000000">473:</font></a> 
<a name="line474"><font color="#000000">474:</font></a> <i><font color="#9A1900">@cindex language environment, automatic selection on MS-DOS</font></i>
<a name="line475"><font color="#000000">475:</font></a>   Multibyte Emacs supports only certain DOS codepages: those which can
<a name="line476"><font color="#000000">476:</font></a> display Far-Eastern scripts, like the Japanese codepage 932, and those
<a name="line477"><font color="#000000">477:</font></a> that encode a single ISO 8859 character set.
<a name="line478"><font color="#000000">478:</font></a> 
<a name="line479"><font color="#000000">479:</font></a>   The Far-Eastern codepages can directly display one of the MULE
<a name="line480"><font color="#000000">480:</font></a> character sets for these countries, so Emacs simply sets up to use the
<a name="line481"><font color="#000000">481:</font></a> appropriate terminal coding system that is supported by the codepage.
<a name="line482"><font color="#000000">482:</font></a> The special features described in the rest of this section mostly
<a name="line483"><font color="#000000">483:</font></a> pertain to codepages that encode ISO 8859 character sets.
<a name="line484"><font color="#000000">484:</font></a> 
<a name="line485"><font color="#000000">485:</font></a>   For the codepages that correspond to one of the ISO character sets,
<a name="line486"><font color="#000000">486:</font></a> Emacs knows the character set based on the codepage number.  Emacs
<a name="line487"><font color="#000000">487:</font></a> automatically creates a coding system to support reading and writing
<a name="line488"><font color="#000000">488:</font></a> files that use the current codepage, and uses this coding system by
<a name="line489"><font color="#000000">489:</font></a> default.  The name of this coding system is <b><font color="#0000FF">@code</font></b><font color="#009900">{cp@var{nnn}}</font>, where
<a name="line490"><font color="#000000">490:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{nnn}</font> is the codepage number.<b><font color="#0000FF">@footnote</font></b><font color="#009900">{The standard Emacs coding</font>
<a name="line491"><font color="#000000">491:</font></a> <font color="#009900">systems for ISO 8859 are not quite right for the purpose, because</font>
<a name="line492"><font color="#000000">492:</font></a> <font color="#009900">typically the DOS codepage does not match the standard ISO character</font>
<a name="line493"><font color="#000000">493:</font></a> <font color="#009900">codes.  For example, the letter @samp{@,{c}} (@samp{c} with cedilla) has</font>
<a name="line494"><font color="#000000">494:</font></a> <font color="#009900">code 231 in the standard Latin-1 character set, but the corresponding</font>
<a name="line495"><font color="#000000">495:</font></a> <font color="#009900">DOS codepage 850 uses code 135 for this glyph.}</font>
<a name="line496"><font color="#000000">496:</font></a> 
<a name="line497"><font color="#000000">497:</font></a> <i><font color="#9A1900">@cindex mode line (MS-DOS)</font></i>
<a name="line498"><font color="#000000">498:</font></a>   All the <b><font color="#0000FF">@code</font></b><font color="#009900">{cp@var{nnn}}</font> coding systems use the letter <b><font color="#0000FF">@samp</font></b><font color="#009900">{D}</font>
<a name="line499"><font color="#000000">499:</font></a> (for ``DOS'') as their mode-line mnemonic.  Since both the terminal
<a name="line500"><font color="#000000">500:</font></a> coding system and the default coding system for file I/O are set to
<a name="line501"><font color="#000000">501:</font></a> the proper <b><font color="#0000FF">@code</font></b><font color="#009900">{cp@var{nnn}}</font> coding system at startup, it is normal
<a name="line502"><font color="#000000">502:</font></a> for the mode line on MS-DOS to begin with <b><font color="#0000FF">@samp</font></b><font color="#009900">{-DD\-}</font>.
<a name="line503"><font color="#000000">503:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line504"><font color="#000000">504:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mode Line,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>.
<a name="line505"><font color="#000000">505:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line506"><font color="#000000">506:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line507"><font color="#000000">507:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mode Line</font><font color="#FF0000">}</font>.
<a name="line508"><font color="#000000">508:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line509"><font color="#000000">509:</font></a> Far-Eastern DOS terminals do not use the <b><font color="#0000FF">@code</font></b><font color="#009900">{cp@var{nnn}}</font> coding
<a name="line510"><font color="#000000">510:</font></a> systems, and thus their initial mode line looks like the Emacs
<a name="line511"><font color="#000000">511:</font></a> default.
<a name="line512"><font color="#000000">512:</font></a> 
<a name="line513"><font color="#000000">513:</font></a>   Since the codepage number also indicates which script you are using,
<a name="line514"><font color="#000000">514:</font></a> Emacs automatically runs <b><font color="#0000FF">@code</font></b><font color="#009900">{set-language-environment}</font> to select the
<a name="line515"><font color="#000000">515:</font></a> language environment for that script
<a name="line516"><font color="#000000">516:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line517"><font color="#000000">517:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line518"><font color="#000000">518:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line519"><font color="#000000">519:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line520"><font color="#000000">520:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Language Environments</font><font color="#FF0000">}</font>).
<a name="line521"><font color="#000000">521:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line522"><font color="#000000">522:</font></a> 
<a name="line523"><font color="#000000">523:</font></a>   If a buffer contains a character belonging to some other ISO 8859
<a name="line524"><font color="#000000">524:</font></a> character set, not the one that the chosen DOS codepage supports, Emacs
<a name="line525"><font color="#000000">525:</font></a> displays it using a sequence of <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters.  For example, if the
<a name="line526"><font color="#000000">526:</font></a> current codepage doesn't have a glyph for the letter <b><font color="#0000FF">@samp</font></b><font color="#009900">{@`o}</font> (small
<a name="line527"><font color="#000000">527:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font> with a grave accent), it is displayed as <b><font color="#0000FF">@samp</font></b><font color="#009900">{@{`o@}}</font>, where
<a name="line528"><font color="#000000">528:</font></a> the braces serve as a visual indication that this is a single character.
<a name="line529"><font color="#000000">529:</font></a> (This may look awkward for some non-Latin characters, such as those from
<a name="line530"><font color="#000000">530:</font></a> Greek or Hebrew alphabets, but it is still readable by a person who
<a name="line531"><font color="#000000">531:</font></a> knows the language.)  Even though the character may occupy several
<a name="line532"><font color="#000000">532:</font></a> columns on the screen, it is really still just a single character, and
<a name="line533"><font color="#000000">533:</font></a> all Emacs commands treat it as one.
<a name="line534"><font color="#000000">534:</font></a> 
<a name="line535"><font color="#000000">535:</font></a> <i><font color="#9A1900">@cindex MS-Windows codepages</font></i>
<a name="line536"><font color="#000000">536:</font></a>   MS-Windows provides its own codepages, which are different from the
<a name="line537"><font color="#000000">537:</font></a> DOS codepages for the same locale.  For example, DOS codepage 850
<a name="line538"><font color="#000000">538:</font></a> supports the same character set as Windows codepage 1252; DOS codepage
<a name="line539"><font color="#000000">539:</font></a> 855 supports the same character set as Windows codepage 1251, etc.
<a name="line540"><font color="#000000">540:</font></a> The MS-Windows version of Emacs uses the current codepage for display
<a name="line541"><font color="#000000">541:</font></a> when invoked with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-nw}</font> option.
<a name="line542"><font color="#000000">542:</font></a> 
<a name="line543"><font color="#000000">543:</font></a> <b><font color="#0000FF">@node</font></b> MS-DOS Processes
<a name="line544"><font color="#000000">544:</font></a> <b><font color="#0000FF">@subsection</font></b> Subprocesses on MS-DOS
<a name="line545"><font color="#000000">545:</font></a> 
<a name="line546"><font color="#000000">546:</font></a> <i><font color="#9A1900">@cindex compilation under MS-DOS</font></i>
<a name="line547"><font color="#000000">547:</font></a> <i><font color="#9A1900">@cindex inferior processes under MS-DOS</font></i>
<a name="line548"><font color="#000000">548:</font></a> <b><font color="#0000FF">@findex</font></b> compile <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line549"><font color="#000000">549:</font></a> <b><font color="#0000FF">@findex</font></b> grep <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line550"><font color="#000000">550:</font></a>   Because MS-DOS is a single-process ``operating system'',
<a name="line551"><font color="#000000">551:</font></a> asynchronous subprocesses are not available.  In particular, Shell
<a name="line552"><font color="#000000">552:</font></a> mode and its variants do not work.  Most Emacs features that use
<a name="line553"><font color="#000000">553:</font></a> asynchronous subprocesses also don't work on MS-DOS, including
<a name="line554"><font color="#000000">554:</font></a> Shell mode and GUD<b><font color="#0000FF">@.</font></b>  When in doubt, try and see; commands that
<a name="line555"><font color="#000000">555:</font></a> don't work output an error message saying that asynchronous processes
<a name="line556"><font color="#000000">556:</font></a> aren't supported.
<a name="line557"><font color="#000000">557:</font></a> 
<a name="line558"><font color="#000000">558:</font></a>   Compilation under Emacs with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x compile}</font>, searching files with
<a name="line559"><font color="#000000">559:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x grep}</font> and displaying differences between files with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line560"><font color="#000000">560:</font></a> <font color="#009900">diff}</font> do work, by running the inferior processes synchronously.  This
<a name="line561"><font color="#000000">561:</font></a> means you cannot do any more editing until the inferior process
<a name="line562"><font color="#000000">562:</font></a> finishes.
<a name="line563"><font color="#000000">563:</font></a> 
<a name="line564"><font color="#000000">564:</font></a>   Spell checking also works, by means of special support for synchronous
<a name="line565"><font color="#000000">565:</font></a> invocation of the <b><font color="#0000FF">@code</font></b><font color="#009900">{ispell}</font> program.  This is slower than the
<a name="line566"><font color="#000000">566:</font></a> asynchronous invocation on other platforms
<a name="line567"><font color="#000000">567:</font></a> 
<a name="line568"><font color="#000000">568:</font></a>   Instead of the Shell mode, which doesn't work on MS-DOS, you can use
<a name="line569"><font color="#000000">569:</font></a> the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x eshell}</font> command.  This invokes the Eshell package that
<a name="line570"><font color="#000000">570:</font></a> implements a POSIX-like shell entirely in Emacs Lisp.
<a name="line571"><font color="#000000">571:</font></a> 
<a name="line572"><font color="#000000">572:</font></a>   By contrast, Emacs compiled as a native Windows application
<a name="line573"><font color="#000000">573:</font></a> <b><font color="#0000FF">@strong</font></b><font color="#009900">{does}</font> support asynchronous subprocesses.
<a name="line574"><font color="#000000">574:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line575"><font color="#000000">575:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Windows Processes,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>.
<a name="line576"><font color="#000000">576:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line577"><font color="#000000">577:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line578"><font color="#000000">578:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Windows Processes</font><font color="#FF0000">}</font>.
<a name="line579"><font color="#000000">579:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line580"><font color="#000000">580:</font></a> 
<a name="line581"><font color="#000000">581:</font></a> <i><font color="#9A1900">@cindex printing under MS-DOS</font></i>
<a name="line582"><font color="#000000">582:</font></a>   Printing commands, such as <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-buffer}</font>
<a name="line583"><font color="#000000">583:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line584"><font color="#000000">584:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Printing,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>) and
<a name="line585"><font color="#000000">585:</font></a> <i><font color="#9A1900">@code{ps-print-buffer} (@pxref{PostScript,,,emacs, the Emacs Manual}),</font></i>
<a name="line586"><font color="#000000">586:</font></a> work in MS-DOS by sending the output to one of the printer ports.
<a name="line587"><font color="#000000">587:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">MS-DOS Printing,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>.
<a name="line588"><font color="#000000">588:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line589"><font color="#000000">589:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line590"><font color="#000000">590:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Printing</font><font color="#FF0000">}</font>) and <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-buffer}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">PostScript</font><font color="#FF0000">}</font>),
<a name="line591"><font color="#000000">591:</font></a> work in MS-DOS by sending the output to one of the printer ports.
<a name="line592"><font color="#000000">592:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">MS-DOS Printing</font><font color="#FF0000">}</font>.
<a name="line593"><font color="#000000">593:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line594"><font color="#000000">594:</font></a> 
<a name="line595"><font color="#000000">595:</font></a>   When you run a subprocess synchronously on MS-DOS, make sure the
<a name="line596"><font color="#000000">596:</font></a> program terminates and does not try to read keyboard input.  If the
<a name="line597"><font color="#000000">597:</font></a> program does not terminate on its own, you will be unable to terminate
<a name="line598"><font color="#000000">598:</font></a> it, because MS-DOS provides no general way to terminate a process.
<a name="line599"><font color="#000000">599:</font></a> Pressing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@key{Break}}</font> might sometimes help in these
<a name="line600"><font color="#000000">600:</font></a> cases.
<a name="line601"><font color="#000000">601:</font></a> 
<a name="line602"><font color="#000000">602:</font></a>   Accessing files on other machines is not supported on MS-DOS<b><font color="#0000FF">@.</font></b>  Other
<a name="line603"><font color="#000000">603:</font></a> network-oriented commands such as sending mail, Web browsing, remote
<a name="line604"><font color="#000000">604:</font></a> login, etc., don't work either, unless network access is built into
<a name="line605"><font color="#000000">605:</font></a> MS-DOS with some network redirector.
<a name="line606"><font color="#000000">606:</font></a> 
<a name="line607"><font color="#000000">607:</font></a> <i><font color="#9A1900">@cindex directory listing on MS-DOS</font></i>
<a name="line608"><font color="#000000">608:</font></a> <b><font color="#0000FF">@vindex</font></b> dired-listing-switches <b><font color="#0000FF">@r</font></b><font color="#009900">{(MS-DOS)}</font>
<a name="line609"><font color="#000000">609:</font></a>   Dired on MS-DOS uses the <b><font color="#0000FF">@code</font></b><font color="#009900">{ls-lisp}</font> package
<a name="line610"><font color="#000000">610:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line611"><font color="#000000">611:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">ls in Lisp,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line612"><font color="#000000">612:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line613"><font color="#000000">613:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line614"><font color="#000000">614:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">ls in Lisp</font><font color="#FF0000">}</font>).
<a name="line615"><font color="#000000">615:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line616"><font color="#000000">616:</font></a> Therefore, Dired on MS-DOS supports only some of the possible options
<a name="line617"><font color="#000000">617:</font></a> you can mention in the <b><font color="#0000FF">@code</font></b><font color="#009900">{dired-listing-switches}</font> variable.  The
<a name="line618"><font color="#000000">618:</font></a> options that work are <b><font color="#0000FF">@samp</font></b><font color="#009900">{-A}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-a}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-c}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-i}</font>,
<a name="line619"><font color="#000000">619:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{-r}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-S}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-s}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{-u}</font>.
<a name="line620"><font color="#000000">620:</font></a> </tt></pre>
