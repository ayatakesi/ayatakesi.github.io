<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">001:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line2"><font color="#000000">002:</font></a> <i><font color="#9A1900">@c Copyright (C) 2004-2017 Free Software Foundation, Inc.</font></i>
<a name="line3"><font color="#000000">003:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line4"><font color="#000000">004:</font></a> <i><font color="#9A1900">@c</font></i>
<a name="line5"><font color="#000000">005:</font></a> <i><font color="#9A1900">@c This file is included either in emacs-xtra.texi (when producing the</font></i>
<a name="line6"><font color="#000000">006:</font></a> <i><font color="#9A1900">@c printed version) or in the main Emacs manual (for the on-line version).</font></i>
<a name="line7"><font color="#000000">007:</font></a> <b><font color="#0000FF">@node</font></b> Fortran
<a name="line8"><font color="#000000">008:</font></a> <b><font color="#0000FF">@section</font></b> Fortran Mode
<a name="line9"><font color="#000000">009:</font></a> <i><font color="#9A1900">@cindex Fortran mode</font></i>
<a name="line10"><font color="#000000">010:</font></a> <i><font color="#9A1900">@cindex mode, Fortran</font></i>
<a name="line11"><font color="#000000">011:</font></a> 
<a name="line12"><font color="#000000">012:</font></a> <i><font color="#9A1900">@cindex Fortran fixed form and free form</font></i>
<a name="line13"><font color="#000000">013:</font></a> <i><font color="#9A1900">@cindex Fortran 77 and Fortran 90, 95, 2003, 2008</font></i>
<a name="line14"><font color="#000000">014:</font></a> <b><font color="#0000FF">@findex</font></b> f90-mode
<a name="line15"><font color="#000000">015:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-mode
<a name="line16"><font color="#000000">016:</font></a>   Fortran mode is meant for editing fixed form (and also tab
<a name="line17"><font color="#000000">017:</font></a> format) source code (normally Fortran 77).  For editing more modern
<a name="line18"><font color="#000000">018:</font></a> free-form source code (Fortran 90, 95, 2003, 2008), use F90 mode
<a name="line19"><font color="#000000">019:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{f90-mode}</font>).  Emacs normally uses Fortran mode for files with
<a name="line20"><font color="#000000">020:</font></a> extension <b><font color="#0000FF">@samp</font></b><font color="#009900">{.f}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{.F}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{.for}</font>, and F90 mode for the
<a name="line21"><font color="#000000">021:</font></a> extensions <b><font color="#0000FF">@samp</font></b><font color="#009900">{.f90}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{.f95}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{.f03}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{.f08}</font>.
<a name="line22"><font color="#000000">022:</font></a> Customize <b><font color="#0000FF">@code</font></b><font color="#009900">{auto-mode-alist}</font> to add more extensions.  GNU Fortran
<a name="line23"><font color="#000000">023:</font></a> supports both free and fixed form.  This manual mainly documents Fortran
<a name="line24"><font color="#000000">024:</font></a> mode, but the corresponding F90 mode features are mentioned when
<a name="line25"><font color="#000000">025:</font></a> relevant.
<a name="line26"><font color="#000000">026:</font></a> 
<a name="line27"><font color="#000000">027:</font></a>   Fortran mode provides special motion commands for Fortran statements
<a name="line28"><font color="#000000">028:</font></a> and subprograms, and indentation commands that understand Fortran
<a name="line29"><font color="#000000">029:</font></a> conventions of nesting, line numbers and continuation statements.
<a name="line30"><font color="#000000">030:</font></a> Fortran mode has support for Auto Fill mode that breaks long lines into
<a name="line31"><font color="#000000">031:</font></a> proper Fortran continuation lines.  Fortran mode also supports Hideshow
<a name="line32"><font color="#000000">032:</font></a> minor mode
<a name="line33"><font color="#000000">033:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line34"><font color="#000000">034:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hideshow,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>),
<a name="line35"><font color="#000000">035:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line36"><font color="#000000">036:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line37"><font color="#000000">037:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hideshow</font><font color="#FF0000">}</font>),
<a name="line38"><font color="#000000">038:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line39"><font color="#000000">039:</font></a> and Imenu
<a name="line40"><font color="#000000">040:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line41"><font color="#000000">041:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Imenu,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line42"><font color="#000000">042:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line43"><font color="#000000">043:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line44"><font color="#000000">044:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Imenu</font><font color="#FF0000">}</font>).
<a name="line45"><font color="#000000">045:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line46"><font color="#000000">046:</font></a> 
<a name="line47"><font color="#000000">047:</font></a>   Special commands for comments are provided because Fortran comments
<a name="line48"><font color="#000000">048:</font></a> are unlike those of other languages.  Built-in abbrevs optionally save
<a name="line49"><font color="#000000">049:</font></a> typing when you insert Fortran keywords.
<a name="line50"><font color="#000000">050:</font></a> 
<a name="line51"><font color="#000000">051:</font></a>   Use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x fortran-mode}</font> to switch to this major mode.  This
<a name="line52"><font color="#000000">052:</font></a> command runs the hook <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-mode-hook}</font>.
<a name="line53"><font color="#000000">053:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line54"><font color="#000000">054:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>.
<a name="line55"><font color="#000000">055:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line56"><font color="#000000">056:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line57"><font color="#000000">057:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>.
<a name="line58"><font color="#000000">058:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line59"><font color="#000000">059:</font></a> 
<a name="line60"><font color="#000000">060:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line61"><font color="#000000">061:</font></a> * Motion: Fortran Motion.        Moving point by statements or subprograms.
<a name="line62"><font color="#000000">062:</font></a> * Indent: Fortran Indent.        Indentation commands for Fortran.
<a name="line63"><font color="#000000">063:</font></a> * Comments: Fortran Comments.    Inserting and aligning comments.
<a name="line64"><font color="#000000">064:</font></a> * Autofill: Fortran Autofill.    Auto fill support for Fortran.
<a name="line65"><font color="#000000">065:</font></a> * Columns: Fortran Columns.      Measuring columns for valid Fortran.
<a name="line66"><font color="#000000">066:</font></a> * Abbrev: Fortran Abbrev.        Built-in abbrevs for Fortran keywords.
<a name="line67"><font color="#000000">067:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line68"><font color="#000000">068:</font></a> 
<a name="line69"><font color="#000000">069:</font></a> <b><font color="#0000FF">@node</font></b> Fortran Motion
<a name="line70"><font color="#000000">070:</font></a> <b><font color="#0000FF">@subsection</font></b> Motion Commands
<a name="line71"><font color="#000000">071:</font></a> 
<a name="line72"><font color="#000000">072:</font></a>   In addition to the normal commands for moving by and operating on
<a name="line73"><font color="#000000">073:</font></a> defuns (Fortran subprograms---functions and subroutines, as well
<a name="line74"><font color="#000000">074:</font></a> as modules for F90 mode, using the commands <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-end-of-subprogram}</font>
<a name="line75"><font color="#000000">075:</font></a> and <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-beginning-of-subprogram}</font>), Fortran mode provides
<a name="line76"><font color="#000000">076:</font></a> special commands to move by statements and other program units.
<a name="line77"><font color="#000000">077:</font></a> 
<a name="line78"><font color="#000000">078:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line79"><font color="#000000">079:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line80"><font color="#000000">080:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-next-statement
<a name="line81"><font color="#000000">081:</font></a> <b><font color="#0000FF">@findex</font></b> f90-next-statement
<a name="line82"><font color="#000000">082:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-n
<a name="line83"><font color="#000000">083:</font></a> Move to the beginning of the next statement
<a name="line84"><font color="#000000">084:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-next-statement}</font>/<b><font color="#0000FF">@code</font></b><font color="#009900">{f90-next-statement}</font>).
<a name="line85"><font color="#000000">085:</font></a> 
<a name="line86"><font color="#000000">086:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line87"><font color="#000000">087:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-previous-statement
<a name="line88"><font color="#000000">088:</font></a> <b><font color="#0000FF">@findex</font></b> f90-previous-statement
<a name="line89"><font color="#000000">089:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-p
<a name="line90"><font color="#000000">090:</font></a> Move to the beginning of the previous statement
<a name="line91"><font color="#000000">091:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-previous-statement}</font>/<b><font color="#0000FF">@code</font></b><font color="#009900">{f90-previous-statement}</font>).
<a name="line92"><font color="#000000">092:</font></a> If there is no previous statement (i.e., if called from the first
<a name="line93"><font color="#000000">093:</font></a> statement in the buffer), move to the start of the buffer.
<a name="line94"><font color="#000000">094:</font></a> 
<a name="line95"><font color="#000000">095:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-e <b><font color="#0000FF">@r</font></b><font color="#009900">{(F90 mode)}</font>
<a name="line96"><font color="#000000">096:</font></a> <b><font color="#0000FF">@findex</font></b> f90-next-block
<a name="line97"><font color="#000000">097:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-e
<a name="line98"><font color="#000000">098:</font></a> Move point forward to the start of the next code block, or the end of
<a name="line99"><font color="#000000">099:</font></a> the current one, whichever comes first (<b><font color="#0000FF">@code</font></b><font color="#009900">{f90-next-block}</font>).
<a name="line100"><font color="#000000">100:</font></a> A code block is a subroutine, <b><font color="#0000FF">@code</font></b><font color="#009900">{if}</font>--<b><font color="#0000FF">@code</font></b><font color="#009900">{endif}</font> statement, and
<a name="line101"><font color="#000000">101:</font></a> so forth.  This command exists for F90 mode only, not Fortran mode.
<a name="line102"><font color="#000000">102:</font></a> With a numeric argument, it moves forward that many blocks.
<a name="line103"><font color="#000000">103:</font></a> 
<a name="line104"><font color="#000000">104:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-a <b><font color="#0000FF">@r</font></b><font color="#009900">{(F90 mode)}</font>
<a name="line105"><font color="#000000">105:</font></a> <b><font color="#0000FF">@findex</font></b> f90-previous-block
<a name="line106"><font color="#000000">106:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-a
<a name="line107"><font color="#000000">107:</font></a> Move point backward to the previous block
<a name="line108"><font color="#000000">108:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{f90-previous-block}</font>).  This is like <b><font color="#0000FF">@code</font></b><font color="#009900">{f90-next-block}</font>, but
<a name="line109"><font color="#000000">109:</font></a> moves backwards.
<a name="line110"><font color="#000000">110:</font></a> 
<a name="line111"><font color="#000000">111:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line112"><font color="#000000">112:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-end-of-block
<a name="line113"><font color="#000000">113:</font></a> <b><font color="#0000FF">@findex</font></b> f90-end-of-block
<a name="line114"><font color="#000000">114:</font></a> <b><font color="#0000FF">@item</font></b> C-M-n
<a name="line115"><font color="#000000">115:</font></a> Move to the end of the current code block
<a name="line116"><font color="#000000">116:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-end-of-block}</font>/<b><font color="#0000FF">@code</font></b><font color="#009900">{f90-end-of-block}</font>).  With a numeric
<a name="line117"><font color="#000000">117:</font></a> argument, move forward that number of blocks.  The mark is set before
<a name="line118"><font color="#000000">118:</font></a> moving point.  The F90 mode version of this command checks for
<a name="line119"><font color="#000000">119:</font></a> consistency of block types and labels (if present), but it does not
<a name="line120"><font color="#000000">120:</font></a> check the outermost block since that may be incomplete.
<a name="line121"><font color="#000000">121:</font></a> 
<a name="line122"><font color="#000000">122:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line123"><font color="#000000">123:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-beginning-of-block
<a name="line124"><font color="#000000">124:</font></a> <b><font color="#0000FF">@findex</font></b> f90-beginning-of-block
<a name="line125"><font color="#000000">125:</font></a> <b><font color="#0000FF">@item</font></b> C-M-p
<a name="line126"><font color="#000000">126:</font></a> Move to the start of the current code block
<a name="line127"><font color="#000000">127:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-beginning-of-block}</font>/<b><font color="#0000FF">@code</font></b><font color="#009900">{f90-beginning-of-block}</font>). This
<a name="line128"><font color="#000000">128:</font></a> is like <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-end-of-block}</font>, but moves backwards.
<a name="line129"><font color="#000000">129:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line130"><font color="#000000">130:</font></a> 
<a name="line131"><font color="#000000">131:</font></a> The commands <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-beginning-of-subprogram}</font> and
<a name="line132"><font color="#000000">132:</font></a> <i><font color="#9A1900">@code{fortran-end-of-subprogram} move to the start or end of the</font></i>
<a name="line133"><font color="#000000">133:</font></a> current subprogram, respectively.  The commands <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-mark-do}</font>
<a name="line134"><font color="#000000">134:</font></a> and <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-mark-if}</font> mark the end of the current <b><font color="#0000FF">@code</font></b><font color="#009900">{do}</font> or
<a name="line135"><font color="#000000">135:</font></a> <i><font color="#9A1900">@code{if} block, and move point to the start.</font></i>
<a name="line136"><font color="#000000">136:</font></a> 
<a name="line137"><font color="#000000">137:</font></a> 
<a name="line138"><font color="#000000">138:</font></a> <b><font color="#0000FF">@node</font></b> Fortran Indent
<a name="line139"><font color="#000000">139:</font></a> <b><font color="#0000FF">@subsection</font></b> Fortran Indentation
<a name="line140"><font color="#000000">140:</font></a> 
<a name="line141"><font color="#000000">141:</font></a>   Special commands and features are needed for indenting fixed (or tab)
<a name="line142"><font color="#000000">142:</font></a> form Fortran code in order to make sure various syntactic entities (line
<a name="line143"><font color="#000000">143:</font></a> numbers, comment line indicators and continuation line flags) appear in
<a name="line144"><font color="#000000">144:</font></a> the required columns.
<a name="line145"><font color="#000000">145:</font></a> 
<a name="line146"><font color="#000000">146:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line147"><font color="#000000">147:</font></a> * Commands: ForIndent Commands.  Commands for indenting and filling Fortran.
<a name="line148"><font color="#000000">148:</font></a> * Contline: ForIndent Cont.      How continuation lines indent.
<a name="line149"><font color="#000000">149:</font></a> * Numbers:  ForIndent Num.       How line numbers auto-indent.
<a name="line150"><font color="#000000">150:</font></a> * Conv:     ForIndent Conv.      Conventions you must obey to avoid trouble.
<a name="line151"><font color="#000000">151:</font></a> * Vars:     ForIndent Vars.      Variables controlling Fortran indent style.
<a name="line152"><font color="#000000">152:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line153"><font color="#000000">153:</font></a> 
<a name="line154"><font color="#000000">154:</font></a> <b><font color="#0000FF">@node</font></b> ForIndent Commands
<a name="line155"><font color="#000000">155:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Fortran Indentation and Filling Commands
<a name="line156"><font color="#000000">156:</font></a> 
<a name="line157"><font color="#000000">157:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line158"><font color="#000000">158:</font></a> <b><font color="#0000FF">@item</font></b> C-M-j
<a name="line159"><font color="#000000">159:</font></a> Break the current line at point and set up a continuation line
<a name="line160"><font color="#000000">160:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-split-line}</font>).
<a name="line161"><font color="#000000">161:</font></a> <b><font color="#0000FF">@item</font></b> M-^
<a name="line162"><font color="#000000">162:</font></a> Join this line to the previous line (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-join-line}</font>).
<a name="line163"><font color="#000000">163:</font></a> <b><font color="#0000FF">@item</font></b> C-M-q
<a name="line164"><font color="#000000">164:</font></a> Indent all the lines of the subprogram that point is in
<a name="line165"><font color="#000000">165:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-indent-subprogram}</font>).
<a name="line166"><font color="#000000">166:</font></a> <b><font color="#0000FF">@item</font></b> M-q
<a name="line167"><font color="#000000">167:</font></a> Fill a comment block or statement (using <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-fill-paragraph}</font>
<a name="line168"><font color="#000000">168:</font></a> or <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-fill-statement}</font>).
<a name="line169"><font color="#000000">169:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line170"><font color="#000000">170:</font></a> 
<a name="line171"><font color="#000000">171:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-q <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line172"><font color="#000000">172:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-indent-subprogram
<a name="line173"><font color="#000000">173:</font></a>   The key <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-q}</font> runs <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-indent-subprogram}</font>, a command
<a name="line174"><font color="#000000">174:</font></a> to reindent all the lines of the Fortran subprogram (function or
<a name="line175"><font color="#000000">175:</font></a> subroutine) containing point.
<a name="line176"><font color="#000000">176:</font></a> 
<a name="line177"><font color="#000000">177:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-j <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line178"><font color="#000000">178:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-split-line
<a name="line179"><font color="#000000">179:</font></a>   The key <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-j}</font> runs <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-split-line}</font>, which splits
<a name="line180"><font color="#000000">180:</font></a> a line in the appropriate fashion for Fortran.  In a non-comment line,
<a name="line181"><font color="#000000">181:</font></a> the second half becomes a continuation line and is indented
<a name="line182"><font color="#000000">182:</font></a> accordingly.  In a comment line, both halves become separate comment
<a name="line183"><font color="#000000">183:</font></a> lines.
<a name="line184"><font color="#000000">184:</font></a> 
<a name="line185"><font color="#000000">185:</font></a> <b><font color="#0000FF">@kindex</font></b> M-^ <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line186"><font color="#000000">186:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-d <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line187"><font color="#000000">187:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-join-line
<a name="line188"><font color="#000000">188:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-^}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-d}</font> runs the command <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-join-line}</font>,
<a name="line189"><font color="#000000">189:</font></a> which joins a continuation line back to the previous line, roughly as
<a name="line190"><font color="#000000">190:</font></a> the inverse of <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-split-line}</font>.  The point must be on a
<a name="line191"><font color="#000000">191:</font></a> continuation line when this command is invoked.
<a name="line192"><font color="#000000">192:</font></a> 
<a name="line193"><font color="#000000">193:</font></a> <b><font color="#0000FF">@kindex</font></b> M-q <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line194"><font color="#000000">194:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-q}</font> in Fortran mode fills the comment block or statement that
<a name="line195"><font color="#000000">195:</font></a> point is in.  This removes any excess statement continuations.
<a name="line196"><font color="#000000">196:</font></a> 
<a name="line197"><font color="#000000">197:</font></a> <b><font color="#0000FF">@node</font></b> ForIndent Cont
<a name="line198"><font color="#000000">198:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Continuation Lines
<a name="line199"><font color="#000000">199:</font></a> <i><font color="#9A1900">@cindex Fortran continuation lines</font></i>
<a name="line200"><font color="#000000">200:</font></a> 
<a name="line201"><font color="#000000">201:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-continuation-string
<a name="line202"><font color="#000000">202:</font></a>   Most Fortran 77 compilers allow two ways of writing continuation lines.
<a name="line203"><font color="#000000">203:</font></a> If the first non-space character on a line is in column 5, then that
<a name="line204"><font color="#000000">204:</font></a> line is a continuation of the previous line.  We call this <b><font color="#0000FF">@dfn</font></b><font color="#009900">{fixed</font>
<a name="line205"><font color="#000000">205:</font></a> <font color="#009900">form}</font>.  (In GNU Emacs we always count columns from 0; but note that
<a name="line206"><font color="#000000">206:</font></a> the Fortran standard counts from 1.)  The variable
<a name="line207"><font color="#000000">207:</font></a> <i><font color="#9A1900">@code{fortran-continuation-string} specifies what character to put in</font></i>
<a name="line208"><font color="#000000">208:</font></a> column 5.  A line that starts with a tab character followed by any digit
<a name="line209"><font color="#000000">209:</font></a> except <b><font color="#0000FF">@samp</font></b><font color="#009900">{0}</font> is also a continuation line.  We call this style of
<a name="line210"><font color="#000000">210:</font></a> continuation <b><font color="#0000FF">@dfn</font></b><font color="#009900">{tab format}</font>.  (Fortran 90 introduced free-form
<a name="line211"><font color="#000000">211:</font></a> continuation lines.)
<a name="line212"><font color="#000000">212:</font></a> 
<a name="line213"><font color="#000000">213:</font></a> <b><font color="#0000FF">@vindex</font></b> indent-tabs-mode <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line214"><font color="#000000">214:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-analyze-depth
<a name="line215"><font color="#000000">215:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-tab-mode-default
<a name="line216"><font color="#000000">216:</font></a>   Fortran mode can use either style of continuation line.  When you
<a name="line217"><font color="#000000">217:</font></a> enter Fortran mode, it tries to deduce the proper continuation style
<a name="line218"><font color="#000000">218:</font></a> automatically from the buffer contents.  It does this by scanning up to
<a name="line219"><font color="#000000">219:</font></a> <i><font color="#9A1900">@code{fortran-analyze-depth} (default 100) lines from the start of the</font></i>
<a name="line220"><font color="#000000">220:</font></a> buffer.  The first line that begins with either a tab character or six
<a name="line221"><font color="#000000">221:</font></a> spaces determines the choice.  If the scan fails (for example, if the
<a name="line222"><font color="#000000">222:</font></a> buffer is new and therefore empty), the value of
<a name="line223"><font color="#000000">223:</font></a> <i><font color="#9A1900">@code{fortran-tab-mode-default} (@code{nil} for fixed form, and</font></i>
<a name="line224"><font color="#000000">224:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> for tab format) is used.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{/t}</font>
<a name="line225"><font color="#000000">225:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-tab-mode-string}</font>) in the mode line indicates tab format
<a name="line226"><font color="#000000">226:</font></a> is selected.  Fortran mode sets the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{indent-tabs-mode}</font>
<a name="line227"><font color="#000000">227:</font></a> accordingly.
<a name="line228"><font color="#000000">228:</font></a> 
<a name="line229"><font color="#000000">229:</font></a>   If the text on a line starts with the Fortran continuation marker
<a name="line230"><font color="#000000">230:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{$}</font>, or if it begins with any non-whitespace character in column
<a name="line231"><font color="#000000">231:</font></a> 5, Fortran mode treats it as a continuation line.  When you indent a
<a name="line232"><font color="#000000">232:</font></a> continuation line with <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>, it converts the line to the current
<a name="line233"><font color="#000000">233:</font></a> continuation style.  When you split a Fortran statement with
<a name="line234"><font color="#000000">234:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-j}</font>, the continuation marker on the newline is created according
<a name="line235"><font color="#000000">235:</font></a> to the continuation style.
<a name="line236"><font color="#000000">236:</font></a> 
<a name="line237"><font color="#000000">237:</font></a>   The setting of continuation style affects several other aspects of
<a name="line238"><font color="#000000">238:</font></a> editing in Fortran mode.  In fixed form mode, the minimum column
<a name="line239"><font color="#000000">239:</font></a> number for the body of a statement is 6.  Lines inside of Fortran
<a name="line240"><font color="#000000">240:</font></a> blocks that are indented to larger column numbers must use only the
<a name="line241"><font color="#000000">241:</font></a> space character for whitespace.  In tab format mode, the minimum
<a name="line242"><font color="#000000">242:</font></a> column number for the statement body is 8, and the whitespace before
<a name="line243"><font color="#000000">243:</font></a> column 8 must consist of one tab character.
<a name="line244"><font color="#000000">244:</font></a> 
<a name="line245"><font color="#000000">245:</font></a> <b><font color="#0000FF">@node</font></b> ForIndent Num
<a name="line246"><font color="#000000">246:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Line Numbers
<a name="line247"><font color="#000000">247:</font></a> 
<a name="line248"><font color="#000000">248:</font></a>   If a number is the first non-whitespace in the line, Fortran
<a name="line249"><font color="#000000">249:</font></a> indentation assumes it is a line number and moves it to columns 0
<a name="line250"><font color="#000000">250:</font></a> through 4.  (Columns always count from 0 in Emacs.)
<a name="line251"><font color="#000000">251:</font></a> 
<a name="line252"><font color="#000000">252:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-line-number-indent
<a name="line253"><font color="#000000">253:</font></a>   Line numbers of four digits or less are normally indented one space.
<a name="line254"><font color="#000000">254:</font></a> The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-line-number-indent}</font> controls this; it
<a name="line255"><font color="#000000">255:</font></a> specifies the maximum indentation a line number can have.  The default
<a name="line256"><font color="#000000">256:</font></a> value of the variable is 1.  Fortran mode tries to prevent line number
<a name="line257"><font color="#000000">257:</font></a> digits passing column 4, reducing the indentation below the specified
<a name="line258"><font color="#000000">258:</font></a> maximum if necessary.  If <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-line-number-indent}</font> has the
<a name="line259"><font color="#000000">259:</font></a> value 5, line numbers are right-justified to end in column 4.
<a name="line260"><font color="#000000">260:</font></a> 
<a name="line261"><font color="#000000">261:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-electric-line-number
<a name="line262"><font color="#000000">262:</font></a>   Simply inserting a line number is enough to indent it according to
<a name="line263"><font color="#000000">263:</font></a> these rules.  As each digit is inserted, the indentation is recomputed.
<a name="line264"><font color="#000000">264:</font></a> To turn off this feature, set the variable
<a name="line265"><font color="#000000">265:</font></a> <i><font color="#9A1900">@code{fortran-electric-line-number} to @code{nil}.</font></i>
<a name="line266"><font color="#000000">266:</font></a> 
<a name="line267"><font color="#000000">267:</font></a> 
<a name="line268"><font color="#000000">268:</font></a> <b><font color="#0000FF">@node</font></b> ForIndent Conv
<a name="line269"><font color="#000000">269:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Syntactic Conventions
<a name="line270"><font color="#000000">270:</font></a> 
<a name="line271"><font color="#000000">271:</font></a>   Fortran mode assumes that you follow certain conventions that simplify
<a name="line272"><font color="#000000">272:</font></a> the task of understanding a Fortran program well enough to indent it
<a name="line273"><font color="#000000">273:</font></a> properly:
<a name="line274"><font color="#000000">274:</font></a> 
<a name="line275"><font color="#000000">275:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line276"><font color="#000000">276:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line277"><font color="#000000">277:</font></a> Two nested <b><font color="#0000FF">@samp</font></b><font color="#009900">{do}</font> loops never share a <b><font color="#0000FF">@samp</font></b><font color="#009900">{continue}</font> statement.
<a name="line278"><font color="#000000">278:</font></a> 
<a name="line279"><font color="#000000">279:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line280"><font color="#000000">280:</font></a> Fortran keywords such as <b><font color="#0000FF">@samp</font></b><font color="#009900">{if}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{else}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{then}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{do}</font>
<a name="line281"><font color="#000000">281:</font></a> and others are written without embedded whitespace or line breaks.
<a name="line282"><font color="#000000">282:</font></a> 
<a name="line283"><font color="#000000">283:</font></a> Fortran compilers generally ignore whitespace outside of string
<a name="line284"><font color="#000000">284:</font></a> constants, but Fortran mode does not recognize these keywords if they
<a name="line285"><font color="#000000">285:</font></a> are not contiguous.  Constructs such as <b><font color="#0000FF">@samp</font></b><font color="#009900">{else if}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{end do}</font>
<a name="line286"><font color="#000000">286:</font></a> are acceptable, but the second word should be on the same line as the
<a name="line287"><font color="#000000">287:</font></a> first and not on a continuation line.
<a name="line288"><font color="#000000">288:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line289"><font color="#000000">289:</font></a> 
<a name="line290"><font color="#000000">290:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line291"><font color="#000000">291:</font></a> If you fail to follow these conventions, the indentation commands may
<a name="line292"><font color="#000000">292:</font></a> indent some lines unaesthetically.  However, a correct Fortran program
<a name="line293"><font color="#000000">293:</font></a> retains its meaning when reindented even if the conventions are not
<a name="line294"><font color="#000000">294:</font></a> followed.
<a name="line295"><font color="#000000">295:</font></a> 
<a name="line296"><font color="#000000">296:</font></a> <b><font color="#0000FF">@node</font></b> ForIndent Vars
<a name="line297"><font color="#000000">297:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Variables for Fortran Indentation
<a name="line298"><font color="#000000">298:</font></a> 
<a name="line299"><font color="#000000">299:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-do-indent
<a name="line300"><font color="#000000">300:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-if-indent
<a name="line301"><font color="#000000">301:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-structure-indent
<a name="line302"><font color="#000000">302:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-continuation-indent
<a name="line303"><font color="#000000">303:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-check-all-num<b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>
<a name="line304"><font color="#000000">304:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-minimum-statement-indent<b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>
<a name="line305"><font color="#000000">305:</font></a>   Several additional variables control how Fortran indentation works:
<a name="line306"><font color="#000000">306:</font></a> 
<a name="line307"><font color="#000000">307:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line308"><font color="#000000">308:</font></a> <b><font color="#0000FF">@item</font></b> fortran-do-indent
<a name="line309"><font color="#000000">309:</font></a> Extra indentation within each level of <b><font color="#0000FF">@samp</font></b><font color="#009900">{do}</font> statement (default 3).
<a name="line310"><font color="#000000">310:</font></a> 
<a name="line311"><font color="#000000">311:</font></a> <b><font color="#0000FF">@item</font></b> fortran-if-indent
<a name="line312"><font color="#000000">312:</font></a> Extra indentation within each level of <b><font color="#0000FF">@samp</font></b><font color="#009900">{if}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{select case}</font>, or
<a name="line313"><font color="#000000">313:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{where}</font> statements (default 3).
<a name="line314"><font color="#000000">314:</font></a> 
<a name="line315"><font color="#000000">315:</font></a> <b><font color="#0000FF">@item</font></b> fortran-structure-indent
<a name="line316"><font color="#000000">316:</font></a> Extra indentation within each level of <b><font color="#0000FF">@samp</font></b><font color="#009900">{structure}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{union}</font>,
<a name="line317"><font color="#000000">317:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{map}</font>, or <b><font color="#0000FF">@samp</font></b><font color="#009900">{interface}</font> statements (default 3).
<a name="line318"><font color="#000000">318:</font></a> 
<a name="line319"><font color="#000000">319:</font></a> <b><font color="#0000FF">@item</font></b> fortran-continuation-indent
<a name="line320"><font color="#000000">320:</font></a> Extra indentation for bodies of continuation lines (default 5).
<a name="line321"><font color="#000000">321:</font></a> 
<a name="line322"><font color="#000000">322:</font></a> <b><font color="#0000FF">@item</font></b> fortran-check-all-num-for-matching-do
<a name="line323"><font color="#000000">323:</font></a> In Fortran 77, a numbered <b><font color="#0000FF">@samp</font></b><font color="#009900">{do}</font> statement is ended by any statement
<a name="line324"><font color="#000000">324:</font></a> with a matching line number.  It is common (but not compulsory) to use a
<a name="line325"><font color="#000000">325:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{continue}</font> statement for this purpose.  If this variable has a
<a name="line326"><font color="#000000">326:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value, indenting any numbered statement must check for a
<a name="line327"><font color="#000000">327:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{do}</font> that ends there.  If you always end <b><font color="#0000FF">@samp</font></b><font color="#009900">{do}</font> statements with
<a name="line328"><font color="#000000">328:</font></a> a <b><font color="#0000FF">@samp</font></b><font color="#009900">{continue}</font> line (or if you use the more modern <b><font color="#0000FF">@samp</font></b><font color="#009900">{enddo}</font>),
<a name="line329"><font color="#000000">329:</font></a> then you can speed up indentation by setting this variable to
<a name="line330"><font color="#000000">330:</font></a> <i><font color="#9A1900">@code{nil} (the default).</font></i>
<a name="line331"><font color="#000000">331:</font></a> 
<a name="line332"><font color="#000000">332:</font></a> <b><font color="#0000FF">@item</font></b> fortran-blink-matching-if
<a name="line333"><font color="#000000">333:</font></a> If this is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>, indenting an <b><font color="#0000FF">@samp</font></b><font color="#009900">{endif}</font> (or <b><font color="#0000FF">@samp</font></b><font color="#009900">{enddo}</font>
<a name="line334"><font color="#000000">334:</font></a> statement moves the cursor momentarily to the matching <b><font color="#0000FF">@samp</font></b><font color="#009900">{if}</font> (or
<a name="line335"><font color="#000000">335:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{do}</font>) statement to show where it is.  The default is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line336"><font color="#000000">336:</font></a> 
<a name="line337"><font color="#000000">337:</font></a> <b><font color="#0000FF">@item</font></b> fortran-minimum-statement-indent-fixed
<a name="line338"><font color="#000000">338:</font></a> Minimum indentation for Fortran statements when using fixed form
<a name="line339"><font color="#000000">339:</font></a> continuation line style.  Statement bodies are never indented by less than
<a name="line340"><font color="#000000">340:</font></a> this.  The default is 6.
<a name="line341"><font color="#000000">341:</font></a> 
<a name="line342"><font color="#000000">342:</font></a> <b><font color="#0000FF">@item</font></b> fortran-minimum-statement-indent-tab
<a name="line343"><font color="#000000">343:</font></a> Minimum indentation for Fortran statements for tab format continuation line
<a name="line344"><font color="#000000">344:</font></a> style.  Statement bodies are never indented by less than this.  The
<a name="line345"><font color="#000000">345:</font></a> default is 8.
<a name="line346"><font color="#000000">346:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line347"><font color="#000000">347:</font></a> 
<a name="line348"><font color="#000000">348:</font></a> The following section describes the variables controlling the
<a name="line349"><font color="#000000">349:</font></a> indentation of comments.
<a name="line350"><font color="#000000">350:</font></a> 
<a name="line351"><font color="#000000">351:</font></a> <b><font color="#0000FF">@node</font></b> Fortran Comments
<a name="line352"><font color="#000000">352:</font></a> <b><font color="#0000FF">@subsection</font></b> Fortran Comments
<a name="line353"><font color="#000000">353:</font></a> 
<a name="line354"><font color="#000000">354:</font></a>   The usual Emacs comment commands assume that a comment can follow a
<a name="line355"><font color="#000000">355:</font></a> line of code.  In Fortran 77, the standard comment syntax requires an
<a name="line356"><font color="#000000">356:</font></a> entire line to be just a comment.  Therefore, Fortran mode replaces the
<a name="line357"><font color="#000000">357:</font></a> standard Emacs comment commands and defines some new variables.
<a name="line358"><font color="#000000">358:</font></a> 
<a name="line359"><font color="#000000">359:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-comment-line-start
<a name="line360"><font color="#000000">360:</font></a>   Fortran mode can also handle the Fortran 90 comment syntax where
<a name="line361"><font color="#000000">361:</font></a> comments start with <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font> and can follow other text.  Because only
<a name="line362"><font color="#000000">362:</font></a> some Fortran 77 compilers accept this syntax, Fortran mode will not
<a name="line363"><font color="#000000">363:</font></a> insert such comments unless you have said in advance to do so.  To do
<a name="line364"><font color="#000000">364:</font></a> this, set the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-comment-line-start}</font> to <b><font color="#0000FF">@samp</font></b><font color="#009900">{"!"}</font>.
<a name="line365"><font color="#000000">365:</font></a> If you use an unusual value, you may need to change
<a name="line366"><font color="#000000">366:</font></a> <i><font color="#9A1900">@code{fortran-comment-line-start-skip}.</font></i>
<a name="line367"><font color="#000000">367:</font></a> 
<a name="line368"><font color="#000000">368:</font></a> 
<a name="line369"><font color="#000000">369:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line370"><font color="#000000">370:</font></a> <b><font color="#0000FF">@item</font></b> M-;
<a name="line371"><font color="#000000">371:</font></a> Align comment or insert new comment (<b><font color="#0000FF">@code</font></b><font color="#009900">{comment-dwim}</font>).
<a name="line372"><font color="#000000">372:</font></a> 
<a name="line373"><font color="#000000">373:</font></a> <b><font color="#0000FF">@item</font></b> C-x ;
<a name="line374"><font color="#000000">374:</font></a> Applies to nonstandard <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font> comments only (<b><font color="#0000FF">@code</font></b><font color="#009900">{comment-set-column}</font>).
<a name="line375"><font color="#000000">375:</font></a> 
<a name="line376"><font color="#000000">376:</font></a> <b><font color="#0000FF">@item</font></b> C-c ;
<a name="line377"><font color="#000000">377:</font></a> Turn all lines of the region into comments, or (with argument) turn them back
<a name="line378"><font color="#000000">378:</font></a> into real code (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-comment-region}</font>).
<a name="line379"><font color="#000000">379:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line380"><font color="#000000">380:</font></a> 
<a name="line381"><font color="#000000">381:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-;}</font> in Fortran mode runs the standard <b><font color="#0000FF">@code</font></b><font color="#009900">{comment-dwim}</font>.
<a name="line382"><font color="#000000">382:</font></a> This recognizes any kind of existing comment and aligns its text
<a name="line383"><font color="#000000">383:</font></a> appropriately; if there is no existing comment, a comment is inserted
<a name="line384"><font color="#000000">384:</font></a> and aligned.  Inserting and aligning comments are not the same in
<a name="line385"><font color="#000000">385:</font></a> Fortran mode as in other modes.
<a name="line386"><font color="#000000">386:</font></a> 
<a name="line387"><font color="#000000">387:</font></a>   When a new comment must be inserted, if the current line is blank, a
<a name="line388"><font color="#000000">388:</font></a> full-line comment is inserted.  On a non-blank line, a nonstandard <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font>
<a name="line389"><font color="#000000">389:</font></a> comment is inserted if you have said you want to use them.  Otherwise a
<a name="line390"><font color="#000000">390:</font></a> full-line comment is inserted on a new line before the current line.
<a name="line391"><font color="#000000">391:</font></a> 
<a name="line392"><font color="#000000">392:</font></a>   Nonstandard <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font> comments are aligned like comments in other
<a name="line393"><font color="#000000">393:</font></a> languages, but full-line comments are different.  In a standard full-line
<a name="line394"><font color="#000000">394:</font></a> comment, the comment delimiter itself must always appear in column zero.
<a name="line395"><font color="#000000">395:</font></a> What can be aligned is the text within the comment.  You can choose from
<a name="line396"><font color="#000000">396:</font></a> three styles of alignment by setting the variable
<a name="line397"><font color="#000000">397:</font></a> <i><font color="#9A1900">@code{fortran-comment-indent-style} to one of these values:</font></i>
<a name="line398"><font color="#000000">398:</font></a> 
<a name="line399"><font color="#000000">399:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-comment-indent-style
<a name="line400"><font color="#000000">400:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-comment-line-extra-indent
<a name="line401"><font color="#000000">401:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line402"><font color="#000000">402:</font></a> <b><font color="#0000FF">@item</font></b> fixed
<a name="line403"><font color="#000000">403:</font></a> Align the text at a fixed column, which is the sum of
<a name="line404"><font color="#000000">404:</font></a> <i><font color="#9A1900">@code{fortran-comment-line-extra-indent} and the minimum statement</font></i>
<a name="line405"><font color="#000000">405:</font></a> indentation.  This is the default.
<a name="line406"><font color="#000000">406:</font></a> 
<a name="line407"><font color="#000000">407:</font></a> The minimum indentation is
<a name="line408"><font color="#000000">408:</font></a> <i><font color="#9A1900">@code{fortran-minimum-statement-indent-tab} for tab format</font></i>
<a name="line409"><font color="#000000">409:</font></a> continuation line style and <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-minimum-statement-indent-fixed}</font>
<a name="line410"><font color="#000000">410:</font></a> for fixed form style.
<a name="line411"><font color="#000000">411:</font></a> 
<a name="line412"><font color="#000000">412:</font></a> <b><font color="#0000FF">@item</font></b> relative
<a name="line413"><font color="#000000">413:</font></a> Align the text as if it were a line of code, but with an additional
<a name="line414"><font color="#000000">414:</font></a> <i><font color="#9A1900">@code{fortran-comment-line-extra-indent} columns of indentation.</font></i>
<a name="line415"><font color="#000000">415:</font></a> 
<a name="line416"><font color="#000000">416:</font></a> <b><font color="#0000FF">@item</font></b> nil
<a name="line417"><font color="#000000">417:</font></a> Don't move text in full-line comments automatically.
<a name="line418"><font color="#000000">418:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line419"><font color="#000000">419:</font></a> 
<a name="line420"><font color="#000000">420:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-comment-indent-char
<a name="line421"><font color="#000000">421:</font></a>   In addition, you can specify the character to be used to indent within
<a name="line422"><font color="#000000">422:</font></a> full-line comments by setting the variable
<a name="line423"><font color="#000000">423:</font></a> <i><font color="#9A1900">@code{fortran-comment-indent-char} to the single-character string you want</font></i>
<a name="line424"><font color="#000000">424:</font></a> to use.
<a name="line425"><font color="#000000">425:</font></a> 
<a name="line426"><font color="#000000">426:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-directive-re
<a name="line427"><font color="#000000">427:</font></a>   Compiler directive lines, or preprocessor lines, have much the same
<a name="line428"><font color="#000000">428:</font></a> appearance as comment lines.  It is important, though, that such lines
<a name="line429"><font color="#000000">429:</font></a> never be indented at all, no matter what the value of
<a name="line430"><font color="#000000">430:</font></a> <i><font color="#9A1900">@code{fortran-comment-indent-style}.  The variable</font></i>
<a name="line431"><font color="#000000">431:</font></a> <i><font color="#9A1900">@code{fortran-directive-re} is a regular expression that specifies which</font></i>
<a name="line432"><font color="#000000">432:</font></a> lines are directives.  Matching lines are never indented, and receive
<a name="line433"><font color="#000000">433:</font></a> distinctive font-locking.
<a name="line434"><font color="#000000">434:</font></a> 
<a name="line435"><font color="#000000">435:</font></a>   The normal Emacs comment command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x ;}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comment-set-column}</font>)
<a name="line436"><font color="#000000">436:</font></a> has not been redefined.  If you use <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font> comments, this command
<a name="line437"><font color="#000000">437:</font></a> can be used with them.  Otherwise it is useless in Fortran mode.
<a name="line438"><font color="#000000">438:</font></a> 
<a name="line439"><font color="#000000">439:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c ; <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line440"><font color="#000000">440:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-comment-region
<a name="line441"><font color="#000000">441:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-comment-region
<a name="line442"><font color="#000000">442:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c ;}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-comment-region}</font>) turns all the
<a name="line443"><font color="#000000">443:</font></a> lines of the region into comments by inserting the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{c$$$}</font> at
<a name="line444"><font color="#000000">444:</font></a> the front of each one.  With a numeric argument, it turns the region
<a name="line445"><font color="#000000">445:</font></a> back into live code by deleting <b><font color="#0000FF">@samp</font></b><font color="#009900">{c$$$}</font> from the front of each line
<a name="line446"><font color="#000000">446:</font></a> in it.  The string used for these comments can be controlled by setting
<a name="line447"><font color="#000000">447:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-comment-region}</font>.  Note that here we have an
<a name="line448"><font color="#000000">448:</font></a> example of a command and a variable with the same name; these two uses
<a name="line449"><font color="#000000">449:</font></a> of the name never conflict because in Lisp and in Emacs it is always
<a name="line450"><font color="#000000">450:</font></a> clear from the context which one is meant.
<a name="line451"><font color="#000000">451:</font></a> 
<a name="line452"><font color="#000000">452:</font></a> <b><font color="#0000FF">@node</font></b> Fortran Autofill
<a name="line453"><font color="#000000">453:</font></a> <b><font color="#0000FF">@subsection</font></b> Auto Fill in Fortran Mode
<a name="line454"><font color="#000000">454:</font></a> 
<a name="line455"><font color="#000000">455:</font></a>   Fortran mode has specialized support for Auto Fill mode, which is a
<a name="line456"><font color="#000000">456:</font></a> minor mode that automatically splits statements as you insert them
<a name="line457"><font color="#000000">457:</font></a> when they become too wide.  Splitting a statement involves making
<a name="line458"><font color="#000000">458:</font></a> continuation lines using <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-continuation-string}</font>
<a name="line459"><font color="#000000">459:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">ForIndent Cont</font><font color="#FF0000">}</font>).  This splitting happens when you type
<a name="line460"><font color="#000000">460:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, or <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>, and also in the Fortran
<a name="line461"><font color="#000000">461:</font></a> indentation commands.  You activate Auto Fill in Fortran mode in the
<a name="line462"><font color="#000000">462:</font></a> normal way.
<a name="line463"><font color="#000000">463:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line464"><font color="#000000">464:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Auto Fill,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>.
<a name="line465"><font color="#000000">465:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line466"><font color="#000000">466:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line467"><font color="#000000">467:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Auto Fill</font><font color="#FF0000">}</font>.
<a name="line468"><font color="#000000">468:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line469"><font color="#000000">469:</font></a> 
<a name="line470"><font color="#000000">470:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-break-before-delimiters
<a name="line471"><font color="#000000">471:</font></a>    Auto Fill breaks lines at spaces or delimiters when the lines get
<a name="line472"><font color="#000000">472:</font></a> longer than the desired width (the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{fill-column}</font>).  The
<a name="line473"><font color="#000000">473:</font></a> delimiters (besides whitespace) that Auto Fill can break at are
<a name="line474"><font color="#000000">474:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{+}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{/}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{=}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{&lt;}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{&gt;}</font>,
<a name="line475"><font color="#000000">475:</font></a> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{,}</font>.  The line break comes after the delimiter if the
<a name="line476"><font color="#000000">476:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-break-before-delimiters}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line477"><font color="#000000">477:</font></a> Otherwise (and by default), the break comes before the delimiter.
<a name="line478"><font color="#000000">478:</font></a> 
<a name="line479"><font color="#000000">479:</font></a>   To enable Auto Fill in all Fortran buffers, add
<a name="line480"><font color="#000000">480:</font></a> <i><font color="#9A1900">@code{auto-fill-mode} to @code{fortran-mode-hook}.</font></i>
<a name="line481"><font color="#000000">481:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line482"><font color="#000000">482:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>.
<a name="line483"><font color="#000000">483:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line484"><font color="#000000">484:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line485"><font color="#000000">485:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>.
<a name="line486"><font color="#000000">486:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line487"><font color="#000000">487:</font></a> 
<a name="line488"><font color="#000000">488:</font></a> <b><font color="#0000FF">@node</font></b> Fortran Columns
<a name="line489"><font color="#000000">489:</font></a> <b><font color="#0000FF">@subsection</font></b> Checking Columns in Fortran
<a name="line490"><font color="#000000">490:</font></a> 
<a name="line491"><font color="#000000">491:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-line-length
<a name="line492"><font color="#000000">492:</font></a> In standard Fortran 77, anything beyond column 72 is ignored.
<a name="line493"><font color="#000000">493:</font></a> Most compilers provide an option to change this (for example,
<a name="line494"><font color="#000000">494:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{-ffixed-line-length-N}</font> in gfortran).  Customize the variable
<a name="line495"><font color="#000000">495:</font></a> <i><font color="#9A1900">@code{fortran-line-length} to change the line length in Fortran mode.</font></i>
<a name="line496"><font color="#000000">496:</font></a> Anything beyond this point is font-locked as a comment.  (Unless it is
<a name="line497"><font color="#000000">497:</font></a> inside a string: strings that extend beyond <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-line-length}</font>
<a name="line498"><font color="#000000">498:</font></a> will confuse font-lock.)
<a name="line499"><font color="#000000">499:</font></a> 
<a name="line500"><font color="#000000">500:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line501"><font color="#000000">501:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-r
<a name="line502"><font color="#000000">502:</font></a> Display a column ruler momentarily above the current line
<a name="line503"><font color="#000000">503:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-column-ruler}</font>).
<a name="line504"><font color="#000000">504:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-w
<a name="line505"><font color="#000000">505:</font></a> Split the current window horizontally temporarily so that it is
<a name="line506"><font color="#000000">506:</font></a> <i><font color="#9A1900">@code{fortran-line-length} columns wide</font></i>
<a name="line507"><font color="#000000">507:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-window-create-momentarily}</font>).  This may help you avoid
<a name="line508"><font color="#000000">508:</font></a> making lines longer than the limit imposed by your Fortran compiler.
<a name="line509"><font color="#000000">509:</font></a> <b><font color="#0000FF">@item</font></b> C-u C-c C-w
<a name="line510"><font color="#000000">510:</font></a> Split the current window horizontally so that it is
<a name="line511"><font color="#000000">511:</font></a> <i><font color="#9A1900">@code{fortran-line-length} columns wide (@code{fortran-window-create}).</font></i>
<a name="line512"><font color="#000000">512:</font></a> You can then continue editing.
<a name="line513"><font color="#000000">513:</font></a> <b><font color="#0000FF">@item</font></b> M-x fortran-strip-sequence-nos
<a name="line514"><font color="#000000">514:</font></a> Delete all text in column <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-line-length}</font> and beyond.
<a name="line515"><font color="#000000">515:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line516"><font color="#000000">516:</font></a> 
<a name="line517"><font color="#000000">517:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line518"><font color="#000000">518:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-column-ruler
<a name="line519"><font color="#000000">519:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-r}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-column-ruler}</font>) shows a column
<a name="line520"><font color="#000000">520:</font></a> ruler momentarily above the current line.  The comment ruler is two lines
<a name="line521"><font color="#000000">521:</font></a> of text that show you the locations of columns with special significance in
<a name="line522"><font color="#000000">522:</font></a> Fortran programs.  Square brackets show the limits of the columns for line
<a name="line523"><font color="#000000">523:</font></a> numbers, and curly brackets show the limits of the columns for the
<a name="line524"><font color="#000000">524:</font></a> statement body.  Column numbers appear above them.
<a name="line525"><font color="#000000">525:</font></a> 
<a name="line526"><font color="#000000">526:</font></a>   Note that the column numbers count from zero, as always in GNU Emacs.
<a name="line527"><font color="#000000">527:</font></a> As a result, the numbers may be one less than those you are familiar
<a name="line528"><font color="#000000">528:</font></a> with; but the positions they indicate in the line are standard for
<a name="line529"><font color="#000000">529:</font></a> Fortran.
<a name="line530"><font color="#000000">530:</font></a> 
<a name="line531"><font color="#000000">531:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-column-ruler-fixed
<a name="line532"><font color="#000000">532:</font></a> <b><font color="#0000FF">@vindex</font></b> fortran-column-ruler-tabs
<a name="line533"><font color="#000000">533:</font></a>   The text used to display the column ruler depends on the value of the
<a name="line534"><font color="#000000">534:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{indent-tabs-mode}</font>.  If <b><font color="#0000FF">@code</font></b><font color="#009900">{indent-tabs-mode}</font> is
<a name="line535"><font color="#000000">535:</font></a> <i><font color="#9A1900">@code{nil}, then the value of the variable</font></i>
<a name="line536"><font color="#000000">536:</font></a> <i><font color="#9A1900">@code{fortran-column-ruler-fixed} is used as the column ruler.</font></i>
<a name="line537"><font color="#000000">537:</font></a> Otherwise, the value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-column-ruler-tab}</font> is
<a name="line538"><font color="#000000">538:</font></a> displayed.  By changing these variables, you can change the column ruler
<a name="line539"><font color="#000000">539:</font></a> display.
<a name="line540"><font color="#000000">540:</font></a> 
<a name="line541"><font color="#000000">541:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line542"><font color="#000000">542:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-window-create-momentarily
<a name="line543"><font color="#000000">543:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-w}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-window-create-momentarily}</font>) temporarily
<a name="line544"><font color="#000000">544:</font></a> splits the current window horizontally, making a window
<a name="line545"><font color="#000000">545:</font></a> <i><font color="#9A1900">@code{fortran-line-length} columns wide, so you can see any lines that</font></i>
<a name="line546"><font color="#000000">546:</font></a> are too long.  Type a space to restore the normal width.
<a name="line547"><font color="#000000">547:</font></a> 
<a name="line548"><font color="#000000">548:</font></a> <b><font color="#0000FF">@kindex</font></b> C-u C-c C-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(Fortran mode)}</font>
<a name="line549"><font color="#000000">549:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-window-create
<a name="line550"><font color="#000000">550:</font></a>   You can also split the window horizontally and continue editing with
<a name="line551"><font color="#000000">551:</font></a> the split in place.  To do this, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-c C-w}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{M-x</font>
<a name="line552"><font color="#000000">552:</font></a> <font color="#009900">fortran-window-create}</font>).  By editing in this window you can
<a name="line553"><font color="#000000">553:</font></a> immediately see when you make a line too wide to be correct Fortran.
<a name="line554"><font color="#000000">554:</font></a> 
<a name="line555"><font color="#000000">555:</font></a> <b><font color="#0000FF">@findex</font></b> fortran-strip-sequence-nos
<a name="line556"><font color="#000000">556:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x fortran-strip-sequence-nos}</font> deletes all text in
<a name="line557"><font color="#000000">557:</font></a> column <b><font color="#0000FF">@code</font></b><font color="#009900">{fortran-line-length}</font> and beyond, on all lines in the
<a name="line558"><font color="#000000">558:</font></a> current buffer.  This is the easiest way to get rid of old sequence
<a name="line559"><font color="#000000">559:</font></a> numbers.
<a name="line560"><font color="#000000">560:</font></a> 
<a name="line561"><font color="#000000">561:</font></a> <b><font color="#0000FF">@node</font></b> Fortran Abbrev
<a name="line562"><font color="#000000">562:</font></a> <b><font color="#0000FF">@subsection</font></b> Fortran Keyword Abbrevs
<a name="line563"><font color="#000000">563:</font></a> 
<a name="line564"><font color="#000000">564:</font></a>   Fortran mode provides many built-in abbrevs for common keywords and
<a name="line565"><font color="#000000">565:</font></a> declarations.  These are the same sort of abbrev that you can define
<a name="line566"><font color="#000000">566:</font></a> yourself.  To use them, you must turn on Abbrev mode.
<a name="line567"><font color="#000000">567:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line568"><font color="#000000">568:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Abbrevs,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>.
<a name="line569"><font color="#000000">569:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line570"><font color="#000000">570:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line571"><font color="#000000">571:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Abbrevs</font><font color="#FF0000">}</font>.
<a name="line572"><font color="#000000">572:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line573"><font color="#000000">573:</font></a> 
<a name="line574"><font color="#000000">574:</font></a>   The built-in abbrevs are unusual in one way: they all start with a
<a name="line575"><font color="#000000">575:</font></a> semicolon.  For example, one built-in Fortran abbrev is <b><font color="#0000FF">@samp</font></b><font color="#009900">{;c}</font> for
<a name="line576"><font color="#000000">576:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{continue}</font>.  If you insert <b><font color="#0000FF">@samp</font></b><font color="#009900">{;c}</font> and then insert a punctuation
<a name="line577"><font color="#000000">577:</font></a> character such as a space or a newline, the <b><font color="#0000FF">@samp</font></b><font color="#009900">{;c}</font> expands automatically
<a name="line578"><font color="#000000">578:</font></a> to <b><font color="#0000FF">@samp</font></b><font color="#009900">{continue}</font>, provided Abbrev mode is enabled.
<a name="line579"><font color="#000000">579:</font></a> 
<a name="line580"><font color="#000000">580:</font></a>   Type <b><font color="#0000FF">@samp</font></b><font color="#009900">{;?}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{;C-h}</font> to display a list of all the built-in
<a name="line581"><font color="#000000">581:</font></a> Fortran abbrevs and what they stand for.
<a name="line582"><font color="#000000">582:</font></a> </tt></pre>
