<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">0001:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.  -*- coding: utf-8 -*-</font></i>
<a name="line2"><font color="#000000">0002:</font></a> <i><font color="#9A1900">@c Copyright (C) 2004-2017 Free Software Foundation, Inc.</font></i>
<a name="line3"><font color="#000000">0003:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line4"><font color="#000000">0004:</font></a> <i><font color="#9A1900">@c</font></i>
<a name="line5"><font color="#000000">0005:</font></a> <i><font color="#9A1900">@c This file is included either in emacs-xtra.texi (when producing the</font></i>
<a name="line6"><font color="#000000">0006:</font></a> <i><font color="#9A1900">@c printed version) or in the main Emacs manual (for the on-line version).</font></i>
<a name="line7"><font color="#000000">0007:</font></a> 
<a name="line8"><font color="#000000">0008:</font></a> <i><font color="#9A1900">@c Moved here from the Emacs Lisp Reference Manual, 2005-03-26.</font></i>
<a name="line9"><font color="#000000">0009:</font></a> <b><font color="#0000FF">@node</font></b> Advanced Calendar/Diary Usage
<a name="line10"><font color="#000000">0010:</font></a> <b><font color="#0000FF">@section</font></b> More advanced features of the Calendar and Diary
<a name="line11"><font color="#000000">0011:</font></a> 
<a name="line12"><font color="#000000">0012:</font></a>   This section describes some of the more advanced/specialized
<a name="line13"><font color="#000000">0013:</font></a> features of the calendar and diary.  It starts with some of the
<a name="line14"><font color="#000000">0014:</font></a> many ways in which you can customize the calendar and diary to suit
<a name="line15"><font color="#000000">0015:</font></a> your personal tastes.
<a name="line16"><font color="#000000">0016:</font></a> 
<a name="line17"><font color="#000000">0017:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line18"><font color="#000000">0018:</font></a> <font color="#FF0000">* Calendar Customizing::</font>   Calendar layout and hooks.
<a name="line19"><font color="#000000">0019:</font></a> <font color="#FF0000">* Holiday Customizing::</font>    Defining your own holidays.
<a name="line20"><font color="#000000">0020:</font></a> <font color="#FF0000">* Mayan Calendar::</font>         Moving to a date specified in a Mayan calendar.
<a name="line21"><font color="#000000">0021:</font></a> <font color="#FF0000">* Date Display Format::</font>    Changing the format.
<a name="line22"><font color="#000000">0022:</font></a> <font color="#FF0000">* Time Display Format::</font>    Changing the format.
<a name="line23"><font color="#000000">0023:</font></a> <font color="#FF0000">* Diary Customizing::</font>      Defaults you can set.
<a name="line24"><font color="#000000">0024:</font></a> <font color="#FF0000">* Non-Gregorian Diary::</font>    Diary entries based on other calendars.
<a name="line25"><font color="#000000">0025:</font></a> <font color="#FF0000">* Diary Display::</font>          A choice of ways to display the diary.
<a name="line26"><font color="#000000">0026:</font></a> <font color="#FF0000">* Fancy Diary Display::</font>    Sorting diary entries, using included diary files.
<a name="line27"><font color="#000000">0027:</font></a> <font color="#FF0000">* Sexp Diary Entries::</font>     More flexible diary entries.
<a name="line28"><font color="#000000">0028:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line29"><font color="#000000">0029:</font></a> 
<a name="line30"><font color="#000000">0030:</font></a> <b><font color="#0000FF">@node</font></b> Calendar Customizing
<a name="line31"><font color="#000000">0031:</font></a> <b><font color="#0000FF">@subsection</font></b> Customizing the Calendar
<a name="line32"><font color="#000000">0032:</font></a> 
<a name="line33"><font color="#000000">0033:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-intermonth-text
<a name="line34"><font color="#000000">0034:</font></a> <i><font color="#9A1900">@cindex calendar layout</font></i>
<a name="line35"><font color="#000000">0035:</font></a> <i><font color="#9A1900">@cindex calendar week numbers</font></i>
<a name="line36"><font color="#000000">0036:</font></a>   The calendar display unfortunately cannot be changed from three
<a name="line37"><font color="#000000">0037:</font></a> months, but you can customize the whitespace used by setting the
<a name="line38"><font color="#000000">0038:</font></a> variables: <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-left-margin}</font>,
<a name="line39"><font color="#000000">0039:</font></a> <i><font color="#9A1900">@code{calendar-day-header-width}, @code{calendar-day-digit-width},</font></i>
<a name="line40"><font color="#000000">0040:</font></a> <i><font color="#9A1900">@code{calendar-column-width}, and @code{calendar-intermonth-spacing}.</font></i>
<a name="line41"><font color="#000000">0041:</font></a> To display text <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">between</font></i><font color="#FF0000">}</font> the months, for example week numbers,
<a name="line42"><font color="#000000">0042:</font></a> customize the variables <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-intermonth-header}</font> and
<a name="line43"><font color="#000000">0043:</font></a> <i><font color="#9A1900">@code{calendar-intermonth-text} as described in their documentation.</font></i>
<a name="line44"><font color="#000000">0044:</font></a> 
<a name="line45"><font color="#000000">0045:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-month-header
<a name="line46"><font color="#000000">0046:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-day-header-array
<a name="line47"><font color="#000000">0047:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-month-header}</font> controls the text that
<a name="line48"><font color="#000000">0048:</font></a> appears above each month in the calendar.  By default, it shows the
<a name="line49"><font color="#000000">0049:</font></a> month and year.  The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-day-header-array}</font>
<a name="line50"><font color="#000000">0050:</font></a> controls the text that appears above each day's column in every month.
<a name="line51"><font color="#000000">0051:</font></a> By default, it shows the first two letters of each day's name.
<a name="line52"><font color="#000000">0052:</font></a> 
<a name="line53"><font color="#000000">0053:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-holiday-marker
<a name="line54"><font color="#000000">0054:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-entry-marker
<a name="line55"><font color="#000000">0055:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-today-marker
<a name="line56"><font color="#000000">0056:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-holiday-marker}</font> specifies how to mark a
<a name="line57"><font color="#000000">0057:</font></a> date that is a holiday.  Its value may be a single-character string to
<a name="line58"><font color="#000000">0058:</font></a> insert next to the date, or a face name to use for displaying the date.
<a name="line59"><font color="#000000">0059:</font></a> Likewise, the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-entry-marker}</font> specifies how to mark a
<a name="line60"><font color="#000000">0060:</font></a> date that has diary entries.  The function <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mark-today}</font>
<a name="line61"><font color="#000000">0061:</font></a> uses <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-today-marker}</font> to mark today's date.  By default,
<a name="line62"><font color="#000000">0062:</font></a> the calendar uses faces named <b><font color="#0000FF">@code</font></b><font color="#009900">{holiday}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{diary}</font>, and
<a name="line63"><font color="#000000">0063:</font></a> <i><font color="#9A1900">@code{calendar-today} for these purposes.</font></i>
<a name="line64"><font color="#000000">0064:</font></a> 
<a name="line65"><font color="#000000">0065:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-initial-window-hook
<a name="line66"><font color="#000000">0066:</font></a>   Starting the calendar runs the normal hook
<a name="line67"><font color="#000000">0067:</font></a> <i><font color="#9A1900">@code{calendar-initial-window-hook}.  Recomputation of the calendar</font></i>
<a name="line68"><font color="#000000">0068:</font></a> display does not run this hook.  But if you leave the calendar with the
<a name="line69"><font color="#000000">0069:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{q}</font> command and reenter it, the hook runs again.
<a name="line70"><font color="#000000">0070:</font></a> 
<a name="line71"><font color="#000000">0071:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-today-visible-hook
<a name="line72"><font color="#000000">0072:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-star-date
<a name="line73"><font color="#000000">0073:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-today-visible-hook}</font> is a normal hook run
<a name="line74"><font color="#000000">0074:</font></a> after the calendar buffer has been prepared with the calendar, when the
<a name="line75"><font color="#000000">0075:</font></a> current date is visible in the window.  One use of this hook is to
<a name="line76"><font color="#000000">0076:</font></a> mark today's date; to do that use either of the functions
<a name="line77"><font color="#000000">0077:</font></a> <i><font color="#9A1900">@code{calendar-mark-today} or @code{calendar-star-date}:</font></i>
<a name="line78"><font color="#000000">0078:</font></a> 
<a name="line79"><font color="#000000">0079:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-mark-today
<a name="line80"><font color="#000000">0080:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line81"><font color="#000000">0081:</font></a> (add-hook 'calendar-today-visible-hook 'calendar-mark-today)
<a name="line82"><font color="#000000">0082:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line83"><font color="#000000">0083:</font></a> 
<a name="line84"><font color="#000000">0084:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-today-invisible-hook
<a name="line85"><font color="#000000">0085:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line86"><font color="#000000">0086:</font></a>   A similar normal hook, <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-today-invisible-hook}</font> is run if
<a name="line87"><font color="#000000">0087:</font></a> the current date is <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">not</font></i><font color="#FF0000">}</font> visible in the window.
<a name="line88"><font color="#000000">0088:</font></a> 
<a name="line89"><font color="#000000">0089:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-move-hook
<a name="line90"><font color="#000000">0090:</font></a>   Each of the calendar cursor motion commands runs the hook
<a name="line91"><font color="#000000">0091:</font></a> <i><font color="#9A1900">@code{calendar-move-hook} after it moves the cursor.</font></i>
<a name="line92"><font color="#000000">0092:</font></a> 
<a name="line93"><font color="#000000">0093:</font></a> <b><font color="#0000FF">@node</font></b> Holiday Customizing
<a name="line94"><font color="#000000">0094:</font></a> <b><font color="#0000FF">@subsection</font></b> Customizing the Holidays
<a name="line95"><font color="#000000">0095:</font></a> 
<a name="line96"><font color="#000000">0096:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-holidays
<a name="line97"><font color="#000000">0097:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-oriental-holidays
<a name="line98"><font color="#000000">0098:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-solar-holidays
<a name="line99"><font color="#000000">0099:</font></a>   There are several variables listing the default holidays that Emacs
<a name="line100"><font color="#000000">0100:</font></a> knows about.  These are: <b><font color="#0000FF">@code</font></b><font color="#009900">{holiday-general-holidays}</font>,
<a name="line101"><font color="#000000">0101:</font></a> <i><font color="#9A1900">@code{holiday-local-holidays}, @code{holiday-solar-holidays},</font></i>
<a name="line102"><font color="#000000">0102:</font></a> <i><font color="#9A1900">@code{holiday-bahai-holidays}, @code{holiday-christian-holidays},</font></i>
<a name="line103"><font color="#000000">0103:</font></a> <i><font color="#9A1900">@code{holiday-hebrew-holidays}, @code{holiday-islamic-holidays},</font></i>
<a name="line104"><font color="#000000">0104:</font></a> <i><font color="#9A1900">@code{holiday-oriental-holidays}, and @code{holiday-other-holidays}.</font></i>
<a name="line105"><font color="#000000">0105:</font></a> The names should be self-explanatory; e.g., <b><font color="#0000FF">@code</font></b><font color="#009900">{holiday-solar-holidays}</font>
<a name="line106"><font color="#000000">0106:</font></a> lists sun- and moon-related holidays.
<a name="line107"><font color="#000000">0107:</font></a> 
<a name="line108"><font color="#000000">0108:</font></a> You can customize these lists of holidays to your own needs, deleting or
<a name="line109"><font color="#000000">0109:</font></a> adding holidays as described below.  Set any of them to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> to
<a name="line110"><font color="#000000">0110:</font></a> not show the associated holidays.
<a name="line111"><font color="#000000">0111:</font></a> 
<a name="line112"><font color="#000000">0112:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-general-holidays
<a name="line113"><font color="#000000">0113:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-local-holidays
<a name="line114"><font color="#000000">0114:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-other-holidays
<a name="line115"><font color="#000000">0115:</font></a>   The general holidays are, by default, holidays common throughout the
<a name="line116"><font color="#000000">0116:</font></a> United States.  In contrast, <b><font color="#0000FF">@code</font></b><font color="#009900">{holiday-local-holidays}</font> and
<a name="line117"><font color="#000000">0117:</font></a> <i><font color="#9A1900">@code{holiday-other-holidays} are both empty by default.  These are</font></i>
<a name="line118"><font color="#000000">0118:</font></a> intended for system-wide settings and your individual use,
<a name="line119"><font color="#000000">0119:</font></a> respectively.
<a name="line120"><font color="#000000">0120:</font></a> 
<a name="line121"><font color="#000000">0121:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-bahai-holidays
<a name="line122"><font color="#000000">0122:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-christian-holidays
<a name="line123"><font color="#000000">0123:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-hebrew-holidays
<a name="line124"><font color="#000000">0124:</font></a> <b><font color="#0000FF">@vindex</font></b> holiday-islamic-holidays
<a name="line125"><font color="#000000">0125:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-bahai-all-holidays-flag
<a name="line126"><font color="#000000">0126:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-christian-all-holidays-flag
<a name="line127"><font color="#000000">0127:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-hebrew-all-holidays-flag
<a name="line128"><font color="#000000">0128:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-islamic-all-holidays-flag
<a name="line129"><font color="#000000">0129:</font></a>   By default, Emacs does not include all the holidays of the religions
<a name="line130"><font color="#000000">0130:</font></a> that it knows, only those commonly found in secular calendars.  For a
<a name="line131"><font color="#000000">0131:</font></a> more extensive collection of religious holidays, you can set any (or
<a name="line132"><font color="#000000">0132:</font></a> all) of the variables <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-bahai-all-holidays-flag}</font>,
<a name="line133"><font color="#000000">0133:</font></a> <i><font color="#9A1900">@code{calendar-christian-all-holidays-flag},</font></i>
<a name="line134"><font color="#000000">0134:</font></a> <i><font color="#9A1900">@code{calendar-hebrew-all-holidays-flag}, or</font></i>
<a name="line135"><font color="#000000">0135:</font></a> <i><font color="#9A1900">@code{calendar-islamic-all-holidays-flag} to @code{t}.</font></i>
<a name="line136"><font color="#000000">0136:</font></a> 
<a name="line137"><font color="#000000">0137:</font></a> <i><font color="#9A1900">@cindex holiday forms</font></i>
<a name="line138"><font color="#000000">0138:</font></a>   Each of the holiday variables is a list of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{holiday forms}</font>, each
<a name="line139"><font color="#000000">0139:</font></a> form describing a holiday (or sometimes a list of holidays).  Here is
<a name="line140"><font color="#000000">0140:</font></a> a table of the possible kinds of holiday form.  Day numbers and month
<a name="line141"><font color="#000000">0141:</font></a> numbers count starting from 1, but <b><font color="#0000FF">@dfn</font></b><font color="#009900">{dayname}</font> numbers count Sunday as
<a name="line142"><font color="#000000">0142:</font></a> 0.  The argument <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> is always the description of the
<a name="line143"><font color="#000000">0143:</font></a> holiday, as a string.
<a name="line144"><font color="#000000">0144:</font></a> 
<a name="line145"><font color="#000000">0145:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line146"><font color="#000000">0146:</font></a> <b><font color="#0000FF">@item</font></b> (holiday-fixed <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>)
<a name="line147"><font color="#000000">0147:</font></a> A fixed date on the Gregorian calendar.
<a name="line148"><font color="#000000">0148:</font></a> 
<a name="line149"><font color="#000000">0149:</font></a> <b><font color="#0000FF">@item</font></b> (holiday-float <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{dayname}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{k}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>
<a name="line150"><font color="#000000">0150:</font></a>       &amp;optional <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font>)
<a name="line151"><font color="#000000">0151:</font></a> The <b><font color="#0000FF">@var</font></b><font color="#009900">{k}</font>th <b><font color="#0000FF">@var</font></b><font color="#009900">{dayname}</font> (<b><font color="#0000FF">@var</font></b><font color="#009900">{dayname}</font>=0 for Sunday, and so on)
<a name="line152"><font color="#000000">0152:</font></a> after or before Gregorian date <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font>, <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font>.  Negative <b><font color="#0000FF">@var</font></b><font color="#009900">{k}</font>
<a name="line153"><font color="#000000">0153:</font></a> means count back from the end of the month.  Optional <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> defaults
<a name="line154"><font color="#000000">0154:</font></a> to 1 if <b><font color="#0000FF">@var</font></b><font color="#009900">{k}</font> is positive, and the last day of <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> otherwise.
<a name="line155"><font color="#000000">0155:</font></a> 
<a name="line156"><font color="#000000">0156:</font></a> <b><font color="#0000FF">@item</font></b> (holiday-chinese <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>)
<a name="line157"><font color="#000000">0157:</font></a> A fixed date on the Chinese calendar.
<a name="line158"><font color="#000000">0158:</font></a> 
<a name="line159"><font color="#000000">0159:</font></a> <b><font color="#0000FF">@item</font></b> (holiday-hebrew <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>)
<a name="line160"><font color="#000000">0160:</font></a> A fixed date on the Hebrew calendar.
<a name="line161"><font color="#000000">0161:</font></a> 
<a name="line162"><font color="#000000">0162:</font></a> <b><font color="#0000FF">@item</font></b> (holiday-islamic <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>)
<a name="line163"><font color="#000000">0163:</font></a> A fixed date on the Islamic calendar.
<a name="line164"><font color="#000000">0164:</font></a> 
<a name="line165"><font color="#000000">0165:</font></a> <b><font color="#0000FF">@item</font></b> (holiday-julian <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>)
<a name="line166"><font color="#000000">0166:</font></a> A fixed date on the Julian calendar.
<a name="line167"><font color="#000000">0167:</font></a> 
<a name="line168"><font color="#000000">0168:</font></a> <b><font color="#0000FF">@item</font></b> (holiday-sexp <b><font color="#0000FF">@var</font></b><font color="#009900">{sexp}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>)
<a name="line169"><font color="#000000">0169:</font></a> A date calculated by the Lisp expression <b><font color="#0000FF">@var</font></b><font color="#009900">{sexp}</font>.  The expression
<a name="line170"><font color="#000000">0170:</font></a> should use the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{year}</font> to compute and return the date of a
<a name="line171"><font color="#000000">0171:</font></a> holiday in the form of a list <b><font color="#0000FF">@code</font></b><font color="#009900">{(@var{month} @var{day} @var{year})}</font>,
<a name="line172"><font color="#000000">0172:</font></a> or <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> if the holiday doesn't happen this year.
<a name="line173"><font color="#000000">0173:</font></a> 
<a name="line174"><font color="#000000">0174:</font></a> <b><font color="#0000FF">@item</font></b> (if <b><font color="#0000FF">@var</font></b><font color="#009900">{condition}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{holiday-form}</font>)
<a name="line175"><font color="#000000">0175:</font></a> A holiday that happens only if <b><font color="#0000FF">@var</font></b><font color="#009900">{condition}</font> is true.
<a name="line176"><font color="#000000">0176:</font></a> 
<a name="line177"><font color="#000000">0177:</font></a> <b><font color="#0000FF">@item</font></b> (<b><font color="#0000FF">@var</font></b><font color="#009900">{function}</font> <b><font color="#0000FF">@r</font></b><font color="#009900">{[}</font><b><font color="#0000FF">@var</font></b><font color="#009900">{args}</font><b><font color="#0000FF">@r</font></b><font color="#009900">{]}</font>)
<a name="line178"><font color="#000000">0178:</font></a> A list of dates calculated by the function <b><font color="#0000FF">@var</font></b><font color="#009900">{function}</font>, called with
<a name="line179"><font color="#000000">0179:</font></a> arguments <b><font color="#0000FF">@var</font></b><font color="#009900">{args}</font>.
<a name="line180"><font color="#000000">0180:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line181"><font color="#000000">0181:</font></a> 
<a name="line182"><font color="#000000">0182:</font></a>   For example, suppose you want to add Bastille Day, celebrated in
<a name="line183"><font color="#000000">0183:</font></a> France on July 14 (i.e., the fourteenth day of the seventh month).  You
<a name="line184"><font color="#000000">0184:</font></a> can do this as follows:
<a name="line185"><font color="#000000">0185:</font></a> 
<a name="line186"><font color="#000000">0186:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line187"><font color="#000000">0187:</font></a> (setq holiday-other-holidays '((holiday-fixed 7 14 "Bastille Day")))
<a name="line188"><font color="#000000">0188:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line189"><font color="#000000">0189:</font></a> 
<a name="line190"><font color="#000000">0190:</font></a>   Many holidays occur on a specific day of the week, at a specific time
<a name="line191"><font color="#000000">0191:</font></a> of month.  Here is a holiday form describing Hurricane Supplication Day,
<a name="line192"><font color="#000000">0192:</font></a> celebrated in the Virgin Islands on the fourth Monday in July:
<a name="line193"><font color="#000000">0193:</font></a> 
<a name="line194"><font color="#000000">0194:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line195"><font color="#000000">0195:</font></a> (holiday-float 7 1 4 "Hurricane Supplication Day")
<a name="line196"><font color="#000000">0196:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line197"><font color="#000000">0197:</font></a> 
<a name="line198"><font color="#000000">0198:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line199"><font color="#000000">0199:</font></a> Here the 7 specifies July, the 1 specifies Monday (Sunday is 0,
<a name="line200"><font color="#000000">0200:</font></a> Tuesday is 2, and so on), and the 4 specifies the fourth occurrence in
<a name="line201"><font color="#000000">0201:</font></a> the month (1 specifies the first occurrence, 2 the second occurrence,
<a name="line202"><font color="#000000">0202:</font></a> <b><font color="#0000FF">@minus</font></b><font color="#009900">{}</font>1 the last occurrence, <b><font color="#0000FF">@minus</font></b><font color="#009900">{}</font>2 the second-to-last occurrence, and
<a name="line203"><font color="#000000">0203:</font></a> so on).
<a name="line204"><font color="#000000">0204:</font></a> 
<a name="line205"><font color="#000000">0205:</font></a>   You can specify holidays that occur on fixed days of the Bahá'í,
<a name="line206"><font color="#000000">0206:</font></a> Chinese, Hebrew, Islamic, and Julian calendars too.  For example,
<a name="line207"><font color="#000000">0207:</font></a> 
<a name="line208"><font color="#000000">0208:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line209"><font color="#000000">0209:</font></a> (setq holiday-other-holidays
<a name="line210"><font color="#000000">0210:</font></a>       '((holiday-hebrew 10 2 "Last day of Hanukkah")
<a name="line211"><font color="#000000">0211:</font></a>         (holiday-islamic 3 12 "Mohammed's Birthday")
<a name="line212"><font color="#000000">0212:</font></a>         (holiday-julian 4 2 "Jefferson's Birthday")))
<a name="line213"><font color="#000000">0213:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line214"><font color="#000000">0214:</font></a> 
<a name="line215"><font color="#000000">0215:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line216"><font color="#000000">0216:</font></a> adds the last day of Hanukkah (since the Hebrew months are numbered with
<a name="line217"><font color="#000000">0217:</font></a> 1 starting from Nisan), the Islamic feast celebrating Mohammed's
<a name="line218"><font color="#000000">0218:</font></a> birthday (since the Islamic months are numbered from 1 starting with
<a name="line219"><font color="#000000">0219:</font></a> Muharram), and Thomas Jefferson's birthday, which is 2 April 1743 on the
<a name="line220"><font color="#000000">0220:</font></a> Julian calendar.
<a name="line221"><font color="#000000">0221:</font></a> 
<a name="line222"><font color="#000000">0222:</font></a>   To include a holiday conditionally, use either Emacs Lisp's <b><font color="#0000FF">@code</font></b><font color="#009900">{if}</font>
<a name="line223"><font color="#000000">0223:</font></a> or the <b><font color="#0000FF">@code</font></b><font color="#009900">{holiday-sexp}</font> form.  For example, American presidential
<a name="line224"><font color="#000000">0224:</font></a> elections occur on the first Tuesday after the first Monday in November
<a name="line225"><font color="#000000">0225:</font></a> of years divisible by 4:
<a name="line226"><font color="#000000">0226:</font></a> 
<a name="line227"><font color="#000000">0227:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line228"><font color="#000000">0228:</font></a> (holiday-sexp '(if (zerop (% year 4))
<a name="line229"><font color="#000000">0229:</font></a>                    (calendar-gregorian-from-absolute
<a name="line230"><font color="#000000">0230:</font></a>                     (1+ (calendar-dayname-on-or-before
<a name="line231"><font color="#000000">0231:</font></a>                           1 (+ 6 (calendar-absolute-from-gregorian
<a name="line232"><font color="#000000">0232:</font></a>                                   (list 11 1 year)))))))
<a name="line233"><font color="#000000">0233:</font></a>               "US Presidential Election")
<a name="line234"><font color="#000000">0234:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line235"><font color="#000000">0235:</font></a> 
<a name="line236"><font color="#000000">0236:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line237"><font color="#000000">0237:</font></a> or
<a name="line238"><font color="#000000">0238:</font></a> 
<a name="line239"><font color="#000000">0239:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line240"><font color="#000000">0240:</font></a> (if (zerop (% displayed-year 4))
<a name="line241"><font color="#000000">0241:</font></a>     (holiday-fixed 11
<a name="line242"><font color="#000000">0242:</font></a>            (calendar-extract-day
<a name="line243"><font color="#000000">0243:</font></a>              (calendar-gregorian-from-absolute
<a name="line244"><font color="#000000">0244:</font></a>                (1+ (calendar-dayname-on-or-before
<a name="line245"><font color="#000000">0245:</font></a>                      1 (+ 6 (calendar-absolute-from-gregorian
<a name="line246"><font color="#000000">0246:</font></a>                               (list 11 1 displayed-year)))))))
<a name="line247"><font color="#000000">0247:</font></a>            "US Presidential Election"))
<a name="line248"><font color="#000000">0248:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line249"><font color="#000000">0249:</font></a> 
<a name="line250"><font color="#000000">0250:</font></a>   Some holidays just don't fit into any of these forms because special
<a name="line251"><font color="#000000">0251:</font></a> calculations are involved in their determination.  In such cases you
<a name="line252"><font color="#000000">0252:</font></a> must write a Lisp function to do the calculation.  To include eclipses,
<a name="line253"><font color="#000000">0253:</font></a> for example, add <b><font color="#0000FF">@code</font></b><font color="#009900">{(eclipses)}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{holiday-other-holidays}</font>
<a name="line254"><font color="#000000">0254:</font></a> and write an Emacs Lisp function <b><font color="#0000FF">@code</font></b><font color="#009900">{eclipses}</font> that returns a
<a name="line255"><font color="#000000">0255:</font></a> (possibly empty) list of the relevant Gregorian dates among the range
<a name="line256"><font color="#000000">0256:</font></a> visible in the calendar window, with descriptive strings, like this:
<a name="line257"><font color="#000000">0257:</font></a> 
<a name="line258"><font color="#000000">0258:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line259"><font color="#000000">0259:</font></a> (((6 4 2012) "Lunar Eclipse") ((11 13 2012) "Solar Eclipse") ... )
<a name="line260"><font color="#000000">0260:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line261"><font color="#000000">0261:</font></a> 
<a name="line262"><font color="#000000">0262:</font></a> <b><font color="#0000FF">@node</font></b> Mayan Calendar
<a name="line263"><font color="#000000">0263:</font></a> <b><font color="#0000FF">@subsection</font></b> Converting from the Mayan Calendar
<a name="line264"><font color="#000000">0264:</font></a> <i><font color="#9A1900">@cindex Mayan calendar</font></i>
<a name="line265"><font color="#000000">0265:</font></a> 
<a name="line266"><font color="#000000">0266:</font></a>   Here are the commands to select dates based on the Mayan calendar:
<a name="line267"><font color="#000000">0267:</font></a> 
<a name="line268"><font color="#000000">0268:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line269"><font color="#000000">0269:</font></a> <b><font color="#0000FF">@item</font></b> g m l
<a name="line270"><font color="#000000">0270:</font></a> Move to a date specified by the long count calendar
<a name="line271"><font color="#000000">0271:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mayan-goto-long-count-date}</font>).
<a name="line272"><font color="#000000">0272:</font></a> <b><font color="#0000FF">@item</font></b> g m n t
<a name="line273"><font color="#000000">0273:</font></a> Move to the next occurrence of a place in the
<a name="line274"><font color="#000000">0274:</font></a> tzolkin calendar (<b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mayan-next-tzolkin-date}</font>).
<a name="line275"><font color="#000000">0275:</font></a> <b><font color="#0000FF">@item</font></b> g m p t
<a name="line276"><font color="#000000">0276:</font></a> Move to the previous occurrence of a place in the
<a name="line277"><font color="#000000">0277:</font></a> tzolkin calendar (<b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mayan-previous-tzolkin-date}</font>).
<a name="line278"><font color="#000000">0278:</font></a> <b><font color="#0000FF">@item</font></b> g m n h
<a name="line279"><font color="#000000">0279:</font></a> Move to the next occurrence of a place in the
<a name="line280"><font color="#000000">0280:</font></a> haab calendar (<b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mayan-next-haab-date}</font>).
<a name="line281"><font color="#000000">0281:</font></a> <b><font color="#0000FF">@item</font></b> g m p h
<a name="line282"><font color="#000000">0282:</font></a> Move to the previous occurrence of a place in the
<a name="line283"><font color="#000000">0283:</font></a> haab calendar (<b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mayan-previous-haab-date}</font>).
<a name="line284"><font color="#000000">0284:</font></a> <b><font color="#0000FF">@item</font></b> g m n c
<a name="line285"><font color="#000000">0285:</font></a> Move to the next occurrence of a place in the
<a name="line286"><font color="#000000">0286:</font></a> calendar round (<b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mayan-next-calendar-round-date}</font>).
<a name="line287"><font color="#000000">0287:</font></a> <b><font color="#0000FF">@item</font></b> g m p c
<a name="line288"><font color="#000000">0288:</font></a> Move to the previous occurrence of a place in the
<a name="line289"><font color="#000000">0289:</font></a> calendar round (<b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-mayan-previous-calendar-round-date}</font>).
<a name="line290"><font color="#000000">0290:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line291"><font color="#000000">0291:</font></a> 
<a name="line292"><font color="#000000">0292:</font></a> <i><font color="#9A1900">@cindex Mayan long count</font></i>
<a name="line293"><font color="#000000">0293:</font></a>   To understand these commands, you need to understand the Mayan calendars.
<a name="line294"><font color="#000000">0294:</font></a> The <b><font color="#0000FF">@dfn</font></b><font color="#009900">{long count}</font> is a counting of days with these units:
<a name="line295"><font color="#000000">0295:</font></a> 
<a name="line296"><font color="#000000">0296:</font></a> <b><font color="#0000FF">@display</font></b>
<a name="line297"><font color="#000000">0297:</font></a> 1 kin = 1 day@ @ @ 1 uinal = 20 kin@ @ @ 1 tun = 18 uinal
<a name="line298"><font color="#000000">0298:</font></a> 1 katun = 20 tun@ @ @ 1 baktun = 20 katun
<a name="line299"><font color="#000000">0299:</font></a> <b><font color="#0000FF">@end display</font></b>
<a name="line300"><font color="#000000">0300:</font></a> 
<a name="line301"><font color="#000000">0301:</font></a> <b><font color="#0000FF">@kindex</font></b> g m <b><font color="#0000FF">@r</font></b><font color="#009900">{(Calendar mode)}</font>
<a name="line302"><font color="#000000">0302:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-mayan-goto-long-count-date
<a name="line303"><font color="#000000">0303:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line304"><font color="#000000">0304:</font></a> Thus, the long count date 12.16.11.16.6 means 12 baktun, 16 katun, 11
<a name="line305"><font color="#000000">0305:</font></a> tun, 16 uinal, and 6 kin.  The Emacs calendar can handle Mayan long
<a name="line306"><font color="#000000">0306:</font></a> count dates as early as 7.17.18.13.3, but no earlier.  When you use the
<a name="line307"><font color="#000000">0307:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g m l}</font> command, type the Mayan long count date with the baktun,
<a name="line308"><font color="#000000">0308:</font></a> katun, tun, uinal, and kin separated by periods.
<a name="line309"><font color="#000000">0309:</font></a> 
<a name="line310"><font color="#000000">0310:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-mayan-previous-tzolkin-date
<a name="line311"><font color="#000000">0311:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-mayan-next-tzolkin-date
<a name="line312"><font color="#000000">0312:</font></a> <i><font color="#9A1900">@cindex Mayan tzolkin calendar</font></i>
<a name="line313"><font color="#000000">0313:</font></a>   The Mayan tzolkin calendar is a cycle of 260 days formed by a pair of
<a name="line314"><font color="#000000">0314:</font></a> independent cycles of 13 and 20 days.  Since this cycle repeats
<a name="line315"><font color="#000000">0315:</font></a> endlessly, Emacs provides commands to move backward and forward to the
<a name="line316"><font color="#000000">0316:</font></a> previous or next point in the cycle.  Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g m p t}</font> to go to the
<a name="line317"><font color="#000000">0317:</font></a> previous tzolkin date; Emacs asks you for a tzolkin date and moves point
<a name="line318"><font color="#000000">0318:</font></a> to the previous occurrence of that date.  Similarly, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g m n t}</font>
<a name="line319"><font color="#000000">0319:</font></a> to go to the next occurrence of a tzolkin date.
<a name="line320"><font color="#000000">0320:</font></a> 
<a name="line321"><font color="#000000">0321:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-mayan-previous-haab-date
<a name="line322"><font color="#000000">0322:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-mayan-next-haab-date
<a name="line323"><font color="#000000">0323:</font></a> <i><font color="#9A1900">@cindex Mayan haab calendar</font></i>
<a name="line324"><font color="#000000">0324:</font></a>   The Mayan haab calendar is a cycle of 365 days arranged as 18 months
<a name="line325"><font color="#000000">0325:</font></a> of 20 days each, followed by a 5-day monthless period.  Like the tzolkin
<a name="line326"><font color="#000000">0326:</font></a> cycle, this cycle repeats endlessly, and there are commands to move
<a name="line327"><font color="#000000">0327:</font></a> backward and forward to the previous or next point in the cycle.  Type
<a name="line328"><font color="#000000">0328:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g m p h}</font> to go to the previous haab date; Emacs asks you for a haab
<a name="line329"><font color="#000000">0329:</font></a> date and moves point to the previous occurrence of that date.
<a name="line330"><font color="#000000">0330:</font></a> Similarly, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g m n h}</font> to go to the next occurrence of a haab
<a name="line331"><font color="#000000">0331:</font></a> date.
<a name="line332"><font color="#000000">0332:</font></a> 
<a name="line333"><font color="#000000">0333:</font></a> <i><font color="#9A1900">@c This is omitted because it is too long for smallbook format.</font></i>
<a name="line334"><font color="#000000">0334:</font></a> <i><font color="#9A1900">@c @findex calendar-mayan-previous-calendar-round-date</font></i>
<a name="line335"><font color="#000000">0335:</font></a> <b><font color="#0000FF">@findex</font></b> calendar-mayan-next-calendar-round-date
<a name="line336"><font color="#000000">0336:</font></a> <i><font color="#9A1900">@cindex Mayan calendar round</font></i>
<a name="line337"><font color="#000000">0337:</font></a>   The Maya also used the combination of the tzolkin date and the haab
<a name="line338"><font color="#000000">0338:</font></a> date.  This combination is a cycle of about 52 years called a
<a name="line339"><font color="#000000">0339:</font></a> <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">calendar round</font></i><font color="#FF0000">}</font>.  If you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g m p c}</font>, Emacs asks you for
<a name="line340"><font color="#000000">0340:</font></a> both a haab and a tzolkin date and then moves point to the previous
<a name="line341"><font color="#000000">0341:</font></a> occurrence of that combination.  Use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g m n c}</font> to move point to the
<a name="line342"><font color="#000000">0342:</font></a> next occurrence of a combination.  These commands signal an error if the
<a name="line343"><font color="#000000">0343:</font></a> haab/tzolkin date combination you have typed is impossible.
<a name="line344"><font color="#000000">0344:</font></a> 
<a name="line345"><font color="#000000">0345:</font></a>   Emacs uses strict completion
<a name="line346"><font color="#000000">0346:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line347"><font color="#000000">0347:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Completion Exit,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line348"><font color="#000000">0348:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line349"><font color="#000000">0349:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line350"><font color="#000000">0350:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Completion Exit</font><font color="#FF0000">}</font>)
<a name="line351"><font color="#000000">0351:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line352"><font color="#000000">0352:</font></a> whenever it asks you to type a Mayan name, so you don't have to worry
<a name="line353"><font color="#000000">0353:</font></a> about spelling.
<a name="line354"><font color="#000000">0354:</font></a> 
<a name="line355"><font color="#000000">0355:</font></a> <b><font color="#0000FF">@node</font></b> Date Display Format
<a name="line356"><font color="#000000">0356:</font></a> <b><font color="#0000FF">@subsection</font></b> Date Display Format
<a name="line357"><font color="#000000">0357:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-date-display-form
<a name="line358"><font color="#000000">0358:</font></a> 
<a name="line359"><font color="#000000">0359:</font></a>   You can customize the way dates are displayed in the diary, mode
<a name="line360"><font color="#000000">0360:</font></a> lines, and messages by setting <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-date-display-form}</font>.
<a name="line361"><font color="#000000">0361:</font></a> This variable holds a list of expressions that can involve the variables
<a name="line362"><font color="#000000">0362:</font></a> <i><font color="#9A1900">@code{month}, @code{day}, and @code{year}, which are all numbers in</font></i>
<a name="line363"><font color="#000000">0363:</font></a> string form, and <b><font color="#0000FF">@code</font></b><font color="#009900">{monthname}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{dayname}</font>, which are both
<a name="line364"><font color="#000000">0364:</font></a> alphabetic strings.  In the American style, the default value of this
<a name="line365"><font color="#000000">0365:</font></a> list is as follows:
<a name="line366"><font color="#000000">0366:</font></a> 
<a name="line367"><font color="#000000">0367:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line368"><font color="#000000">0368:</font></a> ((if dayname (concat dayname ", ")) monthname " " day ", " year)
<a name="line369"><font color="#000000">0369:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line370"><font color="#000000">0370:</font></a> 
<a name="line371"><font color="#000000">0371:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line372"><font color="#000000">0372:</font></a> while in the European style this value is the default:
<a name="line373"><font color="#000000">0373:</font></a> 
<a name="line374"><font color="#000000">0374:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line375"><font color="#000000">0375:</font></a> ((if dayname (concat dayname ", ")) day " " monthname " " year)
<a name="line376"><font color="#000000">0376:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line377"><font color="#000000">0377:</font></a> 
<a name="line378"><font color="#000000">0378:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line379"><font color="#000000">0379:</font></a> The default ISO date representation is:
<a name="line380"><font color="#000000">0380:</font></a> 
<a name="line381"><font color="#000000">0381:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line382"><font color="#000000">0382:</font></a> ((format "%s-%.2d-%.2d" year (string-to-number month)
<a name="line383"><font color="#000000">0383:</font></a>          (string-to-number day)))
<a name="line384"><font color="#000000">0384:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line385"><font color="#000000">0385:</font></a> 
<a name="line386"><font color="#000000">0386:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line387"><font color="#000000">0387:</font></a> Another typical American format is:
<a name="line388"><font color="#000000">0388:</font></a> 
<a name="line389"><font color="#000000">0389:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line390"><font color="#000000">0390:</font></a> (month "/" day "/" (substring year -2))
<a name="line391"><font color="#000000">0391:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line392"><font color="#000000">0392:</font></a> 
<a name="line393"><font color="#000000">0393:</font></a> <b><font color="#0000FF">@node</font></b> Time Display Format
<a name="line394"><font color="#000000">0394:</font></a> <b><font color="#0000FF">@subsection</font></b> Time Display Format
<a name="line395"><font color="#000000">0395:</font></a> <b><font color="#0000FF">@vindex</font></b> calendar-time-display-form
<a name="line396"><font color="#000000">0396:</font></a> 
<a name="line397"><font color="#000000">0397:</font></a>   The calendar and diary by default display times of day in the
<a name="line398"><font color="#000000">0398:</font></a> conventional American style with the hours from 1 through 12, minutes,
<a name="line399"><font color="#000000">0399:</font></a> and either <b><font color="#0000FF">@samp</font></b><font color="#009900">{am}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{pm}</font>.  If you prefer the European style,
<a name="line400"><font color="#000000">0400:</font></a> also known in the US as military, in which the hours go from 00 to 23,
<a name="line401"><font color="#000000">0401:</font></a> you can alter the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-time-display-form}</font>.  This
<a name="line402"><font color="#000000">0402:</font></a> variable is a list of expressions that can involve the variables
<a name="line403"><font color="#000000">0403:</font></a> <i><font color="#9A1900">@code{12-hours}, @code{24-hours}, and @code{minutes}, which are all</font></i>
<a name="line404"><font color="#000000">0404:</font></a> numbers in string form, and <b><font color="#0000FF">@code</font></b><font color="#009900">{am-pm}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{time-zone}</font>, which are
<a name="line405"><font color="#000000">0405:</font></a> both alphabetic strings.  The default value is:
<a name="line406"><font color="#000000">0406:</font></a> 
<a name="line407"><font color="#000000">0407:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line408"><font color="#000000">0408:</font></a> (12-hours ":" minutes am-pm
<a name="line409"><font color="#000000">0409:</font></a>           (if time-zone " (") time-zone (if time-zone ")"))
<a name="line410"><font color="#000000">0410:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line411"><font color="#000000">0411:</font></a> 
<a name="line412"><font color="#000000">0412:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line413"><font color="#000000">0413:</font></a> Here is a value that provides European style times:
<a name="line414"><font color="#000000">0414:</font></a> 
<a name="line415"><font color="#000000">0415:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line416"><font color="#000000">0416:</font></a> (24-hours ":" minutes
<a name="line417"><font color="#000000">0417:</font></a>           (if time-zone " (") time-zone (if time-zone ")"))
<a name="line418"><font color="#000000">0418:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line419"><font color="#000000">0419:</font></a> 
<a name="line420"><font color="#000000">0420:</font></a> Note that few calendar functions return a time of day (at present, only
<a name="line421"><font color="#000000">0421:</font></a> solar functions).
<a name="line422"><font color="#000000">0422:</font></a> 
<a name="line423"><font color="#000000">0423:</font></a> <b><font color="#0000FF">@node</font></b> Diary Customizing
<a name="line424"><font color="#000000">0424:</font></a> <b><font color="#0000FF">@subsection</font></b> Customizing the Diary
<a name="line425"><font color="#000000">0425:</font></a> 
<a name="line426"><font color="#000000">0426:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-show-holidays-flag
<a name="line427"><font color="#000000">0427:</font></a>   Ordinarily, the diary window indicates any holidays that fall on the
<a name="line428"><font color="#000000">0428:</font></a> date of the diary entries, either in the mode line or the buffer itself.
<a name="line429"><font color="#000000">0429:</font></a> The process of checking for holidays can be slow, depending on the
<a name="line430"><font color="#000000">0430:</font></a> defined holidays.  In that case, setting <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-show-holidays-flag}</font>
<a name="line431"><font color="#000000">0431:</font></a> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> will speed up the diary display.
<a name="line432"><font color="#000000">0432:</font></a> 
<a name="line433"><font color="#000000">0433:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-number-of-entries
<a name="line434"><font color="#000000">0434:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-number-of-entries}</font> controls the number of
<a name="line435"><font color="#000000">0435:</font></a> days of diary entries to be displayed at one time.  It affects the
<a name="line436"><font color="#000000">0436:</font></a> initial display when <b><font color="#0000FF">@code</font></b><font color="#009900">{calendar-view-diary-initially-flag}</font> is
<a name="line437"><font color="#000000">0437:</font></a> <i><font color="#9A1900">@code{t}, as well as the command @kbd{M-x diary}.  For example, a value</font></i>
<a name="line438"><font color="#000000">0438:</font></a> of 1 (the default) displays only the current day's diary entries,
<a name="line439"><font color="#000000">0439:</font></a> whereas a value of 2 will also show the next day's entries.  The value
<a name="line440"><font color="#000000">0440:</font></a> can also be a vector of seven integers: for example, if the value is
<a name="line441"><font color="#000000">0441:</font></a> <i><font color="#9A1900">@code{[0 2 2 2 2 4 1]} then no diary entries appear on Sunday, the</font></i>
<a name="line442"><font color="#000000">0442:</font></a> current date's and the next day's diary entries appear Monday through
<a name="line443"><font color="#000000">0443:</font></a> Thursday, Friday through Monday's entries appear on Friday, while on
<a name="line444"><font color="#000000">0444:</font></a> Saturday only that day's entries appear.
<a name="line445"><font color="#000000">0445:</font></a> 
<a name="line446"><font color="#000000">0446:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-date-forms
<a name="line447"><font color="#000000">0447:</font></a>   You can customize the form of dates in your diary file by setting the
<a name="line448"><font color="#000000">0448:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-date-forms}</font>.  This variable is a list of patterns
<a name="line449"><font color="#000000">0449:</font></a> for recognizing a date.  Each date pattern is a list whose elements may
<a name="line450"><font color="#000000">0450:</font></a> be regular expressions (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regular Expressions,,, elisp, the Emacs</font>
<a name="line451"><font color="#000000">0451:</font></a> <font color="#FF0000">Lisp Reference Manual</font><font color="#FF0000">}</font>) or the symbols <b><font color="#0000FF">@code</font></b><font color="#009900">{month}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{day}</font>,
<a name="line452"><font color="#000000">0452:</font></a> <i><font color="#9A1900">@code{year}, @code{monthname}, and @code{dayname}.  All these elements</font></i>
<a name="line453"><font color="#000000">0453:</font></a> serve as patterns that match certain kinds of text in the diary file.
<a name="line454"><font color="#000000">0454:</font></a> In order for the date pattern as a whole to match, all of its elements
<a name="line455"><font color="#000000">0455:</font></a> must match consecutively.
<a name="line456"><font color="#000000">0456:</font></a> 
<a name="line457"><font color="#000000">0457:</font></a>   A regular expression in a date pattern matches in its usual fashion,
<a name="line458"><font color="#000000">0458:</font></a> using the standard syntax table altered so that <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> is a word
<a name="line459"><font color="#000000">0459:</font></a> constituent.
<a name="line460"><font color="#000000">0460:</font></a> 
<a name="line461"><font color="#000000">0461:</font></a>   The symbols <b><font color="#0000FF">@code</font></b><font color="#009900">{month}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{day}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{year}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{monthname}</font>,
<a name="line462"><font color="#000000">0462:</font></a> and <b><font color="#0000FF">@code</font></b><font color="#009900">{dayname}</font> match the month number, day number, year number,
<a name="line463"><font color="#000000">0463:</font></a> month name, and day name of the date being considered.  The symbols that
<a name="line464"><font color="#000000">0464:</font></a> match numbers allow leading zeros; those that match names allow
<a name="line465"><font color="#000000">0465:</font></a> capitalization and abbreviation (as specified by
<a name="line466"><font color="#000000">0466:</font></a> <i><font color="#9A1900">@code{calendar-month-abbrev-array} and</font></i>
<a name="line467"><font color="#000000">0467:</font></a> <i><font color="#9A1900">@code{calendar-day-abbrev-array}).  All the symbols can match @samp{*};</font></i>
<a name="line468"><font color="#000000">0468:</font></a> since <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> in a diary entry means ``any day'', ``any month'', and so
<a name="line469"><font color="#000000">0469:</font></a> on, it should match regardless of the date being considered.
<a name="line470"><font color="#000000">0470:</font></a> 
<a name="line471"><font color="#000000">0471:</font></a>   The default value of <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-date-forms}</font> in the American style is
<a name="line472"><font color="#000000">0472:</font></a> provided by <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-american-date-forms}</font>:
<a name="line473"><font color="#000000">0473:</font></a> 
<a name="line474"><font color="#000000">0474:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line475"><font color="#000000">0475:</font></a> ((month "/" day "[^/0-9]")
<a name="line476"><font color="#000000">0476:</font></a>  (month "/" day "/" year "[^0-9]")
<a name="line477"><font color="#000000">0477:</font></a>  (monthname " *" day "[^,0-9]")
<a name="line478"><font color="#000000">0478:</font></a>  (monthname " *" day ", *" year "[^0-9]")
<a name="line479"><font color="#000000">0479:</font></a>  (dayname "\\W"))
<a name="line480"><font color="#000000">0480:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line481"><font color="#000000">0481:</font></a> 
<a name="line482"><font color="#000000">0482:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line483"><font color="#000000">0483:</font></a> The variables <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-european-date-forms}</font> and
<a name="line484"><font color="#000000">0484:</font></a> <i><font color="#9A1900">@code{diary-iso-date-forms} provide other default styles.</font></i>
<a name="line485"><font color="#000000">0485:</font></a> 
<a name="line486"><font color="#000000">0486:</font></a>   The date patterns in the list must be <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">mutually exclusive</font></i><font color="#FF0000">}</font> and
<a name="line487"><font color="#000000">0487:</font></a> must not match any portion of the diary entry itself, just the date and
<a name="line488"><font color="#000000">0488:</font></a> one character of whitespace.  If, to be mutually exclusive, the pattern
<a name="line489"><font color="#000000">0489:</font></a> must match a portion of the diary entry text---beyond the whitespace
<a name="line490"><font color="#000000">0490:</font></a> that ends the date---then the first element of the date pattern
<a name="line491"><font color="#000000">0491:</font></a> <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">must</font></i><font color="#FF0000">}</font> be <b><font color="#0000FF">@code</font></b><font color="#009900">{backup}</font>.  This causes the date recognizer to back
<a name="line492"><font color="#000000">0492:</font></a> up to the beginning of the current word of the diary entry, after
<a name="line493"><font color="#000000">0493:</font></a> finishing the match.  Even if you use <b><font color="#0000FF">@code</font></b><font color="#009900">{backup}</font>, the date pattern
<a name="line494"><font color="#000000">0494:</font></a> must absolutely not match more than a portion of the first word of the
<a name="line495"><font color="#000000">0495:</font></a> diary entry.  For example, the default value of
<a name="line496"><font color="#000000">0496:</font></a> <i><font color="#9A1900">@code{diary-european-date-forms} is:</font></i>
<a name="line497"><font color="#000000">0497:</font></a> 
<a name="line498"><font color="#000000">0498:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line499"><font color="#000000">0499:</font></a> ((day "/" month "[^/0-9]")
<a name="line500"><font color="#000000">0500:</font></a>  (day "/" month "/" year "[^0-9]")
<a name="line501"><font color="#000000">0501:</font></a>  (backup day " *" monthname "\\W+\\&lt;\\([^*0-9]\\|\\([0-9]+[:aApP]\\)\\)")
<a name="line502"><font color="#000000">0502:</font></a>  (day " *" monthname " *" year "[^0-9]")
<a name="line503"><font color="#000000">0503:</font></a>  (dayname "\\W"))
<a name="line504"><font color="#000000">0504:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line505"><font color="#000000">0505:</font></a> 
<a name="line506"><font color="#000000">0506:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line507"><font color="#000000">0507:</font></a> Notice the use of <b><font color="#0000FF">@code</font></b><font color="#009900">{backup}</font> in the third pattern, because it needs
<a name="line508"><font color="#000000">0508:</font></a> to match part of a word beyond the date itself to distinguish it from
<a name="line509"><font color="#000000">0509:</font></a> the fourth pattern.
<a name="line510"><font color="#000000">0510:</font></a> 
<a name="line511"><font color="#000000">0511:</font></a> <b><font color="#0000FF">@node</font></b> Non-Gregorian Diary
<a name="line512"><font color="#000000">0512:</font></a> <b><font color="#0000FF">@subsection</font></b> Diary Entries Using non-Gregorian Calendars
<a name="line513"><font color="#000000">0513:</font></a> 
<a name="line514"><font color="#000000">0514:</font></a>   As well as entries based on the standard Gregorian calendar, your
<a name="line515"><font color="#000000">0515:</font></a> diary can have entries based on Bahá'í, Chinese, Hebrew, or Islamic dates.
<a name="line516"><font color="#000000">0516:</font></a> Recognition of such entries can be time-consuming, however, and since
<a name="line517"><font color="#000000">0517:</font></a> most people don't use them, you must explicitly enable their use.  If
<a name="line518"><font color="#000000">0518:</font></a> you want the diary to recognize Hebrew-date diary entries, for example,
<a name="line519"><font color="#000000">0519:</font></a> you must do this:
<a name="line520"><font color="#000000">0520:</font></a> 
<a name="line521"><font color="#000000">0521:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-nongregorian-listing-hook
<a name="line522"><font color="#000000">0522:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-nongregorian-marking-hook
<a name="line523"><font color="#000000">0523:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-list-entries
<a name="line524"><font color="#000000">0524:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-mark-entries
<a name="line525"><font color="#000000">0525:</font></a> <b><font color="#0000FF">@findex</font></b> diary-islamic-list-entries
<a name="line526"><font color="#000000">0526:</font></a> <b><font color="#0000FF">@findex</font></b> diary-islamic-mark-entries
<a name="line527"><font color="#000000">0527:</font></a> <b><font color="#0000FF">@findex</font></b> diary-bahai-list-entries
<a name="line528"><font color="#000000">0528:</font></a> <b><font color="#0000FF">@findex</font></b> diary-bahai-mark-entries
<a name="line529"><font color="#000000">0529:</font></a> <b><font color="#0000FF">@findex</font></b> diary-chinese-list-entries
<a name="line530"><font color="#000000">0530:</font></a> <b><font color="#0000FF">@findex</font></b> diary-chinese-mark-entries
<a name="line531"><font color="#000000">0531:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line532"><font color="#000000">0532:</font></a> (add-hook 'diary-nongregorian-listing-hook 'diary-hebrew-list-entries)
<a name="line533"><font color="#000000">0533:</font></a> (add-hook 'diary-nongregorian-marking-hook 'diary-hebrew-mark-entries)
<a name="line534"><font color="#000000">0534:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line535"><font color="#000000">0535:</font></a> 
<a name="line536"><font color="#000000">0536:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line537"><font color="#000000">0537:</font></a> Similarly, for Islamic, Bahá'í and Chinese entries, add
<a name="line538"><font color="#000000">0538:</font></a> <i><font color="#9A1900">@code{diary-islamic-list-entries} and @code{diary-islamic-mark-entries},</font></i>
<a name="line539"><font color="#000000">0539:</font></a> <i><font color="#9A1900">@code{diary-bahai-list-entries} and @code{diary-bahai-mark-entries},</font></i>
<a name="line540"><font color="#000000">0540:</font></a> or <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-chinese-list-entries}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-chinese-mark-entries}</font>.
<a name="line541"><font color="#000000">0541:</font></a> 
<a name="line542"><font color="#000000">0542:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-bahai-entry-symbol
<a name="line543"><font color="#000000">0543:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-chinese-entry-symbol
<a name="line544"><font color="#000000">0544:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-hebrew-entry-symbol
<a name="line545"><font color="#000000">0545:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-islamic-entry-symbol
<a name="line546"><font color="#000000">0546:</font></a>   These diary entries have the same formats as Gregorian-date diary
<a name="line547"><font color="#000000">0547:</font></a> entries; except that <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-bahai-entry-symbol}</font> (default <b><font color="#0000FF">@samp</font></b><font color="#009900">{B}</font>)
<a name="line548"><font color="#000000">0548:</font></a> must precede a Bahá'í date, <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-chinese-entry-symbol}</font> (default
<a name="line549"><font color="#000000">0549:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{C}</font>) a Chinese date, <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-hebrew-entry-symbol}</font> (default
<a name="line550"><font color="#000000">0550:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{H}</font>) a Hebrew date, and <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-islamic-entry-symbol}</font> (default
<a name="line551"><font color="#000000">0551:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{I}</font>) an Islamic date.  Moreover, non-Gregorian month names may not
<a name="line552"><font color="#000000">0552:</font></a> be abbreviated (because the first three letters are often not unique).
<a name="line553"><font color="#000000">0553:</font></a> (Note also that you must use ``Adar I'' if you want Adar of a common
<a name="line554"><font color="#000000">0554:</font></a> Hebrew year.)  For example, a diary entry for the Hebrew date Heshvan 25
<a name="line555"><font color="#000000">0555:</font></a> could look like this:
<a name="line556"><font color="#000000">0556:</font></a> 
<a name="line557"><font color="#000000">0557:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line558"><font color="#000000">0558:</font></a> HHeshvan 25 Happy Hebrew birthday!
<a name="line559"><font color="#000000">0559:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line560"><font color="#000000">0560:</font></a> 
<a name="line561"><font color="#000000">0561:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line562"><font color="#000000">0562:</font></a> and would appear in the diary for any date that corresponds to Heshvan 25
<a name="line563"><font color="#000000">0563:</font></a> on the Hebrew calendar.  And here is an Islamic-date diary entry that matches
<a name="line564"><font color="#000000">0564:</font></a> Dhu al-Qada 25:
<a name="line565"><font color="#000000">0565:</font></a> 
<a name="line566"><font color="#000000">0566:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line567"><font color="#000000">0567:</font></a> IDhu al-Qada 25 Happy Islamic birthday!
<a name="line568"><font color="#000000">0568:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line569"><font color="#000000">0569:</font></a> 
<a name="line570"><font color="#000000">0570:</font></a>   As with Gregorian-date diary entries, non-Gregorian entries are
<a name="line571"><font color="#000000">0571:</font></a> nonmarking if preceded by <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-nonmarking-symbol}</font> (default
<a name="line572"><font color="#000000">0572:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{&amp;}</font>).
<a name="line573"><font color="#000000">0573:</font></a> 
<a name="line574"><font color="#000000">0574:</font></a>   Here is a table of commands used in the calendar to create diary
<a name="line575"><font color="#000000">0575:</font></a> entries that match the selected date and other dates that are similar in
<a name="line576"><font color="#000000">0576:</font></a> the Bahá'í, Chinese, Hebrew, or Islamic calendars:
<a name="line577"><font color="#000000">0577:</font></a> 
<a name="line578"><font color="#000000">0578:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line579"><font color="#000000">0579:</font></a> <b><font color="#0000FF">@item</font></b> i h d
<a name="line580"><font color="#000000">0580:</font></a> <i><font color="#9A1900">@code{diary-hebrew-insert-entry}</font></i>
<a name="line581"><font color="#000000">0581:</font></a> <b><font color="#0000FF">@item</font></b> i h m
<a name="line582"><font color="#000000">0582:</font></a> <i><font color="#9A1900">@code{diary-hebrew-insert-monthly-entry}</font></i>
<a name="line583"><font color="#000000">0583:</font></a> <b><font color="#0000FF">@item</font></b> i h y
<a name="line584"><font color="#000000">0584:</font></a> <i><font color="#9A1900">@code{diary-hebrew-insert-yearly-entry}</font></i>
<a name="line585"><font color="#000000">0585:</font></a> <b><font color="#0000FF">@item</font></b> i i d
<a name="line586"><font color="#000000">0586:</font></a> <i><font color="#9A1900">@code{diary-islamic-insert-entry}</font></i>
<a name="line587"><font color="#000000">0587:</font></a> <b><font color="#0000FF">@item</font></b> i i m
<a name="line588"><font color="#000000">0588:</font></a> <i><font color="#9A1900">@code{diary-islamic-insert-monthly-entry}</font></i>
<a name="line589"><font color="#000000">0589:</font></a> <b><font color="#0000FF">@item</font></b> i i y
<a name="line590"><font color="#000000">0590:</font></a> <i><font color="#9A1900">@code{diary-islamic-insert-yearly-entry}</font></i>
<a name="line591"><font color="#000000">0591:</font></a> <b><font color="#0000FF">@item</font></b> i B d
<a name="line592"><font color="#000000">0592:</font></a> <i><font color="#9A1900">@code{diary-bahai-insert-entry}</font></i>
<a name="line593"><font color="#000000">0593:</font></a> <b><font color="#0000FF">@item</font></b> i B m
<a name="line594"><font color="#000000">0594:</font></a> <i><font color="#9A1900">@code{diary-bahai-insert-monthly-entry}</font></i>
<a name="line595"><font color="#000000">0595:</font></a> <b><font color="#0000FF">@item</font></b> i B y
<a name="line596"><font color="#000000">0596:</font></a> <i><font color="#9A1900">@code{diary-bahai-insert-yearly-entry}</font></i>
<a name="line597"><font color="#000000">0597:</font></a> <b><font color="#0000FF">@item</font></b> i C d
<a name="line598"><font color="#000000">0598:</font></a> <i><font color="#9A1900">@code{diary-chinese-insert-entry}</font></i>
<a name="line599"><font color="#000000">0599:</font></a> <b><font color="#0000FF">@item</font></b> i C m
<a name="line600"><font color="#000000">0600:</font></a> <i><font color="#9A1900">@code{diary-chinese-insert-monthly-entry}</font></i>
<a name="line601"><font color="#000000">0601:</font></a> <b><font color="#0000FF">@item</font></b> i C y
<a name="line602"><font color="#000000">0602:</font></a> <i><font color="#9A1900">@code{diary-chinese-insert-yearly-entry}</font></i>
<a name="line603"><font color="#000000">0603:</font></a> <b><font color="#0000FF">@item</font></b> i C a
<a name="line604"><font color="#000000">0604:</font></a> <i><font color="#9A1900">@code{diary-chinese-insert-anniversary-entry}</font></i>
<a name="line605"><font color="#000000">0605:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line606"><font color="#000000">0606:</font></a> 
<a name="line607"><font color="#000000">0607:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-insert-entry
<a name="line608"><font color="#000000">0608:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-insert-monthly-entry
<a name="line609"><font color="#000000">0609:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-insert-yearly-entry
<a name="line610"><font color="#000000">0610:</font></a> <b><font color="#0000FF">@findex</font></b> diary-islamic-insert-entry
<a name="line611"><font color="#000000">0611:</font></a> <b><font color="#0000FF">@findex</font></b> diary-islamic-insert-monthly-entry
<a name="line612"><font color="#000000">0612:</font></a> <b><font color="#0000FF">@findex</font></b> diary-islamic-insert-yearly-entry
<a name="line613"><font color="#000000">0613:</font></a> <b><font color="#0000FF">@findex</font></b> diary-bahai-insert-entry
<a name="line614"><font color="#000000">0614:</font></a> <b><font color="#0000FF">@findex</font></b> diary-bahai-insert-monthly-entry
<a name="line615"><font color="#000000">0615:</font></a> <b><font color="#0000FF">@findex</font></b> diary-bahai-insert-yearly-entry
<a name="line616"><font color="#000000">0616:</font></a> <b><font color="#0000FF">@findex</font></b> diary-chinese-insert-entry
<a name="line617"><font color="#000000">0617:</font></a> <b><font color="#0000FF">@findex</font></b> diary-chinese-insert-monthly-entry
<a name="line618"><font color="#000000">0618:</font></a> <b><font color="#0000FF">@findex</font></b> diary-chinese-insert-yearly-entry
<a name="line619"><font color="#000000">0619:</font></a> <b><font color="#0000FF">@findex</font></b> diary-chinese-insert-anniversary-entry
<a name="line620"><font color="#000000">0620:</font></a> 
<a name="line621"><font color="#000000">0621:</font></a>   These commands work much like the corresponding commands for ordinary
<a name="line622"><font color="#000000">0622:</font></a> diary entries: they apply to the date that point is on in the calendar
<a name="line623"><font color="#000000">0623:</font></a> window, and what they do is insert just the date portion of a diary
<a name="line624"><font color="#000000">0624:</font></a> entry at the end of your diary file.  You must then insert the rest of
<a name="line625"><font color="#000000">0625:</font></a> the diary entry.  The basic commands add an entry for the specific
<a name="line626"><font color="#000000">0626:</font></a> non-Gregorian date, the <b><font color="#0000FF">@samp</font></b><font color="#009900">{monthly}</font> commands for the given
<a name="line627"><font color="#000000">0627:</font></a> non-Gregorian day-within-month in every month, and the <b><font color="#0000FF">@samp</font></b><font color="#009900">{yearly}</font>
<a name="line628"><font color="#000000">0628:</font></a> commands for the given non-Gregorian day and month in every year.
<a name="line629"><font color="#000000">0629:</font></a> 
<a name="line630"><font color="#000000">0630:</font></a> <b><font color="#0000FF">@node</font></b> Diary Display
<a name="line631"><font color="#000000">0631:</font></a> <b><font color="#0000FF">@subsection</font></b> Diary Display
<a name="line632"><font color="#000000">0632:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-display-function
<a name="line633"><font color="#000000">0633:</font></a> <b><font color="#0000FF">@findex</font></b> diary-simple-display
<a name="line634"><font color="#000000">0634:</font></a> <b><font color="#0000FF">@findex</font></b> diary-fancy-display
<a name="line635"><font color="#000000">0635:</font></a> <i><font color="#9A1900">@cindex diary buffer</font></i>
<a name="line636"><font color="#000000">0636:</font></a> 
<a name="line637"><font color="#000000">0637:</font></a>   Diary display works by preparing the list of diary entries and then
<a name="line638"><font color="#000000">0638:</font></a> running the function specified by the variable
<a name="line639"><font color="#000000">0639:</font></a> <i><font color="#9A1900">@code{diary-display-function}.  The default value</font></i>
<a name="line640"><font color="#000000">0640:</font></a> <i><font color="#9A1900">@code{diary-fancy-display} displays diary entries and holidays by</font></i>
<a name="line641"><font color="#000000">0641:</font></a> copying them into a special buffer that exists only for the sake of
<a name="line642"><font color="#000000">0642:</font></a> display.  Copying diary entries to a separate buffer provides an
<a name="line643"><font color="#000000">0643:</font></a> opportunity to change the displayed text to make it prettier---for
<a name="line644"><font color="#000000">0644:</font></a> example, to sort the entries by the dates they apply to.
<a name="line645"><font color="#000000">0645:</font></a> 
<a name="line646"><font color="#000000">0646:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-list-include-blanks
<a name="line647"><font color="#000000">0647:</font></a>   Ordinarily, the fancy diary buffer does not show days for which there
<a name="line648"><font color="#000000">0648:</font></a> are no diary entries, even if that day is a holiday.  If you want such
<a name="line649"><font color="#000000">0649:</font></a> days to be shown in the fancy diary buffer, set the variable
<a name="line650"><font color="#000000">0650:</font></a> <i><font color="#9A1900">@code{diary-list-include-blanks} to @code{t}.</font></i>
<a name="line651"><font color="#000000">0651:</font></a> 
<a name="line652"><font color="#000000">0652:</font></a>   The fancy diary buffer enables View mode
<a name="line653"><font color="#000000">0653:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line654"><font color="#000000">0654:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">View Mode,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line655"><font color="#000000">0655:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line656"><font color="#000000">0656:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line657"><font color="#000000">0657:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">View Mode</font><font color="#FF0000">}</font>).
<a name="line658"><font color="#000000">0658:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line659"><font color="#000000">0659:</font></a> 
<a name="line660"><font color="#000000">0660:</font></a>   The alternative display method <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-simple-display}</font> shows the
<a name="line661"><font color="#000000">0661:</font></a> actual diary buffer, and uses invisible text to hide entries that don't
<a name="line662"><font color="#000000">0662:</font></a> apply.  Holidays are shown in the mode line.  The advantage of this
<a name="line663"><font color="#000000">0663:</font></a> method is that you can edit the buffer and save your changes directly to
<a name="line664"><font color="#000000">0664:</font></a> the diary file.  This method is not as flexible as the fancy method,
<a name="line665"><font color="#000000">0665:</font></a> however.  For example, it cannot sort entries.  Another disadvantage is
<a name="line666"><font color="#000000">0666:</font></a> that invisible text can be confusing.  For example, if you copy a region
<a name="line667"><font color="#000000">0667:</font></a> of text in order to paste it elsewhere, invisible text may be included.
<a name="line668"><font color="#000000">0668:</font></a> Similarly, since the diary buffer as you see it is an illusion, simply
<a name="line669"><font color="#000000">0669:</font></a> printing the buffer may not print what you see on your screen.
<a name="line670"><font color="#000000">0670:</font></a> 
<a name="line671"><font color="#000000">0671:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-print-entries-hook
<a name="line672"><font color="#000000">0672:</font></a> <b><font color="#0000FF">@findex</font></b> diary-print-entries
<a name="line673"><font color="#000000">0673:</font></a>   For this reason, there is a special command to print hard copy of the
<a name="line674"><font color="#000000">0674:</font></a> diary buffer <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">as it appears</font></i><font color="#FF0000">}</font>; this command is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line675"><font color="#000000">0675:</font></a> <font color="#009900">diary-print-entries}</font>.  It works with either display method, although
<a name="line676"><font color="#000000">0676:</font></a> with the fancy display you can also print the buffer like any other.  To
<a name="line677"><font color="#000000">0677:</font></a> print a hard copy of a day-by-day diary for a week, position point on
<a name="line678"><font color="#000000">0678:</font></a> the first day of the week, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{7 d}</font>, and then do <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line679"><font color="#000000">0679:</font></a> <font color="#009900">diary-print-entries}</font>.  As usual, the inclusion of the holidays slows
<a name="line680"><font color="#000000">0680:</font></a> down the display slightly; you can speed things up by setting the
<a name="line681"><font color="#000000">0681:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-show-holidays-flag}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line682"><font color="#000000">0682:</font></a> 
<a name="line683"><font color="#000000">0683:</font></a>   This command prepares a temporary buffer that contains only the diary
<a name="line684"><font color="#000000">0684:</font></a> entries currently visible in the diary buffer.  Unlike with the simple
<a name="line685"><font color="#000000">0685:</font></a> display, the other irrelevant entries are really absent, not just
<a name="line686"><font color="#000000">0686:</font></a> hidden.  After preparing the buffer, it runs the hook
<a name="line687"><font color="#000000">0687:</font></a> <i><font color="#9A1900">@code{diary-print-entries-hook}.  The default value of this hook sends</font></i>
<a name="line688"><font color="#000000">0688:</font></a> the data directly to the printer with the command <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-buffer}</font>
<a name="line689"><font color="#000000">0689:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line690"><font color="#000000">0690:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Printing,,, emacs, the Emacs Manual</font><font color="#FF0000">}</font>).
<a name="line691"><font color="#000000">0691:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line692"><font color="#000000">0692:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line693"><font color="#000000">0693:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Printing</font><font color="#FF0000">}</font>).
<a name="line694"><font color="#000000">0694:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line695"><font color="#000000">0695:</font></a> If you want to use a different command to do the
<a name="line696"><font color="#000000">0696:</font></a> printing, just change the value of this hook.  Other uses might include,
<a name="line697"><font color="#000000">0697:</font></a> for example, rearranging the lines into order by day and time.
<a name="line698"><font color="#000000">0698:</font></a> 
<a name="line699"><font color="#000000">0699:</font></a>   You can edit the diary entries as they appear in the simple diary
<a name="line700"><font color="#000000">0700:</font></a> window, but it is important to remember that the buffer displayed
<a name="line701"><font color="#000000">0701:</font></a> contains the <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">entire</font></i><font color="#FF0000">}</font> diary file, with portions of it concealed
<a name="line702"><font color="#000000">0702:</font></a> from view.  This means, for instance, that the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font>
<a name="line703"><font color="#000000">0703:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{forward-char}</font>) command can put point at what appears to be the
<a name="line704"><font color="#000000">0704:</font></a> end of the line, but what is in reality the middle of some concealed
<a name="line705"><font color="#000000">0705:</font></a> line.
<a name="line706"><font color="#000000">0706:</font></a> 
<a name="line707"><font color="#000000">0707:</font></a>   <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">Be careful when editing the diary entries in the simple display!</font></i><font color="#FF0000">}</font>
<a name="line708"><font color="#000000">0708:</font></a> Inserting additional lines or adding/deleting characters in the middle
<a name="line709"><font color="#000000">0709:</font></a> of a visible line cannot cause problems, but editing at the end of a
<a name="line710"><font color="#000000">0710:</font></a> line may not do what you expect.  Deleting a line may delete other
<a name="line711"><font color="#000000">0711:</font></a> invisible entries that follow it.  Before editing the simple diary
<a name="line712"><font color="#000000">0712:</font></a> buffer, it is best to display the entire file with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{s}</font>
<a name="line713"><font color="#000000">0713:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{diary-show-all-entries}</font>).
<a name="line714"><font color="#000000">0714:</font></a> 
<a name="line715"><font color="#000000">0715:</font></a> <b><font color="#0000FF">@node</font></b> Fancy Diary Display
<a name="line716"><font color="#000000">0716:</font></a> <b><font color="#0000FF">@subsection</font></b> Fancy Diary Display
<a name="line717"><font color="#000000">0717:</font></a> 
<a name="line718"><font color="#000000">0718:</font></a> The following features only work with the fancy diary display.
<a name="line719"><font color="#000000">0719:</font></a> 
<a name="line720"><font color="#000000">0720:</font></a> <i><font color="#9A1900">@cindex sorting diary entries</font></i>
<a name="line721"><font color="#000000">0721:</font></a>   You can use the normal hook <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-list-entries-hook}</font> to sort
<a name="line722"><font color="#000000">0722:</font></a> each day's diary entries by their time of day.  Here's how:
<a name="line723"><font color="#000000">0723:</font></a> 
<a name="line724"><font color="#000000">0724:</font></a> <b><font color="#0000FF">@findex</font></b> diary-sort-entries
<a name="line725"><font color="#000000">0725:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line726"><font color="#000000">0726:</font></a> (add-hook 'diary-list-entries-hook 'diary-sort-entries t)
<a name="line727"><font color="#000000">0727:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line728"><font color="#000000">0728:</font></a> 
<a name="line729"><font color="#000000">0729:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line730"><font color="#000000">0730:</font></a> For each day, this sorts diary entries that begin with a recognizable
<a name="line731"><font color="#000000">0731:</font></a> time of day according to their times.  Diary entries without times come
<a name="line732"><font color="#000000">0732:</font></a> first within each day.  Note how the sort command is placed at the end
<a name="line733"><font color="#000000">0733:</font></a> of the hook list, in case earlier members of the list change the order
<a name="line734"><font color="#000000">0734:</font></a> of the diary entries, or add items.
<a name="line735"><font color="#000000">0735:</font></a> 
<a name="line736"><font color="#000000">0736:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-comment-start
<a name="line737"><font color="#000000">0737:</font></a>   You can write <b><font color="#0000FF">@samp</font></b><font color="#009900">{comments}</font> in diary entries, by setting the
<a name="line738"><font color="#000000">0738:</font></a> variables <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-comment-start}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-comment-end}</font> to
<a name="line739"><font color="#000000">0739:</font></a> strings that delimit comments.  The fancy display does not print
<a name="line740"><font color="#000000">0740:</font></a> comments.  You might want to put meta-data for the use of other packages
<a name="line741"><font color="#000000">0741:</font></a> (e.g., the appointment package,
<a name="line742"><font color="#000000">0742:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line743"><font color="#000000">0743:</font></a> <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Appointments,,,emacs, the Emacs Manual</font><font color="#FF0000">}</font>)
<a name="line744"><font color="#000000">0744:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line745"><font color="#000000">0745:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line746"><font color="#000000">0746:</font></a> <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Appointments</font><font color="#FF0000">}</font>)
<a name="line747"><font color="#000000">0747:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line748"><font color="#000000">0748:</font></a> inside comments.
<a name="line749"><font color="#000000">0749:</font></a> 
<a name="line750"><font color="#000000">0750:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-include-string
<a name="line751"><font color="#000000">0751:</font></a>   Your main diary file can include other files.  This permits a group of
<a name="line752"><font color="#000000">0752:</font></a> people to share a diary file for events that apply to all of them.
<a name="line753"><font color="#000000">0753:</font></a> Lines in the diary file starting with <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-include-string}</font>:
<a name="line754"><font color="#000000">0754:</font></a> 
<a name="line755"><font color="#000000">0755:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line756"><font color="#000000">0756:</font></a> #include "<b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font>"
<a name="line757"><font color="#000000">0757:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line758"><font color="#000000">0758:</font></a> 
<a name="line759"><font color="#000000">0759:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line760"><font color="#000000">0760:</font></a> include the diary entries from the file <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> in the fancy
<a name="line761"><font color="#000000">0761:</font></a> diary buffer.  The include mechanism is recursive, so that included
<a name="line762"><font color="#000000">0762:</font></a> files can include other files, and so on (you must be careful not to
<a name="line763"><font color="#000000">0763:</font></a> have a cycle of inclusions, of course).  Here is how to enable the
<a name="line764"><font color="#000000">0764:</font></a> include facility:
<a name="line765"><font color="#000000">0765:</font></a> 
<a name="line766"><font color="#000000">0766:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-list-entries-hook
<a name="line767"><font color="#000000">0767:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-mark-entries-hook
<a name="line768"><font color="#000000">0768:</font></a> <b><font color="#0000FF">@findex</font></b> diary-include-other-diary-files
<a name="line769"><font color="#000000">0769:</font></a> <b><font color="#0000FF">@findex</font></b> diary-mark-included-diary-files
<a name="line770"><font color="#000000">0770:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line771"><font color="#000000">0771:</font></a> (add-hook 'diary-list-entries-hook 'diary-include-other-diary-files)
<a name="line772"><font color="#000000">0772:</font></a> (add-hook 'diary-mark-entries-hook 'diary-mark-included-diary-files)
<a name="line773"><font color="#000000">0773:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line774"><font color="#000000">0774:</font></a> 
<a name="line775"><font color="#000000">0775:</font></a> The include mechanism works only with the fancy diary display, because
<a name="line776"><font color="#000000">0776:</font></a> simple diary display shows the entries directly from your diary file.
<a name="line777"><font color="#000000">0777:</font></a> 
<a name="line778"><font color="#000000">0778:</font></a> <b><font color="#0000FF">@node</font></b> Sexp Diary Entries
<a name="line779"><font color="#000000">0779:</font></a> <b><font color="#0000FF">@subsection</font></b> Sexp Entries and the Fancy Diary Display
<a name="line780"><font color="#000000">0780:</font></a> <i><font color="#9A1900">@cindex sexp diary entries</font></i>
<a name="line781"><font color="#000000">0781:</font></a> 
<a name="line782"><font color="#000000">0782:</font></a> <b><font color="#0000FF">@vindex</font></b> diary-sexp-entry-symbol
<a name="line783"><font color="#000000">0783:</font></a>   Sexp diary entries allow you to do more than just have complicated
<a name="line784"><font color="#000000">0784:</font></a> conditions under which a diary entry applies.  Sexp entries should be
<a name="line785"><font color="#000000">0785:</font></a> preceded by <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-sexp-entry-symbol}</font> (default <b><font color="#0000FF">@samp</font></b><font color="#009900">{%%}</font>) in the
<a name="line786"><font color="#000000">0786:</font></a> diary file.  With the fancy diary display, sexp entries can generate the
<a name="line787"><font color="#000000">0787:</font></a> text of the entry depending on the date itself.
<a name="line788"><font color="#000000">0788:</font></a> 
<a name="line789"><font color="#000000">0789:</font></a> For example, an anniversary diary entry can insert
<a name="line790"><font color="#000000">0790:</font></a> the number of years since the anniversary date into the text of the
<a name="line791"><font color="#000000">0791:</font></a> diary entry.  Thus the <b><font color="#0000FF">@samp</font></b><font color="#009900">{%d}</font> in this diary entry:
<a name="line792"><font color="#000000">0792:</font></a> 
<a name="line793"><font color="#000000">0793:</font></a> <b><font color="#0000FF">@findex</font></b> diary-anniversary
<a name="line794"><font color="#000000">0794:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line795"><font color="#000000">0795:</font></a> %%(diary-anniversary 10 31 1948) Arthur's birthday (%d years old)
<a name="line796"><font color="#000000">0796:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line797"><font color="#000000">0797:</font></a> 
<a name="line798"><font color="#000000">0798:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line799"><font color="#000000">0799:</font></a> gets replaced by the age, so on October 31, 1990 the entry appears in
<a name="line800"><font color="#000000">0800:</font></a> the fancy diary buffer like this:
<a name="line801"><font color="#000000">0801:</font></a> 
<a name="line802"><font color="#000000">0802:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line803"><font color="#000000">0803:</font></a> Arthur's birthday (42 years old)
<a name="line804"><font color="#000000">0804:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line805"><font color="#000000">0805:</font></a> 
<a name="line806"><font color="#000000">0806:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line807"><font color="#000000">0807:</font></a> If the diary file instead contains this entry:
<a name="line808"><font color="#000000">0808:</font></a> 
<a name="line809"><font color="#000000">0809:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line810"><font color="#000000">0810:</font></a> %%(diary-anniversary 10 31 1948) Arthur's %d%s birthday
<a name="line811"><font color="#000000">0811:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line812"><font color="#000000">0812:</font></a> 
<a name="line813"><font color="#000000">0813:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line814"><font color="#000000">0814:</font></a> the entry in the fancy diary buffer for October 31, 1990 appears like this:
<a name="line815"><font color="#000000">0815:</font></a> 
<a name="line816"><font color="#000000">0816:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line817"><font color="#000000">0817:</font></a> Arthur's 42nd birthday
<a name="line818"><font color="#000000">0818:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line819"><font color="#000000">0819:</font></a> 
<a name="line820"><font color="#000000">0820:</font></a>   Similarly, cyclic diary entries can interpolate the number of repetitions
<a name="line821"><font color="#000000">0821:</font></a> that have occurred:
<a name="line822"><font color="#000000">0822:</font></a> 
<a name="line823"><font color="#000000">0823:</font></a> <b><font color="#0000FF">@findex</font></b> diary-cyclic
<a name="line824"><font color="#000000">0824:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line825"><font color="#000000">0825:</font></a> %%(diary-cyclic 50 1 1 2012) Renew medication (%d%s time)
<a name="line826"><font color="#000000">0826:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line827"><font color="#000000">0827:</font></a> 
<a name="line828"><font color="#000000">0828:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line829"><font color="#000000">0829:</font></a> looks like this:
<a name="line830"><font color="#000000">0830:</font></a> 
<a name="line831"><font color="#000000">0831:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line832"><font color="#000000">0832:</font></a> Renew medication (5th time)
<a name="line833"><font color="#000000">0833:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line834"><font color="#000000">0834:</font></a> 
<a name="line835"><font color="#000000">0835:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line836"><font color="#000000">0836:</font></a> in the fancy diary display on September 7, 2012.
<a name="line837"><font color="#000000">0837:</font></a> 
<a name="line838"><font color="#000000">0838:</font></a>   There is an early-reminder diary sexp that includes its entry in the
<a name="line839"><font color="#000000">0839:</font></a> diary not only on the date of occurrence, but also on earlier dates.
<a name="line840"><font color="#000000">0840:</font></a> For example, if you want a reminder a week before your anniversary, you
<a name="line841"><font color="#000000">0841:</font></a> can use
<a name="line842"><font color="#000000">0842:</font></a> 
<a name="line843"><font color="#000000">0843:</font></a> <b><font color="#0000FF">@findex</font></b> diary-remind
<a name="line844"><font color="#000000">0844:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line845"><font color="#000000">0845:</font></a> %%(diary-remind '(diary-anniversary 12 22 1968) 7) Ed's anniversary
<a name="line846"><font color="#000000">0846:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line847"><font color="#000000">0847:</font></a> 
<a name="line848"><font color="#000000">0848:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line849"><font color="#000000">0849:</font></a> and the fancy diary will show <b><font color="#0000FF">@samp</font></b><font color="#009900">{Ed's anniversary}</font> both on December
<a name="line850"><font color="#000000">0850:</font></a> 15 and on December 22.
<a name="line851"><font color="#000000">0851:</font></a> 
<a name="line852"><font color="#000000">0852:</font></a> <b><font color="#0000FF">@findex</font></b> diary-date
<a name="line853"><font color="#000000">0853:</font></a>   The function <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-date}</font> applies to dates described by a month,
<a name="line854"><font color="#000000">0854:</font></a> day, year combination, each of which can be an integer, a list of
<a name="line855"><font color="#000000">0855:</font></a> integers, or <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> (meaning all values).  For example,
<a name="line856"><font color="#000000">0856:</font></a> 
<a name="line857"><font color="#000000">0857:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line858"><font color="#000000">0858:</font></a> %%(diary-date '(10 11 12) 22 t) Rake leaves
<a name="line859"><font color="#000000">0859:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line860"><font color="#000000">0860:</font></a> 
<a name="line861"><font color="#000000">0861:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line862"><font color="#000000">0862:</font></a> causes the fancy diary to show
<a name="line863"><font color="#000000">0863:</font></a> 
<a name="line864"><font color="#000000">0864:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line865"><font color="#000000">0865:</font></a> Rake leaves
<a name="line866"><font color="#000000">0866:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line867"><font color="#000000">0867:</font></a> 
<a name="line868"><font color="#000000">0868:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line869"><font color="#000000">0869:</font></a> on October 22, November 22, and December 22 of every year.
<a name="line870"><font color="#000000">0870:</font></a> 
<a name="line871"><font color="#000000">0871:</font></a> <b><font color="#0000FF">@findex</font></b> diary-float
<a name="line872"><font color="#000000">0872:</font></a>   The function <b><font color="#0000FF">@code</font></b><font color="#009900">{diary-float}</font> allows you to describe diary entries
<a name="line873"><font color="#000000">0873:</font></a> that apply to dates like the third Friday of November, or the last
<a name="line874"><font color="#000000">0874:</font></a> Tuesday in April.  The parameters are the <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font>, <b><font color="#0000FF">@var</font></b><font color="#009900">{dayname}</font>,
<a name="line875"><font color="#000000">0875:</font></a> and an index <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>.  The entry appears on the <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>th <b><font color="#0000FF">@var</font></b><font color="#009900">{dayname}</font>
<a name="line876"><font color="#000000">0876:</font></a> after the first day of <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font>, where <b><font color="#0000FF">@var</font></b><font color="#009900">{dayname}</font>=0 means Sunday,
<a name="line877"><font color="#000000">0877:</font></a> 1 means Monday, and so on.  If <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> is negative it counts backward
<a name="line878"><font color="#000000">0878:</font></a> from the end of <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font>.  The value of <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> can be a list of
<a name="line879"><font color="#000000">0879:</font></a> months, a single month, or <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> to specify all months.  You can also
<a name="line880"><font color="#000000">0880:</font></a> use an optional parameter <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> to specify the <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>th
<a name="line881"><font color="#000000">0881:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{dayname}</font> on or after/before <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> of <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font>; the value of
<a name="line882"><font color="#000000">0882:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> defaults to 1 if <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> is positive and to the last day of
<a name="line883"><font color="#000000">0883:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> if <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> is negative.  For example,
<a name="line884"><font color="#000000">0884:</font></a> 
<a name="line885"><font color="#000000">0885:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line886"><font color="#000000">0886:</font></a> %%(diary-float t 1 -1) Pay rent
<a name="line887"><font color="#000000">0887:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line888"><font color="#000000">0888:</font></a> 
<a name="line889"><font color="#000000">0889:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line890"><font color="#000000">0890:</font></a> causes the fancy diary to show
<a name="line891"><font color="#000000">0891:</font></a> 
<a name="line892"><font color="#000000">0892:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line893"><font color="#000000">0893:</font></a> Pay rent
<a name="line894"><font color="#000000">0894:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line895"><font color="#000000">0895:</font></a> 
<a name="line896"><font color="#000000">0896:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line897"><font color="#000000">0897:</font></a> on the last Monday of every month.
<a name="line898"><font color="#000000">0898:</font></a> 
<a name="line899"><font color="#000000">0899:</font></a>   The generality of sexp diary entries lets you specify any diary
<a name="line900"><font color="#000000">0900:</font></a> entry that you can describe algorithmically.  A sexp diary entry
<a name="line901"><font color="#000000">0901:</font></a> contains an expression that computes whether the entry applies to any
<a name="line902"><font color="#000000">0902:</font></a> given date.  If its value is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, the entry applies to that
<a name="line903"><font color="#000000">0903:</font></a> date; otherwise, it does not.  The expression can use the variable
<a name="line904"><font color="#000000">0904:</font></a> <i><font color="#9A1900">@code{date} to find the date being considered; its value is a list</font></i>
<a name="line905"><font color="#000000">0905:</font></a> (<b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{year}</font>) that refers to the Gregorian
<a name="line906"><font color="#000000">0906:</font></a> calendar.
<a name="line907"><font color="#000000">0907:</font></a> 
<a name="line908"><font color="#000000">0908:</font></a>   The sexp diary entry applies to a date when the expression's value
<a name="line909"><font color="#000000">0909:</font></a> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, but some values have more specific meanings.  If
<a name="line910"><font color="#000000">0910:</font></a> the value is a string, that string is a description of the event which
<a name="line911"><font color="#000000">0911:</font></a> occurs on that date.  The value can also have the form
<a name="line912"><font color="#000000">0912:</font></a> <i><font color="#9A1900">@code{(@var{mark} . @var{string})}; then @var{mark} specifies how to</font></i>
<a name="line913"><font color="#000000">0913:</font></a> mark the date in the calendar, and <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> is the description of
<a name="line914"><font color="#000000">0914:</font></a> the event.  If <b><font color="#0000FF">@var</font></b><font color="#009900">{mark}</font> is a single-character string, that character
<a name="line915"><font color="#000000">0915:</font></a> appears next to the date in the calendar.  If <b><font color="#0000FF">@var</font></b><font color="#009900">{mark}</font> is a face
<a name="line916"><font color="#000000">0916:</font></a> name, the date is displayed in that face.  If <b><font color="#0000FF">@var</font></b><font color="#009900">{mark}</font> is
<a name="line917"><font color="#000000">0917:</font></a> <i><font color="#9A1900">@code{nil}, that specifies no particular highlighting for the date.</font></i>
<a name="line918"><font color="#000000">0918:</font></a> 
<a name="line919"><font color="#000000">0919:</font></a>   Suppose you get paid on the 21st of the month if it is a weekday, and
<a name="line920"><font color="#000000">0920:</font></a> on the Friday before if the 21st is on a weekend.  Here is how to write
<a name="line921"><font color="#000000">0921:</font></a> a sexp diary entry that matches those dates:
<a name="line922"><font color="#000000">0922:</font></a> 
<a name="line923"><font color="#000000">0923:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line924"><font color="#000000">0924:</font></a> &amp;%%(let ((dayname (calendar-day-of-week date))
<a name="line925"><font color="#000000">0925:</font></a>          (day (cadr date)))
<a name="line926"><font color="#000000">0926:</font></a>       (or (and (= day 21) (memq dayname '(1 2 3 4 5)))
<a name="line927"><font color="#000000">0927:</font></a>           (and (memq day '(19 20)) (= dayname 5)))
<a name="line928"><font color="#000000">0928:</font></a>          ) Pay check deposited
<a name="line929"><font color="#000000">0929:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line930"><font color="#000000">0930:</font></a> 
<a name="line931"><font color="#000000">0931:</font></a>   The following sexp diary entries take advantage of the ability (in the fancy
<a name="line932"><font color="#000000">0932:</font></a> diary display) to concoct diary entries whose text varies based on the date:
<a name="line933"><font color="#000000">0933:</font></a> 
<a name="line934"><font color="#000000">0934:</font></a> <b><font color="#0000FF">@findex</font></b> diary-sunrise-sunset
<a name="line935"><font color="#000000">0935:</font></a> <b><font color="#0000FF">@findex</font></b> diary-lunar-phases
<a name="line936"><font color="#000000">0936:</font></a> <b><font color="#0000FF">@findex</font></b> diary-day-of-year
<a name="line937"><font color="#000000">0937:</font></a> <b><font color="#0000FF">@findex</font></b> diary-iso-date
<a name="line938"><font color="#000000">0938:</font></a> <b><font color="#0000FF">@findex</font></b> diary-julian-date
<a name="line939"><font color="#000000">0939:</font></a> <b><font color="#0000FF">@findex</font></b> diary-astro-day-number
<a name="line940"><font color="#000000">0940:</font></a> <b><font color="#0000FF">@findex</font></b> diary-bahai-date
<a name="line941"><font color="#000000">0941:</font></a> <b><font color="#0000FF">@findex</font></b> diary-chinese-date
<a name="line942"><font color="#000000">0942:</font></a> <b><font color="#0000FF">@findex</font></b> diary-coptic-date
<a name="line943"><font color="#000000">0943:</font></a> <b><font color="#0000FF">@findex</font></b> diary-ethiopic-date
<a name="line944"><font color="#000000">0944:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-date
<a name="line945"><font color="#000000">0945:</font></a> <b><font color="#0000FF">@findex</font></b> diary-islamic-date
<a name="line946"><font color="#000000">0946:</font></a> <b><font color="#0000FF">@findex</font></b> diary-french-date
<a name="line947"><font color="#000000">0947:</font></a> <b><font color="#0000FF">@findex</font></b> diary-mayan-date
<a name="line948"><font color="#000000">0948:</font></a> <b><font color="#0000FF">@findex</font></b> diary-persian-date
<a name="line949"><font color="#000000">0949:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line950"><font color="#000000">0950:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-sunrise-sunset)
<a name="line951"><font color="#000000">0951:</font></a> Make a diary entry for today's local times of sunrise and sunset.
<a name="line952"><font color="#000000">0952:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-lunar-phases)
<a name="line953"><font color="#000000">0953:</font></a> Make a diary entry for the phases (quarters) of the moon.
<a name="line954"><font color="#000000">0954:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-day-of-year)
<a name="line955"><font color="#000000">0955:</font></a> Make a diary entry with today's day number in the current year and the number
<a name="line956"><font color="#000000">0956:</font></a> of days remaining in the current year.
<a name="line957"><font color="#000000">0957:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-iso-date)
<a name="line958"><font color="#000000">0958:</font></a> Make a diary entry with today's equivalent ISO commercial date.
<a name="line959"><font color="#000000">0959:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-julian-date)
<a name="line960"><font color="#000000">0960:</font></a> Make a diary entry with today's equivalent Julian calendar date.
<a name="line961"><font color="#000000">0961:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-astro-day-number)
<a name="line962"><font color="#000000">0962:</font></a> Make a diary entry with today's equivalent astronomical (Julian) day number.
<a name="line963"><font color="#000000">0963:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-bahai-date)
<a name="line964"><font color="#000000">0964:</font></a> Make a diary entry with today's equivalent Bahá'í calendar date.
<a name="line965"><font color="#000000">0965:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-chinese-date)
<a name="line966"><font color="#000000">0966:</font></a> Make a diary entry with today's equivalent Chinese calendar date.
<a name="line967"><font color="#000000">0967:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-coptic-date)
<a name="line968"><font color="#000000">0968:</font></a> Make a diary entry with today's equivalent Coptic calendar date.
<a name="line969"><font color="#000000">0969:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-ethiopic-date)
<a name="line970"><font color="#000000">0970:</font></a> Make a diary entry with today's equivalent Ethiopic calendar date.
<a name="line971"><font color="#000000">0971:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-french-date)
<a name="line972"><font color="#000000">0972:</font></a> Make a diary entry with today's equivalent date on the French Revolutionary
<a name="line973"><font color="#000000">0973:</font></a> calendar.
<a name="line974"><font color="#000000">0974:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-hebrew-date)
<a name="line975"><font color="#000000">0975:</font></a> Make a diary entry with today's equivalent Hebrew calendar date.
<a name="line976"><font color="#000000">0976:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-islamic-date)
<a name="line977"><font color="#000000">0977:</font></a> Make a diary entry with today's equivalent Islamic calendar date.
<a name="line978"><font color="#000000">0978:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-mayan-date)
<a name="line979"><font color="#000000">0979:</font></a> Make a diary entry with today's equivalent Mayan calendar date.
<a name="line980"><font color="#000000">0980:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-persian-date)
<a name="line981"><font color="#000000">0981:</font></a> Make a diary entry with today's equivalent Persian calendar date.
<a name="line982"><font color="#000000">0982:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line983"><font color="#000000">0983:</font></a> 
<a name="line984"><font color="#000000">0984:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line985"><font color="#000000">0985:</font></a> For example, including the diary entry
<a name="line986"><font color="#000000">0986:</font></a> 
<a name="line987"><font color="#000000">0987:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line988"><font color="#000000">0988:</font></a> &amp;%%(diary-hebrew-date)
<a name="line989"><font color="#000000">0989:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line990"><font color="#000000">0990:</font></a> 
<a name="line991"><font color="#000000">0991:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line992"><font color="#000000">0992:</font></a> causes every day's diary display to contain the equivalent date on the
<a name="line993"><font color="#000000">0993:</font></a> Hebrew calendar, if you are using the fancy diary display.  (With simple
<a name="line994"><font color="#000000">0994:</font></a> diary display, the literal line <b><font color="#0000FF">@samp</font></b><font color="#009900">{&amp;%%(diary-hebrew-date)}</font> appears in
<a name="line995"><font color="#000000">0995:</font></a> the diary for any date.)
<a name="line996"><font color="#000000">0996:</font></a> 
<a name="line997"><font color="#000000">0997:</font></a>   This function has been used to construct certain standard Hebrew sexp
<a name="line998"><font color="#000000">0998:</font></a> diary entries:
<a name="line999"><font color="#000000">0999:</font></a> 
<a name="line1000"><font color="#000000">1000:</font></a> <i><font color="#9A1900">@cindex rosh hodesh</font></i>
<a name="line1001"><font color="#000000">1001:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-rosh-hodesh
<a name="line1002"><font color="#000000">1002:</font></a> <i><font color="#9A1900">@cindex parasha, weekly</font></i>
<a name="line1003"><font color="#000000">1003:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-parasha
<a name="line1004"><font color="#000000">1004:</font></a> <i><font color="#9A1900">@cindex candle lighting times</font></i>
<a name="line1005"><font color="#000000">1005:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-sabbath-candles
<a name="line1006"><font color="#000000">1006:</font></a> <i><font color="#9A1900">@cindex omer count</font></i>
<a name="line1007"><font color="#000000">1007:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-omer
<a name="line1008"><font color="#000000">1008:</font></a> <i><font color="#9A1900">@cindex yahrzeits</font></i>
<a name="line1009"><font color="#000000">1009:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-yahrzeit
<a name="line1010"><font color="#000000">1010:</font></a> <b><font color="#0000FF">@findex</font></b> diary-hebrew-birthday
<a name="line1011"><font color="#000000">1011:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line1012"><font color="#000000">1012:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-hebrew-rosh-hodesh)
<a name="line1013"><font color="#000000">1013:</font></a> Make a diary entry that tells the occurrence and ritual announcement of each
<a name="line1014"><font color="#000000">1014:</font></a> new Hebrew month.
<a name="line1015"><font color="#000000">1015:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-hebrew-parasha)
<a name="line1016"><font color="#000000">1016:</font></a> Make a Saturday diary entry that tells the weekly synagogue scripture reading.
<a name="line1017"><font color="#000000">1017:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-hebrew-sabbath-candles)
<a name="line1018"><font color="#000000">1018:</font></a> Make a Friday diary entry that tells the <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">local time</font></i><font color="#FF0000">}</font> of Sabbath
<a name="line1019"><font color="#000000">1019:</font></a> candle lighting.
<a name="line1020"><font color="#000000">1020:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-hebrew-omer)
<a name="line1021"><font color="#000000">1021:</font></a> Make a diary entry that gives the omer count, when appropriate.
<a name="line1022"><font color="#000000">1022:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-hebrew-yahrzeit <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{year}</font>) <b><font color="#0000FF">@var</font></b><font color="#009900">{name}</font>
<a name="line1023"><font color="#000000">1023:</font></a> Make a diary entry marking the anniversary of a date of death.  The date
<a name="line1024"><font color="#000000">1024:</font></a> is the <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">Gregorian</font></i><font color="#FF0000">}</font> (civil) date of death.  The diary entry appears
<a name="line1025"><font color="#000000">1025:</font></a> on the proper Hebrew calendar anniversary and on the day before.  (The
<a name="line1026"><font color="#000000">1026:</font></a> order of the parameters changes according to the calendar date style;
<a name="line1027"><font color="#000000">1027:</font></a> for example in the European style to <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font>, <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font>, <b><font color="#0000FF">@var</font></b><font color="#009900">{year}</font>.)
<a name="line1028"><font color="#000000">1028:</font></a> <b><font color="#0000FF">@item</font></b> %%(diary-hebrew-birthday <b><font color="#0000FF">@var</font></b><font color="#009900">{month}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{day}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{year}</font>)
<a name="line1029"><font color="#000000">1029:</font></a> Make a diary entry for a birthday on the Hebrew calendar.
<a name="line1030"><font color="#000000">1030:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1031"><font color="#000000">1031:</font></a> 
<a name="line1032"><font color="#000000">1032:</font></a>   All the functions documented above take an optional argument
<a name="line1033"><font color="#000000">1033:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{mark}</font> which specifies how to mark the date in the calendar display.
<a name="line1034"><font color="#000000">1034:</font></a> If one of these functions decides that it applies to a certain date,
<a name="line1035"><font color="#000000">1035:</font></a> it returns a value that contains <b><font color="#0000FF">@var</font></b><font color="#009900">{mark}</font>, as described above.
<a name="line1036"><font color="#000000">1036:</font></a> </tt></pre>
