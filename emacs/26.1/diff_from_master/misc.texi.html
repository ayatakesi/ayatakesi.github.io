<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">0001:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line2"><font color="#000000">0002:</font></a> <i><font color="#9A1900">@c Copyright (C) 1985-1987, 1993-1995, 1997, 2000-2018 Free Software</font></i>
<a name="line3"><font color="#000000">0003:</font></a> <i><font color="#9A1900">@c Foundation, Inc.</font></i>
<a name="line4"><font color="#000000">0004:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line5"><font color="#000000">0005:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line6"><font color="#000000">0006:</font></a> <i><font color="#9A1900">@chapter Miscellaneous Commands</font></i>
<a name="line7"><font color="#000000">0007:</font></a> 
<a name="line8"><font color="#000000">0008:</font></a>   This chapter contains several brief topics that do not fit anywhere
<a name="line9"><font color="#000000">0009:</font></a> else: reading Usenet news, host and network security,
<a name="line10"><font color="#000000">0010:</font></a> viewing PDFs and other such documents, web
<a name="line11"><font color="#000000">0011:</font></a> browsing, running shell commands and shell subprocesses, using a
<a name="line12"><font color="#000000">0012:</font></a> single shared Emacs for utilities that expect to run an editor as a
<a name="line13"><font color="#000000">0013:</font></a> subprocess, printing, sorting text, editing binary files, saving an
<a name="line14"><font color="#000000">0014:</font></a> Emacs session for later resumption, recursive editing level, following
<a name="line15"><font color="#000000">0015:</font></a> hyperlinks, and various diversions and amusements.
<a name="line16"><font color="#000000">0016:</font></a> 
<a name="line17"><font color="#000000">0017:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line18"><font color="#000000">0018:</font></a> 
<a name="line19"><font color="#000000">0019:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line20"><font color="#000000">0020:</font></a> <b><font color="#0000FF">@raisesections</font></b>
<a name="line21"><font color="#000000">0021:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line22"><font color="#000000">0022:</font></a> 
<a name="line23"><font color="#000000">0023:</font></a> <b><font color="#0000FF">@node</font></b> Gnus
<a name="line24"><font color="#000000">0024:</font></a> <b><font color="#0000FF">@section</font></b> Email and Usenet News with Gnus
<a name="line25"><font color="#000000">0025:</font></a> <i><font color="#9A1900">@cindex Gnus</font></i>
<a name="line26"><font color="#000000">0026:</font></a> <i><font color="#9A1900">@cindex Usenet news</font></i>
<a name="line27"><font color="#000000">0027:</font></a> <i><font color="#9A1900">@cindex newsreader</font></i>
<a name="line28"><font color="#000000">0028:</font></a> 
<a name="line29"><font color="#000000">0029:</font></a>   Gnus is an Emacs package primarily designed for reading and posting
<a name="line30"><font color="#000000">0030:</font></a> Usenet news.  It can also be used to read and respond to messages from
<a name="line31"><font color="#000000">0031:</font></a> a number of other sources---email, remote directories, digests, and so
<a name="line32"><font color="#000000">0032:</font></a> on.  Here we introduce Gnus and describe several basic features.
<a name="line33"><font color="#000000">0033:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line34"><font color="#000000">0034:</font></a> For full details, see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, Gnus,, gnus, The Gnus Manual</font><font color="#FF0000">}</font>.
<a name="line35"><font color="#000000">0035:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line36"><font color="#000000">0036:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line37"><font color="#000000">0037:</font></a> For full details on Gnus, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h i}</font> and then select the Gnus
<a name="line38"><font color="#000000">0038:</font></a> manual.
<a name="line39"><font color="#000000">0039:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line40"><font color="#000000">0040:</font></a> 
<a name="line41"><font color="#000000">0041:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line42"><font color="#000000">0042:</font></a> <font color="#FF0000">* Buffers of Gnus::</font>     The group, summary, and article buffers.
<a name="line43"><font color="#000000">0043:</font></a> <font color="#FF0000">* Gnus Startup::</font>        What you should know about starting Gnus.
<a name="line44"><font color="#000000">0044:</font></a> <font color="#FF0000">* Gnus Group Buffer::</font>   A short description of Gnus group commands.
<a name="line45"><font color="#000000">0045:</font></a> <font color="#FF0000">* Gnus Summary Buffer::</font> A short description of Gnus summary commands.
<a name="line46"><font color="#000000">0046:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line47"><font color="#000000">0047:</font></a> 
<a name="line48"><font color="#000000">0048:</font></a> <b><font color="#0000FF">@node</font></b> Buffers of Gnus
<a name="line49"><font color="#000000">0049:</font></a> <b><font color="#0000FF">@subsection</font></b> Gnus Buffers
<a name="line50"><font color="#000000">0050:</font></a> 
<a name="line51"><font color="#000000">0051:</font></a>   Gnus uses several buffers to display information and to receive
<a name="line52"><font color="#000000">0052:</font></a> commands.  The three most commonly-used Gnus buffers are the
<a name="line53"><font color="#000000">0053:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{group buffer}</font>, the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{summary buffer}</font> and the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{article</font>
<a name="line54"><font color="#000000">0054:</font></a> <font color="#009900">buffer}</font>.
<a name="line55"><font color="#000000">0055:</font></a> 
<a name="line56"><font color="#000000">0056:</font></a>   The <b><font color="#0000FF">@dfn</font></b><font color="#009900">{group buffer}</font> contains a list of article sources (e.g.,
<a name="line57"><font color="#000000">0057:</font></a> newsgroups and email inboxes), which are collectively referred to as
<a name="line58"><font color="#000000">0058:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{groups}</font>.  This is the first buffer Gnus displays when it starts
<a name="line59"><font color="#000000">0059:</font></a> up.  It normally displays only the groups to which you subscribe and
<a name="line60"><font color="#000000">0060:</font></a> that contain unread articles.  From this buffer, you can select a
<a name="line61"><font color="#000000">0061:</font></a> group to read.
<a name="line62"><font color="#000000">0062:</font></a> 
<a name="line63"><font color="#000000">0063:</font></a>   The <b><font color="#0000FF">@dfn</font></b><font color="#009900">{summary buffer}</font> lists the articles in a single group,
<a name="line64"><font color="#000000">0064:</font></a> showing one article per line.  By default, it displays each article's
<a name="line65"><font color="#000000">0065:</font></a> author, subject, and line
<a name="line66"><font color="#000000">0066:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line67"><font color="#000000">0067:</font></a> number.
<a name="line68"><font color="#000000">0068:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line69"><font color="#000000">0069:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line70"><font color="#000000">0070:</font></a> number, but this is customizable; <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Summary Buffer Format,,, gnus,</font>
<a name="line71"><font color="#000000">0071:</font></a> <font color="#FF0000">The Gnus Manual</font><font color="#FF0000">}</font>.
<a name="line72"><font color="#000000">0072:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line73"><font color="#000000">0073:</font></a> The summary buffer is created when you select a group in the group
<a name="line74"><font color="#000000">0074:</font></a> buffer, and is killed when you exit the group.
<a name="line75"><font color="#000000">0075:</font></a> 
<a name="line76"><font color="#000000">0076:</font></a>   From the summary buffer, you can choose an article to view.  The
<a name="line77"><font color="#000000">0077:</font></a> article is displayed in the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{article buffer}</font>.  In normal Gnus
<a name="line78"><font color="#000000">0078:</font></a> usage, you view this buffer but do not select it---all useful Gnus
<a name="line79"><font color="#000000">0079:</font></a> commands can be invoked from the summary buffer.  But you can select
<a name="line80"><font color="#000000">0080:</font></a> the article buffer, and execute Gnus commands from it, if you wish.
<a name="line81"><font color="#000000">0081:</font></a> 
<a name="line82"><font color="#000000">0082:</font></a> <b><font color="#0000FF">@node</font></b> Gnus Startup
<a name="line83"><font color="#000000">0083:</font></a> <b><font color="#0000FF">@subsection</font></b> When Gnus Starts Up
<a name="line84"><font color="#000000">0084:</font></a> 
<a name="line85"><font color="#000000">0085:</font></a> <b><font color="#0000FF">@findex</font></b> gnus
<a name="line86"><font color="#000000">0086:</font></a> <i><font color="#9A1900">@cindex @file{.newsrc} file</font></i>
<a name="line87"><font color="#000000">0087:</font></a>   If your system has been set up for reading Usenet news, getting
<a name="line88"><font color="#000000">0088:</font></a> started with Gnus is easy---just type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x gnus}</font>.
<a name="line89"><font color="#000000">0089:</font></a> 
<a name="line90"><font color="#000000">0090:</font></a>   On starting up, Gnus reads your <b><font color="#0000FF">@dfn</font></b><font color="#009900">{news initialization file}</font>: a
<a name="line91"><font color="#000000">0091:</font></a> file named <b><font color="#0000FF">@file</font></b><font color="#009900">{.newsrc}</font> in your home directory which lists your
<a name="line92"><font color="#000000">0092:</font></a> Usenet newsgroups and subscriptions (this file is not unique to Gnus;
<a name="line93"><font color="#000000">0093:</font></a> it is used by many other newsreader programs).  It then tries to
<a name="line94"><font color="#000000">0094:</font></a> contact the system's default news server, which is typically specified
<a name="line95"><font color="#000000">0095:</font></a> by the <b><font color="#0000FF">@env</font></b><font color="#009900">{NNTPSERVER}</font> environment variable.
<a name="line96"><font color="#000000">0096:</font></a> 
<a name="line97"><font color="#000000">0097:</font></a>   If your system does not have a default news server, or if you wish
<a name="line98"><font color="#000000">0098:</font></a> to use Gnus for reading email, then before invoking <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x gnus}</font> you
<a name="line99"><font color="#000000">0099:</font></a> need to tell Gnus where to get news and/or mail.  To do this,
<a name="line100"><font color="#000000">0100:</font></a> customize the variables <b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-select-method}</font> and/or
<a name="line101"><font color="#000000">0101:</font></a> <i><font color="#9A1900">@code{gnus-secondary-select-methods}.</font></i>
<a name="line102"><font color="#000000">0102:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line103"><font color="#000000">0103:</font></a> See the Gnus manual for details.
<a name="line104"><font color="#000000">0104:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line105"><font color="#000000">0105:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line106"><font color="#000000">0106:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Finding the News,,, gnus, The Gnus Manual</font><font color="#FF0000">}</font>.
<a name="line107"><font color="#000000">0107:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line108"><font color="#000000">0108:</font></a> 
<a name="line109"><font color="#000000">0109:</font></a>   Once Gnus has started up, it displays the group buffer.  By default,
<a name="line110"><font color="#000000">0110:</font></a> the group buffer shows only a small number of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{subscribed groups}</font>.
<a name="line111"><font color="#000000">0111:</font></a> Groups with other statuses---<b><font color="#0000FF">@dfn</font></b><font color="#009900">{unsubscribed}</font>, <b><font color="#0000FF">@dfn</font></b><font color="#009900">{killed}</font>, or
<a name="line112"><font color="#000000">0112:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{zombie}</font>---are hidden.  The first time you start Gnus, any group
<a name="line113"><font color="#000000">0113:</font></a> to which you are not subscribed is made into a killed group; any group
<a name="line114"><font color="#000000">0114:</font></a> that subsequently appears on the news server becomes a zombie group.
<a name="line115"><font color="#000000">0115:</font></a> 
<a name="line116"><font color="#000000">0116:</font></a>   To proceed, you must select a group in the group buffer to open the
<a name="line117"><font color="#000000">0117:</font></a> summary buffer for that group; then, select an article in the summary
<a name="line118"><font color="#000000">0118:</font></a> buffer to view its article buffer in a separate window.  The following
<a name="line119"><font color="#000000">0119:</font></a> sections explain how to use the group and summary buffers to do this.
<a name="line120"><font color="#000000">0120:</font></a> 
<a name="line121"><font color="#000000">0121:</font></a>   To quit Gnus, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{q}</font> in the group buffer.  This automatically
<a name="line122"><font color="#000000">0122:</font></a> records your group statuses in the files <b><font color="#0000FF">@file</font></b><font color="#009900">{.newsrc}</font> and
<a name="line123"><font color="#000000">0123:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{.newsrc.eld}</font>, so that they take effect in subsequent Gnus
<a name="line124"><font color="#000000">0124:</font></a> sessions.
<a name="line125"><font color="#000000">0125:</font></a> 
<a name="line126"><font color="#000000">0126:</font></a> <b><font color="#0000FF">@node</font></b> Gnus Group Buffer
<a name="line127"><font color="#000000">0127:</font></a> <b><font color="#0000FF">@subsection</font></b> Using the Gnus Group Buffer
<a name="line128"><font color="#000000">0128:</font></a> 
<a name="line129"><font color="#000000">0129:</font></a>   The following commands are available in the Gnus group buffer:
<a name="line130"><font color="#000000">0130:</font></a> 
<a name="line131"><font color="#000000">0131:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line132"><font color="#000000">0132:</font></a> <b><font color="#0000FF">@kindex</font></b> SPC <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line133"><font color="#000000">0133:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-read-group
<a name="line134"><font color="#000000">0134:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>
<a name="line135"><font color="#000000">0135:</font></a> Switch to the summary buffer for the group on the current line
<a name="line136"><font color="#000000">0136:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-read-group}</font>).
<a name="line137"><font color="#000000">0137:</font></a> 
<a name="line138"><font color="#000000">0138:</font></a> <b><font color="#0000FF">@kindex</font></b> l <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line139"><font color="#000000">0139:</font></a> <b><font color="#0000FF">@kindex</font></b> A s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line140"><font color="#000000">0140:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-list-groups
<a name="line141"><font color="#000000">0141:</font></a> <b><font color="#0000FF">@item</font></b> l
<a name="line142"><font color="#000000">0142:</font></a> <b><font color="#0000FF">@itemx</font></b> A s
<a name="line143"><font color="#000000">0143:</font></a> In the group buffer, list only the groups to which you subscribe and
<a name="line144"><font color="#000000">0144:</font></a> which contain unread articles (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-list-groups}</font>; this is
<a name="line145"><font color="#000000">0145:</font></a> the default listing).
<a name="line146"><font color="#000000">0146:</font></a> 
<a name="line147"><font color="#000000">0147:</font></a> <b><font color="#0000FF">@kindex</font></b> L <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line148"><font color="#000000">0148:</font></a> <b><font color="#0000FF">@kindex</font></b> A u <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line149"><font color="#000000">0149:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-list-all-groups
<a name="line150"><font color="#000000">0150:</font></a> <b><font color="#0000FF">@item</font></b> L
<a name="line151"><font color="#000000">0151:</font></a> <b><font color="#0000FF">@itemx</font></b> A u
<a name="line152"><font color="#000000">0152:</font></a> List all subscribed and unsubscribed groups, but not killed or zombie
<a name="line153"><font color="#000000">0153:</font></a> groups (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-list-all-groups}</font>).
<a name="line154"><font color="#000000">0154:</font></a> 
<a name="line155"><font color="#000000">0155:</font></a> <b><font color="#0000FF">@kindex</font></b> A k <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line156"><font color="#000000">0156:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-list-killed
<a name="line157"><font color="#000000">0157:</font></a> <b><font color="#0000FF">@item</font></b> A k
<a name="line158"><font color="#000000">0158:</font></a> List killed groups (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-list-killed}</font>).
<a name="line159"><font color="#000000">0159:</font></a> 
<a name="line160"><font color="#000000">0160:</font></a> <b><font color="#0000FF">@kindex</font></b> A z <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line161"><font color="#000000">0161:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-list-zombies
<a name="line162"><font color="#000000">0162:</font></a> <b><font color="#0000FF">@item</font></b> A z
<a name="line163"><font color="#000000">0163:</font></a> List zombie groups (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-list-zombies}</font>).
<a name="line164"><font color="#000000">0164:</font></a> 
<a name="line165"><font color="#000000">0165:</font></a> <b><font color="#0000FF">@kindex</font></b> u <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line166"><font color="#000000">0166:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-unsubscribe-current-group
<a name="line167"><font color="#000000">0167:</font></a> <i><font color="#9A1900">@cindex subscribe groups</font></i>
<a name="line168"><font color="#000000">0168:</font></a> <i><font color="#9A1900">@cindex unsubscribe groups</font></i>
<a name="line169"><font color="#000000">0169:</font></a> <b><font color="#0000FF">@item</font></b> u
<a name="line170"><font color="#000000">0170:</font></a> Toggle the subscription status of the group
<a name="line171"><font color="#000000">0171:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-unsubscribe-current-group}</font>) on the current line
<a name="line172"><font color="#000000">0172:</font></a> (i.e., turn a subscribed group into an unsubscribed group, or vice
<a name="line173"><font color="#000000">0173:</font></a> versa).  Invoking this on a killed or zombie group turns it into an
<a name="line174"><font color="#000000">0174:</font></a> unsubscribed group.
<a name="line175"><font color="#000000">0175:</font></a> 
<a name="line176"><font color="#000000">0176:</font></a> <b><font color="#0000FF">@kindex</font></b> C-k <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line177"><font color="#000000">0177:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-kill-group
<a name="line178"><font color="#000000">0178:</font></a> <b><font color="#0000FF">@item</font></b> C-k
<a name="line179"><font color="#000000">0179:</font></a> Kill the group on the current line (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-kill-group}</font>).
<a name="line180"><font color="#000000">0180:</font></a> Killed groups are not recorded in the <b><font color="#0000FF">@file</font></b><font color="#009900">{.newsrc}</font> file, and they
<a name="line181"><font color="#000000">0181:</font></a> are not shown in the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{l}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{L}</font> listings.
<a name="line182"><font color="#000000">0182:</font></a> 
<a name="line183"><font color="#000000">0183:</font></a> <b><font color="#0000FF">@kindex</font></b> DEL <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line184"><font color="#000000">0184:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>
<a name="line185"><font color="#000000">0185:</font></a> Move point to the previous group containing unread articles
<a name="line186"><font color="#000000">0186:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-prev-unread-group}</font>).
<a name="line187"><font color="#000000">0187:</font></a> 
<a name="line188"><font color="#000000">0188:</font></a> <b><font color="#0000FF">@kindex</font></b> n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line189"><font color="#000000">0189:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-next-unread-group
<a name="line190"><font color="#000000">0190:</font></a> <b><font color="#0000FF">@item</font></b> n
<a name="line191"><font color="#000000">0191:</font></a> Move point to the next unread group
<a name="line192"><font color="#000000">0192:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-next-unread-group}</font>).
<a name="line193"><font color="#000000">0193:</font></a> 
<a name="line194"><font color="#000000">0194:</font></a> <b><font color="#0000FF">@kindex</font></b> p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line195"><font color="#000000">0195:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-prev-unread-group
<a name="line196"><font color="#000000">0196:</font></a> <b><font color="#0000FF">@item</font></b> p
<a name="line197"><font color="#000000">0197:</font></a> Move point to the previous unread group
<a name="line198"><font color="#000000">0198:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-prev-unread-group}</font>).
<a name="line199"><font color="#000000">0199:</font></a> 
<a name="line200"><font color="#000000">0200:</font></a> <b><font color="#0000FF">@kindex</font></b> q <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Group mode)}</font>
<a name="line201"><font color="#000000">0201:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-group-exit
<a name="line202"><font color="#000000">0202:</font></a> <b><font color="#0000FF">@item</font></b> q
<a name="line203"><font color="#000000">0203:</font></a> Update your Gnus settings, and quit Gnus (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-group-exit}</font>).
<a name="line204"><font color="#000000">0204:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line205"><font color="#000000">0205:</font></a> 
<a name="line206"><font color="#000000">0206:</font></a> <b><font color="#0000FF">@node</font></b> Gnus Summary Buffer
<a name="line207"><font color="#000000">0207:</font></a> <b><font color="#0000FF">@subsection</font></b> Using the Gnus Summary Buffer
<a name="line208"><font color="#000000">0208:</font></a> 
<a name="line209"><font color="#000000">0209:</font></a>   The following commands are available in the Gnus summary buffer:
<a name="line210"><font color="#000000">0210:</font></a> 
<a name="line211"><font color="#000000">0211:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line212"><font color="#000000">0212:</font></a> <b><font color="#0000FF">@kindex</font></b> SPC <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line213"><font color="#000000">0213:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-summary-next-page
<a name="line214"><font color="#000000">0214:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>
<a name="line215"><font color="#000000">0215:</font></a> If there is no article selected, select the article on the current
<a name="line216"><font color="#000000">0216:</font></a> line and display its article buffer.  Otherwise, try scrolling the
<a name="line217"><font color="#000000">0217:</font></a> selected article buffer in its window; on reaching the end of the
<a name="line218"><font color="#000000">0218:</font></a> buffer, select the next unread article (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-next-page}</font>).
<a name="line219"><font color="#000000">0219:</font></a> 
<a name="line220"><font color="#000000">0220:</font></a> Thus, you can read through all articles by repeatedly typing
<a name="line221"><font color="#000000">0221:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>.
<a name="line222"><font color="#000000">0222:</font></a> 
<a name="line223"><font color="#000000">0223:</font></a> <b><font color="#0000FF">@kindex</font></b> DEL <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line224"><font color="#000000">0224:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-summary-prev-page
<a name="line225"><font color="#000000">0225:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>
<a name="line226"><font color="#000000">0226:</font></a> Scroll the text of the article backwards
<a name="line227"><font color="#000000">0227:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-prev-page}</font>).
<a name="line228"><font color="#000000">0228:</font></a> 
<a name="line229"><font color="#000000">0229:</font></a> <b><font color="#0000FF">@kindex</font></b> n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line230"><font color="#000000">0230:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-summary-next-unread-article
<a name="line231"><font color="#000000">0231:</font></a> <b><font color="#0000FF">@item</font></b> n
<a name="line232"><font color="#000000">0232:</font></a> Select the next unread article
<a name="line233"><font color="#000000">0233:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-next-unread-article}</font>).
<a name="line234"><font color="#000000">0234:</font></a> 
<a name="line235"><font color="#000000">0235:</font></a> <b><font color="#0000FF">@kindex</font></b> p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line236"><font color="#000000">0236:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-summary-prev-unread-article
<a name="line237"><font color="#000000">0237:</font></a> <b><font color="#0000FF">@item</font></b> p
<a name="line238"><font color="#000000">0238:</font></a> Select the previous unread article
<a name="line239"><font color="#000000">0239:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-prev-unread-article}</font>).
<a name="line240"><font color="#000000">0240:</font></a> 
<a name="line241"><font color="#000000">0241:</font></a> <b><font color="#0000FF">@kindex</font></b> s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line242"><font color="#000000">0242:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-summary-isearch-article
<a name="line243"><font color="#000000">0243:</font></a> <b><font color="#0000FF">@item</font></b> s
<a name="line244"><font color="#000000">0244:</font></a> Do an incremental search on the selected article buffer
<a name="line245"><font color="#000000">0245:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-isearch-article}</font>), as if you switched to the
<a name="line246"><font color="#000000">0246:</font></a> buffer and typed <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Incremental Search</font><font color="#FF0000">}</font>).
<a name="line247"><font color="#000000">0247:</font></a> 
<a name="line248"><font color="#000000">0248:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line249"><font color="#000000">0249:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-summary-search-article-forward
<a name="line250"><font color="#000000">0250:</font></a> <b><font color="#0000FF">@item</font></b> M-s <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line251"><font color="#000000">0251:</font></a> Search forward for articles containing a match for <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font>
<a name="line252"><font color="#000000">0252:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-search-article-forward}</font>).
<a name="line253"><font color="#000000">0253:</font></a> 
<a name="line254"><font color="#000000">0254:</font></a> <b><font color="#0000FF">@kindex</font></b> M-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line255"><font color="#000000">0255:</font></a> <b><font color="#0000FF">@findex</font></b> gnus-summary-search-article-backward
<a name="line256"><font color="#000000">0256:</font></a> <b><font color="#0000FF">@item</font></b> M-r <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line257"><font color="#000000">0257:</font></a> Search back for articles containing a match for <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font>
<a name="line258"><font color="#000000">0258:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-search-article-backward}</font>).
<a name="line259"><font color="#000000">0259:</font></a> 
<a name="line260"><font color="#000000">0260:</font></a> <b><font color="#0000FF">@kindex</font></b> q <b><font color="#0000FF">@r</font></b><font color="#009900">{(Gnus Summary mode)}</font>
<a name="line261"><font color="#000000">0261:</font></a> <b><font color="#0000FF">@item</font></b> q
<a name="line262"><font color="#000000">0262:</font></a> Exit the summary buffer and return to the group buffer
<a name="line263"><font color="#000000">0263:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{gnus-summary-exit}</font>).
<a name="line264"><font color="#000000">0264:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line265"><font color="#000000">0265:</font></a> 
<a name="line266"><font color="#000000">0266:</font></a> <b><font color="#0000FF">@node</font></b> Host Security
<a name="line267"><font color="#000000">0267:</font></a> <b><font color="#0000FF">@section</font></b> Host Security
<a name="line268"><font color="#000000">0268:</font></a> <i><font color="#9A1900">@cindex security</font></i>
<a name="line269"><font color="#000000">0269:</font></a> 
<a name="line270"><font color="#000000">0270:</font></a> Emacs runs inside an operating system such as GNU/Linux, and relies on
<a name="line271"><font color="#000000">0271:</font></a> the operating system to check security constraints such as accesses to
<a name="line272"><font color="#000000">0272:</font></a> files.  The default settings for Emacs are designed for typical use;
<a name="line273"><font color="#000000">0273:</font></a> they may require some tailoring in environments where security is more
<a name="line274"><font color="#000000">0274:</font></a> of a concern, or less of a concern, than usual.  For example,
<a name="line275"><font color="#000000">0275:</font></a> file-local variables can be risky, and you can set the variable
<a name="line276"><font color="#000000">0276:</font></a> <i><font color="#9A1900">@code{enable-local-variables} to @code{:safe} or (even more</font></i>
<a name="line277"><font color="#000000">0277:</font></a> conservatively) to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>; conversely, if your files can all be
<a name="line278"><font color="#000000">0278:</font></a> trusted and the default checking for these variables is irritating,
<a name="line279"><font color="#000000">0279:</font></a> you can set <b><font color="#0000FF">@code</font></b><font color="#009900">{enable-local-variables}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{:all}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Safe</font>
<a name="line280"><font color="#000000">0280:</font></a> <font color="#FF0000">File Variables</font><font color="#FF0000">}</font>.
<a name="line281"><font color="#000000">0281:</font></a> 
<a name="line282"><font color="#000000">0282:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Security Considerations,,, elisp, The Emacs Lisp Reference</font>
<a name="line283"><font color="#000000">0283:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>, for more information about security considerations when using
<a name="line284"><font color="#000000">0284:</font></a> Emacs as part of a larger application.
<a name="line285"><font color="#000000">0285:</font></a> 
<a name="line286"><font color="#000000">0286:</font></a> <b><font color="#0000FF">@node</font></b> Network Security
<a name="line287"><font color="#000000">0287:</font></a> <b><font color="#0000FF">@section</font></b> Network Security
<a name="line288"><font color="#000000">0288:</font></a> <i><font color="#9A1900">@cindex network security manager</font></i>
<a name="line289"><font color="#000000">0289:</font></a> <i><font color="#9A1900">@cindex NSM</font></i>
<a name="line290"><font color="#000000">0290:</font></a> <i><font color="#9A1900">@cindex encryption</font></i>
<a name="line291"><font color="#000000">0291:</font></a> <i><font color="#9A1900">@cindex SSL</font></i>
<a name="line292"><font color="#000000">0292:</font></a> <i><font color="#9A1900">@cindex TLS</font></i>
<a name="line293"><font color="#000000">0293:</font></a> <i><font color="#9A1900">@cindex Transport Layer Security</font></i>
<a name="line294"><font color="#000000">0294:</font></a> <i><font color="#9A1900">@cindex STARTTLS</font></i>
<a name="line295"><font color="#000000">0295:</font></a> 
<a name="line296"><font color="#000000">0296:</font></a> Whenever Emacs establishes any network connection, it passes the
<a name="line297"><font color="#000000">0297:</font></a> established connection to the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Network Security Manager}</font>
<a name="line298"><font color="#000000">0298:</font></a> (<b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font>).  <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> is responsible for enforcing the
<a name="line299"><font color="#000000">0299:</font></a> network security under your control.  Currently, this works by using
<a name="line300"><font color="#000000">0300:</font></a> the Transport Layer Security (<b><font color="#0000FF">@acronym</font></b><font color="#009900">{TLS}</font>) features.
<a name="line301"><font color="#000000">0301:</font></a> 
<a name="line302"><font color="#000000">0302:</font></a> <b><font color="#0000FF">@vindex</font></b> network-security-level
<a name="line303"><font color="#000000">0303:</font></a> The <b><font color="#0000FF">@code</font></b><font color="#009900">{network-security-level}</font> variable determines the security
<a name="line304"><font color="#000000">0304:</font></a> level that <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> enforces.  If its value is <b><font color="#0000FF">@code</font></b><font color="#009900">{low}</font>, no
<a name="line305"><font color="#000000">0305:</font></a> security checks are performed.
<a name="line306"><font color="#000000">0306:</font></a> 
<a name="line307"><font color="#000000">0307:</font></a> If this variable is <b><font color="#0000FF">@code</font></b><font color="#009900">{medium}</font> (which is the default), a number of
<a name="line308"><font color="#000000">0308:</font></a> checks will be performed.  If as result <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> determines that
<a name="line309"><font color="#000000">0309:</font></a> the network connection might not be trustworthy, it will make you
<a name="line310"><font color="#000000">0310:</font></a> aware of that, and will ask you what to do about the network
<a name="line311"><font color="#000000">0311:</font></a> connection.
<a name="line312"><font color="#000000">0312:</font></a> 
<a name="line313"><font color="#000000">0313:</font></a> You can decide to register a permanent security exception for an
<a name="line314"><font color="#000000">0314:</font></a> unverified connection, a temporary exception, or refuse the connection
<a name="line315"><font color="#000000">0315:</font></a> entirely.
<a name="line316"><font color="#000000">0316:</font></a> 
<a name="line317"><font color="#000000">0317:</font></a> <b><font color="#0000FF">@vindex</font></b> network-security-protocol-checks
<a name="line318"><font color="#000000">0318:</font></a> In addition to the basic certificate correctness checks, several
<a name="line319"><font color="#000000">0319:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{TLS}</font> algorithm checks are available.  Some encryption
<a name="line320"><font color="#000000">0320:</font></a> technologies that were previously thought to be secure have shown
<a name="line321"><font color="#000000">0321:</font></a> themselves to be fragile, so Emacs (by default) warns you about some
<a name="line322"><font color="#000000">0322:</font></a> of these problems.
<a name="line323"><font color="#000000">0323:</font></a> 
<a name="line324"><font color="#000000">0324:</font></a> The protocol network checks is controlled via the
<a name="line325"><font color="#000000">0325:</font></a> <i><font color="#9A1900">@code{network-security-protocol-checks} variable.</font></i>
<a name="line326"><font color="#000000">0326:</font></a> 
<a name="line327"><font color="#000000">0327:</font></a> It's an alist where the first element of each association is the name
<a name="line328"><font color="#000000">0328:</font></a> of the check, the second element is the security level where the check
<a name="line329"><font color="#000000">0329:</font></a> should be used, and the optional third element is a parameter supplied
<a name="line330"><font color="#000000">0330:</font></a> to the check.
<a name="line331"><font color="#000000">0331:</font></a> 
<a name="line332"><font color="#000000">0332:</font></a> An element like <b><font color="#0000FF">@code</font></b><font color="#009900">{(rc4 medium)}</font> will result in the function
<a name="line333"><font color="#000000">0333:</font></a> <i><font color="#9A1900">@code{nsm-protocol-check--rc4} being called like thus:</font></i>
<a name="line334"><font color="#000000">0334:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@code{(nsm-protocol-check--rc4 host port status optional-parameter)}}</font>.
<a name="line335"><font color="#000000">0335:</font></a> The function should return non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> if the connection should
<a name="line336"><font color="#000000">0336:</font></a> proceed and <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> otherwise.
<a name="line337"><font color="#000000">0337:</font></a> 
<a name="line338"><font color="#000000">0338:</font></a> Below is a list of the checks done on the default <b><font color="#0000FF">@code</font></b><font color="#009900">{medium}</font> level.
<a name="line339"><font color="#000000">0339:</font></a> 
<a name="line340"><font color="#000000">0340:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line341"><font color="#000000">0341:</font></a> 
<a name="line342"><font color="#000000">0342:</font></a> <b><font color="#0000FF">@item</font></b> unable to verify a <b><font color="#0000FF">@acronym</font></b><font color="#009900">{TLS}</font> certificate
<a name="line343"><font color="#000000">0343:</font></a> If the connection is a <b><font color="#0000FF">@acronym</font></b><font color="#009900">{TLS}</font>, <b><font color="#0000FF">@acronym</font></b><font color="#009900">{SSL}</font> or
<a name="line344"><font color="#000000">0344:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{STARTTLS}</font> connection, <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> will check whether
<a name="line345"><font color="#000000">0345:</font></a> the certificate used to establish the identity of the server we're
<a name="line346"><font color="#000000">0346:</font></a> connecting to can be verified.
<a name="line347"><font color="#000000">0347:</font></a> 
<a name="line348"><font color="#000000">0348:</font></a> While an invalid certificate is often the cause for concern (there
<a name="line349"><font color="#000000">0349:</font></a> could be a Man-in-the-Middle hijacking your network connection and
<a name="line350"><font color="#000000">0350:</font></a> stealing your password), there may be valid reasons for going ahead
<a name="line351"><font color="#000000">0351:</font></a> with the connection anyway.  For instance, the server may be using a
<a name="line352"><font color="#000000">0352:</font></a> self-signed certificate, or the certificate may have expired.  It's up
<a name="line353"><font color="#000000">0353:</font></a> to you to determine whether it's acceptable to continue with the
<a name="line354"><font color="#000000">0354:</font></a> connection.
<a name="line355"><font color="#000000">0355:</font></a> 
<a name="line356"><font color="#000000">0356:</font></a> <b><font color="#0000FF">@item</font></b> a self-signed certificate has changed
<a name="line357"><font color="#000000">0357:</font></a> If you've previously accepted a self-signed certificate, but it has
<a name="line358"><font color="#000000">0358:</font></a> now changed, that could mean that the server has just changed the
<a name="line359"><font color="#000000">0359:</font></a> certificate, but it might also mean that the network connection has
<a name="line360"><font color="#000000">0360:</font></a> been hijacked.
<a name="line361"><font color="#000000">0361:</font></a> 
<a name="line362"><font color="#000000">0362:</font></a> <b><font color="#0000FF">@item</font></b> previously encrypted connection now unencrypted
<a name="line363"><font color="#000000">0363:</font></a> If the connection is unencrypted, but it was encrypted in previous
<a name="line364"><font color="#000000">0364:</font></a> sessions, this might mean that there is a proxy between you and the
<a name="line365"><font color="#000000">0365:</font></a> server that strips away <b><font color="#0000FF">@acronym</font></b><font color="#009900">{STARTTLS}</font> announcements, leaving the
<a name="line366"><font color="#000000">0366:</font></a> connection unencrypted.  This is usually very suspicious.
<a name="line367"><font color="#000000">0367:</font></a> 
<a name="line368"><font color="#000000">0368:</font></a> <b><font color="#0000FF">@item</font></b> talking to an unencrypted service when sending a password
<a name="line369"><font color="#000000">0369:</font></a> When connecting to an <b><font color="#0000FF">@acronym</font></b><font color="#009900">{IMAP}</font> or <b><font color="#0000FF">@acronym</font></b><font color="#009900">{POP3}</font> server, these
<a name="line370"><font color="#000000">0370:</font></a> should usually be encrypted, because it's common to send passwords
<a name="line371"><font color="#000000">0371:</font></a> over these connections.  Similarly, if you're sending email via
<a name="line372"><font color="#000000">0372:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{SMTP}</font> that requires a password, you usually want that
<a name="line373"><font color="#000000">0373:</font></a> connection to be encrypted.  If the connection isn't encrypted,
<a name="line374"><font color="#000000">0374:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> will warn you.
<a name="line375"><font color="#000000">0375:</font></a> 
<a name="line376"><font color="#000000">0376:</font></a> <b><font color="#0000FF">@item</font></b> Diffie-Hellman low prime bits
<a name="line377"><font color="#000000">0377:</font></a> When doing the public key exchange, the number of prime bits should be
<a name="line378"><font color="#000000">0378:</font></a> high enough to ensure that the channel can't be eavesdropped on by third
<a name="line379"><font color="#000000">0379:</font></a> parties.  If this number is too low, Emacs will warn you.  (This is the
<a name="line380"><font color="#000000">0380:</font></a> <i><font color="#9A1900">@code{diffie-hellman-prime-bits} check in</font></i>
<a name="line381"><font color="#000000">0381:</font></a> <i><font color="#9A1900">@code{network-security-protocol-checks}).</font></i>
<a name="line382"><font color="#000000">0382:</font></a> 
<a name="line383"><font color="#000000">0383:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{RC4}</font> stream cipher
<a name="line384"><font color="#000000">0384:</font></a> The <b><font color="#0000FF">@acronym</font></b><font color="#009900">{RC4}</font> stream cipher is believed to be of low quality and
<a name="line385"><font color="#000000">0385:</font></a> may allow eavesdropping by third parties.  (This is the <b><font color="#0000FF">@code</font></b><font color="#009900">{rc4}</font>
<a name="line386"><font color="#000000">0386:</font></a> check in <b><font color="#0000FF">@code</font></b><font color="#009900">{network-security-protocol-checks}</font>).
<a name="line387"><font color="#000000">0387:</font></a> 
<a name="line388"><font color="#000000">0388:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{SHA1}</font> in the host certificate or in intermediate certificates
<a name="line389"><font color="#000000">0389:</font></a> It is believed that if an intermediate certificate uses the
<a name="line390"><font color="#000000">0390:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{SHA1}</font> hashing algorithm, then third parties can issue
<a name="line391"><font color="#000000">0391:</font></a> certificates pretending to be that issuing instance.  These
<a name="line392"><font color="#000000">0392:</font></a> connections are therefore vulnerable to man-in-the-middle attacks.
<a name="line393"><font color="#000000">0393:</font></a> (These are the <b><font color="#0000FF">@code</font></b><font color="#009900">{signature-sha1}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{intermediate-sha1}</font>
<a name="line394"><font color="#000000">0394:</font></a> checks in <b><font color="#0000FF">@code</font></b><font color="#009900">{network-security-protocol-checks}</font>).
<a name="line395"><font color="#000000">0395:</font></a> 
<a name="line396"><font color="#000000">0396:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{SSL1}</font>, <b><font color="#0000FF">@acronym</font></b><font color="#009900">{SSL2}</font> and <b><font color="#0000FF">@acronym</font></b><font color="#009900">{SSL3}</font>
<a name="line397"><font color="#000000">0397:</font></a> The protocols older than <b><font color="#0000FF">@acronym</font></b><font color="#009900">{TLS1.0}</font> are believed to be
<a name="line398"><font color="#000000">0398:</font></a> vulnerable to a variety of attacks, and you may want to avoid using
<a name="line399"><font color="#000000">0399:</font></a> these if what you're doing requires higher security.  (This is the
<a name="line400"><font color="#000000">0400:</font></a> <i><font color="#9A1900">@code{ssl} check in @code{network-security-protocol-checks}).</font></i>
<a name="line401"><font color="#000000">0401:</font></a> 
<a name="line402"><font color="#000000">0402:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line403"><font color="#000000">0403:</font></a> 
<a name="line404"><font color="#000000">0404:</font></a> If <b><font color="#0000FF">@code</font></b><font color="#009900">{network-security-level}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{high}</font>, the following checks
<a name="line405"><font color="#000000">0405:</font></a> will be made, in addition to the above:
<a name="line406"><font color="#000000">0406:</font></a> 
<a name="line407"><font color="#000000">0407:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line408"><font color="#000000">0408:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{3DES}</font> cipher
<a name="line409"><font color="#000000">0409:</font></a> The <b><font color="#0000FF">@acronym</font></b><font color="#009900">{3DES}</font> stream cipher provides at most 112 bits of
<a name="line410"><font color="#000000">0410:</font></a> effective security, which is considered to be towards the low end.
<a name="line411"><font color="#000000">0411:</font></a> (This is the <b><font color="#0000FF">@code</font></b><font color="#009900">{3des}</font> check in
<a name="line412"><font color="#000000">0412:</font></a> <i><font color="#9A1900">@code{network-security-protocol-checks}).</font></i>
<a name="line413"><font color="#000000">0413:</font></a> 
<a name="line414"><font color="#000000">0414:</font></a> <b><font color="#0000FF">@item</font></b> a validated certificate changes the public key
<a name="line415"><font color="#000000">0415:</font></a> Servers change their keys occasionally, and that is normally nothing
<a name="line416"><font color="#000000">0416:</font></a> to be concerned about.  However, if you are worried that your network
<a name="line417"><font color="#000000">0417:</font></a> connections are being hijacked by agencies who have access to pliable
<a name="line418"><font color="#000000">0418:</font></a> Certificate Authorities which issue new certificates for third-party
<a name="line419"><font color="#000000">0419:</font></a> services, you may want to keep track of these changes.
<a name="line420"><font color="#000000">0420:</font></a> 
<a name="line421"><font color="#000000">0421:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line422"><font color="#000000">0422:</font></a> 
<a name="line423"><font color="#000000">0423:</font></a> Finally, if <b><font color="#0000FF">@code</font></b><font color="#009900">{network-security-level}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{paranoid}</font>, you will
<a name="line424"><font color="#000000">0424:</font></a> also be notified the first time <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> sees any new
<a name="line425"><font color="#000000">0425:</font></a> certificate.  This will allow you to inspect all the certificates from
<a name="line426"><font color="#000000">0426:</font></a> all the connections that Emacs makes.
<a name="line427"><font color="#000000">0427:</font></a> 
<a name="line428"><font color="#000000">0428:</font></a> The following additional variables can be used to control details of
<a name="line429"><font color="#000000">0429:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> operation:
<a name="line430"><font color="#000000">0430:</font></a> 
<a name="line431"><font color="#000000">0431:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line432"><font color="#000000">0432:</font></a> <b><font color="#0000FF">@item</font></b> nsm-settings-file
<a name="line433"><font color="#000000">0433:</font></a> <b><font color="#0000FF">@vindex</font></b> nsm-settings-file
<a name="line434"><font color="#000000">0434:</font></a> This is the file where <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> stores details about connections.
<a name="line435"><font color="#000000">0435:</font></a> It defaults to <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/network-security.data}</font>.
<a name="line436"><font color="#000000">0436:</font></a> 
<a name="line437"><font color="#000000">0437:</font></a> <b><font color="#0000FF">@item</font></b> nsm-save-host-names
<a name="line438"><font color="#000000">0438:</font></a> <b><font color="#0000FF">@vindex</font></b> nsm-save-host-names
<a name="line439"><font color="#000000">0439:</font></a> By default, host names will not be saved for non-<b><font color="#0000FF">@code</font></b><font color="#009900">{STARTTLS}</font>
<a name="line440"><font color="#000000">0440:</font></a> connections.  Instead a host/port hash is used to identify connections.
<a name="line441"><font color="#000000">0441:</font></a> This means that one can't casually read the settings file to see what
<a name="line442"><font color="#000000">0442:</font></a> servers the user has connected to.  If this variable is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>,
<a name="line443"><font color="#000000">0443:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{NSM}</font> will also save host names in the
<a name="line444"><font color="#000000">0444:</font></a> <i><font color="#9A1900">@code{nsm-settings-file}.</font></i>
<a name="line445"><font color="#000000">0445:</font></a> 
<a name="line446"><font color="#000000">0446:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line447"><font color="#000000">0447:</font></a> 
<a name="line448"><font color="#000000">0448:</font></a> 
<a name="line449"><font color="#000000">0449:</font></a> <b><font color="#0000FF">@node</font></b> Document View
<a name="line450"><font color="#000000">0450:</font></a> <b><font color="#0000FF">@section</font></b> Document Viewing
<a name="line451"><font color="#000000">0451:</font></a> <i><font color="#9A1900">@cindex DVI file</font></i>
<a name="line452"><font color="#000000">0452:</font></a> <i><font color="#9A1900">@cindex PDF file</font></i>
<a name="line453"><font color="#000000">0453:</font></a> <i><font color="#9A1900">@cindex PS file</font></i>
<a name="line454"><font color="#000000">0454:</font></a> <i><font color="#9A1900">@cindex PostScript file</font></i>
<a name="line455"><font color="#000000">0455:</font></a> <i><font color="#9A1900">@cindex OpenDocument file</font></i>
<a name="line456"><font color="#000000">0456:</font></a> <i><font color="#9A1900">@cindex Microsoft Office file</font></i>
<a name="line457"><font color="#000000">0457:</font></a> <i><font color="#9A1900">@cindex DocView mode</font></i>
<a name="line458"><font color="#000000">0458:</font></a> <i><font color="#9A1900">@cindex mode, DocView</font></i>
<a name="line459"><font color="#000000">0459:</font></a> <i><font color="#9A1900">@cindex document viewer (DocView)</font></i>
<a name="line460"><font color="#000000">0460:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-mode
<a name="line461"><font color="#000000">0461:</font></a> 
<a name="line462"><font color="#000000">0462:</font></a>   DocView mode is a major mode for viewing DVI, PostScript (PS), PDF,
<a name="line463"><font color="#000000">0463:</font></a> OpenDocument, and Microsoft Office documents.  It provides features
<a name="line464"><font color="#000000">0464:</font></a> such as slicing, zooming, and searching inside documents.  It works by
<a name="line465"><font color="#000000">0465:</font></a> converting the document to a set of images using the <b><font color="#0000FF">@command</font></b><font color="#009900">{gs}</font>
<a name="line466"><font color="#000000">0466:</font></a> (GhostScript) or <b><font color="#0000FF">@command</font></b><font color="#009900">{mudraw}</font>/<b><font color="#0000FF">@command</font></b><font color="#009900">{pdfdraw}</font> (MuPDF) commands
<a name="line467"><font color="#000000">0467:</font></a> and other external tools <b><font color="#0000FF">@footnote</font></b><font color="#009900">{For PostScript files, GhostScript</font>
<a name="line468"><font color="#000000">0468:</font></a> <font color="#009900">is a hard requirement.  For DVI files, @code{dvipdf} or @code{dvipdfm}</font>
<a name="line469"><font color="#000000">0469:</font></a> <font color="#009900">is needed.  For OpenDocument and Microsoft Office documents, the</font>
<a name="line470"><font color="#000000">0470:</font></a> <font color="#009900">@code{unoconv} tool is needed.}</font>, and displaying those images.
<a name="line471"><font color="#000000">0471:</font></a> 
<a name="line472"><font color="#000000">0472:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-toggle-display
<a name="line473"><font color="#000000">0473:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-minor-mode
<a name="line474"><font color="#000000">0474:</font></a>   When you visit a document file that can be displayed with DocView
<a name="line475"><font color="#000000">0475:</font></a> mode, Emacs automatically uses that mode <b><font color="#0000FF">@footnote</font></b><font color="#009900">{The needed</font>
<a name="line476"><font color="#000000">0476:</font></a> <font color="#009900">external tools for the document type must be available, and Emacs must</font>
<a name="line477"><font color="#000000">0477:</font></a> <font color="#009900">be running in a graphical frame and have PNG image support.  If these</font>
<a name="line478"><font color="#000000">0478:</font></a> <font color="#009900">requirements is not fulfilled, Emacs falls back to another major</font>
<a name="line479"><font color="#000000">0479:</font></a> <font color="#009900">mode.}</font>.  As an exception, when you visit a PostScript file, Emacs
<a name="line480"><font color="#000000">0480:</font></a> switches to PS mode, a major mode for editing PostScript files as
<a name="line481"><font color="#000000">0481:</font></a> text; however, it also enables DocView minor mode, so you can type
<a name="line482"><font color="#000000">0482:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> to view the document with DocView.  In either DocView
<a name="line483"><font color="#000000">0483:</font></a> mode or DocView minor mode, repeating <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font>
<a name="line484"><font color="#000000">0484:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-toggle-display}</font>) toggles between DocView and the
<a name="line485"><font color="#000000">0485:</font></a> underlying file contents.
<a name="line486"><font color="#000000">0486:</font></a> 
<a name="line487"><font color="#000000">0487:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-open-text
<a name="line488"><font color="#000000">0488:</font></a>   When you visit a file which would normally be handled by DocView
<a name="line489"><font color="#000000">0489:</font></a> mode but some requirement is not met (e.g., you operate in a terminal
<a name="line490"><font color="#000000">0490:</font></a> frame or Emacs has no PNG support), you are queried if you want to
<a name="line491"><font color="#000000">0491:</font></a> view the document's contents as plain text.  If you confirm, the
<a name="line492"><font color="#000000">0492:</font></a> buffer is put in text mode and DocView minor mode is activated.  Thus,
<a name="line493"><font color="#000000">0493:</font></a> by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> you switch to the fallback mode.  With another
<a name="line494"><font color="#000000">0494:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> you return to DocView mode.  The plain text contents can
<a name="line495"><font color="#000000">0495:</font></a> also be displayed from within DocView mode by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-t}</font>
<a name="line496"><font color="#000000">0496:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-open-text}</font>).
<a name="line497"><font color="#000000">0497:</font></a> 
<a name="line498"><font color="#000000">0498:</font></a>   You can explicitly enable DocView mode with the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line499"><font color="#000000">0499:</font></a> <font color="#009900">doc-view-mode}</font>.  You can toggle DocView minor mode with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line500"><font color="#000000">0500:</font></a> <font color="#009900">doc-view-minor-mode}</font>.
<a name="line501"><font color="#000000">0501:</font></a> 
<a name="line502"><font color="#000000">0502:</font></a>   When DocView mode starts, it displays a welcome screen and begins
<a name="line503"><font color="#000000">0503:</font></a> formatting the file, page by page.  It displays the first page once
<a name="line504"><font color="#000000">0504:</font></a> that has been formatted.
<a name="line505"><font color="#000000">0505:</font></a> 
<a name="line506"><font color="#000000">0506:</font></a>   To kill the DocView buffer, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{k}</font>
<a name="line507"><font color="#000000">0507:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-kill-proc-and-buffer}</font>).  To bury it, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{q}</font>
<a name="line508"><font color="#000000">0508:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{quit-window}</font>).
<a name="line509"><font color="#000000">0509:</font></a> 
<a name="line510"><font color="#000000">0510:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line511"><font color="#000000">0511:</font></a> * Navigation: DocView Navigation.  Navigating DocView buffers.
<a name="line512"><font color="#000000">0512:</font></a> * Searching: DocView Searching.    Searching inside documents.
<a name="line513"><font color="#000000">0513:</font></a> * Slicing: DocView Slicing.        Specifying which part of a page is displayed.
<a name="line514"><font color="#000000">0514:</font></a> * Conversion: DocView Conversion.  Influencing and triggering conversion.
<a name="line515"><font color="#000000">0515:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line516"><font color="#000000">0516:</font></a> 
<a name="line517"><font color="#000000">0517:</font></a> <b><font color="#0000FF">@node</font></b> DocView Navigation
<a name="line518"><font color="#000000">0518:</font></a> <b><font color="#0000FF">@subsection</font></b> DocView Navigation
<a name="line519"><font color="#000000">0519:</font></a> 
<a name="line520"><font color="#000000">0520:</font></a>   In DocView mode, you can scroll the current page using the usual
<a name="line521"><font color="#000000">0521:</font></a> Emacs movement keys: <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-b}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font>, and
<a name="line522"><font color="#000000">0522:</font></a> the arrow keys.
<a name="line523"><font color="#000000">0523:</font></a> 
<a name="line524"><font color="#000000">0524:</font></a> <b><font color="#0000FF">@vindex</font></b> doc-view-continuous
<a name="line525"><font color="#000000">0525:</font></a>   By default, the line-motion keys <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font> stop
<a name="line526"><font color="#000000">0526:</font></a> scrolling at the beginning and end of the current page, respectively.
<a name="line527"><font color="#000000">0527:</font></a> However, if you change the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-continuous}</font> to a
<a name="line528"><font color="#000000">0528:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value, then <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font> displays the previous page if you
<a name="line529"><font color="#000000">0529:</font></a> are already at the beginning of the current page, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font>
<a name="line530"><font color="#000000">0530:</font></a> displays the next page if you are at the end of the current page.
<a name="line531"><font color="#000000">0531:</font></a> 
<a name="line532"><font color="#000000">0532:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-next-page
<a name="line533"><font color="#000000">0533:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-previous-page
<a name="line534"><font color="#000000">0534:</font></a> <b><font color="#0000FF">@kindex</font></b> n <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line535"><font color="#000000">0535:</font></a> <b><font color="#0000FF">@kindex</font></b> p <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line536"><font color="#000000">0536:</font></a> <b><font color="#0000FF">@kindex</font></b> PageDown <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line537"><font color="#000000">0537:</font></a> <b><font color="#0000FF">@kindex</font></b> PageUp <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line538"><font color="#000000">0538:</font></a> <b><font color="#0000FF">@kindex</font></b> next <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line539"><font color="#000000">0539:</font></a> <b><font color="#0000FF">@kindex</font></b> prior <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line540"><font color="#000000">0540:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x ] <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line541"><font color="#000000">0541:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x [ <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line542"><font color="#000000">0542:</font></a>   You can also display the next page by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{n}</font>,
<a name="line543"><font color="#000000">0543:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{PageDown}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{next}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x ]}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-next-page}</font>).
<a name="line544"><font color="#000000">0544:</font></a> To display the previous page, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{p}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{PageUp}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{prior}</font>
<a name="line545"><font color="#000000">0545:</font></a> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x [}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-previous-page}</font>).
<a name="line546"><font color="#000000">0546:</font></a> 
<a name="line547"><font color="#000000">0547:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-scroll-up-or-next-page
<a name="line548"><font color="#000000">0548:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-scroll-down-or-previous-page
<a name="line549"><font color="#000000">0549:</font></a> <b><font color="#0000FF">@kindex</font></b> SPC <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line550"><font color="#000000">0550:</font></a> <b><font color="#0000FF">@kindex</font></b> DEL <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line551"><font color="#000000">0551:</font></a>   <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-scroll-up-or-next-page}</font>) is a convenient
<a name="line552"><font color="#000000">0552:</font></a> way to advance through the document.  It scrolls within the current
<a name="line553"><font color="#000000">0553:</font></a> page or advances to the next.  <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font> moves backwards in a similar
<a name="line554"><font color="#000000">0554:</font></a> way (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-scroll-down-or-previous-page}</font>).
<a name="line555"><font color="#000000">0555:</font></a> 
<a name="line556"><font color="#000000">0556:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-first-page
<a name="line557"><font color="#000000">0557:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-last-page
<a name="line558"><font color="#000000">0558:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-goto-page
<a name="line559"><font color="#000000">0559:</font></a> <b><font color="#0000FF">@kindex</font></b> M-&lt; <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line560"><font color="#000000">0560:</font></a> <b><font color="#0000FF">@kindex</font></b> M-&gt; <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line561"><font color="#000000">0561:</font></a>   To go to the first page, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-&lt;}</font>
<a name="line562"><font color="#000000">0562:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-first-page}</font>); to go to the last one, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-&gt;}</font>
<a name="line563"><font color="#000000">0563:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-last-page}</font>).  To jump to a page by its number, type
<a name="line564"><font color="#000000">0564:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-g M-g}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-g g}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-goto-page}</font>).
<a name="line565"><font color="#000000">0565:</font></a> 
<a name="line566"><font color="#000000">0566:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-enlarge
<a name="line567"><font color="#000000">0567:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-shrink
<a name="line568"><font color="#000000">0568:</font></a> <b><font color="#0000FF">@vindex</font></b> doc-view-resolution
<a name="line569"><font color="#000000">0569:</font></a> <b><font color="#0000FF">@kindex</font></b> + <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line570"><font color="#000000">0570:</font></a> <b><font color="#0000FF">@kindex</font></b> - <b><font color="#0000FF">@r</font></b><font color="#009900">{(DocView mode)}</font>
<a name="line571"><font color="#000000">0571:</font></a>   You can enlarge or shrink the document with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{+}</font>
<a name="line572"><font color="#000000">0572:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-enlarge}</font>) and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{-}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-shrink}</font>).  These
<a name="line573"><font color="#000000">0573:</font></a> commands work by reconverting the document at the new size.  To
<a name="line574"><font color="#000000">0574:</font></a> specify the default size for DocView, customize the variable
<a name="line575"><font color="#000000">0575:</font></a> <i><font color="#9A1900">@code{doc-view-resolution}.</font></i>
<a name="line576"><font color="#000000">0576:</font></a> 
<a name="line577"><font color="#000000">0577:</font></a> <b><font color="#0000FF">@node</font></b> DocView Searching
<a name="line578"><font color="#000000">0578:</font></a> <b><font color="#0000FF">@subsection</font></b> DocView Searching
<a name="line579"><font color="#000000">0579:</font></a> 
<a name="line580"><font color="#000000">0580:</font></a>   In DocView mode, you can search the file's text for a regular
<a name="line581"><font color="#000000">0581:</font></a> expression (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexps</font><font color="#FF0000">}</font>).  The interface for searching is inspired
<a name="line582"><font color="#000000">0582:</font></a> by <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Incremental Search</font><font color="#FF0000">}</font>).
<a name="line583"><font color="#000000">0583:</font></a> 
<a name="line584"><font color="#000000">0584:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-search
<a name="line585"><font color="#000000">0585:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-search-backward
<a name="line586"><font color="#000000">0586:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-show-tooltip
<a name="line587"><font color="#000000">0587:</font></a>   To begin a search, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-search}</font>) or
<a name="line588"><font color="#000000">0588:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-search-backward}</font>).  This reads a regular
<a name="line589"><font color="#000000">0589:</font></a> expression using a minibuffer, then echoes the number of matches found
<a name="line590"><font color="#000000">0590:</font></a> within the document.  You can move forward and back among the matches
<a name="line591"><font color="#000000">0591:</font></a> by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font>.  DocView mode has no way to show
<a name="line592"><font color="#000000">0592:</font></a> the match inside the page image; instead, it displays a tooltip (at
<a name="line593"><font color="#000000">0593:</font></a> the mouse position) listing all matching lines in the current page.
<a name="line594"><font color="#000000">0594:</font></a> To force display of this tooltip, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-t}</font>
<a name="line595"><font color="#000000">0595:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-show-tooltip}</font>).
<a name="line596"><font color="#000000">0596:</font></a> 
<a name="line597"><font color="#000000">0597:</font></a>   To start a new search, use the search command with a prefix
<a name="line598"><font color="#000000">0598:</font></a> argument; i.e., <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-s}</font> for a forward search or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-r}</font>
<a name="line599"><font color="#000000">0599:</font></a> for a backward search.
<a name="line600"><font color="#000000">0600:</font></a> 
<a name="line601"><font color="#000000">0601:</font></a> <b><font color="#0000FF">@node</font></b> DocView Slicing
<a name="line602"><font color="#000000">0602:</font></a> <b><font color="#0000FF">@subsection</font></b> DocView Slicing
<a name="line603"><font color="#000000">0603:</font></a> 
<a name="line604"><font color="#000000">0604:</font></a> Documents often have wide margins for printing.  They are annoying
<a name="line605"><font color="#000000">0605:</font></a> when reading the document on the screen, because they use up screen
<a name="line606"><font color="#000000">0606:</font></a> space and can cause inconvenient scrolling.
<a name="line607"><font color="#000000">0607:</font></a> 
<a name="line608"><font color="#000000">0608:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-set-slice
<a name="line609"><font color="#000000">0609:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-set-slice-using-mouse
<a name="line610"><font color="#000000">0610:</font></a>   With DocView you can hide these margins by selecting a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{slice}</font>
<a name="line611"><font color="#000000">0611:</font></a> of pages to display.  A slice is a rectangle within the page area;
<a name="line612"><font color="#000000">0612:</font></a> once you specify a slice in DocView, it applies to whichever page you
<a name="line613"><font color="#000000">0613:</font></a> look at.
<a name="line614"><font color="#000000">0614:</font></a> 
<a name="line615"><font color="#000000">0615:</font></a>   To specify the slice numerically, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{s s}</font>
<a name="line616"><font color="#000000">0616:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-set-slice}</font>); then enter the top left pixel position
<a name="line617"><font color="#000000">0617:</font></a> and the slice's width and height.
<a name="line618"><font color="#000000">0618:</font></a> <i><font color="#9A1900">@c ??? how does this work?</font></i>
<a name="line619"><font color="#000000">0619:</font></a> 
<a name="line620"><font color="#000000">0620:</font></a>   A more convenient graphical way to specify the slice is with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{s</font>
<a name="line621"><font color="#000000">0621:</font></a> <font color="#009900">m}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-set-slice-using-mouse}</font>), where you use the mouse to
<a name="line622"><font color="#000000">0622:</font></a> select the slice.  Simply press and hold the left mouse button at the
<a name="line623"><font color="#000000">0623:</font></a> upper-left corner of the region you want to have in the slice, then
<a name="line624"><font color="#000000">0624:</font></a> move the mouse pointer to the lower-right corner and release the
<a name="line625"><font color="#000000">0625:</font></a> button.
<a name="line626"><font color="#000000">0626:</font></a> 
<a name="line627"><font color="#000000">0627:</font></a>   The most convenient way is to set the optimal slice by using
<a name="line628"><font color="#000000">0628:</font></a> BoundingBox information automatically determined from the document by
<a name="line629"><font color="#000000">0629:</font></a> typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{s b}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-set-slice-from-bounding-box}</font>).
<a name="line630"><font color="#000000">0630:</font></a> 
<a name="line631"><font color="#000000">0631:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-reset-slice
<a name="line632"><font color="#000000">0632:</font></a>   To cancel the selected slice, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{s r}</font>
<a name="line633"><font color="#000000">0633:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-reset-slice}</font>).  Then DocView shows the entire page
<a name="line634"><font color="#000000">0634:</font></a> including its entire margins.
<a name="line635"><font color="#000000">0635:</font></a> 
<a name="line636"><font color="#000000">0636:</font></a> <b><font color="#0000FF">@node</font></b> DocView Conversion
<a name="line637"><font color="#000000">0637:</font></a> <b><font color="#0000FF">@subsection</font></b> DocView Conversion
<a name="line638"><font color="#000000">0638:</font></a> 
<a name="line639"><font color="#000000">0639:</font></a> <b><font color="#0000FF">@vindex</font></b> doc-view-cache-directory
<a name="line640"><font color="#000000">0640:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-clear-cache
<a name="line641"><font color="#000000">0641:</font></a>   For efficiency, DocView caches the images produced by <b><font color="#0000FF">@command</font></b><font color="#009900">{gs}</font>.
<a name="line642"><font color="#000000">0642:</font></a> The name of the directory where it caches images is given by the variable
<a name="line643"><font color="#000000">0643:</font></a> <i><font color="#9A1900">@code{doc-view-cache-directory}.  You can clear the cache directory by</font></i>
<a name="line644"><font color="#000000">0644:</font></a> typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x doc-view-clear-cache}</font>.
<a name="line645"><font color="#000000">0645:</font></a> 
<a name="line646"><font color="#000000">0646:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-kill-proc
<a name="line647"><font color="#000000">0647:</font></a> <b><font color="#0000FF">@findex</font></b> doc-view-kill-proc-and-buffer
<a name="line648"><font color="#000000">0648:</font></a>   To force reconversion of the currently viewed document, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{r}</font>
<a name="line649"><font color="#000000">0649:</font></a> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{revert-buffer}</font>).  To kill the converter process
<a name="line650"><font color="#000000">0650:</font></a> associated with the current buffer, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{K}</font>
<a name="line651"><font color="#000000">0651:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-kill-proc}</font>).  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{k}</font>
<a name="line652"><font color="#000000">0652:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{doc-view-kill-proc-and-buffer}</font>) kills the converter process and
<a name="line653"><font color="#000000">0653:</font></a> the DocView buffer.
<a name="line654"><font color="#000000">0654:</font></a> 
<a name="line655"><font color="#000000">0655:</font></a> <b><font color="#0000FF">@node</font></b> Shell
<a name="line656"><font color="#000000">0656:</font></a> <b><font color="#0000FF">@section</font></b> Running Shell Commands from Emacs
<a name="line657"><font color="#000000">0657:</font></a> <i><font color="#9A1900">@cindex subshell</font></i>
<a name="line658"><font color="#000000">0658:</font></a> <i><font color="#9A1900">@cindex shell commands</font></i>
<a name="line659"><font color="#000000">0659:</font></a> 
<a name="line660"><font color="#000000">0660:</font></a>   Emacs has commands for passing single command lines to shell
<a name="line661"><font color="#000000">0661:</font></a> subprocesses, and for running a shell interactively with input and
<a name="line662"><font color="#000000">0662:</font></a> output to an Emacs buffer, and for running a shell in a terminal
<a name="line663"><font color="#000000">0663:</font></a> emulator window.
<a name="line664"><font color="#000000">0664:</font></a> 
<a name="line665"><font color="#000000">0665:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line666"><font color="#000000">0666:</font></a> <b><font color="#0000FF">@item</font></b> M-! <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line667"><font color="#000000">0667:</font></a> Run the shell command <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> and display the output
<a name="line668"><font color="#000000">0668:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-command}</font>).
<a name="line669"><font color="#000000">0669:</font></a> <b><font color="#0000FF">@item</font></b> M-| <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line670"><font color="#000000">0670:</font></a> Run the shell command <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> with region contents as input;
<a name="line671"><font color="#000000">0671:</font></a> optionally replace the region with the output
<a name="line672"><font color="#000000">0672:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-command-on-region}</font>).
<a name="line673"><font color="#000000">0673:</font></a> <b><font color="#0000FF">@item</font></b> M-&amp; <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line674"><font color="#000000">0674:</font></a> Run the shell command <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> asynchronously, and display the output
<a name="line675"><font color="#000000">0675:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{async-shell-command}</font>).
<a name="line676"><font color="#000000">0676:</font></a> <b><font color="#0000FF">@item</font></b> M-x shell
<a name="line677"><font color="#000000">0677:</font></a> Run a subshell with input and output through an Emacs buffer.  You can
<a name="line678"><font color="#000000">0678:</font></a> then give commands interactively.
<a name="line679"><font color="#000000">0679:</font></a> <b><font color="#0000FF">@item</font></b> M-x term
<a name="line680"><font color="#000000">0680:</font></a> Run a subshell with input and output through an Emacs buffer.  You can
<a name="line681"><font color="#000000">0681:</font></a> then give commands interactively.  Full terminal emulation is
<a name="line682"><font color="#000000">0682:</font></a> available.
<a name="line683"><font color="#000000">0683:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line684"><font color="#000000">0684:</font></a> 
<a name="line685"><font color="#000000">0685:</font></a> <b><font color="#0000FF">@vindex</font></b> exec-path
<a name="line686"><font color="#000000">0686:</font></a>   Whenever you specify a relative file name for an executable program
<a name="line687"><font color="#000000">0687:</font></a> (either in the <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> argument to one of the above commands, or in
<a name="line688"><font color="#000000">0688:</font></a> other contexts), Emacs searches for the program in the directories
<a name="line689"><font color="#000000">0689:</font></a> specified by the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{exec-path}</font>.  The value of this
<a name="line690"><font color="#000000">0690:</font></a> variable must be a list of directories; the default value is
<a name="line691"><font color="#000000">0691:</font></a> initialized from the environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{PATH}</font> when Emacs is
<a name="line692"><font color="#000000">0692:</font></a> started (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">General Variables</font><font color="#FF0000">}</font>).
<a name="line693"><font color="#000000">0693:</font></a> 
<a name="line694"><font color="#000000">0694:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x eshell}</font> invokes a shell implemented entirely in Emacs.  It
<a name="line695"><font color="#000000">0695:</font></a> is documented in its own manual.
<a name="line696"><font color="#000000">0696:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line697"><font color="#000000">0697:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,Eshell,Eshell, eshell, Eshell: The Emacs Shell</font><font color="#FF0000">}</font>.
<a name="line698"><font color="#000000">0698:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line699"><font color="#000000">0699:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line700"><font color="#000000">0700:</font></a> See the Eshell Info manual, which is distributed with Emacs.
<a name="line701"><font color="#000000">0701:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line702"><font color="#000000">0702:</font></a> 
<a name="line703"><font color="#000000">0703:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line704"><font color="#000000">0704:</font></a> <font color="#FF0000">* Single Shell::</font>           How to run one shell command and return.
<a name="line705"><font color="#000000">0705:</font></a> <font color="#FF0000">* Interactive Shell::</font>      Permanent shell taking input via Emacs.
<a name="line706"><font color="#000000">0706:</font></a> <font color="#FF0000">* Shell Mode::</font>             Special Emacs commands used with permanent shell.
<a name="line707"><font color="#000000">0707:</font></a> <font color="#FF0000">* Shell Prompts::</font>          Two ways to recognize shell prompts.
<a name="line708"><font color="#000000">0708:</font></a> * History: Shell History.  Repeating previous commands in a shell buffer.
<a name="line709"><font color="#000000">0709:</font></a> <font color="#FF0000">* Directory Tracking::</font>     Keeping track when the subshell changes directory.
<a name="line710"><font color="#000000">0710:</font></a> * Options: Shell Options.  Options for customizing Shell mode.
<a name="line711"><font color="#000000">0711:</font></a> <font color="#FF0000">* Terminal emulator::</font>      An Emacs window as a terminal emulator.
<a name="line712"><font color="#000000">0712:</font></a> <font color="#FF0000">* Term Mode::</font>              Special Emacs commands used in Term mode.
<a name="line713"><font color="#000000">0713:</font></a> <font color="#FF0000">* Remote Host::</font>            Connecting to another computer.
<a name="line714"><font color="#000000">0714:</font></a> <font color="#FF0000">* Serial Terminal::</font>        Connecting to a serial port.
<a name="line715"><font color="#000000">0715:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line716"><font color="#000000">0716:</font></a> 
<a name="line717"><font color="#000000">0717:</font></a> <b><font color="#0000FF">@node</font></b> Single Shell
<a name="line718"><font color="#000000">0718:</font></a> <b><font color="#0000FF">@subsection</font></b> Single Shell Commands
<a name="line719"><font color="#000000">0719:</font></a> 
<a name="line720"><font color="#000000">0720:</font></a> <b><font color="#0000FF">@kindex</font></b> M-!
<a name="line721"><font color="#000000">0721:</font></a> <b><font color="#0000FF">@findex</font></b> shell-command
<a name="line722"><font color="#000000">0722:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-!}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-command}</font>) reads a line of text using the
<a name="line723"><font color="#000000">0723:</font></a> minibuffer and executes it as a shell command, in a subshell made just
<a name="line724"><font color="#000000">0724:</font></a> for that command.  Standard input for the command comes from the null
<a name="line725"><font color="#000000">0725:</font></a> device.  If the shell command produces any output, the output appears
<a name="line726"><font color="#000000">0726:</font></a> either in the echo area (if it is short), or in an Emacs buffer named
<a name="line727"><font color="#000000">0727:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*Shell Command Output*}</font>, displayed in another window (if the
<a name="line728"><font color="#000000">0728:</font></a> output is long).  The variables <b><font color="#0000FF">@code</font></b><font color="#009900">{resize-mini-windows}</font> and
<a name="line729"><font color="#000000">0729:</font></a> <i><font color="#9A1900">@code{max-mini-window-height} (@pxref{Minibuffer Edit}) control when</font></i>
<a name="line730"><font color="#000000">0730:</font></a> Emacs should consider the output to be too long for the echo area.
<a name="line731"><font color="#000000">0731:</font></a> 
<a name="line732"><font color="#000000">0732:</font></a>   For instance, one way to decompress a file named <b><font color="#0000FF">@file</font></b><font color="#009900">{foo.gz}</font> is to
<a name="line733"><font color="#000000">0733:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-! gunzip foo.gz @key{RET}}</font>.  That shell command normally
<a name="line734"><font color="#000000">0734:</font></a> creates the file <b><font color="#0000FF">@file</font></b><font color="#009900">{foo}</font> and produces no terminal output.
<a name="line735"><font color="#000000">0735:</font></a> 
<a name="line736"><font color="#000000">0736:</font></a>   A numeric argument to <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-command}</font>, e.g., <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-1 M-!}</font>,
<a name="line737"><font color="#000000">0737:</font></a> causes it to insert terminal output into the current buffer instead of
<a name="line738"><font color="#000000">0738:</font></a> a separate buffer.  It puts point before the output, and sets the mark
<a name="line739"><font color="#000000">0739:</font></a> after the output.  For instance, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-1 M-! gunzip &lt; foo.gz</font>
<a name="line740"><font color="#000000">0740:</font></a> <font color="#009900">@key{RET}}</font> would insert the uncompressed form of the file
<a name="line741"><font color="#000000">0741:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{foo.gz}</font> into the current buffer.
<a name="line742"><font color="#000000">0742:</font></a> 
<a name="line743"><font color="#000000">0743:</font></a>   Provided the specified shell command does not end with <b><font color="#0000FF">@samp</font></b><font color="#009900">{&amp;}</font>, it
<a name="line744"><font color="#000000">0744:</font></a> runs <b><font color="#0000FF">@dfn</font></b><font color="#009900">{synchronously}</font>, and you must wait for it to exit before
<a name="line745"><font color="#000000">0745:</font></a> continuing to use Emacs.  To stop waiting, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> to quit;
<a name="line746"><font color="#000000">0746:</font></a> this sends a <b><font color="#0000FF">@code</font></b><font color="#009900">{SIGINT}</font> signal to terminate the shell command (this
<a name="line747"><font color="#000000">0747:</font></a> is the same signal that <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> normally generates in the shell).
<a name="line748"><font color="#000000">0748:</font></a> Emacs then waits until the command actually terminates.  If the shell
<a name="line749"><font color="#000000">0749:</font></a> command doesn't stop (because it ignores the <b><font color="#0000FF">@code</font></b><font color="#009900">{SIGINT}</font> signal),
<a name="line750"><font color="#000000">0750:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> again; this sends the command a <b><font color="#0000FF">@code</font></b><font color="#009900">{SIGKILL}</font> signal,
<a name="line751"><font color="#000000">0751:</font></a> which is impossible to ignore.
<a name="line752"><font color="#000000">0752:</font></a> 
<a name="line753"><font color="#000000">0753:</font></a> <b><font color="#0000FF">@kindex</font></b> M-&amp;
<a name="line754"><font color="#000000">0754:</font></a> <b><font color="#0000FF">@findex</font></b> async-shell-command
<a name="line755"><font color="#000000">0755:</font></a>   A shell command that ends in <b><font color="#0000FF">@samp</font></b><font color="#009900">{&amp;}</font> is executed
<a name="line756"><font color="#000000">0756:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{asynchronously}</font>, and you can continue to use Emacs as it runs.
<a name="line757"><font color="#000000">0757:</font></a> You can also type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-&amp;}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{async-shell-command}</font>) to execute a
<a name="line758"><font color="#000000">0758:</font></a> shell command asynchronously; this is exactly like calling <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-!}</font>
<a name="line759"><font color="#000000">0759:</font></a> with a trailing <b><font color="#0000FF">@samp</font></b><font color="#009900">{&amp;}</font>, except that you do not need the <b><font color="#0000FF">@samp</font></b><font color="#009900">{&amp;}</font>.
<a name="line760"><font color="#000000">0760:</font></a> The default output buffer for asynchronous shell commands is named
<a name="line761"><font color="#000000">0761:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{*Async Shell Command*}</font>.  Emacs inserts the output into this
<a name="line762"><font color="#000000">0762:</font></a> buffer as it comes in, whether or not the buffer is visible in a
<a name="line763"><font color="#000000">0763:</font></a> window.
<a name="line764"><font color="#000000">0764:</font></a> 
<a name="line765"><font color="#000000">0765:</font></a> <b><font color="#0000FF">@vindex</font></b> async-shell-command-buffer
<a name="line766"><font color="#000000">0766:</font></a>   If you want to run more than one asynchronous shell command at the
<a name="line767"><font color="#000000">0767:</font></a> same time, they could end up competing for the output buffer.  The
<a name="line768"><font color="#000000">0768:</font></a> option <b><font color="#0000FF">@code</font></b><font color="#009900">{async-shell-command-buffer}</font> specifies what to do about
<a name="line769"><font color="#000000">0769:</font></a> this; e.g., whether to rename the pre-existing output buffer, or to
<a name="line770"><font color="#000000">0770:</font></a> use a different buffer for the new command.  Consult the variable's
<a name="line771"><font color="#000000">0771:</font></a> documentation for more possibilities.
<a name="line772"><font color="#000000">0772:</font></a> 
<a name="line773"><font color="#000000">0773:</font></a> <b><font color="#0000FF">@vindex</font></b> async-shell-command-display-buffer
<a name="line774"><font color="#000000">0774:</font></a>   If you want the output buffer for asynchronous shell commands to be
<a name="line775"><font color="#000000">0775:</font></a> displayed only when the command generates output, set
<a name="line776"><font color="#000000">0776:</font></a> <i><font color="#9A1900">@code{async-shell-command-display-buffer} to @code{nil}.</font></i>
<a name="line777"><font color="#000000">0777:</font></a> 
<a name="line778"><font color="#000000">0778:</font></a> <b><font color="#0000FF">@kindex</font></b> M-|
<a name="line779"><font color="#000000">0779:</font></a> <b><font color="#0000FF">@findex</font></b> shell-command-on-region
<a name="line780"><font color="#000000">0780:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-|}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-command-on-region}</font>) is like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-!}</font>, but
<a name="line781"><font color="#000000">0781:</font></a> passes the contents of the region as the standard input to the shell
<a name="line782"><font color="#000000">0782:</font></a> command, instead of no input.  With a numeric argument, it deletes the
<a name="line783"><font color="#000000">0783:</font></a> old region and replaces it with the output from the shell command.
<a name="line784"><font color="#000000">0784:</font></a> 
<a name="line785"><font color="#000000">0785:</font></a>   For example, you can use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-|}</font> with the <b><font color="#0000FF">@command</font></b><font color="#009900">{gpg}</font> program to
<a name="line786"><font color="#000000">0786:</font></a> see what keys are in the buffer.  If the buffer contains a GnuPG key,
<a name="line787"><font color="#000000">0787:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x h M-| gpg @key{RET}}</font> to feed the entire buffer contents
<a name="line788"><font color="#000000">0788:</font></a> to <b><font color="#0000FF">@command</font></b><font color="#009900">{gpg}</font>.  This will output the list of keys to the
<a name="line789"><font color="#000000">0789:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*Shell Command Output*}</font> buffer.
<a name="line790"><font color="#000000">0790:</font></a> 
<a name="line791"><font color="#000000">0791:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-file-name
<a name="line792"><font color="#000000">0792:</font></a>   The above commands use the shell specified by the variable
<a name="line793"><font color="#000000">0793:</font></a> <i><font color="#9A1900">@code{shell-file-name}.  Its default value is determined by the</font></i>
<a name="line794"><font color="#000000">0794:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{SHELL}</font> environment variable when Emacs is started.  If the file
<a name="line795"><font color="#000000">0795:</font></a> name is relative, Emacs searches the directories listed in
<a name="line796"><font color="#000000">0796:</font></a> <i><font color="#9A1900">@code{exec-path} (@pxref{Shell}).</font></i>
<a name="line797"><font color="#000000">0797:</font></a> 
<a name="line798"><font color="#000000">0798:</font></a>   To specify a coding system for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-!}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-|}</font>, use the command
<a name="line799"><font color="#000000">0799:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c}</font> immediately beforehand.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Communication Coding</font><font color="#FF0000">}</font>.
<a name="line800"><font color="#000000">0800:</font></a> 
<a name="line801"><font color="#000000">0801:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-command-default-error-buffer
<a name="line802"><font color="#000000">0802:</font></a>   By default, error output is intermixed with the regular output in
<a name="line803"><font color="#000000">0803:</font></a> the output buffer.  But if you change the value of the variable
<a name="line804"><font color="#000000">0804:</font></a> <i><font color="#9A1900">@code{shell-command-default-error-buffer} to a string, error output is</font></i>
<a name="line805"><font color="#000000">0805:</font></a> inserted into a buffer of that name.
<a name="line806"><font color="#000000">0806:</font></a> 
<a name="line807"><font color="#000000">0807:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-command-dont-erase-buffer
<a name="line808"><font color="#000000">0808:</font></a>   By default, the output buffer is erased between shell commands.
<a name="line809"><font color="#000000">0809:</font></a> If you change the value of the variable
<a name="line810"><font color="#000000">0810:</font></a> <i><font color="#9A1900">@code{shell-command-dont-erase-buffer} to a non-@code{nil} value,</font></i>
<a name="line811"><font color="#000000">0811:</font></a> the output buffer is not erased.  This variable also controls where to
<a name="line812"><font color="#000000">0812:</font></a> set the point in the output buffer after the command completes; see the
<a name="line813"><font color="#000000">0813:</font></a> documentation of the variable for details.
<a name="line814"><font color="#000000">0814:</font></a> 
<a name="line815"><font color="#000000">0815:</font></a> <b><font color="#0000FF">@node</font></b> Interactive Shell
<a name="line816"><font color="#000000">0816:</font></a> <b><font color="#0000FF">@subsection</font></b> Interactive Subshell
<a name="line817"><font color="#000000">0817:</font></a> 
<a name="line818"><font color="#000000">0818:</font></a> <b><font color="#0000FF">@findex</font></b> shell
<a name="line819"><font color="#000000">0819:</font></a>   To run a subshell interactively, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x shell}</font>.  This creates
<a name="line820"><font color="#000000">0820:</font></a> (or reuses) a buffer named <b><font color="#0000FF">@file</font></b><font color="#009900">{*shell*}</font>, and runs a shell subprocess
<a name="line821"><font color="#000000">0821:</font></a> with input coming from and output going to that buffer.  That is to
<a name="line822"><font color="#000000">0822:</font></a> say, any terminal output from the subshell goes into the buffer,
<a name="line823"><font color="#000000">0823:</font></a> advancing point, and any terminal input for the subshell comes from
<a name="line824"><font color="#000000">0824:</font></a> text in the buffer.  To give input to the subshell, go to the end of
<a name="line825"><font color="#000000">0825:</font></a> the buffer and type the input, terminated by <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>.
<a name="line826"><font color="#000000">0826:</font></a> 
<a name="line827"><font color="#000000">0827:</font></a>   By default, when the subshell is invoked interactively, the
<a name="line828"><font color="#000000">0828:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*shell*}</font> buffer is displayed in a new window, unless the current
<a name="line829"><font color="#000000">0829:</font></a> window already shows the <b><font color="#0000FF">@file</font></b><font color="#009900">{*shell*}</font> buffer.  This behavior can
<a name="line830"><font color="#000000">0830:</font></a> be customized via <b><font color="#0000FF">@code</font></b><font color="#009900">{display-buffer-alist}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Window Choice</font><font color="#FF0000">}</font>).
<a name="line831"><font color="#000000">0831:</font></a> 
<a name="line832"><font color="#000000">0832:</font></a>   While the subshell is waiting or running a command, you can switch
<a name="line833"><font color="#000000">0833:</font></a> windows or buffers and perform other editing in Emacs.  Emacs inserts
<a name="line834"><font color="#000000">0834:</font></a> the output from the subshell into the Shell buffer whenever it has
<a name="line835"><font color="#000000">0835:</font></a> time to process it (e.g., while waiting for keyboard input).
<a name="line836"><font color="#000000">0836:</font></a> 
<a name="line837"><font color="#000000">0837:</font></a> <i><font color="#9A1900">@cindex @code{comint-highlight-input} face</font></i>
<a name="line838"><font color="#000000">0838:</font></a> <i><font color="#9A1900">@cindex @code{comint-highlight-prompt} face</font></i>
<a name="line839"><font color="#000000">0839:</font></a>   In the Shell buffer, prompts are displayed with the face
<a name="line840"><font color="#000000">0840:</font></a> <i><font color="#9A1900">@code{comint-highlight-prompt}, and submitted input lines are</font></i>
<a name="line841"><font color="#000000">0841:</font></a> displayed with the face <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-highlight-input}</font>.  This makes it
<a name="line842"><font color="#000000">0842:</font></a> easier to distinguish input lines from the shell output.
<a name="line843"><font color="#000000">0843:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces</font><font color="#FF0000">}</font>.
<a name="line844"><font color="#000000">0844:</font></a> 
<a name="line845"><font color="#000000">0845:</font></a>   To make multiple subshells, invoke <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x shell}</font> with a prefix
<a name="line846"><font color="#000000">0846:</font></a> argument (e.g., <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u M-x shell}</font>).  Then the command will read a
<a name="line847"><font color="#000000">0847:</font></a> buffer name, and create (or reuse) a subshell in that buffer.  You can
<a name="line848"><font color="#000000">0848:</font></a> also rename the <b><font color="#0000FF">@file</font></b><font color="#009900">{*shell*}</font> buffer using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x rename-uniquely}</font>,
<a name="line849"><font color="#000000">0849:</font></a> then create a new <b><font color="#0000FF">@file</font></b><font color="#009900">{*shell*}</font> buffer using plain <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x shell}</font>.
<a name="line850"><font color="#000000">0850:</font></a> Subshells in different buffers run independently and in parallel.
<a name="line851"><font color="#000000">0851:</font></a> 
<a name="line852"><font color="#000000">0852:</font></a> <b><font color="#0000FF">@vindex</font></b> explicit-shell-file-name
<a name="line853"><font color="#000000">0853:</font></a> <i><font color="#9A1900">@cindex environment variables for subshells</font></i>
<a name="line854"><font color="#000000">0854:</font></a> <i><font color="#9A1900">@cindex @env{ESHELL} environment variable</font></i>
<a name="line855"><font color="#000000">0855:</font></a> <i><font color="#9A1900">@cindex @env{SHELL} environment variable</font></i>
<a name="line856"><font color="#000000">0856:</font></a>   To specify the shell file name used by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x shell}</font>, customize
<a name="line857"><font color="#000000">0857:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{explicit-shell-file-name}</font>.  If this is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>
<a name="line858"><font color="#000000">0858:</font></a> (the default), Emacs uses the environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{ESHELL}</font> if it
<a name="line859"><font color="#000000">0859:</font></a> exists.  Otherwise, it usually uses the variable
<a name="line860"><font color="#000000">0860:</font></a> <i><font color="#9A1900">@code{shell-file-name} (@pxref{Single Shell}); but if the default</font></i>
<a name="line861"><font color="#000000">0861:</font></a> directory is remote (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Remote Files</font><font color="#FF0000">}</font>), it prompts you for the
<a name="line862"><font color="#000000">0862:</font></a> shell file name.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minibuffer File</font><font color="#FF0000">}</font>, for hints how to type remote
<a name="line863"><font color="#000000">0863:</font></a> file names effectively.
<a name="line864"><font color="#000000">0864:</font></a> 
<a name="line865"><font color="#000000">0865:</font></a>   Emacs sends the new shell the contents of the file
<a name="line866"><font color="#000000">0866:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs_@var{shellname}}</font> as input, if it exists, where
<a name="line867"><font color="#000000">0867:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{shellname}</font> is the name of the file that the shell was loaded
<a name="line868"><font color="#000000">0868:</font></a> from.  For example, if you use bash, the file sent to it is
<a name="line869"><font color="#000000">0869:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs_bash}</font>.  If this file is not found, Emacs tries with
<a name="line870"><font color="#000000">0870:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/init_@var{shellname}.sh}</font>.
<a name="line871"><font color="#000000">0871:</font></a> 
<a name="line872"><font color="#000000">0872:</font></a>   To specify a coding system for the shell, you can use the command
<a name="line873"><font color="#000000">0873:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} c}</font> immediately before <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x shell}</font>.  You can
<a name="line874"><font color="#000000">0874:</font></a> also change the coding system for a running subshell by typing
<a name="line875"><font color="#000000">0875:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{RET} p}</font> in the shell buffer.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Communication</font>
<a name="line876"><font color="#000000">0876:</font></a> <font color="#FF0000">Coding</font><font color="#FF0000">}</font>.
<a name="line877"><font color="#000000">0877:</font></a> 
<a name="line878"><font color="#000000">0878:</font></a> <i><font color="#9A1900">@cindex @env{INSIDE_EMACS} environment variable</font></i>
<a name="line879"><font color="#000000">0879:</font></a>   Emacs sets the environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{INSIDE_EMACS}</font> in the
<a name="line880"><font color="#000000">0880:</font></a> subshell to <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{version},comint}</font>, where <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font> is the
<a name="line881"><font color="#000000">0881:</font></a> Emacs version (e.g., <b><font color="#0000FF">@samp</font></b><font color="#009900">{24.1}</font>).  Programs can check this variable
<a name="line882"><font color="#000000">0882:</font></a> to determine whether they are running inside an Emacs subshell.
<a name="line883"><font color="#000000">0883:</font></a> 
<a name="line884"><font color="#000000">0884:</font></a> <b><font color="#0000FF">@node</font></b> Shell Mode
<a name="line885"><font color="#000000">0885:</font></a> <b><font color="#0000FF">@subsection</font></b> Shell Mode
<a name="line886"><font color="#000000">0886:</font></a> <i><font color="#9A1900">@cindex Shell mode</font></i>
<a name="line887"><font color="#000000">0887:</font></a> <i><font color="#9A1900">@cindex mode, Shell</font></i>
<a name="line888"><font color="#000000">0888:</font></a> 
<a name="line889"><font color="#000000">0889:</font></a>   The major mode for Shell buffers is Shell mode.  Many of its special
<a name="line890"><font color="#000000">0890:</font></a> commands are bound to the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> prefix, and resemble the usual
<a name="line891"><font color="#000000">0891:</font></a> editing and job control characters present in ordinary shells, except
<a name="line892"><font color="#000000">0892:</font></a> that you must type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> first.  Here is a list of Shell mode
<a name="line893"><font color="#000000">0893:</font></a> commands:
<a name="line894"><font color="#000000">0894:</font></a> 
<a name="line895"><font color="#000000">0895:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line896"><font color="#000000">0896:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line897"><font color="#000000">0897:</font></a> <b><font color="#0000FF">@kindex</font></b> RET <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line898"><font color="#000000">0898:</font></a> <b><font color="#0000FF">@findex</font></b> comint-send-input
<a name="line899"><font color="#000000">0899:</font></a> Send the current line as input to the subshell
<a name="line900"><font color="#000000">0900:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-send-input}</font>).  Any shell prompt at the beginning of the
<a name="line901"><font color="#000000">0901:</font></a> line is omitted (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Shell Prompts</font><font color="#FF0000">}</font>).  If point is at the end of
<a name="line902"><font color="#000000">0902:</font></a> buffer, this is like submitting the command line in an ordinary
<a name="line903"><font color="#000000">0903:</font></a> interactive shell.  However, you can also invoke <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> elsewhere
<a name="line904"><font color="#000000">0904:</font></a> in the shell buffer to submit the current line as input.
<a name="line905"><font color="#000000">0905:</font></a> 
<a name="line906"><font color="#000000">0906:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line907"><font color="#000000">0907:</font></a> <b><font color="#0000FF">@kindex</font></b> TAB <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line908"><font color="#000000">0908:</font></a> <b><font color="#0000FF">@findex</font></b> completion-at-point<b><font color="#0000FF">@r</font></b><font color="#009900">{, in Shell Mode}</font>
<a name="line909"><font color="#000000">0909:</font></a> <i><font color="#9A1900">@cindex shell completion</font></i>
<a name="line910"><font color="#000000">0910:</font></a> Complete the command name or file name before point in the shell
<a name="line911"><font color="#000000">0911:</font></a> buffer (<b><font color="#0000FF">@code</font></b><font color="#009900">{completion-at-point}</font>).  This uses the usual Emacs
<a name="line912"><font color="#000000">0912:</font></a> completion rules (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Completion</font><font color="#FF0000">}</font>), with the completion
<a name="line913"><font color="#000000">0913:</font></a> alternatives being file names, environment variable names, the shell
<a name="line914"><font color="#000000">0914:</font></a> command history, and history references (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">History References</font><font color="#FF0000">}</font>).
<a name="line915"><font color="#000000">0915:</font></a> For options controlling the completion, <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Shell Options</font><font color="#FF0000">}</font>.
<a name="line916"><font color="#000000">0916:</font></a> 
<a name="line917"><font color="#000000">0917:</font></a> <b><font color="#0000FF">@item</font></b> M-?
<a name="line918"><font color="#000000">0918:</font></a> <b><font color="#0000FF">@kindex</font></b> M-? <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line919"><font color="#000000">0919:</font></a> <b><font color="#0000FF">@findex</font></b> comint-dynamic-list-filename<b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>
<a name="line920"><font color="#000000">0920:</font></a> Display temporarily a list of the possible completions of the file
<a name="line921"><font color="#000000">0921:</font></a> name before point (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-dynamic-list-filename-completions}</font>).
<a name="line922"><font color="#000000">0922:</font></a> 
<a name="line923"><font color="#000000">0923:</font></a> <b><font color="#0000FF">@item</font></b> C-d
<a name="line924"><font color="#000000">0924:</font></a> <b><font color="#0000FF">@kindex</font></b> C-d <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line925"><font color="#000000">0925:</font></a> <b><font color="#0000FF">@findex</font></b> comint-delchar-or-maybe-eof
<a name="line926"><font color="#000000">0926:</font></a> Either delete a character or send <b><font color="#0000FF">@acronym</font></b><font color="#009900">{EOF}</font>
<a name="line927"><font color="#000000">0927:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-delchar-or-maybe-eof}</font>).  Typed at the end of the shell
<a name="line928"><font color="#000000">0928:</font></a> buffer, this sends <b><font color="#0000FF">@acronym</font></b><font color="#009900">{EOF}</font> to the subshell.  Typed at any other
<a name="line929"><font color="#000000">0929:</font></a> position in the buffer, this deletes a character as usual.
<a name="line930"><font color="#000000">0930:</font></a> 
<a name="line931"><font color="#000000">0931:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-a
<a name="line932"><font color="#000000">0932:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-a <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line933"><font color="#000000">0933:</font></a> <b><font color="#0000FF">@findex</font></b> comint-bol-or-process-mark
<a name="line934"><font color="#000000">0934:</font></a> Move to the beginning of the line, but after the prompt if any
<a name="line935"><font color="#000000">0935:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-bol-or-process-mark}</font>).  If you repeat this command twice
<a name="line936"><font color="#000000">0936:</font></a> in a row, the second time it moves back to the process mark, which is
<a name="line937"><font color="#000000">0937:</font></a> the beginning of the input that you have not yet sent to the subshell.
<a name="line938"><font color="#000000">0938:</font></a> (Normally that is the same place---the end of the prompt on this
<a name="line939"><font color="#000000">0939:</font></a> line---but after <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c @key{SPC}}</font> the process mark may be in a
<a name="line940"><font color="#000000">0940:</font></a> previous line.)
<a name="line941"><font color="#000000">0941:</font></a> 
<a name="line942"><font color="#000000">0942:</font></a> <b><font color="#0000FF">@item</font></b> C-c <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>
<a name="line943"><font color="#000000">0943:</font></a> Accumulate multiple lines of input, then send them together
<a name="line944"><font color="#000000">0944:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-accumulate}</font>).  This command inserts a newline before
<a name="line945"><font color="#000000">0945:</font></a> point, but does not send the preceding text as input to the
<a name="line946"><font color="#000000">0946:</font></a> subshell---at least, not yet.  Both lines, the one before this newline
<a name="line947"><font color="#000000">0947:</font></a> and the one after, will be sent together (along with the newline that
<a name="line948"><font color="#000000">0948:</font></a> separates them), when you type <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>.
<a name="line949"><font color="#000000">0949:</font></a> 
<a name="line950"><font color="#000000">0950:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-u
<a name="line951"><font color="#000000">0951:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-u <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line952"><font color="#000000">0952:</font></a> <b><font color="#0000FF">@findex</font></b> comint-kill-input
<a name="line953"><font color="#000000">0953:</font></a> Kill all text pending at end of buffer to be sent as input
<a name="line954"><font color="#000000">0954:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-kill-input}</font>).  If point is not at end of buffer,
<a name="line955"><font color="#000000">0955:</font></a> this only kills the part of this text that precedes point.
<a name="line956"><font color="#000000">0956:</font></a> 
<a name="line957"><font color="#000000">0957:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-w
<a name="line958"><font color="#000000">0958:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line959"><font color="#000000">0959:</font></a> Kill a word before point (<b><font color="#0000FF">@code</font></b><font color="#009900">{backward-kill-word}</font>).
<a name="line960"><font color="#000000">0960:</font></a> 
<a name="line961"><font color="#000000">0961:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-c
<a name="line962"><font color="#000000">0962:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-c <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line963"><font color="#000000">0963:</font></a> <b><font color="#0000FF">@findex</font></b> comint-interrupt-subjob
<a name="line964"><font color="#000000">0964:</font></a> Interrupt the shell or its current subjob if any
<a name="line965"><font color="#000000">0965:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-interrupt-subjob}</font>).  This command also kills
<a name="line966"><font color="#000000">0966:</font></a> any shell input pending in the shell buffer and not yet sent.
<a name="line967"><font color="#000000">0967:</font></a> 
<a name="line968"><font color="#000000">0968:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-z
<a name="line969"><font color="#000000">0969:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-z <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line970"><font color="#000000">0970:</font></a> <b><font color="#0000FF">@findex</font></b> comint-stop-subjob
<a name="line971"><font color="#000000">0971:</font></a> Stop the shell or its current subjob if any (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-stop-subjob}</font>).
<a name="line972"><font color="#000000">0972:</font></a> This command also kills any shell input pending in the shell buffer and
<a name="line973"><font color="#000000">0973:</font></a> not yet sent.
<a name="line974"><font color="#000000">0974:</font></a> 
<a name="line975"><font color="#000000">0975:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-\
<a name="line976"><font color="#000000">0976:</font></a> <b><font color="#0000FF">@findex</font></b> comint-quit-subjob
<a name="line977"><font color="#000000">0977:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-\ <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line978"><font color="#000000">0978:</font></a> Send quit signal to the shell or its current subjob if any
<a name="line979"><font color="#000000">0979:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-quit-subjob}</font>).  This command also kills any shell input
<a name="line980"><font color="#000000">0980:</font></a> pending in the shell buffer and not yet sent.
<a name="line981"><font color="#000000">0981:</font></a> 
<a name="line982"><font color="#000000">0982:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-o
<a name="line983"><font color="#000000">0983:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-o <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line984"><font color="#000000">0984:</font></a> <b><font color="#0000FF">@findex</font></b> comint-delete-output
<a name="line985"><font color="#000000">0985:</font></a> Delete the last batch of output from a shell command
<a name="line986"><font color="#000000">0986:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-delete-output}</font>).  This is useful if a shell command spews
<a name="line987"><font color="#000000">0987:</font></a> out lots of output that just gets in the way.
<a name="line988"><font color="#000000">0988:</font></a> 
<a name="line989"><font color="#000000">0989:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-s
<a name="line990"><font color="#000000">0990:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line991"><font color="#000000">0991:</font></a> <b><font color="#0000FF">@findex</font></b> comint-write-output
<a name="line992"><font color="#000000">0992:</font></a> Write the last batch of output from a shell command to a file
<a name="line993"><font color="#000000">0993:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-write-output}</font>).  With a prefix argument, the file is
<a name="line994"><font color="#000000">0994:</font></a> appended to instead.  Any prompt at the end of the output is not
<a name="line995"><font color="#000000">0995:</font></a> written.
<a name="line996"><font color="#000000">0996:</font></a> 
<a name="line997"><font color="#000000">0997:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-r
<a name="line998"><font color="#000000">0998:</font></a> <b><font color="#0000FF">@itemx</font></b> C-M-l
<a name="line999"><font color="#000000">0999:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1000"><font color="#000000">1000:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-l <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1001"><font color="#000000">1001:</font></a> <b><font color="#0000FF">@findex</font></b> comint-show-output
<a name="line1002"><font color="#000000">1002:</font></a> Scroll to display the beginning of the last batch of output at the top
<a name="line1003"><font color="#000000">1003:</font></a> of the window; also move the cursor there (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-show-output}</font>).
<a name="line1004"><font color="#000000">1004:</font></a> 
<a name="line1005"><font color="#000000">1005:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-e
<a name="line1006"><font color="#000000">1006:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-e <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1007"><font color="#000000">1007:</font></a> <b><font color="#0000FF">@findex</font></b> comint-show-maximum-output
<a name="line1008"><font color="#000000">1008:</font></a> Scroll to put the last line of the buffer at the bottom of the window
<a name="line1009"><font color="#000000">1009:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-show-maximum-output}</font>).
<a name="line1010"><font color="#000000">1010:</font></a> 
<a name="line1011"><font color="#000000">1011:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-f
<a name="line1012"><font color="#000000">1012:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1013"><font color="#000000">1013:</font></a> <b><font color="#0000FF">@findex</font></b> shell-forward-command
<a name="line1014"><font color="#000000">1014:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-command-regexp
<a name="line1015"><font color="#000000">1015:</font></a> Move forward across one shell command, but not beyond the current line
<a name="line1016"><font color="#000000">1016:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-forward-command}</font>).  The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-command-regexp}</font>
<a name="line1017"><font color="#000000">1017:</font></a> specifies how to recognize the end of a command.
<a name="line1018"><font color="#000000">1018:</font></a> 
<a name="line1019"><font color="#000000">1019:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-b
<a name="line1020"><font color="#000000">1020:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-b <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1021"><font color="#000000">1021:</font></a> <b><font color="#0000FF">@findex</font></b> shell-backward-command
<a name="line1022"><font color="#000000">1022:</font></a> Move backward across one shell command, but not beyond the current line
<a name="line1023"><font color="#000000">1023:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-backward-command}</font>).
<a name="line1024"><font color="#000000">1024:</font></a> 
<a name="line1025"><font color="#000000">1025:</font></a> <b><font color="#0000FF">@item</font></b> M-x dirs
<a name="line1026"><font color="#000000">1026:</font></a> Ask the shell for its working directory, and update the Shell buffer's
<a name="line1027"><font color="#000000">1027:</font></a> default directory.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Directory Tracking</font><font color="#FF0000">}</font>.
<a name="line1028"><font color="#000000">1028:</font></a> 
<a name="line1029"><font color="#000000">1029:</font></a> <b><font color="#0000FF">@item</font></b> M-x comint-send-invisible <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{text}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1030"><font color="#000000">1030:</font></a> <b><font color="#0000FF">@findex</font></b> comint-send-invisible
<a name="line1031"><font color="#000000">1031:</font></a> Send <b><font color="#0000FF">@var</font></b><font color="#009900">{text}</font> as input to the shell, after reading it without
<a name="line1032"><font color="#000000">1032:</font></a> echoing.  This is useful when a shell command runs a program that asks
<a name="line1033"><font color="#000000">1033:</font></a> for a password.
<a name="line1034"><font color="#000000">1034:</font></a> 
<a name="line1035"><font color="#000000">1035:</font></a> Please note that Emacs will not echo passwords by default.  If you
<a name="line1036"><font color="#000000">1036:</font></a> really want them to be echoed, evaluate (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lisp Eval</font><font color="#FF0000">}</font>) the
<a name="line1037"><font color="#000000">1037:</font></a> following Lisp expression:
<a name="line1038"><font color="#000000">1038:</font></a> 
<a name="line1039"><font color="#000000">1039:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1040"><font color="#000000">1040:</font></a> (remove-hook 'comint-output-filter-functions
<a name="line1041"><font color="#000000">1041:</font></a>              'comint-watch-for-password-prompt)
<a name="line1042"><font color="#000000">1042:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1043"><font color="#000000">1043:</font></a> 
<a name="line1044"><font color="#000000">1044:</font></a> <b><font color="#0000FF">@item</font></b> M-x comint-continue-subjob
<a name="line1045"><font color="#000000">1045:</font></a> <b><font color="#0000FF">@findex</font></b> comint-continue-subjob
<a name="line1046"><font color="#000000">1046:</font></a> Continue the shell process.  This is useful if you accidentally suspend
<a name="line1047"><font color="#000000">1047:</font></a> the shell process.<b><font color="#0000FF">@footnote</font></b><font color="#009900">{You should not suspend the shell process.</font>
<a name="line1048"><font color="#000000">1048:</font></a> <font color="#009900">Suspending a subjob of the shell is a completely different matter---that</font>
<a name="line1049"><font color="#000000">1049:</font></a> <font color="#009900">is normal practice, but you must use the shell to continue the subjob;</font>
<a name="line1050"><font color="#000000">1050:</font></a> <font color="#009900">this command won't do it.}</font>
<a name="line1051"><font color="#000000">1051:</font></a> 
<a name="line1052"><font color="#000000">1052:</font></a> <b><font color="#0000FF">@item</font></b> M-x comint-strip-ctrl-m
<a name="line1053"><font color="#000000">1053:</font></a> <b><font color="#0000FF">@findex</font></b> comint-strip-ctrl-m
<a name="line1054"><font color="#000000">1054:</font></a> Discard all control-M characters from the current group of shell output.
<a name="line1055"><font color="#000000">1055:</font></a> The most convenient way to use this command is to make it run
<a name="line1056"><font color="#000000">1056:</font></a> automatically when you get output from the subshell.  To do that,
<a name="line1057"><font color="#000000">1057:</font></a> evaluate this Lisp expression:
<a name="line1058"><font color="#000000">1058:</font></a> 
<a name="line1059"><font color="#000000">1059:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1060"><font color="#000000">1060:</font></a> (add-hook 'comint-output-filter-functions
<a name="line1061"><font color="#000000">1061:</font></a>           'comint-strip-ctrl-m)
<a name="line1062"><font color="#000000">1062:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1063"><font color="#000000">1063:</font></a> 
<a name="line1064"><font color="#000000">1064:</font></a> <b><font color="#0000FF">@item</font></b> M-x comint-truncate-buffer
<a name="line1065"><font color="#000000">1065:</font></a> <b><font color="#0000FF">@findex</font></b> comint-truncate-buffer
<a name="line1066"><font color="#000000">1066:</font></a> This command truncates the shell buffer to a certain maximum number of
<a name="line1067"><font color="#000000">1067:</font></a> lines, specified by the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-buffer-maximum-size}</font>.
<a name="line1068"><font color="#000000">1068:</font></a> Here's how to do this automatically each time you get output from the
<a name="line1069"><font color="#000000">1069:</font></a> subshell:
<a name="line1070"><font color="#000000">1070:</font></a> 
<a name="line1071"><font color="#000000">1071:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1072"><font color="#000000">1072:</font></a> (add-hook 'comint-output-filter-functions
<a name="line1073"><font color="#000000">1073:</font></a>           'comint-truncate-buffer)
<a name="line1074"><font color="#000000">1074:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1075"><font color="#000000">1075:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1076"><font color="#000000">1076:</font></a> 
<a name="line1077"><font color="#000000">1077:</font></a> <i><font color="#9A1900">@cindex Comint mode</font></i>
<a name="line1078"><font color="#000000">1078:</font></a> <i><font color="#9A1900">@cindex mode, Comint</font></i>
<a name="line1079"><font color="#000000">1079:</font></a>   Shell mode is a derivative of Comint mode, a general-purpose mode for
<a name="line1080"><font color="#000000">1080:</font></a> communicating with interactive subprocesses.  Most of the features of
<a name="line1081"><font color="#000000">1081:</font></a> Shell mode actually come from Comint mode, as you can see from the
<a name="line1082"><font color="#000000">1082:</font></a> command names listed above.  The special features of Shell mode include
<a name="line1083"><font color="#000000">1083:</font></a> the directory tracking feature, and a few user commands.
<a name="line1084"><font color="#000000">1084:</font></a> 
<a name="line1085"><font color="#000000">1085:</font></a>   Other Emacs features that use variants of Comint mode include GUD
<a name="line1086"><font color="#000000">1086:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Debuggers</font><font color="#FF0000">}</font>) and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x run-lisp}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">External Lisp</font><font color="#FF0000">}</font>).
<a name="line1087"><font color="#000000">1087:</font></a> 
<a name="line1088"><font color="#000000">1088:</font></a> <b><font color="#0000FF">@findex</font></b> comint-run
<a name="line1089"><font color="#000000">1089:</font></a>   You can use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x comint-run}</font> to execute any program of your choice
<a name="line1090"><font color="#000000">1090:</font></a> in a subprocess using unmodified Comint mode---without the
<a name="line1091"><font color="#000000">1091:</font></a> specializations of Shell mode.
<a name="line1092"><font color="#000000">1092:</font></a> 
<a name="line1093"><font color="#000000">1093:</font></a> <b><font color="#0000FF">@node</font></b> Shell Prompts
<a name="line1094"><font color="#000000">1094:</font></a> <b><font color="#0000FF">@subsection</font></b> Shell Prompts
<a name="line1095"><font color="#000000">1095:</font></a> 
<a name="line1096"><font color="#000000">1096:</font></a> <i><font color="#9A1900">@cindex prompt, shell</font></i>
<a name="line1097"><font color="#000000">1097:</font></a>   A prompt is text output by a program to show that it is ready to
<a name="line1098"><font color="#000000">1098:</font></a> accept new user input.  Normally, Comint mode (and thus Shell mode)
<a name="line1099"><font color="#000000">1099:</font></a> automatically figures out which part of the buffer is a prompt, based
<a name="line1100"><font color="#000000">1100:</font></a> on the output of the subprocess.  (Specifically, it assumes that any
<a name="line1101"><font color="#000000">1101:</font></a> received output line which doesn't end with a newline is a prompt.)
<a name="line1102"><font color="#000000">1102:</font></a> 
<a name="line1103"><font color="#000000">1103:</font></a>   Comint mode divides the buffer into two types of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{fields}</font>: input
<a name="line1104"><font color="#000000">1104:</font></a> fields (where user input is typed) and output fields (everywhere
<a name="line1105"><font color="#000000">1105:</font></a> else).  Prompts are part of the output fields.  Most Emacs motion
<a name="line1106"><font color="#000000">1106:</font></a> commands do not cross field boundaries, unless they move over multiple
<a name="line1107"><font color="#000000">1107:</font></a> lines.  For instance, when point is in the input field on a shell
<a name="line1108"><font color="#000000">1108:</font></a> command line, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-a}</font> puts point at the beginning of the input
<a name="line1109"><font color="#000000">1109:</font></a> field, after the prompt.  Internally, the fields are implemented using
<a name="line1110"><font color="#000000">1110:</font></a> the <b><font color="#0000FF">@code</font></b><font color="#009900">{field}</font> text property (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text Properties,,, elisp, the</font>
<a name="line1111"><font color="#000000">1111:</font></a> <font color="#FF0000">Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>).
<a name="line1112"><font color="#000000">1112:</font></a> 
<a name="line1113"><font color="#000000">1113:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-use-prompt-regexp
<a name="line1114"><font color="#000000">1114:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-prompt-pattern
<a name="line1115"><font color="#000000">1115:</font></a>   If you change the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-use-prompt-regexp}</font> to a
<a name="line1116"><font color="#000000">1116:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value, then Comint mode will recognize prompts using a
<a name="line1117"><font color="#000000">1117:</font></a> regular expression (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexps</font><font color="#FF0000">}</font>).  In Shell mode, the regular
<a name="line1118"><font color="#000000">1118:</font></a> expression is specified by the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-prompt-pattern}</font>.
<a name="line1119"><font color="#000000">1119:</font></a> The default value of <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-use-prompt-regexp}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line1120"><font color="#000000">1120:</font></a> because this method for recognizing prompts is unreliable, but you may
<a name="line1121"><font color="#000000">1121:</font></a> want to set it to a non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value in unusual circumstances.  In
<a name="line1122"><font color="#000000">1122:</font></a> that case, Emacs does not divide the Comint buffer into fields, so the
<a name="line1123"><font color="#000000">1123:</font></a> general motion commands behave as they normally do in buffers without
<a name="line1124"><font color="#000000">1124:</font></a> special text properties.  However, you can use the paragraph motion
<a name="line1125"><font color="#000000">1125:</font></a> commands to conveniently navigate the buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Paragraphs</font><font color="#FF0000">}</font>); in
<a name="line1126"><font color="#000000">1126:</font></a> Shell mode, Emacs uses <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-prompt-pattern}</font> as paragraph
<a name="line1127"><font color="#000000">1127:</font></a> boundaries.
<a name="line1128"><font color="#000000">1128:</font></a> 
<a name="line1129"><font color="#000000">1129:</font></a> <b><font color="#0000FF">@node</font></b> Shell History
<a name="line1130"><font color="#000000">1130:</font></a> <b><font color="#0000FF">@subsection</font></b> Shell Command History
<a name="line1131"><font color="#000000">1131:</font></a> 
<a name="line1132"><font color="#000000">1132:</font></a>   Shell buffers support three ways of repeating earlier commands.  You
<a name="line1133"><font color="#000000">1133:</font></a> can use keys like those used for the minibuffer history; these work
<a name="line1134"><font color="#000000">1134:</font></a> much as they do in the minibuffer, inserting text from prior commands
<a name="line1135"><font color="#000000">1135:</font></a> while point remains always at the end of the buffer.  You can move
<a name="line1136"><font color="#000000">1136:</font></a> through the buffer to previous inputs in their original place, then
<a name="line1137"><font color="#000000">1137:</font></a> resubmit them or copy them to the end.  Or you can use a
<a name="line1138"><font color="#000000">1138:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font>-style history reference.
<a name="line1139"><font color="#000000">1139:</font></a> 
<a name="line1140"><font color="#000000">1140:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1141"><font color="#000000">1141:</font></a> * Ring: Shell Ring.             Fetching commands from the history list.
<a name="line1142"><font color="#000000">1142:</font></a> * Copy: Shell History Copying.  Moving to a command and then copying it.
<a name="line1143"><font color="#000000">1143:</font></a> <font color="#FF0000">* History References::</font>          Expanding <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font>-style history references.
<a name="line1144"><font color="#000000">1144:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1145"><font color="#000000">1145:</font></a> 
<a name="line1146"><font color="#000000">1146:</font></a> <b><font color="#0000FF">@node</font></b> Shell Ring
<a name="line1147"><font color="#000000">1147:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Shell History Ring
<a name="line1148"><font color="#000000">1148:</font></a> 
<a name="line1149"><font color="#000000">1149:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1150"><font color="#000000">1150:</font></a> <b><font color="#0000FF">@findex</font></b> comint-previous-input
<a name="line1151"><font color="#000000">1151:</font></a> <b><font color="#0000FF">@kindex</font></b> M-p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1152"><font color="#000000">1152:</font></a> <b><font color="#0000FF">@item</font></b> M-p
<a name="line1153"><font color="#000000">1153:</font></a> <b><font color="#0000FF">@itemx</font></b> C-<b><font color="#0000FF">@key</font></b><font color="#009900">{UP}</font>
<a name="line1154"><font color="#000000">1154:</font></a> Fetch the next earlier old shell command
<a name="line1155"><font color="#000000">1155:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-previous-input}</font>).
<a name="line1156"><font color="#000000">1156:</font></a> 
<a name="line1157"><font color="#000000">1157:</font></a> <b><font color="#0000FF">@kindex</font></b> M-n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1158"><font color="#000000">1158:</font></a> <b><font color="#0000FF">@findex</font></b> comint-next-input
<a name="line1159"><font color="#000000">1159:</font></a> <b><font color="#0000FF">@item</font></b> M-n
<a name="line1160"><font color="#000000">1160:</font></a> <b><font color="#0000FF">@itemx</font></b> C-<b><font color="#0000FF">@key</font></b><font color="#009900">{DOWN}</font>
<a name="line1161"><font color="#000000">1161:</font></a> Fetch the next later old shell command (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-next-input}</font>).
<a name="line1162"><font color="#000000">1162:</font></a> 
<a name="line1163"><font color="#000000">1163:</font></a> <b><font color="#0000FF">@kindex</font></b> M-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1164"><font color="#000000">1164:</font></a> <b><font color="#0000FF">@findex</font></b> comint-history-isearch-backward-regexp
<a name="line1165"><font color="#000000">1165:</font></a> <b><font color="#0000FF">@item</font></b> M-r
<a name="line1166"><font color="#000000">1166:</font></a> Begin an incremental regexp search of old shell commands
<a name="line1167"><font color="#000000">1167:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-history-isearch-backward-regexp}</font>).
<a name="line1168"><font color="#000000">1168:</font></a> 
<a name="line1169"><font color="#000000">1169:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-x
<a name="line1170"><font color="#000000">1170:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-x <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1171"><font color="#000000">1171:</font></a> <b><font color="#0000FF">@findex</font></b> comint-get-next-from-history
<a name="line1172"><font color="#000000">1172:</font></a> Fetch the next subsequent command from the history
<a name="line1173"><font color="#000000">1173:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-get-next-from-history}</font>).
<a name="line1174"><font color="#000000">1174:</font></a> 
<a name="line1175"><font color="#000000">1175:</font></a> <b><font color="#0000FF">@item</font></b> C-c .
<a name="line1176"><font color="#000000">1176:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c . <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1177"><font color="#000000">1177:</font></a> <b><font color="#0000FF">@findex</font></b> comint-insert-previous-argument
<a name="line1178"><font color="#000000">1178:</font></a> Fetch one argument from an old shell command
<a name="line1179"><font color="#000000">1179:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-input-previous-argument}</font>).
<a name="line1180"><font color="#000000">1180:</font></a> 
<a name="line1181"><font color="#000000">1181:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-l
<a name="line1182"><font color="#000000">1182:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-l <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1183"><font color="#000000">1183:</font></a> <b><font color="#0000FF">@findex</font></b> comint-dynamic-list-input-ring
<a name="line1184"><font color="#000000">1184:</font></a> Display the buffer's history of shell commands in another window
<a name="line1185"><font color="#000000">1185:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-dynamic-list-input-ring}</font>).
<a name="line1186"><font color="#000000">1186:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1187"><font color="#000000">1187:</font></a> 
<a name="line1188"><font color="#000000">1188:</font></a>   Shell buffers provide a history of previously entered shell
<a name="line1189"><font color="#000000">1189:</font></a> commands.  To reuse shell commands from the history, use the editing
<a name="line1190"><font color="#000000">1190:</font></a> commands <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font>, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font>.  These work
<a name="line1191"><font color="#000000">1191:</font></a> similar to the minibuffer history commands (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minibuffer</font>
<a name="line1192"><font color="#000000">1192:</font></a> <font color="#FF0000">History</font><font color="#FF0000">}</font>), except that they operate within the Shell buffer rather
<a name="line1193"><font color="#000000">1193:</font></a> than the minibuffer, and <b><font color="#0000FF">@code</font></b><font color="#009900">{M-r}</font> in a Shell buffer invokes
<a name="line1194"><font color="#000000">1194:</font></a> incremental search through shell command history.
<a name="line1195"><font color="#000000">1195:</font></a> 
<a name="line1196"><font color="#000000">1196:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font> fetches an earlier shell command to the end of the shell
<a name="line1197"><font color="#000000">1197:</font></a> buffer.  Successive use of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font> fetches successively earlier
<a name="line1198"><font color="#000000">1198:</font></a> shell commands, each replacing any text that was already present as
<a name="line1199"><font color="#000000">1199:</font></a> potential shell input.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font> does likewise except that it finds
<a name="line1200"><font color="#000000">1200:</font></a> successively more recent shell commands from the buffer.
<a name="line1201"><font color="#000000">1201:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@key{UP}}</font> works like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font>, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@key{DOWN}}</font> like
<a name="line1202"><font color="#000000">1202:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font>.
<a name="line1203"><font color="#000000">1203:</font></a> 
<a name="line1204"><font color="#000000">1204:</font></a>   The history search command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font> begins an incremental regular
<a name="line1205"><font color="#000000">1205:</font></a> expression search of previous shell commands.  After typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font>,
<a name="line1206"><font color="#000000">1206:</font></a> start typing the desired string or regular expression; the last
<a name="line1207"><font color="#000000">1207:</font></a> matching shell command will be displayed in the current line.
<a name="line1208"><font color="#000000">1208:</font></a> Incremental search commands have their usual effects---for instance,
<a name="line1209"><font color="#000000">1209:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> search forward and backward for the next match
<a name="line1210"><font color="#000000">1210:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Incremental Search</font><font color="#FF0000">}</font>).  When you find the desired input, type
<a name="line1211"><font color="#000000">1211:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> to terminate the search.  This puts the input in the command
<a name="line1212"><font color="#000000">1212:</font></a> line.  Any partial input you were composing before navigating the
<a name="line1213"><font color="#000000">1213:</font></a> history list is restored when you go to the beginning or end of the
<a name="line1214"><font color="#000000">1214:</font></a> history ring.
<a name="line1215"><font color="#000000">1215:</font></a> 
<a name="line1216"><font color="#000000">1216:</font></a>   Often it is useful to reexecute several successive shell commands that
<a name="line1217"><font color="#000000">1217:</font></a> were previously executed in sequence.  To do this, first find and
<a name="line1218"><font color="#000000">1218:</font></a> reexecute the first command of the sequence.  Then type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-x}</font>;
<a name="line1219"><font color="#000000">1219:</font></a> that will fetch the following command---the one that follows the command
<a name="line1220"><font color="#000000">1220:</font></a> you just repeated.  Then type <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> to reexecute this command.  You
<a name="line1221"><font color="#000000">1221:</font></a> can reexecute several successive commands by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-x</font>
<a name="line1222"><font color="#000000">1222:</font></a> <font color="#009900">@key{RET}}</font> over and over.
<a name="line1223"><font color="#000000">1223:</font></a> 
<a name="line1224"><font color="#000000">1224:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c .}</font><b><font color="#0000FF">@:</font></b> (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-insert-previous-argument}</font>)
<a name="line1225"><font color="#000000">1225:</font></a> copies an individual argument from a previous command, like
<a name="line1226"><font color="#000000">1226:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{ESC} .}</font><b><font color="#0000FF">@:</font></b> in Bash and <b><font color="#0000FF">@command</font></b><font color="#009900">{zsh}</font>.  The simplest use
<a name="line1227"><font color="#000000">1227:</font></a> copies the last argument from the previous shell command.  With a
<a name="line1228"><font color="#000000">1228:</font></a> prefix argument <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>, it copies the <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>th argument instead.
<a name="line1229"><font color="#000000">1229:</font></a> Repeating <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c .}</font> copies from an earlier shell commands, always
<a name="line1230"><font color="#000000">1230:</font></a> using the same value of <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>  (don't give a prefix argument when
<a name="line1231"><font color="#000000">1231:</font></a> you repeat the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c .}</font> command).
<a name="line1232"><font color="#000000">1232:</font></a> 
<a name="line1233"><font color="#000000">1233:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-insert-previous-argument-from-end
<a name="line1234"><font color="#000000">1234:</font></a>   If you set <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-insert-previous-argument-from-end}</font> to a
<a name="line1235"><font color="#000000">1235:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c .}</font><b><font color="#0000FF">@:</font></b> will instead copy the <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>th
<a name="line1236"><font color="#000000">1236:</font></a> argument counting from the last one; this emulates <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{ESC} .}</font><b><font color="#0000FF">@:</font></b>
<a name="line1237"><font color="#000000">1237:</font></a> in <b><font color="#0000FF">@command</font></b><font color="#009900">{zsh}</font>.
<a name="line1238"><font color="#000000">1238:</font></a> 
<a name="line1239"><font color="#000000">1239:</font></a>   These commands get the text of previous shell commands from a special
<a name="line1240"><font color="#000000">1240:</font></a> history list, not from the shell buffer itself.  Thus, editing the shell
<a name="line1241"><font color="#000000">1241:</font></a> buffer, or even killing large parts of it, does not affect the history
<a name="line1242"><font color="#000000">1242:</font></a> that these commands access.
<a name="line1243"><font color="#000000">1243:</font></a> 
<a name="line1244"><font color="#000000">1244:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-input-ring-file-name
<a name="line1245"><font color="#000000">1245:</font></a>   Some shells store their command histories in files so that you can
<a name="line1246"><font color="#000000">1246:</font></a> refer to commands from previous shell sessions.  Emacs reads
<a name="line1247"><font color="#000000">1247:</font></a> the command history file for your chosen shell, to initialize its own
<a name="line1248"><font color="#000000">1248:</font></a> command history.  The file name is <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.bash_history}</font> for bash,
<a name="line1249"><font color="#000000">1249:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.sh_history}</font> for ksh, and <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.history}</font> for other shells.
<a name="line1250"><font color="#000000">1250:</font></a> 
<a name="line1251"><font color="#000000">1251:</font></a> <b><font color="#0000FF">@node</font></b> Shell History Copying
<a name="line1252"><font color="#000000">1252:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Shell History Copying
<a name="line1253"><font color="#000000">1253:</font></a> 
<a name="line1254"><font color="#000000">1254:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1255"><font color="#000000">1255:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1256"><font color="#000000">1256:</font></a> <b><font color="#0000FF">@findex</font></b> comint-previous-prompt
<a name="line1257"><font color="#000000">1257:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-p
<a name="line1258"><font color="#000000">1258:</font></a> Move point to the previous prompt (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-previous-prompt}</font>).
<a name="line1259"><font color="#000000">1259:</font></a> 
<a name="line1260"><font color="#000000">1260:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1261"><font color="#000000">1261:</font></a> <b><font color="#0000FF">@findex</font></b> comint-next-prompt
<a name="line1262"><font color="#000000">1262:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-n
<a name="line1263"><font color="#000000">1263:</font></a> Move point to the following prompt (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-next-prompt}</font>).
<a name="line1264"><font color="#000000">1264:</font></a> 
<a name="line1265"><font color="#000000">1265:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c RET <b><font color="#0000FF">@r</font></b><font color="#009900">{(Shell mode)}</font>
<a name="line1266"><font color="#000000">1266:</font></a> <b><font color="#0000FF">@findex</font></b> comint-copy-old-input
<a name="line1267"><font color="#000000">1267:</font></a> <b><font color="#0000FF">@item</font></b> C-c <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1268"><font color="#000000">1268:</font></a> Copy the input command at point, inserting the copy at the end of the
<a name="line1269"><font color="#000000">1269:</font></a> buffer (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-copy-old-input}</font>).  This is useful if you move
<a name="line1270"><font color="#000000">1270:</font></a> point back to a previous command.  After you copy the command, you can
<a name="line1271"><font color="#000000">1271:</font></a> submit the copy as input with <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>.  If you wish, you can edit
<a name="line1272"><font color="#000000">1272:</font></a> the copy before resubmitting it.  If you use this command on an output
<a name="line1273"><font color="#000000">1273:</font></a> line, it copies that line to the end of the buffer.
<a name="line1274"><font color="#000000">1274:</font></a> 
<a name="line1275"><font color="#000000">1275:</font></a> <b><font color="#0000FF">@item</font></b> mouse-2
<a name="line1276"><font color="#000000">1276:</font></a> If <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-use-prompt-regexp}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> (the default), copy
<a name="line1277"><font color="#000000">1277:</font></a> the old input command that you click on, inserting the copy at the end
<a name="line1278"><font color="#000000">1278:</font></a> of the buffer (<b><font color="#0000FF">@code</font></b><font color="#009900">{comint-insert-input}</font>).  If
<a name="line1279"><font color="#000000">1279:</font></a> <i><font color="#9A1900">@code{comint-use-prompt-regexp} is non-@code{nil}, or if the click is</font></i>
<a name="line1280"><font color="#000000">1280:</font></a> not over old input, just yank as usual.
<a name="line1281"><font color="#000000">1281:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1282"><font color="#000000">1282:</font></a> 
<a name="line1283"><font color="#000000">1283:</font></a>   Moving to a previous input and then copying it with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c</font>
<a name="line1284"><font color="#000000">1284:</font></a> <font color="#009900">@key{RET}}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font> produces the same results---the same
<a name="line1285"><font color="#000000">1285:</font></a> buffer contents---that you would get by using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font> enough times
<a name="line1286"><font color="#000000">1286:</font></a> to fetch that previous input from the history list.  However, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c</font>
<a name="line1287"><font color="#000000">1287:</font></a> <font color="#009900">@key{RET}}</font> copies the text from the buffer, which can be different
<a name="line1288"><font color="#000000">1288:</font></a> from what is in the history list if you edit the input text in the
<a name="line1289"><font color="#000000">1289:</font></a> buffer after it has been sent.
<a name="line1290"><font color="#000000">1290:</font></a> 
<a name="line1291"><font color="#000000">1291:</font></a> <b><font color="#0000FF">@node</font></b> History References
<a name="line1292"><font color="#000000">1292:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Shell History References
<a name="line1293"><font color="#000000">1293:</font></a> <i><font color="#9A1900">@cindex history reference</font></i>
<a name="line1294"><font color="#000000">1294:</font></a> 
<a name="line1295"><font color="#000000">1295:</font></a>   Various shells, including csh and bash, support <b><font color="#0000FF">@dfn</font></b><font color="#009900">{history</font>
<a name="line1296"><font color="#000000">1296:</font></a> <font color="#009900">references}</font> that begin with <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{^}</font>.  Shell mode
<a name="line1297"><font color="#000000">1297:</font></a> recognizes these constructs, and can perform the history substitution
<a name="line1298"><font color="#000000">1298:</font></a> for you.
<a name="line1299"><font color="#000000">1299:</font></a> 
<a name="line1300"><font color="#000000">1300:</font></a>   If you insert a history reference and type <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>, this searches
<a name="line1301"><font color="#000000">1301:</font></a> the input history for a matching command, performs substitution if
<a name="line1302"><font color="#000000">1302:</font></a> necessary, and places the result in the buffer in place of the history
<a name="line1303"><font color="#000000">1303:</font></a> reference.  For example, you can fetch the most recent command
<a name="line1304"><font color="#000000">1304:</font></a> beginning with <b><font color="#0000FF">@samp</font></b><font color="#009900">{mv}</font> with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{! m v @key{TAB}}</font>.  You can edit the
<a name="line1305"><font color="#000000">1305:</font></a> command if you wish, and then resubmit the command to the shell by
<a name="line1306"><font color="#000000">1306:</font></a> typing <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>.
<a name="line1307"><font color="#000000">1307:</font></a> 
<a name="line1308"><font color="#000000">1308:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-input-autoexpand
<a name="line1309"><font color="#000000">1309:</font></a> <b><font color="#0000FF">@findex</font></b> comint-magic-space
<a name="line1310"><font color="#000000">1310:</font></a>   Shell mode can optionally expand history references in the buffer
<a name="line1311"><font color="#000000">1311:</font></a> when you send them to the shell.  To request this, set the variable
<a name="line1312"><font color="#000000">1312:</font></a> <i><font color="#9A1900">@code{comint-input-autoexpand} to @code{input}.  You can make</font></i>
<a name="line1313"><font color="#000000">1313:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font> perform history expansion by binding <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font> to the
<a name="line1314"><font color="#000000">1314:</font></a> command <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-magic-space}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Rebinding</font><font color="#FF0000">}</font>.
<a name="line1315"><font color="#000000">1315:</font></a> 
<a name="line1316"><font color="#000000">1316:</font></a>   Shell mode recognizes history references when they follow a prompt.
<a name="line1317"><font color="#000000">1317:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Shell Prompts</font><font color="#FF0000">}</font>, for how Shell mode recognizes prompts.
<a name="line1318"><font color="#000000">1318:</font></a> 
<a name="line1319"><font color="#000000">1319:</font></a> <b><font color="#0000FF">@node</font></b> Directory Tracking
<a name="line1320"><font color="#000000">1320:</font></a> <b><font color="#0000FF">@subsection</font></b> Directory Tracking
<a name="line1321"><font color="#000000">1321:</font></a> <i><font color="#9A1900">@cindex directory tracking</font></i>
<a name="line1322"><font color="#000000">1322:</font></a> 
<a name="line1323"><font color="#000000">1323:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-pushd-regexp
<a name="line1324"><font color="#000000">1324:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-popd-regexp
<a name="line1325"><font color="#000000">1325:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-cd-regexp
<a name="line1326"><font color="#000000">1326:</font></a>   Shell mode keeps track of <b><font color="#0000FF">@samp</font></b><font color="#009900">{cd}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{pushd}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{popd}</font>
<a name="line1327"><font color="#000000">1327:</font></a> commands given to the subshell, in order to keep the Shell buffer's
<a name="line1328"><font color="#000000">1328:</font></a> default directory (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">File Names</font><font color="#FF0000">}</font>) the same as the shell's working
<a name="line1329"><font color="#000000">1329:</font></a> directory.  It recognizes these commands by examining lines of input
<a name="line1330"><font color="#000000">1330:</font></a> that you send.
<a name="line1331"><font color="#000000">1331:</font></a> 
<a name="line1332"><font color="#000000">1332:</font></a>   If you use aliases for these commands, you can tell Emacs to
<a name="line1333"><font color="#000000">1333:</font></a> recognize them also, by setting the variables
<a name="line1334"><font color="#000000">1334:</font></a> <i><font color="#9A1900">@code{shell-pushd-regexp}, @code{shell-popd-regexp}, and</font></i>
<a name="line1335"><font color="#000000">1335:</font></a> <i><font color="#9A1900">@code{shell-cd-regexp} to the appropriate regular expressions</font></i>
<a name="line1336"><font color="#000000">1336:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexps</font><font color="#FF0000">}</font>).  For example, if <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-pushd-regexp}</font> matches
<a name="line1337"><font color="#000000">1337:</font></a> the beginning of a shell command line, that line is regarded as a
<a name="line1338"><font color="#000000">1338:</font></a> <i><font color="#9A1900">@code{pushd} command.  These commands are recognized only at the</font></i>
<a name="line1339"><font color="#000000">1339:</font></a> beginning of a shell command line.
<a name="line1340"><font color="#000000">1340:</font></a> 
<a name="line1341"><font color="#000000">1341:</font></a> <b><font color="#0000FF">@findex</font></b> dirs
<a name="line1342"><font color="#000000">1342:</font></a>   If Emacs gets confused about changes in the working directory of the
<a name="line1343"><font color="#000000">1343:</font></a> subshell, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x dirs}</font>.  This command asks the shell for its
<a name="line1344"><font color="#000000">1344:</font></a> working directory and updates the default directory accordingly.  It
<a name="line1345"><font color="#000000">1345:</font></a> works for shells that support the most common command syntax, but may
<a name="line1346"><font color="#000000">1346:</font></a> not work for unusual shells.
<a name="line1347"><font color="#000000">1347:</font></a> 
<a name="line1348"><font color="#000000">1348:</font></a> <b><font color="#0000FF">@findex</font></b> dirtrack-mode
<a name="line1349"><font color="#000000">1349:</font></a> <i><font color="#9A1900">@cindex Dirtrack mode</font></i>
<a name="line1350"><font color="#000000">1350:</font></a> <i><font color="#9A1900">@cindex mode, Dirtrack</font></i>
<a name="line1351"><font color="#000000">1351:</font></a> <b><font color="#0000FF">@vindex</font></b> dirtrack-list
<a name="line1352"><font color="#000000">1352:</font></a>   You can also use Dirtrack mode, a buffer-local minor mode that
<a name="line1353"><font color="#000000">1353:</font></a> implements an alternative method of tracking the shell's working
<a name="line1354"><font color="#000000">1354:</font></a> directory.  To use this method, your shell prompt must contain the
<a name="line1355"><font color="#000000">1355:</font></a> working directory at all times, and you must supply a regular
<a name="line1356"><font color="#000000">1356:</font></a> expression for recognizing which part of the prompt contains the
<a name="line1357"><font color="#000000">1357:</font></a> working directory; see the documentation of the variable
<a name="line1358"><font color="#000000">1358:</font></a> <i><font color="#9A1900">@code{dirtrack-list} for details.  To use Dirtrack mode, type @kbd{M-x</font></i>
<a name="line1359"><font color="#000000">1359:</font></a> dirtrack-mode} in the Shell buffer, or add <b><font color="#0000FF">@code</font></b><font color="#009900">{dirtrack-mode}</font> to
<a name="line1360"><font color="#000000">1360:</font></a> <i><font color="#9A1900">@code{shell-mode-hook} (@pxref{Hooks}).</font></i>
<a name="line1361"><font color="#000000">1361:</font></a> 
<a name="line1362"><font color="#000000">1362:</font></a> <b><font color="#0000FF">@node</font></b> Shell Options
<a name="line1363"><font color="#000000">1363:</font></a> <b><font color="#0000FF">@subsection</font></b> Shell Mode Options
<a name="line1364"><font color="#000000">1364:</font></a> 
<a name="line1365"><font color="#000000">1365:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-scroll-to-bottom-on-input
<a name="line1366"><font color="#000000">1366:</font></a>   If the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-scroll-to-bottom-on-input}</font> is
<a name="line1367"><font color="#000000">1367:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, insertion and yank commands scroll the selected window
<a name="line1368"><font color="#000000">1368:</font></a> to the bottom before inserting.  The default is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line1369"><font color="#000000">1369:</font></a> 
<a name="line1370"><font color="#000000">1370:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-scroll-show-maximum-output
<a name="line1371"><font color="#000000">1371:</font></a>   If <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-scroll-show-maximum-output}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, then
<a name="line1372"><font color="#000000">1372:</font></a> arrival of output when point is at the end tries to scroll the last
<a name="line1373"><font color="#000000">1373:</font></a> line of text to the bottom line of the window, showing as much useful
<a name="line1374"><font color="#000000">1374:</font></a> text as possible.  (This mimics the scrolling behavior of most
<a name="line1375"><font color="#000000">1375:</font></a> terminals.)  The default is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>.
<a name="line1376"><font color="#000000">1376:</font></a> 
<a name="line1377"><font color="#000000">1377:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-move-point-for-output
<a name="line1378"><font color="#000000">1378:</font></a>   By setting <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-move-point-for-output}</font>, you can opt for
<a name="line1379"><font color="#000000">1379:</font></a> having point jump to the end of the buffer whenever output arrives---no
<a name="line1380"><font color="#000000">1380:</font></a> matter where in the buffer point was before.  If the value is
<a name="line1381"><font color="#000000">1381:</font></a> <i><font color="#9A1900">@code{this}, point jumps in the selected window.  If the value is</font></i>
<a name="line1382"><font color="#000000">1382:</font></a> <i><font color="#9A1900">@code{all}, point jumps in each window that shows the Comint buffer.  If</font></i>
<a name="line1383"><font color="#000000">1383:</font></a> the value is <b><font color="#0000FF">@code</font></b><font color="#009900">{other}</font>, point jumps in all nonselected windows that
<a name="line1384"><font color="#000000">1384:</font></a> show the current buffer.  The default value is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, which means
<a name="line1385"><font color="#000000">1385:</font></a> point does not jump to the end.
<a name="line1386"><font color="#000000">1386:</font></a> 
<a name="line1387"><font color="#000000">1387:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-prompt-read-only
<a name="line1388"><font color="#000000">1388:</font></a>   If you set <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-prompt-read-only}</font>, the prompts in the Comint
<a name="line1389"><font color="#000000">1389:</font></a> buffer are read-only.
<a name="line1390"><font color="#000000">1390:</font></a> 
<a name="line1391"><font color="#000000">1391:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-input-ignoredups
<a name="line1392"><font color="#000000">1392:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-input-ignoredups}</font> controls whether successive
<a name="line1393"><font color="#000000">1393:</font></a> identical inputs are stored in the input history.  A non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>
<a name="line1394"><font color="#000000">1394:</font></a> value means to omit an input that is the same as the previous input.
<a name="line1395"><font color="#000000">1395:</font></a> The default is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, which means to store each input even if it is
<a name="line1396"><font color="#000000">1396:</font></a> equal to the previous input.
<a name="line1397"><font color="#000000">1397:</font></a> 
<a name="line1398"><font color="#000000">1398:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-completion-addsuffix
<a name="line1399"><font color="#000000">1399:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-completion-recexact
<a name="line1400"><font color="#000000">1400:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-completion-autolist
<a name="line1401"><font color="#000000">1401:</font></a>   Three variables customize file name completion.  The variable
<a name="line1402"><font color="#000000">1402:</font></a> <i><font color="#9A1900">@code{comint-completion-addsuffix} controls whether completion inserts a</font></i>
<a name="line1403"><font color="#000000">1403:</font></a> space or a slash to indicate a fully completed file or directory name
<a name="line1404"><font color="#000000">1404:</font></a> (non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> means do insert a space or slash).
<a name="line1405"><font color="#000000">1405:</font></a> <i><font color="#9A1900">@code{comint-completion-recexact}, if non-@code{nil}, directs @key{TAB}</font></i>
<a name="line1406"><font color="#000000">1406:</font></a> to choose the shortest possible completion if the usual Emacs completion
<a name="line1407"><font color="#000000">1407:</font></a> algorithm cannot add even a single character.
<a name="line1408"><font color="#000000">1408:</font></a> <i><font color="#9A1900">@code{comint-completion-autolist}, if non-@code{nil}, says to list all</font></i>
<a name="line1409"><font color="#000000">1409:</font></a> the possible completions whenever completion is not exact.
<a name="line1410"><font color="#000000">1410:</font></a> 
<a name="line1411"><font color="#000000">1411:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-completion-execonly
<a name="line1412"><font color="#000000">1412:</font></a>   Command completion normally considers only executable files.
<a name="line1413"><font color="#000000">1413:</font></a> If you set <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-completion-execonly}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line1414"><font color="#000000">1414:</font></a> it considers nonexecutable files as well.
<a name="line1415"><font color="#000000">1415:</font></a> 
<a name="line1416"><font color="#000000">1416:</font></a> <b><font color="#0000FF">@vindex</font></b> shell-completion-fignore
<a name="line1417"><font color="#000000">1417:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-completion-fignore
<a name="line1418"><font color="#000000">1418:</font></a> The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-completion-fignore}</font> specifies a list of file
<a name="line1419"><font color="#000000">1419:</font></a> name extensions to ignore in Shell mode completion.  The default
<a name="line1420"><font color="#000000">1420:</font></a> setting is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, but some users prefer <b><font color="#0000FF">@code</font></b><font color="#009900">{("~" "#" "%")}</font> to
<a name="line1421"><font color="#000000">1421:</font></a> ignore file names ending in <b><font color="#0000FF">@samp</font></b><font color="#009900">{~}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{#}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{%}</font>.  Other
<a name="line1422"><font color="#000000">1422:</font></a> related Comint modes use the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{comint-completion-fignore}</font>
<a name="line1423"><font color="#000000">1423:</font></a> instead.
<a name="line1424"><font color="#000000">1424:</font></a> 
<a name="line1425"><font color="#000000">1425:</font></a> <b><font color="#0000FF">@findex</font></b> shell-dynamic-complete-command
<a name="line1426"><font color="#000000">1426:</font></a> Some implementation details of the shell command completion may also be found
<a name="line1427"><font color="#000000">1427:</font></a> in the lisp documentation of the <b><font color="#0000FF">@code</font></b><font color="#009900">{shell-dynamic-complete-command}</font>
<a name="line1428"><font color="#000000">1428:</font></a> function.
<a name="line1429"><font color="#000000">1429:</font></a> 
<a name="line1430"><font color="#000000">1430:</font></a> <b><font color="#0000FF">@findex</font></b> shell-pushd-tohome
<a name="line1431"><font color="#000000">1431:</font></a> <b><font color="#0000FF">@findex</font></b> shell-pushd-dextract
<a name="line1432"><font color="#000000">1432:</font></a> <b><font color="#0000FF">@findex</font></b> shell-pushd-dunique
<a name="line1433"><font color="#000000">1433:</font></a>   You can configure the behavior of <b><font color="#0000FF">@samp</font></b><font color="#009900">{pushd}</font>.  Variables control
<a name="line1434"><font color="#000000">1434:</font></a> whether <b><font color="#0000FF">@samp</font></b><font color="#009900">{pushd}</font> behaves like <b><font color="#0000FF">@samp</font></b><font color="#009900">{cd}</font> if no argument is given
<a name="line1435"><font color="#000000">1435:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-pushd-tohome}</font>), pop rather than rotate with a numeric
<a name="line1436"><font color="#000000">1436:</font></a> argument (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-pushd-dextract}</font>), and only add directories to the
<a name="line1437"><font color="#000000">1437:</font></a> directory stack if they are not already on it
<a name="line1438"><font color="#000000">1438:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{shell-pushd-dunique}</font>).  The values you choose should match the
<a name="line1439"><font color="#000000">1439:</font></a> underlying shell, of course.
<a name="line1440"><font color="#000000">1440:</font></a> 
<a name="line1441"><font color="#000000">1441:</font></a> <b><font color="#0000FF">@vindex</font></b> comint-terminfo-terminal
<a name="line1442"><font color="#000000">1442:</font></a> <b><font color="#0000FF">@vindex</font></b> TERM<b><font color="#0000FF">@r</font></b><font color="#009900">{, environment variable, in sub-shell}</font>
<a name="line1443"><font color="#000000">1443:</font></a> Comint mode sets the <b><font color="#0000FF">@env</font></b><font color="#009900">{TERM}</font> environment variable to a safe default
<a name="line1444"><font color="#000000">1444:</font></a> value, but this value disables some useful features.  For example,
<a name="line1445"><font color="#000000">1445:</font></a> color is disabled in applications that use <b><font color="#0000FF">@env</font></b><font color="#009900">{TERM}</font> to determine if
<a name="line1446"><font color="#000000">1446:</font></a> color is supported.  Therefore, Emacs provides an option
<a name="line1447"><font color="#000000">1447:</font></a> <i><font color="#9A1900">@code{comint-terminfo-terminal}, which you can set to a terminal that</font></i>
<a name="line1448"><font color="#000000">1448:</font></a> is present in your system's terminfo database, in order to take
<a name="line1449"><font color="#000000">1449:</font></a> advantage of advanced features of that terminal.
<a name="line1450"><font color="#000000">1450:</font></a> 
<a name="line1451"><font color="#000000">1451:</font></a> <b><font color="#0000FF">@node</font></b> Terminal emulator
<a name="line1452"><font color="#000000">1452:</font></a> <b><font color="#0000FF">@subsection</font></b> Emacs Terminal Emulator
<a name="line1453"><font color="#000000">1453:</font></a> <b><font color="#0000FF">@findex</font></b> term
<a name="line1454"><font color="#000000">1454:</font></a> 
<a name="line1455"><font color="#000000">1455:</font></a>   To run a subshell in a text terminal emulator, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x term}</font>.
<a name="line1456"><font color="#000000">1456:</font></a> This creates (or reuses) a buffer named <b><font color="#0000FF">@file</font></b><font color="#009900">{*terminal*}</font>, and runs a
<a name="line1457"><font color="#000000">1457:</font></a> subshell with input coming from your keyboard, and output going to
<a name="line1458"><font color="#000000">1458:</font></a> that buffer.
<a name="line1459"><font color="#000000">1459:</font></a> 
<a name="line1460"><font color="#000000">1460:</font></a> <i><font color="#9A1900">@cindex line mode @r{(terminal emulator)}</font></i>
<a name="line1461"><font color="#000000">1461:</font></a> <i><font color="#9A1900">@cindex char mode @r{(terminal emulator)}</font></i>
<a name="line1462"><font color="#000000">1462:</font></a>   The terminal emulator uses Term mode, which has two input modes.  In
<a name="line1463"><font color="#000000">1463:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{line mode}</font>, Term basically acts like Shell mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Shell</font>
<a name="line1464"><font color="#000000">1464:</font></a> <font color="#FF0000">Mode</font><font color="#FF0000">}</font>).  In <b><font color="#0000FF">@dfn</font></b><font color="#009900">{char mode}</font>, each character is sent directly to the
<a name="line1465"><font color="#000000">1465:</font></a> subshell, as terminal input; the sole exception is the terminal escape
<a name="line1466"><font color="#000000">1466:</font></a> character, which by default is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Term Mode</font><font color="#FF0000">}</font>).  Any
<a name="line1467"><font color="#000000">1467:</font></a> echoing of your input is the responsibility of the subshell; any
<a name="line1468"><font color="#000000">1468:</font></a> terminal output from the subshell goes into the buffer, advancing
<a name="line1469"><font color="#000000">1469:</font></a> point.
<a name="line1470"><font color="#000000">1470:</font></a> 
<a name="line1471"><font color="#000000">1471:</font></a>   Some programs (such as Emacs itself) need to control the appearance
<a name="line1472"><font color="#000000">1472:</font></a> of the terminal screen in detail.  They do this by emitting special
<a name="line1473"><font color="#000000">1473:</font></a> control codes.  Term mode recognizes and handles ANSI-standard
<a name="line1474"><font color="#000000">1474:</font></a> VT100-style escape sequences, which are accepted by most modern
<a name="line1475"><font color="#000000">1475:</font></a> terminals, including <b><font color="#0000FF">@command</font></b><font color="#009900">{xterm}</font>.  (Hence, you can actually run
<a name="line1476"><font color="#000000">1476:</font></a> Emacs inside an Emacs Term window.)
<a name="line1477"><font color="#000000">1477:</font></a> 
<a name="line1478"><font color="#000000">1478:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{term}</font> face specifies the default appearance of text
<a name="line1479"><font color="#000000">1479:</font></a> in the terminal emulator (the default is the same appearance as the
<a name="line1480"><font color="#000000">1480:</font></a> <i><font color="#9A1900">@code{default} face).  When terminal control codes are used to change</font></i>
<a name="line1481"><font color="#000000">1481:</font></a> the appearance of text, these are represented in the terminal emulator
<a name="line1482"><font color="#000000">1482:</font></a> by the faces <b><font color="#0000FF">@code</font></b><font color="#009900">{term-color-black}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{term-color-red}</font>,
<a name="line1483"><font color="#000000">1483:</font></a> <i><font color="#9A1900">@code{term-color-green}, @code{term-color-yellow}</font></i>
<a name="line1484"><font color="#000000">1484:</font></a> <i><font color="#9A1900">@code{term-color-blue}, @code{term-color-magenta},</font></i>
<a name="line1485"><font color="#000000">1485:</font></a> <i><font color="#9A1900">@code{term-color-cyan}, @code{term-color-white},</font></i>
<a name="line1486"><font color="#000000">1486:</font></a> <i><font color="#9A1900">@code{term-color-underline}, and @code{term-color-bold}.</font></i>
<a name="line1487"><font color="#000000">1487:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces</font><font color="#FF0000">}</font>.
<a name="line1488"><font color="#000000">1488:</font></a> 
<a name="line1489"><font color="#000000">1489:</font></a>   You can also use Term mode to communicate with a device connected to
<a name="line1490"><font color="#000000">1490:</font></a> a serial port.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Serial Terminal</font><font color="#FF0000">}</font>.
<a name="line1491"><font color="#000000">1491:</font></a> 
<a name="line1492"><font color="#000000">1492:</font></a>   The file name used to load the subshell is determined the same way
<a name="line1493"><font color="#000000">1493:</font></a> as for Shell mode.  To make multiple terminal emulators, rename the
<a name="line1494"><font color="#000000">1494:</font></a> buffer <b><font color="#0000FF">@file</font></b><font color="#009900">{*terminal*}</font> to something different using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line1495"><font color="#000000">1495:</font></a> <font color="#009900">rename-uniquely}</font>, just as with Shell mode.
<a name="line1496"><font color="#000000">1496:</font></a> 
<a name="line1497"><font color="#000000">1497:</font></a>   Unlike Shell mode, Term mode does not track the current directory by
<a name="line1498"><font color="#000000">1498:</font></a> examining your input.  But some shells can tell Term what the current
<a name="line1499"><font color="#000000">1499:</font></a> directory is.  This is done automatically by <b><font color="#0000FF">@code</font></b><font color="#009900">{bash}</font> version 1.15
<a name="line1500"><font color="#000000">1500:</font></a> and later.
<a name="line1501"><font color="#000000">1501:</font></a> 
<a name="line1502"><font color="#000000">1502:</font></a> <b><font color="#0000FF">@node</font></b> Term Mode
<a name="line1503"><font color="#000000">1503:</font></a> <b><font color="#0000FF">@subsection</font></b> Term Mode
<a name="line1504"><font color="#000000">1504:</font></a> <i><font color="#9A1900">@cindex Term mode</font></i>
<a name="line1505"><font color="#000000">1505:</font></a> <i><font color="#9A1900">@cindex mode, Term</font></i>
<a name="line1506"><font color="#000000">1506:</font></a> 
<a name="line1507"><font color="#000000">1507:</font></a>   To switch between line and char mode in Term mode, use these
<a name="line1508"><font color="#000000">1508:</font></a> commands:
<a name="line1509"><font color="#000000">1509:</font></a> 
<a name="line1510"><font color="#000000">1510:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1511"><font color="#000000">1511:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-j <b><font color="#0000FF">@r</font></b><font color="#009900">{(Term mode)}</font>
<a name="line1512"><font color="#000000">1512:</font></a> <b><font color="#0000FF">@findex</font></b> term-line-mode
<a name="line1513"><font color="#000000">1513:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-j
<a name="line1514"><font color="#000000">1514:</font></a> Switch to line mode (<b><font color="#0000FF">@code</font></b><font color="#009900">{term-line-mode}</font>).  Do nothing if already in
<a name="line1515"><font color="#000000">1515:</font></a> line mode.
<a name="line1516"><font color="#000000">1516:</font></a> 
<a name="line1517"><font color="#000000">1517:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-k <b><font color="#0000FF">@r</font></b><font color="#009900">{(Term mode)}</font>
<a name="line1518"><font color="#000000">1518:</font></a> <b><font color="#0000FF">@findex</font></b> term-char-mode
<a name="line1519"><font color="#000000">1519:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-k
<a name="line1520"><font color="#000000">1520:</font></a> Switch to char mode (<b><font color="#0000FF">@code</font></b><font color="#009900">{term-char-mode}</font>).  Do nothing if already in
<a name="line1521"><font color="#000000">1521:</font></a> char mode.
<a name="line1522"><font color="#000000">1522:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1523"><font color="#000000">1523:</font></a> 
<a name="line1524"><font color="#000000">1524:</font></a>   The following commands are only available in char mode:
<a name="line1525"><font color="#000000">1525:</font></a> 
<a name="line1526"><font color="#000000">1526:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1527"><font color="#000000">1527:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-c
<a name="line1528"><font color="#000000">1528:</font></a> Send a literal <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> to the sub-shell
<a name="line1529"><font color="#000000">1529:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{term-interrupt-subjob}</font>).
<a name="line1530"><font color="#000000">1530:</font></a> 
<a name="line1531"><font color="#000000">1531:</font></a> <b><font color="#0000FF">@item</font></b> C-c <b><font color="#0000FF">@var</font></b><font color="#009900">{char}</font>
<a name="line1532"><font color="#000000">1532:</font></a> This is equivalent to <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @var{char}}</font> in normal Emacs.  For
<a name="line1533"><font color="#000000">1533:</font></a> example, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c o}</font> invokes the global binding of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x o}</font>, which
<a name="line1534"><font color="#000000">1534:</font></a> is normally <b><font color="#0000FF">@samp</font></b><font color="#009900">{other-window}</font>.
<a name="line1535"><font color="#000000">1535:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1536"><font color="#000000">1536:</font></a> 
<a name="line1537"><font color="#000000">1537:</font></a> <i><font color="#9A1900">@cindex paging in Term mode</font></i>
<a name="line1538"><font color="#000000">1538:</font></a>   Term mode has a page-at-a-time feature.  When enabled, it makes
<a name="line1539"><font color="#000000">1539:</font></a> output pause at the end of each screenful:
<a name="line1540"><font color="#000000">1540:</font></a> 
<a name="line1541"><font color="#000000">1541:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1542"><font color="#000000">1542:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-q <b><font color="#0000FF">@r</font></b><font color="#009900">{(Term mode)}</font>
<a name="line1543"><font color="#000000">1543:</font></a> <b><font color="#0000FF">@findex</font></b> term-pager-toggle
<a name="line1544"><font color="#000000">1544:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-q
<a name="line1545"><font color="#000000">1545:</font></a> Toggle the page-at-a-time feature (<b><font color="#0000FF">@code</font></b><font color="#009900">{term-pager-toggle}</font>).  This
<a name="line1546"><font color="#000000">1546:</font></a> command works in both line and char modes.  When the feature is
<a name="line1547"><font color="#000000">1547:</font></a> enabled, the mode-line displays the word <b><font color="#0000FF">@samp</font></b><font color="#009900">{page}</font>, and each time
<a name="line1548"><font color="#000000">1548:</font></a> Term receives more than a screenful of output, it pauses and displays
<a name="line1549"><font color="#000000">1549:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{**MORE**}</font> in the mode-line.  Type <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font> to display the next
<a name="line1550"><font color="#000000">1550:</font></a> screenful of output, or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{?}</font> to see your other options.  The
<a name="line1551"><font color="#000000">1551:</font></a> interface is similar to the <b><font color="#0000FF">@code</font></b><font color="#009900">{more}</font> program.
<a name="line1552"><font color="#000000">1552:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1553"><font color="#000000">1553:</font></a> 
<a name="line1554"><font color="#000000">1554:</font></a> <b><font color="#0000FF">@node</font></b> Remote Host
<a name="line1555"><font color="#000000">1555:</font></a> <b><font color="#0000FF">@subsection</font></b> Remote Host Shell
<a name="line1556"><font color="#000000">1556:</font></a> <i><font color="#9A1900">@cindex remote host</font></i>
<a name="line1557"><font color="#000000">1557:</font></a> <i><font color="#9A1900">@cindex connecting to remote host</font></i>
<a name="line1558"><font color="#000000">1558:</font></a> <i><font color="#9A1900">@cindex Telnet</font></i>
<a name="line1559"><font color="#000000">1559:</font></a> <i><font color="#9A1900">@cindex Rlogin</font></i>
<a name="line1560"><font color="#000000">1560:</font></a> 
<a name="line1561"><font color="#000000">1561:</font></a>   You can login to a remote computer, using whatever commands you
<a name="line1562"><font color="#000000">1562:</font></a> would from a regular terminal (e.g., using the <b><font color="#0000FF">@command</font></b><font color="#009900">{ssh}</font> or
<a name="line1563"><font color="#000000">1563:</font></a> <i><font color="#9A1900">@command{telnet} or @code{rlogin} commands), from a Term window.</font></i>
<a name="line1564"><font color="#000000">1564:</font></a> 
<a name="line1565"><font color="#000000">1565:</font></a>   A program that asks you for a password will normally suppress
<a name="line1566"><font color="#000000">1566:</font></a> echoing of the password, so the password will not show up in the
<a name="line1567"><font color="#000000">1567:</font></a> buffer.  This will happen just as if you were using a real terminal,
<a name="line1568"><font color="#000000">1568:</font></a> if the buffer is in char mode.  If it is in line mode, the password is
<a name="line1569"><font color="#000000">1569:</font></a> temporarily visible, but will be erased when you hit return.  (This
<a name="line1570"><font color="#000000">1570:</font></a> happens automatically; there is no special password processing.)
<a name="line1571"><font color="#000000">1571:</font></a> 
<a name="line1572"><font color="#000000">1572:</font></a>   When you log in to a different machine, you need to specify the type
<a name="line1573"><font color="#000000">1573:</font></a> of terminal you're using, by setting the <b><font color="#0000FF">@env</font></b><font color="#009900">{TERM}</font> environment
<a name="line1574"><font color="#000000">1574:</font></a> variable in the environment for the remote login command.  (If you use
<a name="line1575"><font color="#000000">1575:</font></a> bash, you do that by writing the variable assignment before the remote
<a name="line1576"><font color="#000000">1576:</font></a> login command, without a separating comma.)  Terminal types
<a name="line1577"><font color="#000000">1577:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{ansi}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{vt100}</font> will work on most systems.
<a name="line1578"><font color="#000000">1578:</font></a> 
<a name="line1579"><font color="#000000">1579:</font></a> <b><font color="#0000FF">@node</font></b> Serial Terminal
<a name="line1580"><font color="#000000">1580:</font></a> <b><font color="#0000FF">@subsection</font></b> Serial Terminal
<a name="line1581"><font color="#000000">1581:</font></a> <i><font color="#9A1900">@cindex terminal, serial</font></i>
<a name="line1582"><font color="#000000">1582:</font></a> <b><font color="#0000FF">@findex</font></b> serial-term
<a name="line1583"><font color="#000000">1583:</font></a> 
<a name="line1584"><font color="#000000">1584:</font></a>   If you have a device connected to a serial port of your computer,
<a name="line1585"><font color="#000000">1585:</font></a> you can communicate with it by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x serial-term}</font>.  This
<a name="line1586"><font color="#000000">1586:</font></a> command asks for a serial port name and speed, and switches to a new
<a name="line1587"><font color="#000000">1587:</font></a> Term mode buffer.  Emacs communicates with the serial device through
<a name="line1588"><font color="#000000">1588:</font></a> this buffer just like it does with a terminal in ordinary Term mode.
<a name="line1589"><font color="#000000">1589:</font></a> 
<a name="line1590"><font color="#000000">1590:</font></a>   The speed of the serial port is measured in bits per second.  The
<a name="line1591"><font color="#000000">1591:</font></a> most common speed is 9600 bits per second.  You can change the speed
<a name="line1592"><font color="#000000">1592:</font></a> interactively by clicking on the mode line.
<a name="line1593"><font color="#000000">1593:</font></a> 
<a name="line1594"><font color="#000000">1594:</font></a>   A serial port can be configured even more by clicking on <b><font color="#0000FF">@samp</font></b><font color="#009900">{8N1}</font> in
<a name="line1595"><font color="#000000">1595:</font></a> the mode line.  By default, a serial port is configured as <b><font color="#0000FF">@samp</font></b><font color="#009900">{8N1}</font>,
<a name="line1596"><font color="#000000">1596:</font></a> which means that each byte consists of 8 data bits, No parity check
<a name="line1597"><font color="#000000">1597:</font></a> bit, and 1 stopbit.
<a name="line1598"><font color="#000000">1598:</font></a> 
<a name="line1599"><font color="#000000">1599:</font></a>   If the speed or the configuration is wrong, you cannot communicate
<a name="line1600"><font color="#000000">1600:</font></a> with your device and will probably only see garbage output in the
<a name="line1601"><font color="#000000">1601:</font></a> window.
<a name="line1602"><font color="#000000">1602:</font></a> 
<a name="line1603"><font color="#000000">1603:</font></a> <b><font color="#0000FF">@node</font></b> Emacs Server
<a name="line1604"><font color="#000000">1604:</font></a> <b><font color="#0000FF">@section</font></b> Using Emacs as a Server
<a name="line1605"><font color="#000000">1605:</font></a> <b><font color="#0000FF">@pindex</font></b> emacsclient
<a name="line1606"><font color="#000000">1606:</font></a> <i><font color="#9A1900">@cindex Emacs as a server</font></i>
<a name="line1607"><font color="#000000">1607:</font></a> <i><font color="#9A1900">@cindex server, using Emacs as</font></i>
<a name="line1608"><font color="#000000">1608:</font></a> <i><font color="#9A1900">@cindex @env{EDITOR} environment variable</font></i>
<a name="line1609"><font color="#000000">1609:</font></a> 
<a name="line1610"><font color="#000000">1610:</font></a>   Various programs can invoke your choice of editor to edit a
<a name="line1611"><font color="#000000">1611:</font></a> particular piece of text.  For instance, version control programs
<a name="line1612"><font color="#000000">1612:</font></a> invoke an editor to enter version control logs (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Version</font>
<a name="line1613"><font color="#000000">1613:</font></a> <font color="#FF0000">Control</font><font color="#FF0000">}</font>), and the Unix <b><font color="#0000FF">@command</font></b><font color="#009900">{mail}</font> utility invokes an editor to
<a name="line1614"><font color="#000000">1614:</font></a> enter a message to send.  By convention, your choice of editor is
<a name="line1615"><font color="#000000">1615:</font></a> specified by the environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{EDITOR}</font>.  If you set
<a name="line1616"><font color="#000000">1616:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{EDITOR}</font> to <b><font color="#0000FF">@samp</font></b><font color="#009900">{emacs}</font>, Emacs would be invoked, but in an
<a name="line1617"><font color="#000000">1617:</font></a> inconvenient way---by starting a new Emacs process.  This is
<a name="line1618"><font color="#000000">1618:</font></a> inconvenient because the new Emacs process doesn't share buffers, a
<a name="line1619"><font color="#000000">1619:</font></a> command history, or other kinds of information with any existing Emacs
<a name="line1620"><font color="#000000">1620:</font></a> process.
<a name="line1621"><font color="#000000">1621:</font></a> 
<a name="line1622"><font color="#000000">1622:</font></a>   You can solve this problem by setting up Emacs as an <b><font color="#0000FF">@dfn</font></b><font color="#009900">{edit</font>
<a name="line1623"><font color="#000000">1623:</font></a> <font color="#009900">server}</font>, so that it ``listens'' for external edit requests and acts
<a name="line1624"><font color="#000000">1624:</font></a> accordingly.  There are various ways to start an Emacs server:
<a name="line1625"><font color="#000000">1625:</font></a> 
<a name="line1626"><font color="#000000">1626:</font></a> <b><font color="#0000FF">@itemize</font></b>
<a name="line1627"><font color="#000000">1627:</font></a> <b><font color="#0000FF">@findex</font></b> server-start
<a name="line1628"><font color="#000000">1628:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1629"><font color="#000000">1629:</font></a> Run the command <b><font color="#0000FF">@code</font></b><font color="#009900">{server-start}</font> in an existing Emacs process:
<a name="line1630"><font color="#000000">1630:</font></a> either type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x server-start}</font>, or put the expression
<a name="line1631"><font color="#000000">1631:</font></a> <i><font color="#9A1900">@code{(server-start)} in your init file (@pxref{Init File}).  The</font></i>
<a name="line1632"><font color="#000000">1632:</font></a> existing Emacs process is the server; when you exit Emacs, the server
<a name="line1633"><font color="#000000">1633:</font></a> dies with the Emacs process.
<a name="line1634"><font color="#000000">1634:</font></a> 
<a name="line1635"><font color="#000000">1635:</font></a> <i><font color="#9A1900">@cindex daemon, Emacs</font></i>
<a name="line1636"><font color="#000000">1636:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1637"><font color="#000000">1637:</font></a> Run Emacs as a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{daemon}</font>, using one of the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--daemon}</font> command-line
<a name="line1638"><font color="#000000">1638:</font></a> options.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>.  When Emacs is started this way, it
<a name="line1639"><font color="#000000">1639:</font></a> calls <b><font color="#0000FF">@code</font></b><font color="#009900">{server-start}</font> after initialization and does not open an
<a name="line1640"><font color="#000000">1640:</font></a> initial frame.  It then waits for edit requests from clients.
<a name="line1641"><font color="#000000">1641:</font></a> 
<a name="line1642"><font color="#000000">1642:</font></a> <i><font color="#9A1900">@cindex systemd unit file</font></i>
<a name="line1643"><font color="#000000">1643:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1644"><font color="#000000">1644:</font></a> If your operating system uses <b><font color="#0000FF">@command</font></b><font color="#009900">{systemd}</font> to manage startup,
<a name="line1645"><font color="#000000">1645:</font></a> you can automatically start Emacs in daemon mode when you login
<a name="line1646"><font color="#000000">1646:</font></a> using the supplied <b><font color="#0000FF">@dfn</font></b><font color="#009900">{systemd unit file}</font>.  To activate this:
<a name="line1647"><font color="#000000">1647:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1648"><font color="#000000">1648:</font></a> systemctl --user enable emacs
<a name="line1649"><font color="#000000">1649:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1650"><font color="#000000">1650:</font></a> (If your Emacs was installed into a non-standard location, you may
<a name="line1651"><font color="#000000">1651:</font></a> need to copy the <b><font color="#0000FF">@file</font></b><font color="#009900">{emacs.service}</font> file to a standard directory
<a name="line1652"><font color="#000000">1652:</font></a> such as <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.config/systemd/user/}</font>.)
<a name="line1653"><font color="#000000">1653:</font></a> 
<a name="line1654"><font color="#000000">1654:</font></a> <i><font color="#9A1900">@cindex socket activation, systemd, Emacs</font></i>
<a name="line1655"><font color="#000000">1655:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1656"><font color="#000000">1656:</font></a> An external process can invoke the Emacs server when a connection
<a name="line1657"><font color="#000000">1657:</font></a> event occurs upon a specified socket and pass the socket to the new
<a name="line1658"><font color="#000000">1658:</font></a> Emacs server process.  An instance of this is the socket functionality
<a name="line1659"><font color="#000000">1659:</font></a> of <b><font color="#0000FF">@command</font></b><font color="#009900">{systemd}</font>: the <b><font color="#0000FF">@command</font></b><font color="#009900">{systemd}</font> service creates a socket and
<a name="line1660"><font color="#000000">1660:</font></a> listens for connections on it; when <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> connects to
<a name="line1661"><font color="#000000">1661:</font></a> it for the first time, <b><font color="#0000FF">@command</font></b><font color="#009900">{systemd}</font> can launch the Emacs server
<a name="line1662"><font color="#000000">1662:</font></a> and hand over the socket to it for servicing <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>
<a name="line1663"><font color="#000000">1663:</font></a> connections.  A setup to use this functionality could be:
<a name="line1664"><font color="#000000">1664:</font></a> 
<a name="line1665"><font color="#000000">1665:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.config/systemd/user/emacs.socket}</font>:
<a name="line1666"><font color="#000000">1666:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1667"><font color="#000000">1667:</font></a> [Socket]
<a name="line1668"><font color="#000000">1668:</font></a> ListenStream=/path/to/.emacs.socket
<a name="line1669"><font color="#000000">1669:</font></a> 
<a name="line1670"><font color="#000000">1670:</font></a> [Install]
<a name="line1671"><font color="#000000">1671:</font></a> WantedBy=sockets.target
<a name="line1672"><font color="#000000">1672:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1673"><font color="#000000">1673:</font></a> 
<a name="line1674"><font color="#000000">1674:</font></a> (The <b><font color="#0000FF">@file</font></b><font color="#009900">{emacs.service}</font> file described above must also be installed.)
<a name="line1675"><font color="#000000">1675:</font></a> 
<a name="line1676"><font color="#000000">1676:</font></a> The <b><font color="#0000FF">@code</font></b><font color="#009900">{ListenStream}</font> path will be the path that Emacs listens for
<a name="line1677"><font color="#000000">1677:</font></a> connections from <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>; this is a file of your choice.
<a name="line1678"><font color="#000000">1678:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line1679"><font color="#000000">1679:</font></a> 
<a name="line1680"><font color="#000000">1680:</font></a> <i><font color="#9A1900">@cindex @env{TEXEDIT} environment variable</font></i>
<a name="line1681"><font color="#000000">1681:</font></a>   Once an Emacs server is started, you can use a shell
<a name="line1682"><font color="#000000">1682:</font></a> command called <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> to connect to the Emacs process
<a name="line1683"><font color="#000000">1683:</font></a> and tell it to visit a file.  You can then set the <b><font color="#0000FF">@env</font></b><font color="#009900">{EDITOR}</font>
<a name="line1684"><font color="#000000">1684:</font></a> environment variable to <b><font color="#0000FF">@samp</font></b><font color="#009900">{emacsclient}</font>, so that external programs
<a name="line1685"><font color="#000000">1685:</font></a> will use the existing Emacs process for editing.<b><font color="#0000FF">@footnote</font></b><font color="#009900">{Some</font>
<a name="line1686"><font color="#000000">1686:</font></a> <font color="#009900">programs use a different environment variable; for example, to make</font>
<a name="line1687"><font color="#000000">1687:</font></a> <font color="#009900">@TeX{} use @samp{emacsclient}, set the @env{TEXEDIT} environment</font>
<a name="line1688"><font color="#000000">1688:</font></a> <font color="#009900">variable to @samp{emacsclient +%d %s}.}</font>
<a name="line1689"><font color="#000000">1689:</font></a> 
<a name="line1690"><font color="#000000">1690:</font></a> <b><font color="#0000FF">@vindex</font></b> server-name
<a name="line1691"><font color="#000000">1691:</font></a>   You can run multiple Emacs servers on the same machine by giving
<a name="line1692"><font color="#000000">1692:</font></a> each one a unique <b><font color="#0000FF">@dfn</font></b><font color="#009900">{server name}</font>, using the variable
<a name="line1693"><font color="#000000">1693:</font></a> <i><font color="#9A1900">@code{server-name}.  For example, @kbd{M-x set-variable @key{RET}</font></i>
<a name="line1694"><font color="#000000">1694:</font></a> server-name <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> "foo" <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>} sets the server name to
<a name="line1695"><font color="#000000">1695:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font>.  The <b><font color="#0000FF">@code</font></b><font color="#009900">{emacsclient}</font> program can specify a server by
<a name="line1696"><font color="#000000">1696:</font></a> name, using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-s}</font> option (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">emacsclient Options</font><font color="#FF0000">}</font>).
<a name="line1697"><font color="#000000">1697:</font></a> 
<a name="line1698"><font color="#000000">1698:</font></a>   If you want to run multiple Emacs daemons (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>),
<a name="line1699"><font color="#000000">1699:</font></a> you can give each daemon its own server name like this:
<a name="line1700"><font color="#000000">1700:</font></a> 
<a name="line1701"><font color="#000000">1701:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1702"><font color="#000000">1702:</font></a>   emacs --daemon=foo
<a name="line1703"><font color="#000000">1703:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1704"><font color="#000000">1704:</font></a> 
<a name="line1705"><font color="#000000">1705:</font></a> <b><font color="#0000FF">@findex</font></b> server-eval-at
<a name="line1706"><font color="#000000">1706:</font></a>   If you have defined a server by a unique server name, it is possible
<a name="line1707"><font color="#000000">1707:</font></a> to connect to the server from another Emacs instance and evaluate Lisp
<a name="line1708"><font color="#000000">1708:</font></a> expressions on the server, using the <b><font color="#0000FF">@code</font></b><font color="#009900">{server-eval-at}</font> function.
<a name="line1709"><font color="#000000">1709:</font></a> For instance, <b><font color="#0000FF">@code</font></b><font color="#009900">{(server-eval-at "foo" '(+ 1 2))}</font> evaluates the
<a name="line1710"><font color="#000000">1710:</font></a> expression <b><font color="#0000FF">@code</font></b><font color="#009900">{(+ 1 2)}</font> on the <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> server, and returns
<a name="line1711"><font color="#000000">1711:</font></a> <i><font color="#9A1900">@code{3}.  (If there is no server with that name, an error is</font></i>
<a name="line1712"><font color="#000000">1712:</font></a> signaled.)  Currently, this feature is mainly useful for developers.
<a name="line1713"><font color="#000000">1713:</font></a> 
<a name="line1714"><font color="#000000">1714:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1715"><font color="#000000">1715:</font></a> <font color="#FF0000">* TCP Emacs server::</font>     Listening to a TCP socket.
<a name="line1716"><font color="#000000">1716:</font></a> <font color="#FF0000">* Invoking emacsclient::</font> Connecting to the Emacs server.
<a name="line1717"><font color="#000000">1717:</font></a> <font color="#FF0000">* emacsclient Options::</font>  Emacs client startup options.
<a name="line1718"><font color="#000000">1718:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1719"><font color="#000000">1719:</font></a> 
<a name="line1720"><font color="#000000">1720:</font></a> <b><font color="#0000FF">@node</font></b> TCP Emacs server
<a name="line1721"><font color="#000000">1721:</font></a> <b><font color="#0000FF">@subsection</font></b> TCP Emacs server
<a name="line1722"><font color="#000000">1722:</font></a> <i><font color="#9A1900">@cindex TCP Emacs server</font></i>
<a name="line1723"><font color="#000000">1723:</font></a> 
<a name="line1724"><font color="#000000">1724:</font></a> <b><font color="#0000FF">@vindex</font></b> server-use-tcp
<a name="line1725"><font color="#000000">1725:</font></a>   An Emacs server usually listens to connections on a local Unix
<a name="line1726"><font color="#000000">1726:</font></a> domain socket.  Some operating systems, such as MS-Windows, do not
<a name="line1727"><font color="#000000">1727:</font></a> support local sockets; in that case, the server uses TCP sockets
<a name="line1728"><font color="#000000">1728:</font></a> instead.  In some cases it is useful to have the server listen on a
<a name="line1729"><font color="#000000">1729:</font></a> TCP socket even if local sockets are supported, e.g., if you need to
<a name="line1730"><font color="#000000">1730:</font></a> contact the Emacs server from a remote machine.  You can set
<a name="line1731"><font color="#000000">1731:</font></a> <i><font color="#9A1900">@code{server-use-tcp} to non-@code{nil} to have Emacs listen on a TCP</font></i>
<a name="line1732"><font color="#000000">1732:</font></a> socket instead of a local socket.  This is the default if your OS does
<a name="line1733"><font color="#000000">1733:</font></a> not support local sockets.
<a name="line1734"><font color="#000000">1734:</font></a> 
<a name="line1735"><font color="#000000">1735:</font></a> <b><font color="#0000FF">@vindex</font></b> server-host
<a name="line1736"><font color="#000000">1736:</font></a> <b><font color="#0000FF">@vindex</font></b> server-port
<a name="line1737"><font color="#000000">1737:</font></a>   If the Emacs server is set to use TCP, it will by default listen on
<a name="line1738"><font color="#000000">1738:</font></a> a random port on the localhost interface.  This can be changed to
<a name="line1739"><font color="#000000">1739:</font></a> another interface and/or a fixed port using the variables
<a name="line1740"><font color="#000000">1740:</font></a> <i><font color="#9A1900">@code{server-host} and @code{server-port}.</font></i>
<a name="line1741"><font color="#000000">1741:</font></a> 
<a name="line1742"><font color="#000000">1742:</font></a> <b><font color="#0000FF">@vindex</font></b> server-auth-key
<a name="line1743"><font color="#000000">1743:</font></a>   A TCP socket is not subject to file system permissions.  To retain
<a name="line1744"><font color="#000000">1744:</font></a> some control over which users can talk to an Emacs server over TCP
<a name="line1745"><font color="#000000">1745:</font></a> sockets, the <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> program must send an authorization
<a name="line1746"><font color="#000000">1746:</font></a> key to the server.  This key is normally randomly generated by the
<a name="line1747"><font color="#000000">1747:</font></a> Emacs server.  This is the recommended mode of operation.
<a name="line1748"><font color="#000000">1748:</font></a> 
<a name="line1749"><font color="#000000">1749:</font></a> <b><font color="#0000FF">@findex</font></b> server-generate-key
<a name="line1750"><font color="#000000">1750:</font></a>   If needed, you can set the authorization key to a static value by
<a name="line1751"><font color="#000000">1751:</font></a> setting the <b><font color="#0000FF">@code</font></b><font color="#009900">{server-auth-key}</font> variable.  The key must consist of
<a name="line1752"><font color="#000000">1752:</font></a> 64 ASCII printable characters except for space (this means characters
<a name="line1753"><font color="#000000">1753:</font></a> from <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font> to <b><font color="#0000FF">@samp</font></b><font color="#009900">{~}</font>, or from decimal code 33 to 126).  You can
<a name="line1754"><font color="#000000">1754:</font></a> use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x server-generate-key}</font> to get a random key.
<a name="line1755"><font color="#000000">1755:</font></a> 
<a name="line1756"><font color="#000000">1756:</font></a> <b><font color="#0000FF">@vindex</font></b> server-auth-dir
<a name="line1757"><font color="#000000">1757:</font></a> <i><font color="#9A1900">@cindex server file</font></i>
<a name="line1758"><font color="#000000">1758:</font></a>   When you start a TCP Emacs server, Emacs creates a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{server file}</font>
<a name="line1759"><font color="#000000">1759:</font></a> containing the TCP information to be used by <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> to
<a name="line1760"><font color="#000000">1760:</font></a> connect to the server.  The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{server-auth-dir}</font> specifies
<a name="line1761"><font color="#000000">1761:</font></a> the directory containing the server file; by default, this is
<a name="line1762"><font color="#000000">1762:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/server/}</font>.  In the absence of a local socket with file
<a name="line1763"><font color="#000000">1763:</font></a> permissions, the permissions of this directory determine which users
<a name="line1764"><font color="#000000">1764:</font></a> can have their <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> processes talk to the Emacs
<a name="line1765"><font color="#000000">1765:</font></a> server.
<a name="line1766"><font color="#000000">1766:</font></a> 
<a name="line1767"><font color="#000000">1767:</font></a> <b><font color="#0000FF">@vindex</font></b> EMACS_SERVER_FILE<b><font color="#0000FF">@r</font></b><font color="#009900">{, environment variable}</font>
<a name="line1768"><font color="#000000">1768:</font></a>   To tell <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> to connect to the server over TCP with
<a name="line1769"><font color="#000000">1769:</font></a> a specific server file, use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-f}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{--server-file}</font>
<a name="line1770"><font color="#000000">1770:</font></a> option, or set the <b><font color="#0000FF">@env</font></b><font color="#009900">{EMACS_SERVER_FILE}</font> environment variable
<a name="line1771"><font color="#000000">1771:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">emacsclient Options</font><font color="#FF0000">}</font>).  If <b><font color="#0000FF">@code</font></b><font color="#009900">{server-auth-dir}</font> is set to a
<a name="line1772"><font color="#000000">1772:</font></a> non-standard value, <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> needs an absolute file name
<a name="line1773"><font color="#000000">1773:</font></a> to the server file, as the default <b><font color="#0000FF">@code</font></b><font color="#009900">{server-auth-dir}</font> is
<a name="line1774"><font color="#000000">1774:</font></a> hard-coded in <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> to be used as the directory for
<a name="line1775"><font color="#000000">1775:</font></a> resolving relative filenames.
<a name="line1776"><font color="#000000">1776:</font></a> 
<a name="line1777"><font color="#000000">1777:</font></a> <b><font color="#0000FF">@node</font></b> Invoking emacsclient
<a name="line1778"><font color="#000000">1778:</font></a> <b><font color="#0000FF">@subsection</font></b> Invoking <b><font color="#0000FF">@code</font></b><font color="#009900">{emacsclient}</font>
<a name="line1779"><font color="#000000">1779:</font></a> <i><font color="#9A1900">@cindex @code{emacsclient} invocation</font></i>
<a name="line1780"><font color="#000000">1780:</font></a> 
<a name="line1781"><font color="#000000">1781:</font></a>   The simplest way to use the <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> program is to run
<a name="line1782"><font color="#000000">1782:</font></a> the shell command <b><font color="#0000FF">@samp</font></b><font color="#009900">{emacsclient @var{file}}</font>, where <b><font color="#0000FF">@var</font></b><font color="#009900">{file}</font> is a
<a name="line1783"><font color="#000000">1783:</font></a> file name.  This connects to an Emacs server, and tells that Emacs
<a name="line1784"><font color="#000000">1784:</font></a> process to visit <b><font color="#0000FF">@var</font></b><font color="#009900">{file}</font> in one of its existing frames---either a
<a name="line1785"><font color="#000000">1785:</font></a> graphical frame, or one in a text terminal (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Frames</font><font color="#FF0000">}</font>).  You
<a name="line1786"><font color="#000000">1786:</font></a> can then select that frame to begin editing.
<a name="line1787"><font color="#000000">1787:</font></a> 
<a name="line1788"><font color="#000000">1788:</font></a>   If there is no Emacs server, the <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> program halts
<a name="line1789"><font color="#000000">1789:</font></a> with an error message (you can prevent this from happening by using
<a name="line1790"><font color="#000000">1790:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--alternate-editor=""}</font> option to <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>,
<a name="line1791"><font color="#000000">1791:</font></a> <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">emacsclient Options</font><font color="#FF0000">}</font>).  If the Emacs process has no existing
<a name="line1792"><font color="#000000">1792:</font></a> frame---which can happen if it was started as a daemon (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Emacs</font>
<a name="line1793"><font color="#000000">1793:</font></a> <font color="#FF0000">Server</font><font color="#FF0000">}</font>)---then Emacs opens a frame on the terminal in which you
<a name="line1794"><font color="#000000">1794:</font></a> called <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>.
<a name="line1795"><font color="#000000">1795:</font></a> 
<a name="line1796"><font color="#000000">1796:</font></a>   You can also force <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> to open a new frame on a
<a name="line1797"><font color="#000000">1797:</font></a> graphical display using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-c}</font> option, or on a text terminal
<a name="line1798"><font color="#000000">1798:</font></a> using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font> option.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">emacsclient Options</font><font color="#FF0000">}</font>.
<a name="line1799"><font color="#000000">1799:</font></a> 
<a name="line1800"><font color="#000000">1800:</font></a>   If you are running on a single text terminal, you can switch between
<a name="line1801"><font color="#000000">1801:</font></a> <i><font color="#9A1900">@command{emacsclient}'s shell and the Emacs server using one of two</font></i>
<a name="line1802"><font color="#000000">1802:</font></a> methods: (i) run the Emacs server and <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> on
<a name="line1803"><font color="#000000">1803:</font></a> different virtual terminals, and switch to the Emacs server's virtual
<a name="line1804"><font color="#000000">1804:</font></a> terminal after calling <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>; or (ii) call
<a name="line1805"><font color="#000000">1805:</font></a> <i><font color="#9A1900">@command{emacsclient} from within the Emacs server itself, using Shell</font></i>
<a name="line1806"><font color="#000000">1806:</font></a> mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Interactive Shell</font><font color="#FF0000">}</font>) or Term mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Term Mode</font><font color="#FF0000">}</font>);
<a name="line1807"><font color="#000000">1807:</font></a> <i><font color="#9A1900">@command{emacsclient} blocks only the subshell under Emacs, and you can</font></i>
<a name="line1808"><font color="#000000">1808:</font></a> still use Emacs to edit the file.
<a name="line1809"><font color="#000000">1809:</font></a> 
<a name="line1810"><font color="#000000">1810:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x #
<a name="line1811"><font color="#000000">1811:</font></a> <b><font color="#0000FF">@findex</font></b> server-edit
<a name="line1812"><font color="#000000">1812:</font></a>   When you finish editing <b><font color="#0000FF">@var</font></b><font color="#009900">{file}</font> in the Emacs server, type
<a name="line1813"><font color="#000000">1813:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{server-edit}</font>) in its buffer.  This saves the file
<a name="line1814"><font color="#000000">1814:</font></a> and sends a message back to the <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> program, telling
<a name="line1815"><font color="#000000">1815:</font></a> it to exit.  Programs that use <b><font color="#0000FF">@env</font></b><font color="#009900">{EDITOR}</font> usually wait for the
<a name="line1816"><font color="#000000">1816:</font></a> editor---in this case <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>---to exit before doing
<a name="line1817"><font color="#000000">1817:</font></a> something else.
<a name="line1818"><font color="#000000">1818:</font></a> 
<a name="line1819"><font color="#000000">1819:</font></a>   You can also call <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> with multiple file name
<a name="line1820"><font color="#000000">1820:</font></a> arguments: <b><font color="#0000FF">@samp</font></b><font color="#009900">{emacsclient @var{file1} @var{file2} ...}</font> tells the
<a name="line1821"><font color="#000000">1821:</font></a> Emacs server to visit <b><font color="#0000FF">@var</font></b><font color="#009900">{file1}</font>, <b><font color="#0000FF">@var</font></b><font color="#009900">{file2}</font>, and so forth.  Emacs
<a name="line1822"><font color="#000000">1822:</font></a> selects the buffer visiting <b><font color="#0000FF">@var</font></b><font color="#009900">{file1}</font>, and buries the other buffers
<a name="line1823"><font color="#000000">1823:</font></a> at the bottom of the buffer list (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Buffers</font><font color="#FF0000">}</font>).  The
<a name="line1824"><font color="#000000">1824:</font></a> <i><font color="#9A1900">@command{emacsclient} program exits once all the specified files are</font></i>
<a name="line1825"><font color="#000000">1825:</font></a> finished (i.e., once you have typed <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font> in each server
<a name="line1826"><font color="#000000">1826:</font></a> buffer).
<a name="line1827"><font color="#000000">1827:</font></a> 
<a name="line1828"><font color="#000000">1828:</font></a> <b><font color="#0000FF">@vindex</font></b> server-kill-new-buffers
<a name="line1829"><font color="#000000">1829:</font></a> <b><font color="#0000FF">@vindex</font></b> server-temp-file-regexp
<a name="line1830"><font color="#000000">1830:</font></a>   Finishing with a server buffer also kills the buffer, unless it
<a name="line1831"><font color="#000000">1831:</font></a> already existed in the Emacs session before the server was asked to
<a name="line1832"><font color="#000000">1832:</font></a> create it.  However, if you set <b><font color="#0000FF">@code</font></b><font color="#009900">{server-kill-new-buffers}</font> to
<a name="line1833"><font color="#000000">1833:</font></a> <i><font color="#9A1900">@code{nil}, then a different criterion is used: finishing with a</font></i>
<a name="line1834"><font color="#000000">1834:</font></a> server buffer kills it if the file name matches the regular expression
<a name="line1835"><font color="#000000">1835:</font></a> <i><font color="#9A1900">@code{server-temp-file-regexp}.  This is set up to distinguish certain</font></i>
<a name="line1836"><font color="#000000">1836:</font></a> temporary files.
<a name="line1837"><font color="#000000">1837:</font></a> 
<a name="line1838"><font color="#000000">1838:</font></a>   Each <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font> checks for other pending external requests to edit
<a name="line1839"><font color="#000000">1839:</font></a> various files, and selects the next such file.  You can switch to a
<a name="line1840"><font color="#000000">1840:</font></a> server buffer manually if you wish; you don't have to arrive at it
<a name="line1841"><font color="#000000">1841:</font></a> with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font>.  But <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font> is the way to tell
<a name="line1842"><font color="#000000">1842:</font></a> <i><font color="#9A1900">@command{emacsclient} that you are finished.</font></i>
<a name="line1843"><font color="#000000">1843:</font></a> 
<a name="line1844"><font color="#000000">1844:</font></a> <b><font color="#0000FF">@vindex</font></b> server-window
<a name="line1845"><font color="#000000">1845:</font></a>   If you set the value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{server-window}</font> to a
<a name="line1846"><font color="#000000">1846:</font></a> window or a frame, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font> always displays the next server buffer
<a name="line1847"><font color="#000000">1847:</font></a> in that window or in that frame.
<a name="line1848"><font color="#000000">1848:</font></a> 
<a name="line1849"><font color="#000000">1849:</font></a> <b><font color="#0000FF">@node</font></b> emacsclient Options
<a name="line1850"><font color="#000000">1850:</font></a> <b><font color="#0000FF">@subsection</font></b> <i><font color="#9A1900">@code{emacsclient} Options</font></i>
<a name="line1851"><font color="#000000">1851:</font></a> <i><font color="#9A1900">@cindex @code{emacsclient} options</font></i>
<a name="line1852"><font color="#000000">1852:</font></a> 
<a name="line1853"><font color="#000000">1853:</font></a>   You can pass some optional arguments to the <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>
<a name="line1854"><font color="#000000">1854:</font></a> program, such as:
<a name="line1855"><font color="#000000">1855:</font></a> 
<a name="line1856"><font color="#000000">1856:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1857"><font color="#000000">1857:</font></a> emacsclient -c +12 <b><font color="#0000FF">@var</font></b><font color="#009900">{file1}</font> +4:3 <b><font color="#0000FF">@var</font></b><font color="#009900">{file2}</font>
<a name="line1858"><font color="#000000">1858:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1859"><font color="#000000">1859:</font></a> 
<a name="line1860"><font color="#000000">1860:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1861"><font color="#000000">1861:</font></a> The <b><font color="#0000FF">@samp</font></b><font color="#009900">{+@var{line}}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{+@var{line}:@var{column}}</font> arguments
<a name="line1862"><font color="#000000">1862:</font></a> specify line numbers, or line and column numbers, for the next file
<a name="line1863"><font color="#000000">1863:</font></a> argument.  These behave like the command line arguments for Emacs
<a name="line1864"><font color="#000000">1864:</font></a> itself.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Action Arguments</font><font color="#FF0000">}</font>.
<a name="line1865"><font color="#000000">1865:</font></a> 
<a name="line1866"><font color="#000000">1866:</font></a>   The other optional arguments recognized by <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> are
<a name="line1867"><font color="#000000">1867:</font></a> listed below:
<a name="line1868"><font color="#000000">1868:</font></a> 
<a name="line1869"><font color="#000000">1869:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@samp</font></b>
<a name="line1870"><font color="#000000">1870:</font></a> <b><font color="#0000FF">@item</font></b> -a <b><font color="#0000FF">@var</font></b><font color="#009900">{command}</font>
<a name="line1871"><font color="#000000">1871:</font></a> <b><font color="#0000FF">@itemx</font></b> --alternate-editor=<b><font color="#0000FF">@var</font></b><font color="#009900">{command}</font>
<a name="line1872"><font color="#000000">1872:</font></a> Specify a shell command to run if <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> fails to
<a name="line1873"><font color="#000000">1873:</font></a> contact Emacs.  This is useful when running <b><font color="#0000FF">@code</font></b><font color="#009900">{emacsclient}</font> in a
<a name="line1874"><font color="#000000">1874:</font></a> script.  The command may include arguments, which may be quoted "like
<a name="line1875"><font color="#000000">1875:</font></a> this".  Currently, escaping of quotes is not supported.
<a name="line1876"><font color="#000000">1876:</font></a> 
<a name="line1877"><font color="#000000">1877:</font></a> As a special exception, if <b><font color="#0000FF">@var</font></b><font color="#009900">{command}</font> is the empty string, then
<a name="line1878"><font color="#000000">1878:</font></a> <i><font color="#9A1900">@command{emacsclient} starts Emacs in daemon mode (as @samp{emacs</font></i>
<a name="line1879"><font color="#000000">1879:</font></a> --daemon}) and then tries connecting again.
<a name="line1880"><font color="#000000">1880:</font></a> 
<a name="line1881"><font color="#000000">1881:</font></a> <i><font color="#9A1900">@cindex @env{ALTERNATE_EDITOR} environment variable</font></i>
<a name="line1882"><font color="#000000">1882:</font></a> The environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{ALTERNATE_EDITOR}</font> has the same effect as
<a name="line1883"><font color="#000000">1883:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-a}</font> option.  If both are present, the latter takes
<a name="line1884"><font color="#000000">1884:</font></a> precedence.
<a name="line1885"><font color="#000000">1885:</font></a> 
<a name="line1886"><font color="#000000">1886:</font></a> <i><font color="#9A1900">@cindex client frame</font></i>
<a name="line1887"><font color="#000000">1887:</font></a> <b><font color="#0000FF">@item</font></b> -c
<a name="line1888"><font color="#000000">1888:</font></a> <b><font color="#0000FF">@itemx</font></b> --create-frame
<a name="line1889"><font color="#000000">1889:</font></a> Create a new graphical <b><font color="#0000FF">@dfn</font></b><font color="#009900">{client frame}</font>, instead of using an
<a name="line1890"><font color="#000000">1890:</font></a> existing Emacs frame.  See below for the special behavior of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x</font>
<a name="line1891"><font color="#000000">1891:</font></a> <font color="#009900">C-c}</font> in a client frame.  If Emacs cannot create a new graphical frame
<a name="line1892"><font color="#000000">1892:</font></a> (e.g., if it cannot connect to the X server), it tries to create a
<a name="line1893"><font color="#000000">1893:</font></a> text terminal client frame, as though you had supplied the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font>
<a name="line1894"><font color="#000000">1894:</font></a> option instead.
<a name="line1895"><font color="#000000">1895:</font></a> 
<a name="line1896"><font color="#000000">1896:</font></a> On MS-Windows, a single Emacs session cannot display frames on both
<a name="line1897"><font color="#000000">1897:</font></a> graphical and text terminals, nor on multiple text terminals.  Thus,
<a name="line1898"><font color="#000000">1898:</font></a> if the Emacs server is running on a text terminal, the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-c}</font>
<a name="line1899"><font color="#000000">1899:</font></a> option, like the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font> option, creates a new frame in the server's
<a name="line1900"><font color="#000000">1900:</font></a> current text terminal.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Windows Startup</font><font color="#FF0000">}</font>.
<a name="line1901"><font color="#000000">1901:</font></a> 
<a name="line1902"><font color="#000000">1902:</font></a> If you omit a filename argument while supplying the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-c}</font> option,
<a name="line1903"><font color="#000000">1903:</font></a> the new frame displays the <b><font color="#0000FF">@file</font></b><font color="#009900">{*scratch*}</font> buffer by default.  You
<a name="line1904"><font color="#000000">1904:</font></a> can customize this behavior with the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{initial-buffer-choice}</font>
<a name="line1905"><font color="#000000">1905:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Entering Emacs</font><font color="#FF0000">}</font>).
<a name="line1906"><font color="#000000">1906:</font></a> 
<a name="line1907"><font color="#000000">1907:</font></a> <b><font color="#0000FF">@item</font></b> -F <b><font color="#0000FF">@var</font></b><font color="#009900">{alist}</font>
<a name="line1908"><font color="#000000">1908:</font></a> <b><font color="#0000FF">@itemx</font></b> --frame-parameters=<b><font color="#0000FF">@var</font></b><font color="#009900">{alist}</font>
<a name="line1909"><font color="#000000">1909:</font></a> Set the parameters for a newly-created graphical frame
<a name="line1910"><font color="#000000">1910:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Frame Parameters</font><font color="#FF0000">}</font>).
<a name="line1911"><font color="#000000">1911:</font></a> 
<a name="line1912"><font color="#000000">1912:</font></a> <b><font color="#0000FF">@item</font></b> -d <b><font color="#0000FF">@var</font></b><font color="#009900">{display}</font>
<a name="line1913"><font color="#000000">1913:</font></a> <b><font color="#0000FF">@itemx</font></b> --display=<b><font color="#0000FF">@var</font></b><font color="#009900">{display}</font>
<a name="line1914"><font color="#000000">1914:</font></a> Tell Emacs to open the given files on the X display <b><font color="#0000FF">@var</font></b><font color="#009900">{display}</font>
<a name="line1915"><font color="#000000">1915:</font></a> (assuming there is more than one X display available).
<a name="line1916"><font color="#000000">1916:</font></a> 
<a name="line1917"><font color="#000000">1917:</font></a> <b><font color="#0000FF">@item</font></b> -e
<a name="line1918"><font color="#000000">1918:</font></a> <b><font color="#0000FF">@itemx</font></b> --eval
<a name="line1919"><font color="#000000">1919:</font></a> Tell Emacs to evaluate some Emacs Lisp code, instead of visiting some
<a name="line1920"><font color="#000000">1920:</font></a> files.  When this option is given, the arguments to
<a name="line1921"><font color="#000000">1921:</font></a> <i><font color="#9A1900">@command{emacsclient} are interpreted as a list of expressions to</font></i>
<a name="line1922"><font color="#000000">1922:</font></a> evaluate, <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">not</font></i><font color="#FF0000">}</font> as a list of files to visit.
<a name="line1923"><font color="#000000">1923:</font></a> 
<a name="line1924"><font color="#000000">1924:</font></a> <b><font color="#0000FF">@item</font></b> -f <b><font color="#0000FF">@var</font></b><font color="#009900">{server-file}</font>
<a name="line1925"><font color="#000000">1925:</font></a> <b><font color="#0000FF">@itemx</font></b> --server-file=<b><font color="#0000FF">@var</font></b><font color="#009900">{server-file}</font>
<a name="line1926"><font color="#000000">1926:</font></a> Specify a server file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">TCP Emacs server</font><font color="#FF0000">}</font>) for connecting to an
<a name="line1927"><font color="#000000">1927:</font></a> Emacs server via TCP.  Alternatively, you can set the
<a name="line1928"><font color="#000000">1928:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{EMACS_SERVER_FILE}</font> environment variable to point to the server
<a name="line1929"><font color="#000000">1929:</font></a> file.  (The command-line option overrides the environment variable.)
<a name="line1930"><font color="#000000">1930:</font></a> 
<a name="line1931"><font color="#000000">1931:</font></a> An Emacs server usually uses a local socket to listen for connections,
<a name="line1932"><font color="#000000">1932:</font></a> but also supports connections over TCP.  To connect to a TCP Emacs
<a name="line1933"><font color="#000000">1933:</font></a> server, <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> needs to read a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{server file}</font>
<a name="line1934"><font color="#000000">1934:</font></a> containing the connection details of the Emacs server.  The name of
<a name="line1935"><font color="#000000">1935:</font></a> this file is specified with this option, either as a file name
<a name="line1936"><font color="#000000">1936:</font></a> relative to <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/server}</font> or as an absolute file name.
<a name="line1937"><font color="#000000">1937:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">TCP Emacs server</font><font color="#FF0000">}</font>.
<a name="line1938"><font color="#000000">1938:</font></a> 
<a name="line1939"><font color="#000000">1939:</font></a> <b><font color="#0000FF">@item</font></b> -n
<a name="line1940"><font color="#000000">1940:</font></a> <b><font color="#0000FF">@itemx</font></b> --no-wait
<a name="line1941"><font color="#000000">1941:</font></a> Let <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> exit immediately, instead of waiting until
<a name="line1942"><font color="#000000">1942:</font></a> all server buffers are finished.  You can take as long as you like to
<a name="line1943"><font color="#000000">1943:</font></a> edit the server buffers within Emacs, and they are <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">not</font></i><font color="#FF0000">}</font> killed
<a name="line1944"><font color="#000000">1944:</font></a> when you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font> in them.
<a name="line1945"><font color="#000000">1945:</font></a> 
<a name="line1946"><font color="#000000">1946:</font></a> <b><font color="#0000FF">@item</font></b> --parent-id <b><font color="#0000FF">@var</font></b><font color="#009900">{id}</font>
<a name="line1947"><font color="#000000">1947:</font></a> Open an <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> frame as a client frame in the parent X
<a name="line1948"><font color="#000000">1948:</font></a> window with id <b><font color="#0000FF">@var</font></b><font color="#009900">{id}</font>, via the XEmbed protocol.  Currently, this
<a name="line1949"><font color="#000000">1949:</font></a> option is mainly useful for developers.
<a name="line1950"><font color="#000000">1950:</font></a> 
<a name="line1951"><font color="#000000">1951:</font></a> <b><font color="#0000FF">@item</font></b> -q
<a name="line1952"><font color="#000000">1952:</font></a> <b><font color="#0000FF">@itemx</font></b> --quiet
<a name="line1953"><font color="#000000">1953:</font></a> Do not let <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> display messages about waiting for
<a name="line1954"><font color="#000000">1954:</font></a> Emacs or connecting to remote server sockets.
<a name="line1955"><font color="#000000">1955:</font></a> 
<a name="line1956"><font color="#000000">1956:</font></a> <b><font color="#0000FF">@item</font></b> -u
<a name="line1957"><font color="#000000">1957:</font></a> <b><font color="#0000FF">@itemx</font></b> --suppress-output
<a name="line1958"><font color="#000000">1958:</font></a> Do not let <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> display results returned from the
<a name="line1959"><font color="#000000">1959:</font></a> server.  Mostly useful in combination with <b><font color="#0000FF">@samp</font></b><font color="#009900">{-e}</font> when the
<a name="line1960"><font color="#000000">1960:</font></a> evaluation performed is for side-effect rather than result.
<a name="line1961"><font color="#000000">1961:</font></a> 
<a name="line1962"><font color="#000000">1962:</font></a> <b><font color="#0000FF">@item</font></b> -s <b><font color="#0000FF">@var</font></b><font color="#009900">{server-name}</font>
<a name="line1963"><font color="#000000">1963:</font></a> <b><font color="#0000FF">@itemx</font></b> --socket-name=<b><font color="#0000FF">@var</font></b><font color="#009900">{server-name}</font>
<a name="line1964"><font color="#000000">1964:</font></a> Connect to the Emacs server named <b><font color="#0000FF">@var</font></b><font color="#009900">{server-name}</font>.  The server name
<a name="line1965"><font color="#000000">1965:</font></a> is given by the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{server-name}</font> on the Emacs server.  If
<a name="line1966"><font color="#000000">1966:</font></a> this option is omitted, <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> connects to the first
<a name="line1967"><font color="#000000">1967:</font></a> server it finds.  (This option is not supported on MS-Windows.)
<a name="line1968"><font color="#000000">1968:</font></a> 
<a name="line1969"><font color="#000000">1969:</font></a> <b><font color="#0000FF">@item</font></b> -t
<a name="line1970"><font color="#000000">1970:</font></a> <b><font color="#0000FF">@itemx</font></b> --tty
<a name="line1971"><font color="#000000">1971:</font></a> <b><font color="#0000FF">@itemx</font></b> -nw
<a name="line1972"><font color="#000000">1972:</font></a> Create a new client frame on the current text terminal, instead of
<a name="line1973"><font color="#000000">1973:</font></a> using an existing Emacs frame.  This behaves just like the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-c}</font>
<a name="line1974"><font color="#000000">1974:</font></a> option, described above, except that it creates a text terminal frame
<a name="line1975"><font color="#000000">1975:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Non-Window Terminals</font><font color="#FF0000">}</font>).
<a name="line1976"><font color="#000000">1976:</font></a> 
<a name="line1977"><font color="#000000">1977:</font></a> On MS-Windows, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font> behaves just like <b><font color="#0000FF">@samp</font></b><font color="#009900">{-c}</font> if the Emacs
<a name="line1978"><font color="#000000">1978:</font></a> server is using the graphical display, but if the Emacs server is
<a name="line1979"><font color="#000000">1979:</font></a> running on a text terminal, it creates a new frame in the current text
<a name="line1980"><font color="#000000">1980:</font></a> terminal.
<a name="line1981"><font color="#000000">1981:</font></a> 
<a name="line1982"><font color="#000000">1982:</font></a> <b><font color="#0000FF">@item</font></b> -T <b><font color="#0000FF">@var{tramp-pref</font></b><font color="#FF0000">ix</font><font color="#FF0000">}</font>
<a name="line1983"><font color="#000000">1983:</font></a> <b><font color="#0000FF">@itemx</font></b> --tramp-prefix=<b><font color="#0000FF">@var{tramp-pref</font></b><font color="#FF0000">ix</font><font color="#FF0000">}</font>
<a name="line1984"><font color="#000000">1984:</font></a> Set the prefix to add to filenames for Emacs to locate files on remote
<a name="line1985"><font color="#000000">1985:</font></a> machines (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Remote Files</font><font color="#FF0000">}</font>) using TRAMP (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, The Tramp</font>
<a name="line1986"><font color="#000000">1986:</font></a> <font color="#FF0000">Manual,, tramp, The Tramp Manual</font><font color="#FF0000">}</font>).  This is mostly useful in
<a name="line1987"><font color="#000000">1987:</font></a> combination with using the Emacs server over TCP (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">TCP Emacs</font>
<a name="line1988"><font color="#000000">1988:</font></a> <font color="#FF0000">server</font><font color="#FF0000">}</font>).  By ssh-forwarding the listening port and making the
<a name="line1989"><font color="#000000">1989:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{server-file}</font> available on a remote machine, programs on the
<a name="line1990"><font color="#000000">1990:</font></a> remote machine can use <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font> as the value for the
<a name="line1991"><font color="#000000">1991:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{EDITOR}</font> and similar environment variables, but instead of talking
<a name="line1992"><font color="#000000">1992:</font></a> to an Emacs server on the remote machine, the files will be visited in
<a name="line1993"><font color="#000000">1993:</font></a> the local Emacs session using TRAMP.
<a name="line1994"><font color="#000000">1994:</font></a> 
<a name="line1995"><font color="#000000">1995:</font></a> <b><font color="#0000FF">@vindex</font></b> EMACSCLIENT_TRAMP<b><font color="#0000FF">@r</font></b><font color="#009900">{, environment variable}</font>
<a name="line1996"><font color="#000000">1996:</font></a> Setting the environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{EMACSCLIENT_TRAMP}</font> has the same
<a name="line1997"><font color="#000000">1997:</font></a> effect as using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-T}</font> option.  If both are specified, the
<a name="line1998"><font color="#000000">1998:</font></a> command-line option takes precedence.
<a name="line1999"><font color="#000000">1999:</font></a> 
<a name="line2000"><font color="#000000">2000:</font></a> For example, assume two hosts, <b><font color="#0000FF">@samp</font></b><font color="#009900">{local}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{remote}</font>, and
<a name="line2001"><font color="#000000">2001:</font></a> that the local Emacs listens on tcp port 12345.  Assume further that
<a name="line2002"><font color="#000000">2002:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{/home}</font> is on a shared file system, so that the server file
<a name="line2003"><font color="#000000">2003:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/server/server}</font> is readable on both hosts.
<a name="line2004"><font color="#000000">2004:</font></a> 
<a name="line2005"><font color="#000000">2005:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2006"><font color="#000000">2006:</font></a> local$ ssh -R12345:localhost:12345 remote
<a name="line2007"><font color="#000000">2007:</font></a> remote$ export EDITOR="emacsclient \
<a name="line2008"><font color="#000000">2008:</font></a>         --server-file=server \
<a name="line2009"><font color="#000000">2009:</font></a>         --tramp=/ssh:remote:"
<a name="line2010"><font color="#000000">2010:</font></a> remote$ $EDITOR /tmp/foo.txt #Should open in local emacs.
<a name="line2011"><font color="#000000">2011:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2012"><font color="#000000">2012:</font></a> 
<a name="line2013"><font color="#000000">2013:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2014"><font color="#000000">2014:</font></a> 
<a name="line2015"><font color="#000000">2015:</font></a>   The new graphical or text terminal frames created by the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-c}</font>
<a name="line2016"><font color="#000000">2016:</font></a> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font> options are considered <b><font color="#0000FF">@dfn</font></b><font color="#009900">{client frames}</font>.  Any new
<a name="line2017"><font color="#000000">2017:</font></a> frame that you create from a client frame is also considered a client
<a name="line2018"><font color="#000000">2018:</font></a> frame.  If you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-c}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{save-buffers-kill-terminal}</font>)
<a name="line2019"><font color="#000000">2019:</font></a> in a client frame, that command does not kill the Emacs session as it
<a name="line2020"><font color="#000000">2020:</font></a> normally does (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Exiting</font><font color="#FF0000">}</font>).  Instead, Emacs deletes the client
<a name="line2021"><font color="#000000">2021:</font></a> frame; furthermore, if the client frame has an <b><font color="#0000FF">@command</font></b><font color="#009900">{emacsclient}</font>
<a name="line2022"><font color="#000000">2022:</font></a> waiting to regain control (i.e., if you did not supply the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-n}</font>
<a name="line2023"><font color="#000000">2023:</font></a> option), Emacs deletes all other frames of the same client, and marks
<a name="line2024"><font color="#000000">2024:</font></a> the client's server buffers as finished, as though you had typed
<a name="line2025"><font color="#000000">2025:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x #}</font> in all of them.  If it so happens that there are no
<a name="line2026"><font color="#000000">2026:</font></a> remaining frames after the client frame(s) are deleted, the Emacs
<a name="line2027"><font color="#000000">2027:</font></a> session exits.
<a name="line2028"><font color="#000000">2028:</font></a> 
<a name="line2029"><font color="#000000">2029:</font></a>   As an exception, when Emacs is started as a daemon, all frames are
<a name="line2030"><font color="#000000">2030:</font></a> considered client frames, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-c}</font> never kills Emacs.  To
<a name="line2031"><font color="#000000">2031:</font></a> kill a daemon session, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x kill-emacs}</font>.
<a name="line2032"><font color="#000000">2032:</font></a> 
<a name="line2033"><font color="#000000">2033:</font></a>   Note that the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{-n}</font> options are contradictory:
<a name="line2034"><font color="#000000">2034:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font> says to take control of the current text terminal to create
<a name="line2035"><font color="#000000">2035:</font></a> a new client frame, while <b><font color="#0000FF">@samp</font></b><font color="#009900">{-n}</font> says not to take control of the
<a name="line2036"><font color="#000000">2036:</font></a> text terminal.  If you supply both options, Emacs visits the specified
<a name="line2037"><font color="#000000">2037:</font></a> files(s) in an existing frame rather than a new client frame, negating
<a name="line2038"><font color="#000000">2038:</font></a> the effect of <b><font color="#0000FF">@samp</font></b><font color="#009900">{-t}</font>.
<a name="line2039"><font color="#000000">2039:</font></a> 
<a name="line2040"><font color="#000000">2040:</font></a> <b><font color="#0000FF">@node</font></b> Printing
<a name="line2041"><font color="#000000">2041:</font></a> <b><font color="#0000FF">@section</font></b> Printing Hard Copies
<a name="line2042"><font color="#000000">2042:</font></a> <i><font color="#9A1900">@cindex hardcopy</font></i>
<a name="line2043"><font color="#000000">2043:</font></a> <i><font color="#9A1900">@cindex printing</font></i>
<a name="line2044"><font color="#000000">2044:</font></a> 
<a name="line2045"><font color="#000000">2045:</font></a>   Emacs provides commands for printing hardcopies of either an entire
<a name="line2046"><font color="#000000">2046:</font></a> buffer or part of one.  You can invoke the printing commands directly,
<a name="line2047"><font color="#000000">2047:</font></a> as detailed below, or using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{File}</font> menu on the menu bar.
<a name="line2048"><font color="#000000">2048:</font></a> 
<a name="line2049"><font color="#000000">2049:</font></a> <b><font color="#0000FF">@findex</font></b> htmlfontify-buffer
<a name="line2050"><font color="#000000">2050:</font></a>   Aside from the commands described in this section, you can also
<a name="line2051"><font color="#000000">2051:</font></a> print hardcopies from Dired (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Operating on Files</font><font color="#FF0000">}</font>) and the diary
<a name="line2052"><font color="#000000">2052:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Displaying the Diary</font><font color="#FF0000">}</font>).  You can also ``print'' an Emacs
<a name="line2053"><font color="#000000">2053:</font></a> buffer to HTML with the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x htmlfontify-buffer}</font>, which
<a name="line2054"><font color="#000000">2054:</font></a> converts the current buffer to a HTML file, replacing Emacs faces with
<a name="line2055"><font color="#000000">2055:</font></a> CSS-based markup.  Furthermore, Org mode allows you to print Org
<a name="line2056"><font color="#000000">2056:</font></a> files to a variety of formats, such as PDF (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Org Mode</font><font color="#FF0000">}</font>).
<a name="line2057"><font color="#000000">2057:</font></a> 
<a name="line2058"><font color="#000000">2058:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2059"><font color="#000000">2059:</font></a> <b><font color="#0000FF">@item</font></b> M-x print-buffer
<a name="line2060"><font color="#000000">2060:</font></a> Print hardcopy of current buffer with page headings containing the
<a name="line2061"><font color="#000000">2061:</font></a> file name and page number.
<a name="line2062"><font color="#000000">2062:</font></a> <b><font color="#0000FF">@item</font></b> M-x lpr-buffer
<a name="line2063"><font color="#000000">2063:</font></a> Print hardcopy of current buffer without page headings.
<a name="line2064"><font color="#000000">2064:</font></a> <b><font color="#0000FF">@item</font></b> M-x print-region
<a name="line2065"><font color="#000000">2065:</font></a> Like <b><font color="#0000FF">@code</font></b><font color="#009900">{print-buffer}</font> but print only the current region.
<a name="line2066"><font color="#000000">2066:</font></a> <b><font color="#0000FF">@item</font></b> M-x lpr-region
<a name="line2067"><font color="#000000">2067:</font></a> Like <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-buffer}</font> but print only the current region.
<a name="line2068"><font color="#000000">2068:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2069"><font color="#000000">2069:</font></a> 
<a name="line2070"><font color="#000000">2070:</font></a> <b><font color="#0000FF">@findex</font></b> print-buffer
<a name="line2071"><font color="#000000">2071:</font></a> <b><font color="#0000FF">@findex</font></b> print-region
<a name="line2072"><font color="#000000">2072:</font></a> <b><font color="#0000FF">@findex</font></b> lpr-buffer
<a name="line2073"><font color="#000000">2073:</font></a> <b><font color="#0000FF">@findex</font></b> lpr-region
<a name="line2074"><font color="#000000">2074:</font></a> <b><font color="#0000FF">@vindex</font></b> lpr-switches
<a name="line2075"><font color="#000000">2075:</font></a> <b><font color="#0000FF">@vindex</font></b> lpr-commands
<a name="line2076"><font color="#000000">2076:</font></a>   On most operating systems, the above hardcopy commands submit files
<a name="line2077"><font color="#000000">2077:</font></a> for printing by calling the <b><font color="#0000FF">@command</font></b><font color="#009900">{lpr}</font> program.  To change the
<a name="line2078"><font color="#000000">2078:</font></a> printer program, customize the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-command}</font>.  To
<a name="line2079"><font color="#000000">2079:</font></a> specify extra switches to give the printer program, customize the list
<a name="line2080"><font color="#000000">2080:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-switches}</font>.  Its value should be a list of option
<a name="line2081"><font color="#000000">2081:</font></a> strings, each of which should start with <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> (e.g., the option
<a name="line2082"><font color="#000000">2082:</font></a> string <b><font color="#0000FF">@code</font></b><font color="#009900">{"-w80"}</font> specifies a line width of 80 columns).  The
<a name="line2083"><font color="#000000">2083:</font></a> default is the empty list, <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line2084"><font color="#000000">2084:</font></a> 
<a name="line2085"><font color="#000000">2085:</font></a> <b><font color="#0000FF">@vindex</font></b> printer-name
<a name="line2086"><font color="#000000">2086:</font></a> <b><font color="#0000FF">@vindex</font></b> lpr-printer-switch
<a name="line2087"><font color="#000000">2087:</font></a>   To specify the printer to use, set the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{printer-name}</font>.
<a name="line2088"><font color="#000000">2088:</font></a> The default, <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, specifies the default printer.  If you set it
<a name="line2089"><font color="#000000">2089:</font></a> to a printer name (a string), that name is passed to <b><font color="#0000FF">@command</font></b><font color="#009900">{lpr}</font>
<a name="line2090"><font color="#000000">2090:</font></a> with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-P}</font> switch; if you are not using <b><font color="#0000FF">@command</font></b><font color="#009900">{lpr}</font>, you
<a name="line2091"><font color="#000000">2091:</font></a> should specify the switch with <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-printer-switch}</font>.
<a name="line2092"><font color="#000000">2092:</font></a> 
<a name="line2093"><font color="#000000">2093:</font></a> <b><font color="#0000FF">@vindex</font></b> lpr-headers-switches
<a name="line2094"><font color="#000000">2094:</font></a> <b><font color="#0000FF">@vindex</font></b> lpr-add-switches
<a name="line2095"><font color="#000000">2095:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{lpr-headers-switches}</font> similarly specifies the
<a name="line2096"><font color="#000000">2096:</font></a> extra switches to use to make page headers.  The variable
<a name="line2097"><font color="#000000">2097:</font></a> <i><font color="#9A1900">@code{lpr-add-switches} controls whether to supply @samp{-T} and</font></i>
<a name="line2098"><font color="#000000">2098:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{-J}</font> options (suitable for <b><font color="#0000FF">@command</font></b><font color="#009900">{lpr}</font>) to the printer program:
<a name="line2099"><font color="#000000">2099:</font></a> <i><font color="#9A1900">@code{nil} means don't add them (this should be the value if your</font></i>
<a name="line2100"><font color="#000000">2100:</font></a> printer program is not compatible with <b><font color="#0000FF">@command</font></b><font color="#009900">{lpr}</font>).
<a name="line2101"><font color="#000000">2101:</font></a> 
<a name="line2102"><font color="#000000">2102:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line2103"><font color="#000000">2103:</font></a> <font color="#FF0000">* PostScript::</font>           Printing buffers or regions as PostScript.
<a name="line2104"><font color="#000000">2104:</font></a> <font color="#FF0000">* PostScript Variables::</font> Customizing the PostScript printing commands.
<a name="line2105"><font color="#000000">2105:</font></a> <font color="#FF0000">* Printing Package::</font>     An optional advanced printing interface.
<a name="line2106"><font color="#000000">2106:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line2107"><font color="#000000">2107:</font></a> 
<a name="line2108"><font color="#000000">2108:</font></a> <b><font color="#0000FF">@node</font></b> PostScript
<a name="line2109"><font color="#000000">2109:</font></a> <b><font color="#0000FF">@subsection</font></b> PostScript Hardcopy
<a name="line2110"><font color="#000000">2110:</font></a> 
<a name="line2111"><font color="#000000">2111:</font></a>   These commands convert buffer contents to PostScript,
<a name="line2112"><font color="#000000">2112:</font></a> either printing it or leaving it in another Emacs buffer.
<a name="line2113"><font color="#000000">2113:</font></a> 
<a name="line2114"><font color="#000000">2114:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2115"><font color="#000000">2115:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-print-buffer
<a name="line2116"><font color="#000000">2116:</font></a> Print hardcopy of the current buffer in PostScript form.
<a name="line2117"><font color="#000000">2117:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-print-region
<a name="line2118"><font color="#000000">2118:</font></a> Print hardcopy of the current region in PostScript form.
<a name="line2119"><font color="#000000">2119:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-print-buffer-with-faces
<a name="line2120"><font color="#000000">2120:</font></a> Print hardcopy of the current buffer in PostScript form, showing the
<a name="line2121"><font color="#000000">2121:</font></a> faces used in the text by means of PostScript features.
<a name="line2122"><font color="#000000">2122:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-print-region-with-faces
<a name="line2123"><font color="#000000">2123:</font></a> Print hardcopy of the current region in PostScript form, showing the
<a name="line2124"><font color="#000000">2124:</font></a> faces used in the text.
<a name="line2125"><font color="#000000">2125:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-spool-buffer
<a name="line2126"><font color="#000000">2126:</font></a> Generate and spool a PostScript image for the current buffer text.
<a name="line2127"><font color="#000000">2127:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-spool-region
<a name="line2128"><font color="#000000">2128:</font></a> Generate and spool a PostScript image for the current region.
<a name="line2129"><font color="#000000">2129:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-spool-buffer-with-faces
<a name="line2130"><font color="#000000">2130:</font></a> Generate and spool a PostScript image for the current buffer, showing the faces used.
<a name="line2131"><font color="#000000">2131:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-spool-region-with-faces
<a name="line2132"><font color="#000000">2132:</font></a> Generate and spool a PostScript image for the current region, showing the faces used.
<a name="line2133"><font color="#000000">2133:</font></a> <b><font color="#0000FF">@item</font></b> M-x ps-despool
<a name="line2134"><font color="#000000">2134:</font></a> Send the spooled PostScript to the printer.
<a name="line2135"><font color="#000000">2135:</font></a> <b><font color="#0000FF">@item</font></b> M-x handwrite
<a name="line2136"><font color="#000000">2136:</font></a> Generate/print PostScript for the current buffer as if handwritten.
<a name="line2137"><font color="#000000">2137:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2138"><font color="#000000">2138:</font></a> 
<a name="line2139"><font color="#000000">2139:</font></a> <b><font color="#0000FF">@findex</font></b> ps-print-region
<a name="line2140"><font color="#000000">2140:</font></a> <b><font color="#0000FF">@findex</font></b> ps-print-buffer
<a name="line2141"><font color="#000000">2141:</font></a> <b><font color="#0000FF">@findex</font></b> ps-print-region-with-faces
<a name="line2142"><font color="#000000">2142:</font></a> <b><font color="#0000FF">@findex</font></b> ps-print-buffer-with-faces
<a name="line2143"><font color="#000000">2143:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-buffer}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-region}</font> commands print
<a name="line2144"><font color="#000000">2144:</font></a> buffer contents in PostScript form.  One command prints the entire
<a name="line2145"><font color="#000000">2145:</font></a> buffer; the other, just the region.  The commands
<a name="line2146"><font color="#000000">2146:</font></a> <i><font color="#9A1900">@code{ps-print-buffer-with-faces} and</font></i>
<a name="line2147"><font color="#000000">2147:</font></a> <i><font color="#9A1900">@code{ps-print-region-with-faces} behave similarly, but use PostScript</font></i>
<a name="line2148"><font color="#000000">2148:</font></a> features to show the faces (fonts and colors) of the buffer text.
<a name="line2149"><font color="#000000">2149:</font></a> 
<a name="line2150"><font color="#000000">2150:</font></a>   Interactively, when you use a prefix argument (<b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u}</font>), these commands
<a name="line2151"><font color="#000000">2151:</font></a> prompt the user for a file name, and save the PostScript image in that file
<a name="line2152"><font color="#000000">2152:</font></a> instead of sending it to the printer.
<a name="line2153"><font color="#000000">2153:</font></a> 
<a name="line2154"><font color="#000000">2154:</font></a> <b><font color="#0000FF">@findex</font></b> ps-spool-region
<a name="line2155"><font color="#000000">2155:</font></a> <b><font color="#0000FF">@findex</font></b> ps-spool-buffer
<a name="line2156"><font color="#000000">2156:</font></a> <b><font color="#0000FF">@findex</font></b> ps-spool-region-with-faces
<a name="line2157"><font color="#000000">2157:</font></a> <b><font color="#0000FF">@findex</font></b> ps-spool-buffer-with-faces
<a name="line2158"><font color="#000000">2158:</font></a>   The commands whose names have <b><font color="#0000FF">@samp</font></b><font color="#009900">{spool}</font> instead of <b><font color="#0000FF">@samp</font></b><font color="#009900">{print}</font>,
<a name="line2159"><font color="#000000">2159:</font></a> generate the PostScript output in an Emacs buffer instead of sending
<a name="line2160"><font color="#000000">2160:</font></a> it to the printer.
<a name="line2161"><font color="#000000">2161:</font></a> 
<a name="line2162"><font color="#000000">2162:</font></a> <b><font color="#0000FF">@findex</font></b> ps-despool
<a name="line2163"><font color="#000000">2163:</font></a>   Use the command <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-despool}</font> to send the spooled images to the
<a name="line2164"><font color="#000000">2164:</font></a> printer.  This command sends the PostScript generated by
<a name="line2165"><font color="#000000">2165:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{-spool-}</font> commands (see commands above) to the printer.  With a
<a name="line2166"><font color="#000000">2166:</font></a> prefix argument (<b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u}</font>), it prompts for a file name, and saves the
<a name="line2167"><font color="#000000">2167:</font></a> spooled PostScript image in that file instead of sending it to the
<a name="line2168"><font color="#000000">2168:</font></a> printer.
<a name="line2169"><font color="#000000">2169:</font></a> 
<a name="line2170"><font color="#000000">2170:</font></a> <b><font color="#0000FF">@findex</font></b> handwrite
<a name="line2171"><font color="#000000">2171:</font></a> <i><font color="#9A1900">@cindex handwriting</font></i>
<a name="line2172"><font color="#000000">2172:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x handwrite}</font> is more frivolous.  It generates a PostScript
<a name="line2173"><font color="#000000">2173:</font></a> rendition of the current buffer as a cursive handwritten document.  It
<a name="line2174"><font color="#000000">2174:</font></a> can be customized in group <b><font color="#0000FF">@code</font></b><font color="#009900">{handwrite}</font>.  This function only
<a name="line2175"><font color="#000000">2175:</font></a> supports ISO 8859-1 characters.
<a name="line2176"><font color="#000000">2176:</font></a> 
<a name="line2177"><font color="#000000">2177:</font></a> <b><font color="#0000FF">@node</font></b> PostScript Variables
<a name="line2178"><font color="#000000">2178:</font></a> <b><font color="#0000FF">@subsection</font></b> Variables for PostScript Hardcopy
<a name="line2179"><font color="#000000">2179:</font></a> 
<a name="line2180"><font color="#000000">2180:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-lpr-command
<a name="line2181"><font color="#000000">2181:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-lpr-switches
<a name="line2182"><font color="#000000">2182:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-printer-name
<a name="line2183"><font color="#000000">2183:</font></a>   All the PostScript hardcopy commands use the variables
<a name="line2184"><font color="#000000">2184:</font></a> <i><font color="#9A1900">@code{ps-lpr-command} and @code{ps-lpr-switches} to specify how to print</font></i>
<a name="line2185"><font color="#000000">2185:</font></a> the output.  <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-lpr-command}</font> specifies the command name to run,
<a name="line2186"><font color="#000000">2186:</font></a> <i><font color="#9A1900">@code{ps-lpr-switches} specifies command line options to use, and</font></i>
<a name="line2187"><font color="#000000">2187:</font></a> <i><font color="#9A1900">@code{ps-printer-name} specifies the printer.  If you don't set the</font></i>
<a name="line2188"><font color="#000000">2188:</font></a> first two variables yourself, they take their initial values from
<a name="line2189"><font color="#000000">2189:</font></a> <i><font color="#9A1900">@code{lpr-command} and @code{lpr-switches}.  If @code{ps-printer-name}</font></i>
<a name="line2190"><font color="#000000">2190:</font></a> is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{printer-name}</font> is used.
<a name="line2191"><font color="#000000">2191:</font></a> 
<a name="line2192"><font color="#000000">2192:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-print-header
<a name="line2193"><font color="#000000">2193:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-header}</font> controls whether these commands
<a name="line2194"><font color="#000000">2194:</font></a> add header lines to each page---set it to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> to turn headers
<a name="line2195"><font color="#000000">2195:</font></a> off.
<a name="line2196"><font color="#000000">2196:</font></a> 
<a name="line2197"><font color="#000000">2197:</font></a> <i><font color="#9A1900">@cindex color emulation on black-and-white printers</font></i>
<a name="line2198"><font color="#000000">2198:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-print-color-p
<a name="line2199"><font color="#000000">2199:</font></a>   If your printer doesn't support colors, you should turn off color
<a name="line2200"><font color="#000000">2200:</font></a> processing by setting <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-color-p}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.  By
<a name="line2201"><font color="#000000">2201:</font></a> default, if the display supports colors, Emacs produces hardcopy output
<a name="line2202"><font color="#000000">2202:</font></a> with color information; on black-and-white printers, colors are emulated
<a name="line2203"><font color="#000000">2203:</font></a> with shades of gray.  This might produce illegible output, even if your
<a name="line2204"><font color="#000000">2204:</font></a> screen colors only use shades of gray.
<a name="line2205"><font color="#000000">2205:</font></a> 
<a name="line2206"><font color="#000000">2206:</font></a>   Alternatively, you can set <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-print-color-p}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{black-white}</font> to
<a name="line2207"><font color="#000000">2207:</font></a> print colors on black/white printers.
<a name="line2208"><font color="#000000">2208:</font></a> 
<a name="line2209"><font color="#000000">2209:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-use-face-background
<a name="line2210"><font color="#000000">2210:</font></a>   By default, PostScript printing ignores the background colors of the
<a name="line2211"><font color="#000000">2211:</font></a> faces, unless the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-use-face-background}</font> is
<a name="line2212"><font color="#000000">2212:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.  This is to avoid unwanted interference with the zebra
<a name="line2213"><font color="#000000">2213:</font></a> stripes and background image/text.
<a name="line2214"><font color="#000000">2214:</font></a> 
<a name="line2215"><font color="#000000">2215:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-paper-type
<a name="line2216"><font color="#000000">2216:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-page-dimensions-database
<a name="line2217"><font color="#000000">2217:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-paper-type}</font> specifies which size of paper to
<a name="line2218"><font color="#000000">2218:</font></a> format for; legitimate values include <b><font color="#0000FF">@code</font></b><font color="#009900">{a4}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{a3}</font>,
<a name="line2219"><font color="#000000">2219:</font></a> <i><font color="#9A1900">@code{a4small}, @code{b4}, @code{b5}, @code{executive}, @code{ledger},</font></i>
<a name="line2220"><font color="#000000">2220:</font></a> <i><font color="#9A1900">@code{legal}, @code{letter}, @code{letter-small}, @code{statement},</font></i>
<a name="line2221"><font color="#000000">2221:</font></a> <i><font color="#9A1900">@code{tabloid}.  The default is @code{letter}.  You can define</font></i>
<a name="line2222"><font color="#000000">2222:</font></a> additional paper sizes by changing the variable
<a name="line2223"><font color="#000000">2223:</font></a> <i><font color="#9A1900">@code{ps-page-dimensions-database}.</font></i>
<a name="line2224"><font color="#000000">2224:</font></a> 
<a name="line2225"><font color="#000000">2225:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-landscape-mode
<a name="line2226"><font color="#000000">2226:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-landscape-mode}</font> specifies the orientation of
<a name="line2227"><font color="#000000">2227:</font></a> printing on the page.  The default is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, which stands for
<a name="line2228"><font color="#000000">2228:</font></a> portrait mode.  Any non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value specifies landscape
<a name="line2229"><font color="#000000">2229:</font></a> mode.
<a name="line2230"><font color="#000000">2230:</font></a> 
<a name="line2231"><font color="#000000">2231:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-number-of-columns
<a name="line2232"><font color="#000000">2232:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-number-of-columns}</font> specifies the number of
<a name="line2233"><font color="#000000">2233:</font></a> columns; it takes effect in both landscape and portrait mode.  The
<a name="line2234"><font color="#000000">2234:</font></a> default is 1.
<a name="line2235"><font color="#000000">2235:</font></a> 
<a name="line2236"><font color="#000000">2236:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-font-family
<a name="line2237"><font color="#000000">2237:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-font-size
<a name="line2238"><font color="#000000">2238:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-font-info-database
<a name="line2239"><font color="#000000">2239:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-font-family}</font> specifies which font family to use
<a name="line2240"><font color="#000000">2240:</font></a> for printing ordinary text.  Legitimate values include <b><font color="#0000FF">@code</font></b><font color="#009900">{Courier}</font>,
<a name="line2241"><font color="#000000">2241:</font></a> <i><font color="#9A1900">@code{Helvetica}, @code{NewCenturySchlbk}, @code{Palatino} and</font></i>
<a name="line2242"><font color="#000000">2242:</font></a> <i><font color="#9A1900">@code{Times}.  The variable @code{ps-font-size} specifies the size of</font></i>
<a name="line2243"><font color="#000000">2243:</font></a> the font for ordinary text and defaults to 8.5 points.  The value of
<a name="line2244"><font color="#000000">2244:</font></a> <i><font color="#9A1900">@code{ps-font-size} can also be a cons of 2 floats: one for landscape</font></i>
<a name="line2245"><font color="#000000">2245:</font></a> mode, the other for portrait mode.
<a name="line2246"><font color="#000000">2246:</font></a> 
<a name="line2247"><font color="#000000">2247:</font></a> <b><font color="#0000FF">@vindex</font></b> ps-multibyte-buffer
<a name="line2248"><font color="#000000">2248:</font></a> <i><font color="#9A1900">@cindex Intlfonts for PostScript printing</font></i>
<a name="line2249"><font color="#000000">2249:</font></a> <i><font color="#9A1900">@cindex fonts for PostScript printing</font></i>
<a name="line2250"><font color="#000000">2250:</font></a>   Emacs supports more scripts and characters than a typical PostScript
<a name="line2251"><font color="#000000">2251:</font></a> printer.  Thus, some of the characters in your buffer might not be
<a name="line2252"><font color="#000000">2252:</font></a> printable using the fonts built into your printer.  You can augment
<a name="line2253"><font color="#000000">2253:</font></a> the fonts supplied with the printer with those from the GNU Intlfonts
<a name="line2254"><font color="#000000">2254:</font></a> package, or you can instruct Emacs to use Intlfonts exclusively.  The
<a name="line2255"><font color="#000000">2255:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{ps-multibyte-buffer}</font> controls this: the default value,
<a name="line2256"><font color="#000000">2256:</font></a> <i><font color="#9A1900">@code{nil}, is appropriate for printing @acronym{ASCII} and Latin-1</font></i>
<a name="line2257"><font color="#000000">2257:</font></a> characters; a value of <b><font color="#0000FF">@code</font></b><font color="#009900">{non-latin-printer}</font> is for printers which
<a name="line2258"><font color="#000000">2258:</font></a> have the fonts for <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>, Latin-1, Japanese, and Korean
<a name="line2259"><font color="#000000">2259:</font></a> characters built into them.  A value of <b><font color="#0000FF">@code</font></b><font color="#009900">{bdf-font}</font> arranges for
<a name="line2260"><font color="#000000">2260:</font></a> the BDF fonts from the Intlfonts package to be used for <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">all</font></i><font color="#FF0000">}</font>
<a name="line2261"><font color="#000000">2261:</font></a> characters.  Finally, a value of <b><font color="#0000FF">@code</font></b><font color="#009900">{bdf-font-except-latin}</font>
<a name="line2262"><font color="#000000">2262:</font></a> instructs the printer to use built-in fonts for <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> and Latin-1
<a name="line2263"><font color="#000000">2263:</font></a> characters, and Intlfonts BDF fonts for the rest.
<a name="line2264"><font color="#000000">2264:</font></a> 
<a name="line2265"><font color="#000000">2265:</font></a> <b><font color="#0000FF">@vindex</font></b> bdf-directory-list
<a name="line2266"><font color="#000000">2266:</font></a>   To be able to use the BDF fonts, Emacs needs to know where to find
<a name="line2267"><font color="#000000">2267:</font></a> them.  The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{bdf-directory-list}</font> holds the list of
<a name="line2268"><font color="#000000">2268:</font></a> directories where Emacs should look for the fonts; the default value
<a name="line2269"><font color="#000000">2269:</font></a> includes a single directory <b><font color="#0000FF">@file</font></b><font color="#009900">{/usr/local/share/emacs/fonts/bdf}</font>.
<a name="line2270"><font color="#000000">2270:</font></a> 
<a name="line2271"><font color="#000000">2271:</font></a>   Many other customization variables for these commands are defined and
<a name="line2272"><font color="#000000">2272:</font></a> described in the Lisp files <b><font color="#0000FF">@file</font></b><font color="#009900">{ps-print.el}</font> and <b><font color="#0000FF">@file</font></b><font color="#009900">{ps-mule.el}</font>.
<a name="line2273"><font color="#000000">2273:</font></a> 
<a name="line2274"><font color="#000000">2274:</font></a> <b><font color="#0000FF">@node</font></b> Printing Package
<a name="line2275"><font color="#000000">2275:</font></a> <b><font color="#0000FF">@subsection</font></b> Printing Package
<a name="line2276"><font color="#000000">2276:</font></a> <i><font color="#9A1900">@cindex Printing package</font></i>
<a name="line2277"><font color="#000000">2277:</font></a> 
<a name="line2278"><font color="#000000">2278:</font></a>   The basic Emacs facilities for printing hardcopy can be extended
<a name="line2279"><font color="#000000">2279:</font></a> using the Printing package.  This provides an easy-to-use interface
<a name="line2280"><font color="#000000">2280:</font></a> for choosing what to print, previewing PostScript files before
<a name="line2281"><font color="#000000">2281:</font></a> printing, and setting various printing options such as print headers,
<a name="line2282"><font color="#000000">2282:</font></a> landscape or portrait modes, duplex modes, and so forth.  On GNU/Linux
<a name="line2283"><font color="#000000">2283:</font></a> or Unix systems, the Printing package relies on the <b><font color="#0000FF">@file</font></b><font color="#009900">{gs}</font> and
<a name="line2284"><font color="#000000">2284:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{gv}</font> utilities, which are distributed as part of the GhostScript
<a name="line2285"><font color="#000000">2285:</font></a> program.  On MS-Windows, the <b><font color="#0000FF">@file</font></b><font color="#009900">{gstools}</font> port of Ghostscript can be
<a name="line2286"><font color="#000000">2286:</font></a> used.
<a name="line2287"><font color="#000000">2287:</font></a> 
<a name="line2288"><font color="#000000">2288:</font></a> <b><font color="#0000FF">@findex</font></b> pr-interface
<a name="line2289"><font color="#000000">2289:</font></a>   To use the Printing package, add <b><font color="#0000FF">@code</font></b><font color="#009900">{(require 'printing)}</font> to your
<a name="line2290"><font color="#000000">2290:</font></a> init file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>), followed by <b><font color="#0000FF">@code</font></b><font color="#009900">{(pr-update-menus)}</font>.
<a name="line2291"><font color="#000000">2291:</font></a> This function replaces the usual printing commands in the menu bar
<a name="line2292"><font color="#000000">2292:</font></a> with a <b><font color="#0000FF">@samp</font></b><font color="#009900">{Printing}</font> submenu that contains various printing options.
<a name="line2293"><font color="#000000">2293:</font></a> You can also type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x pr-interface @key{RET}}</font>; this creates a
<a name="line2294"><font color="#000000">2294:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*Printing Interface*}</font> buffer, similar to a customization buffer,
<a name="line2295"><font color="#000000">2295:</font></a> where you can set the printing options.  After selecting what and how
<a name="line2296"><font color="#000000">2296:</font></a> to print, you start the print job using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Print}</font> button (click
<a name="line2297"><font color="#000000">2297:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font> on it, or move point over it and type <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>).  For
<a name="line2298"><font color="#000000">2298:</font></a> further information on the various options, use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Interface</font>
<a name="line2299"><font color="#000000">2299:</font></a> <font color="#009900">Help}</font> button.
<a name="line2300"><font color="#000000">2300:</font></a> 
<a name="line2301"><font color="#000000">2301:</font></a> <b><font color="#0000FF">@node</font></b> Sorting
<a name="line2302"><font color="#000000">2302:</font></a> <b><font color="#0000FF">@section</font></b> Sorting Text
<a name="line2303"><font color="#000000">2303:</font></a> <i><font color="#9A1900">@cindex sorting</font></i>
<a name="line2304"><font color="#000000">2304:</font></a> 
<a name="line2305"><font color="#000000">2305:</font></a>   Emacs provides several commands for sorting text in the buffer.  All
<a name="line2306"><font color="#000000">2306:</font></a> operate on the contents of the region.
<a name="line2307"><font color="#000000">2307:</font></a> They divide the text of the region into many <b><font color="#0000FF">@dfn</font></b><font color="#009900">{sort records}</font>,
<a name="line2308"><font color="#000000">2308:</font></a> identify a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{sort key}</font> for each record, and then reorder the records
<a name="line2309"><font color="#000000">2309:</font></a> into the order determined by the sort keys.  The records are ordered so
<a name="line2310"><font color="#000000">2310:</font></a> that their keys are in alphabetical order, or, for numeric sorting, in
<a name="line2311"><font color="#000000">2311:</font></a> numeric order.  In alphabetic sorting, all upper-case letters <b><font color="#0000FF">@samp</font></b><font color="#009900">{A}</font>
<a name="line2312"><font color="#000000">2312:</font></a> through <b><font color="#0000FF">@samp</font></b><font color="#009900">{Z}</font> come before lower-case <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font>, in accordance with the
<a name="line2313"><font color="#000000">2313:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> character sequence (but <b><font color="#0000FF">@code</font></b><font color="#009900">{sort-fold-case}</font>,
<a name="line2314"><font color="#000000">2314:</font></a> described below, can change that).
<a name="line2315"><font color="#000000">2315:</font></a> 
<a name="line2316"><font color="#000000">2316:</font></a>   The various sort commands differ in how they divide the text into sort
<a name="line2317"><font color="#000000">2317:</font></a> records and in which part of each record is used as the sort key.  Most of
<a name="line2318"><font color="#000000">2318:</font></a> the commands make each line a separate sort record, but some commands use
<a name="line2319"><font color="#000000">2319:</font></a> paragraphs or pages as sort records.  Most of the sort commands use each
<a name="line2320"><font color="#000000">2320:</font></a> entire sort record as its own sort key, but some use only a portion of the
<a name="line2321"><font color="#000000">2321:</font></a> record as the sort key.
<a name="line2322"><font color="#000000">2322:</font></a> 
<a name="line2323"><font color="#000000">2323:</font></a> <b><font color="#0000FF">@findex</font></b> sort-lines
<a name="line2324"><font color="#000000">2324:</font></a> <b><font color="#0000FF">@findex</font></b> sort-paragraphs
<a name="line2325"><font color="#000000">2325:</font></a> <b><font color="#0000FF">@findex</font></b> sort-pages
<a name="line2326"><font color="#000000">2326:</font></a> <b><font color="#0000FF">@findex</font></b> sort-fields
<a name="line2327"><font color="#000000">2327:</font></a> <b><font color="#0000FF">@findex</font></b> sort-numeric-fields
<a name="line2328"><font color="#000000">2328:</font></a> <b><font color="#0000FF">@vindex</font></b> sort-numeric-base
<a name="line2329"><font color="#000000">2329:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2330"><font color="#000000">2330:</font></a> <b><font color="#0000FF">@item</font></b> M-x sort-lines
<a name="line2331"><font color="#000000">2331:</font></a> Divide the region into lines, and sort by comparing the entire
<a name="line2332"><font color="#000000">2332:</font></a> text of a line.  A numeric argument means sort into descending order.
<a name="line2333"><font color="#000000">2333:</font></a> 
<a name="line2334"><font color="#000000">2334:</font></a> <b><font color="#0000FF">@item</font></b> M-x sort-paragraphs
<a name="line2335"><font color="#000000">2335:</font></a> Divide the region into paragraphs, and sort by comparing the entire
<a name="line2336"><font color="#000000">2336:</font></a> text of a paragraph (except for leading blank lines).  A numeric
<a name="line2337"><font color="#000000">2337:</font></a> argument means sort into descending order.
<a name="line2338"><font color="#000000">2338:</font></a> 
<a name="line2339"><font color="#000000">2339:</font></a> <b><font color="#0000FF">@item</font></b> M-x sort-pages
<a name="line2340"><font color="#000000">2340:</font></a> Divide the region into pages, and sort by comparing the entire
<a name="line2341"><font color="#000000">2341:</font></a> text of a page (except for leading blank lines).  A numeric
<a name="line2342"><font color="#000000">2342:</font></a> argument means sort into descending order.
<a name="line2343"><font color="#000000">2343:</font></a> 
<a name="line2344"><font color="#000000">2344:</font></a> <b><font color="#0000FF">@item</font></b> M-x sort-fields
<a name="line2345"><font color="#000000">2345:</font></a> Divide the region into lines, and sort by comparing the contents of
<a name="line2346"><font color="#000000">2346:</font></a> one field in each line.  Fields are defined as separated by
<a name="line2347"><font color="#000000">2347:</font></a> whitespace, so the first run of consecutive non-whitespace characters
<a name="line2348"><font color="#000000">2348:</font></a> in a line constitutes field 1, the second such run constitutes field
<a name="line2349"><font color="#000000">2349:</font></a> 2, etc.
<a name="line2350"><font color="#000000">2350:</font></a> 
<a name="line2351"><font color="#000000">2351:</font></a> Specify which field to sort by with a numeric argument: 1 to sort by
<a name="line2352"><font color="#000000">2352:</font></a> field 1, etc.; the default is 1.  A negative argument means count
<a name="line2353"><font color="#000000">2353:</font></a> fields from the right instead of from the left; thus, minus 1 means
<a name="line2354"><font color="#000000">2354:</font></a> sort by the last field.  If several lines have identical contents in
<a name="line2355"><font color="#000000">2355:</font></a> the field being sorted, they keep the same relative order that they
<a name="line2356"><font color="#000000">2356:</font></a> had in the original buffer.
<a name="line2357"><font color="#000000">2357:</font></a> 
<a name="line2358"><font color="#000000">2358:</font></a> <b><font color="#0000FF">@item</font></b> M-x sort-numeric-fields
<a name="line2359"><font color="#000000">2359:</font></a> Like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x sort-fields}</font> except the specified field is converted
<a name="line2360"><font color="#000000">2360:</font></a> to an integer for each line, and the numbers are compared.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{10}</font>
<a name="line2361"><font color="#000000">2361:</font></a> comes before <b><font color="#0000FF">@samp</font></b><font color="#009900">{2}</font> when considered as text, but after it when
<a name="line2362"><font color="#000000">2362:</font></a> considered as a number.  By default, numbers are interpreted according
<a name="line2363"><font color="#000000">2363:</font></a> to <b><font color="#0000FF">@code</font></b><font color="#009900">{sort-numeric-base}</font>, but numbers beginning with <b><font color="#0000FF">@samp</font></b><font color="#009900">{0x}</font> or
<a name="line2364"><font color="#000000">2364:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{0}</font> are interpreted as hexadecimal and octal, respectively.
<a name="line2365"><font color="#000000">2365:</font></a> 
<a name="line2366"><font color="#000000">2366:</font></a> <b><font color="#0000FF">@item</font></b> M-x sort-columns
<a name="line2367"><font color="#000000">2367:</font></a> Like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x sort-fields}</font> except that the text within each line
<a name="line2368"><font color="#000000">2368:</font></a> used for comparison comes from a fixed range of columns.  With a
<a name="line2369"><font color="#000000">2369:</font></a> prefix argument, sort in reverse order.  See below for more details
<a name="line2370"><font color="#000000">2370:</font></a> on this command.
<a name="line2371"><font color="#000000">2371:</font></a> 
<a name="line2372"><font color="#000000">2372:</font></a> <b><font color="#0000FF">@findex</font></b> reverse-region
<a name="line2373"><font color="#000000">2373:</font></a> <b><font color="#0000FF">@item</font></b> M-x reverse-region
<a name="line2374"><font color="#000000">2374:</font></a> Reverse the order of the lines in the region.  This is useful for
<a name="line2375"><font color="#000000">2375:</font></a> sorting into descending order by fields, since those sort
<a name="line2376"><font color="#000000">2376:</font></a> commands do not have a feature for doing that.
<a name="line2377"><font color="#000000">2377:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2378"><font color="#000000">2378:</font></a> 
<a name="line2379"><font color="#000000">2379:</font></a>   For example, if the buffer contains this:
<a name="line2380"><font color="#000000">2380:</font></a> 
<a name="line2381"><font color="#000000">2381:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2382"><font color="#000000">2382:</font></a> On systems where clash detection (locking of files being edited) is
<a name="line2383"><font color="#000000">2383:</font></a> implemented, Emacs also checks the first time you modify a buffer
<a name="line2384"><font color="#000000">2384:</font></a> whether the file has changed on disk since it was last visited or
<a name="line2385"><font color="#000000">2385:</font></a> saved.  If it has, you are asked to confirm that you want to change
<a name="line2386"><font color="#000000">2386:</font></a> the buffer.
<a name="line2387"><font color="#000000">2387:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2388"><font color="#000000">2388:</font></a> 
<a name="line2389"><font color="#000000">2389:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2390"><font color="#000000">2390:</font></a> applying <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x sort-lines}</font> to the entire buffer produces this:
<a name="line2391"><font color="#000000">2391:</font></a> 
<a name="line2392"><font color="#000000">2392:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2393"><font color="#000000">2393:</font></a> On systems where clash detection (locking of files being edited) is
<a name="line2394"><font color="#000000">2394:</font></a> implemented, Emacs also checks the first time you modify a buffer
<a name="line2395"><font color="#000000">2395:</font></a> saved.  If it has, you are asked to confirm that you want to change
<a name="line2396"><font color="#000000">2396:</font></a> the buffer.
<a name="line2397"><font color="#000000">2397:</font></a> whether the file has changed on disk since it was last visited or
<a name="line2398"><font color="#000000">2398:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2399"><font color="#000000">2399:</font></a> 
<a name="line2400"><font color="#000000">2400:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2401"><font color="#000000">2401:</font></a> where the upper-case <b><font color="#0000FF">@samp</font></b><font color="#009900">{O}</font> sorts before all lower-case letters.  If
<a name="line2402"><font color="#000000">2402:</font></a> you use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u 2 M-x sort-fields}</font> instead, you get this:
<a name="line2403"><font color="#000000">2403:</font></a> 
<a name="line2404"><font color="#000000">2404:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2405"><font color="#000000">2405:</font></a> implemented, Emacs also checks the first time you modify a buffer
<a name="line2406"><font color="#000000">2406:</font></a> saved.  If it has, you are asked to confirm that you want to change
<a name="line2407"><font color="#000000">2407:</font></a> the buffer.
<a name="line2408"><font color="#000000">2408:</font></a> On systems where clash detection (locking of files being edited) is
<a name="line2409"><font color="#000000">2409:</font></a> whether the file has changed on disk since it was last visited or
<a name="line2410"><font color="#000000">2410:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2411"><font color="#000000">2411:</font></a> 
<a name="line2412"><font color="#000000">2412:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2413"><font color="#000000">2413:</font></a> where the sort keys were <b><font color="#0000FF">@samp</font></b><font color="#009900">{Emacs}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{If}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{buffer}</font>,
<a name="line2414"><font color="#000000">2414:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{systems}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{the}</font>.
<a name="line2415"><font color="#000000">2415:</font></a> 
<a name="line2416"><font color="#000000">2416:</font></a> <b><font color="#0000FF">@findex</font></b> sort-columns
<a name="line2417"><font color="#000000">2417:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x sort-columns}</font> requires more explanation.  You specify the
<a name="line2418"><font color="#000000">2418:</font></a> columns by putting point at one of the columns and the mark at the other
<a name="line2419"><font color="#000000">2419:</font></a> column.  Because this means you cannot put point or the mark at the
<a name="line2420"><font color="#000000">2420:</font></a> beginning of the first line of the text you want to sort, this command
<a name="line2421"><font color="#000000">2421:</font></a> uses an unusual definition of ``region'': all of the line point is in is
<a name="line2422"><font color="#000000">2422:</font></a> considered part of the region, and so is all of the line the mark is in,
<a name="line2423"><font color="#000000">2423:</font></a> as well as all the lines in between.
<a name="line2424"><font color="#000000">2424:</font></a> 
<a name="line2425"><font color="#000000">2425:</font></a>   For example, to sort a table by information found in columns 10 to 15,
<a name="line2426"><font color="#000000">2426:</font></a> you could put the mark on column 10 in the first line of the table, and
<a name="line2427"><font color="#000000">2427:</font></a> point on column 15 in the last line of the table, and then run
<a name="line2428"><font color="#000000">2428:</font></a> <i><font color="#9A1900">@code{sort-columns}.  Equivalently, you could run it with the mark on</font></i>
<a name="line2429"><font color="#000000">2429:</font></a> column 15 in the first line and point on column 10 in the last line.
<a name="line2430"><font color="#000000">2430:</font></a> 
<a name="line2431"><font color="#000000">2431:</font></a>   This can be thought of as sorting the rectangle specified by point and
<a name="line2432"><font color="#000000">2432:</font></a> the mark, except that the text on each line to the left or right of the
<a name="line2433"><font color="#000000">2433:</font></a> rectangle moves along with the text inside the rectangle.
<a name="line2434"><font color="#000000">2434:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Rectangles</font><font color="#FF0000">}</font>.
<a name="line2435"><font color="#000000">2435:</font></a> 
<a name="line2436"><font color="#000000">2436:</font></a> <b><font color="#0000FF">@vindex</font></b> sort-fold-case
<a name="line2437"><font color="#000000">2437:</font></a>   Many of the sort commands ignore case differences when comparing, if
<a name="line2438"><font color="#000000">2438:</font></a> <i><font color="#9A1900">@code{sort-fold-case} is non-@code{nil}.</font></i>
<a name="line2439"><font color="#000000">2439:</font></a> 
<a name="line2440"><font color="#000000">2440:</font></a> <i><font color="#9A1900">@c Picture Mode documentation</font></i>
<a name="line2441"><font color="#000000">2441:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line2442"><font color="#000000">2442:</font></a> <b><font color="#000080">@include</font></b> picture-xtra.texi
<a name="line2443"><font color="#000000">2443:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line2444"><font color="#000000">2444:</font></a> 
<a name="line2445"><font color="#000000">2445:</font></a> 
<a name="line2446"><font color="#000000">2446:</font></a> <b><font color="#0000FF">@node</font></b> Editing Binary Files
<a name="line2447"><font color="#000000">2447:</font></a> <b><font color="#0000FF">@section</font></b> Editing Binary Files
<a name="line2448"><font color="#000000">2448:</font></a> 
<a name="line2449"><font color="#000000">2449:</font></a> <i><font color="#9A1900">@cindex Hexl mode</font></i>
<a name="line2450"><font color="#000000">2450:</font></a> <i><font color="#9A1900">@cindex mode, Hexl</font></i>
<a name="line2451"><font color="#000000">2451:</font></a> <i><font color="#9A1900">@cindex editing binary files</font></i>
<a name="line2452"><font color="#000000">2452:</font></a> <i><font color="#9A1900">@cindex hex editing</font></i>
<a name="line2453"><font color="#000000">2453:</font></a>   There is a special major mode for editing binary files: Hexl mode.  To
<a name="line2454"><font color="#000000">2454:</font></a> use it, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x hexl-find-file}</font> instead of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-f}</font> to visit
<a name="line2455"><font color="#000000">2455:</font></a> the file.  This command converts the file's contents to hexadecimal and
<a name="line2456"><font color="#000000">2456:</font></a> lets you edit the translation.  When you save the file, it is converted
<a name="line2457"><font color="#000000">2457:</font></a> automatically back to binary.
<a name="line2458"><font color="#000000">2458:</font></a> 
<a name="line2459"><font color="#000000">2459:</font></a>   You can also use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x hexl-mode}</font> to translate an existing buffer
<a name="line2460"><font color="#000000">2460:</font></a> into hex.  This is useful if you visit a file normally and then discover
<a name="line2461"><font color="#000000">2461:</font></a> it is a binary file.
<a name="line2462"><font color="#000000">2462:</font></a> 
<a name="line2463"><font color="#000000">2463:</font></a>   Ordinary text characters overwrite in Hexl mode.  This is to reduce
<a name="line2464"><font color="#000000">2464:</font></a> the risk of accidentally spoiling the alignment of data in the file.
<a name="line2465"><font color="#000000">2465:</font></a> There are special commands for insertion.  Here is a list of the
<a name="line2466"><font color="#000000">2466:</font></a> commands of Hexl mode:
<a name="line2467"><font color="#000000">2467:</font></a> 
<a name="line2468"><font color="#000000">2468:</font></a> <i><font color="#9A1900">@c I don't think individual index entries for these commands are useful--RMS.</font></i>
<a name="line2469"><font color="#000000">2469:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2470"><font color="#000000">2470:</font></a> <b><font color="#0000FF">@item</font></b> C-M-d
<a name="line2471"><font color="#000000">2471:</font></a> Insert a byte with a code typed in decimal.
<a name="line2472"><font color="#000000">2472:</font></a> 
<a name="line2473"><font color="#000000">2473:</font></a> <b><font color="#0000FF">@item</font></b> C-M-o
<a name="line2474"><font color="#000000">2474:</font></a> Insert a byte with a code typed in octal.
<a name="line2475"><font color="#000000">2475:</font></a> 
<a name="line2476"><font color="#000000">2476:</font></a> <b><font color="#0000FF">@item</font></b> C-M-x
<a name="line2477"><font color="#000000">2477:</font></a> Insert a byte with a code typed in hex.
<a name="line2478"><font color="#000000">2478:</font></a> 
<a name="line2479"><font color="#000000">2479:</font></a> <b><font color="#0000FF">@item</font></b> C-x [
<a name="line2480"><font color="#000000">2480:</font></a> Move to the beginning of a 1k-byte page.
<a name="line2481"><font color="#000000">2481:</font></a> 
<a name="line2482"><font color="#000000">2482:</font></a> <b><font color="#0000FF">@item</font></b> C-x ]
<a name="line2483"><font color="#000000">2483:</font></a> Move to the end of a 1k-byte page.
<a name="line2484"><font color="#000000">2484:</font></a> 
<a name="line2485"><font color="#000000">2485:</font></a> <b><font color="#0000FF">@item</font></b> M-g
<a name="line2486"><font color="#000000">2486:</font></a> Move to an address specified in hex.
<a name="line2487"><font color="#000000">2487:</font></a> 
<a name="line2488"><font color="#000000">2488:</font></a> <b><font color="#0000FF">@item</font></b> M-j
<a name="line2489"><font color="#000000">2489:</font></a> Move to an address specified in decimal.
<a name="line2490"><font color="#000000">2490:</font></a> 
<a name="line2491"><font color="#000000">2491:</font></a> <b><font color="#0000FF">@item</font></b> C-c C-c
<a name="line2492"><font color="#000000">2492:</font></a> Leave Hexl mode, going back to the major mode this buffer had before you
<a name="line2493"><font color="#000000">2493:</font></a> invoked <b><font color="#0000FF">@code</font></b><font color="#009900">{hexl-mode}</font>.
<a name="line2494"><font color="#000000">2494:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2495"><font color="#000000">2495:</font></a> 
<a name="line2496"><font color="#000000">2496:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2497"><font color="#000000">2497:</font></a> Other Hexl commands let you insert strings (sequences) of binary
<a name="line2498"><font color="#000000">2498:</font></a> bytes, move by <b><font color="#0000FF">@code</font></b><font color="#009900">{short}</font>s or <b><font color="#0000FF">@code</font></b><font color="#009900">{int}</font>s, etc.; type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h a</font>
<a name="line2499"><font color="#000000">2499:</font></a> <font color="#009900">hexl-@key{RET}}</font> for details.
<a name="line2500"><font color="#000000">2500:</font></a> 
<a name="line2501"><font color="#000000">2501:</font></a> 
<a name="line2502"><font color="#000000">2502:</font></a> <b><font color="#0000FF">@node</font></b> Saving Emacs Sessions
<a name="line2503"><font color="#000000">2503:</font></a> <b><font color="#0000FF">@section</font></b> Saving Emacs Sessions
<a name="line2504"><font color="#000000">2504:</font></a> <i><font color="#9A1900">@cindex saving sessions</font></i>
<a name="line2505"><font color="#000000">2505:</font></a> <i><font color="#9A1900">@cindex restore session</font></i>
<a name="line2506"><font color="#000000">2506:</font></a> <i><font color="#9A1900">@cindex remember editing session</font></i>
<a name="line2507"><font color="#000000">2507:</font></a> <i><font color="#9A1900">@cindex reload files</font></i>
<a name="line2508"><font color="#000000">2508:</font></a> <i><font color="#9A1900">@cindex desktop</font></i>
<a name="line2509"><font color="#000000">2509:</font></a> 
<a name="line2510"><font color="#000000">2510:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-restore-frames
<a name="line2511"><font color="#000000">2511:</font></a>    Use the desktop library to save the state of Emacs from one session
<a name="line2512"><font color="#000000">2512:</font></a> to another.  Once you save the Emacs <b><font color="#0000FF">@dfn</font></b><font color="#009900">{desktop}</font>---the buffers,
<a name="line2513"><font color="#000000">2513:</font></a> their file names, major modes, buffer positions, and so on---then
<a name="line2514"><font color="#000000">2514:</font></a> subsequent Emacs sessions reload the saved desktop.  By default,
<a name="line2515"><font color="#000000">2515:</font></a> the desktop also tries to save the frame and window configuration.
<a name="line2516"><font color="#000000">2516:</font></a> To disable this, set <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-restore-frames}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line2517"><font color="#000000">2517:</font></a> (See that variable's documentation for some related options
<a name="line2518"><font color="#000000">2518:</font></a> that you can customize to fine-tune this behavior.)
<a name="line2519"><font color="#000000">2519:</font></a> 
<a name="line2520"><font color="#000000">2520:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-files-not-to-save
<a name="line2521"><font color="#000000">2521:</font></a> Information about buffers visiting remote files is not saved by
<a name="line2522"><font color="#000000">2522:</font></a> default.  Customize the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-files-not-to-save}</font> to
<a name="line2523"><font color="#000000">2523:</font></a> change this.
<a name="line2524"><font color="#000000">2524:</font></a> 
<a name="line2525"><font color="#000000">2525:</font></a> <b><font color="#0000FF">@vindex</font></b> frameset-filter-alist
<a name="line2526"><font color="#000000">2526:</font></a>    When the desktop restores the frame and window configuration, it
<a name="line2527"><font color="#000000">2527:</font></a> uses the recorded values of frame parameters, disregarding any
<a name="line2528"><font color="#000000">2528:</font></a> settings for those parameters you have in your init file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init</font>
<a name="line2529"><font color="#000000">2529:</font></a> <font color="#FF0000">File</font><font color="#FF0000">}</font>).  This means that frame parameters such as fonts and faces for
<a name="line2530"><font color="#000000">2530:</font></a> the restored frames will come from the desktop file, where they were
<a name="line2531"><font color="#000000">2531:</font></a> saved when you exited your previous Emacs session; any settings for
<a name="line2532"><font color="#000000">2532:</font></a> those parameters in your init file will be ignored.  To disable this,
<a name="line2533"><font color="#000000">2533:</font></a> customize the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{frameset-filter-alist}</font> to filter out the
<a name="line2534"><font color="#000000">2534:</font></a> frame parameters you don't want to be restored.
<a name="line2535"><font color="#000000">2535:</font></a> 
<a name="line2536"><font color="#000000">2536:</font></a> <b><font color="#0000FF">@findex</font></b> desktop-save
<a name="line2537"><font color="#000000">2537:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-save-mode
<a name="line2538"><font color="#000000">2538:</font></a>   You can save the desktop manually with the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2539"><font color="#000000">2539:</font></a> <font color="#009900">desktop-save}</font>.  You can also enable automatic saving of the desktop
<a name="line2540"><font color="#000000">2540:</font></a> when you exit Emacs, and automatic restoration of the last saved
<a name="line2541"><font color="#000000">2541:</font></a> desktop when Emacs starts: use the Customization buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Easy</font>
<a name="line2542"><font color="#000000">2542:</font></a> <font color="#FF0000">Customization</font><font color="#FF0000">}</font>) to set <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-save-mode}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> for future
<a name="line2543"><font color="#000000">2543:</font></a> sessions, or add this line in your init file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>):
<a name="line2544"><font color="#000000">2544:</font></a> 
<a name="line2545"><font color="#000000">2545:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2546"><font color="#000000">2546:</font></a> (desktop-save-mode 1)
<a name="line2547"><font color="#000000">2547:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2548"><font color="#000000">2548:</font></a> 
<a name="line2549"><font color="#000000">2549:</font></a> <b><font color="#0000FF">@findex</font></b> desktop-change-dir
<a name="line2550"><font color="#000000">2550:</font></a> <b><font color="#0000FF">@findex</font></b> desktop-revert
<a name="line2551"><font color="#000000">2551:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-path
<a name="line2552"><font color="#000000">2552:</font></a>   If you turn on <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-save-mode}</font> in your init file, then when
<a name="line2553"><font color="#000000">2553:</font></a> Emacs starts, it looks for a saved desktop in the current directory.
<a name="line2554"><font color="#000000">2554:</font></a> (More precisely, it looks in the directories specified by
<a name="line2555"><font color="#000000">2555:</font></a> <i><font color="#9A1900">@code{desktop-path}, and uses the first desktop it finds.)</font></i>
<a name="line2556"><font color="#000000">2556:</font></a> Thus, you can have separate saved desktops in different directories,
<a name="line2557"><font color="#000000">2557:</font></a> and the starting directory determines which one Emacs reloads.  You
<a name="line2558"><font color="#000000">2558:</font></a> can save the current desktop and reload one saved in another directory
<a name="line2559"><font color="#000000">2559:</font></a> by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x desktop-change-dir}</font>.  Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2560"><font color="#000000">2560:</font></a> <font color="#009900">desktop-revert}</font> reverts to the desktop previously reloaded.
<a name="line2561"><font color="#000000">2561:</font></a> 
<a name="line2562"><font color="#000000">2562:</font></a>   Specify the option <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-desktop}</font> on the command line when you
<a name="line2563"><font color="#000000">2563:</font></a> don't want it to reload any saved desktop.  This turns off
<a name="line2564"><font color="#000000">2564:</font></a> <i><font color="#9A1900">@code{desktop-save-mode} for the current session.  Starting Emacs with</font></i>
<a name="line2565"><font color="#000000">2565:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-init-file}</font> option also disables desktop reloading,
<a name="line2566"><font color="#000000">2566:</font></a> since it bypasses the init file, where <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-save-mode}</font> is
<a name="line2567"><font color="#000000">2567:</font></a> usually turned on.
<a name="line2568"><font color="#000000">2568:</font></a> 
<a name="line2569"><font color="#000000">2569:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-restore-eager
<a name="line2570"><font color="#000000">2570:</font></a>   By default, all the buffers in the desktop are restored in one go.
<a name="line2571"><font color="#000000">2571:</font></a> However, this may be slow if there are a lot of buffers in the
<a name="line2572"><font color="#000000">2572:</font></a> desktop.  You can specify the maximum number of buffers to restore
<a name="line2573"><font color="#000000">2573:</font></a> immediately with the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-restore-eager}</font>; the
<a name="line2574"><font color="#000000">2574:</font></a> remaining buffers are restored lazily, when Emacs is idle.
<a name="line2575"><font color="#000000">2575:</font></a> 
<a name="line2576"><font color="#000000">2576:</font></a> <b><font color="#0000FF">@findex</font></b> desktop-clear
<a name="line2577"><font color="#000000">2577:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-globals-to-clear
<a name="line2578"><font color="#000000">2578:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-clear-preserve-buffers-regexp
<a name="line2579"><font color="#000000">2579:</font></a>   Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x desktop-clear}</font> to empty the Emacs desktop.  This kills
<a name="line2580"><font color="#000000">2580:</font></a> all buffers except for internal ones, and clears the global variables
<a name="line2581"><font color="#000000">2581:</font></a> listed in <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-globals-to-clear}</font>.  If you want this to
<a name="line2582"><font color="#000000">2582:</font></a> preserve certain buffers, customize the variable
<a name="line2583"><font color="#000000">2583:</font></a> <i><font color="#9A1900">@code{desktop-clear-preserve-buffers-regexp}, whose value is a regular</font></i>
<a name="line2584"><font color="#000000">2584:</font></a> expression matching the names of buffers not to kill.
<a name="line2585"><font color="#000000">2585:</font></a> 
<a name="line2586"><font color="#000000">2586:</font></a>   If you want to save minibuffer history from one session to
<a name="line2587"><font color="#000000">2587:</font></a> another, use the <b><font color="#0000FF">@code</font></b><font color="#009900">{savehist}</font> library.
<a name="line2588"><font color="#000000">2588:</font></a> 
<a name="line2589"><font color="#000000">2589:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-auto-save-timeout
<a name="line2590"><font color="#000000">2590:</font></a>   While Emacs runs with <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-save-mode}</font> turned on, it by
<a name="line2591"><font color="#000000">2591:</font></a> default auto-saves the desktop whenever any of it changes.  The
<a name="line2592"><font color="#000000">2592:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-auto-save-timeout}</font> determines how frequently
<a name="line2593"><font color="#000000">2593:</font></a> Emacs checks for modifications to your desktop.
<a name="line2594"><font color="#000000">2594:</font></a> 
<a name="line2595"><font color="#000000">2595:</font></a> <b><font color="#0000FF">@vindex</font></b> desktop-load-locked-desktop
<a name="line2596"><font color="#000000">2596:</font></a>   The file in which Emacs saves the desktop is locked while the
<a name="line2597"><font color="#000000">2597:</font></a> session runs, to avoid inadvertently overwriting it from another Emacs
<a name="line2598"><font color="#000000">2598:</font></a> session.  That lock is normally removed when Emacs exits, but if Emacs
<a name="line2599"><font color="#000000">2599:</font></a> or your system crashes, the lock stays, and when you restart Emacs, it
<a name="line2600"><font color="#000000">2600:</font></a> will by default ask you whether to use the locked desktop file.  You
<a name="line2601"><font color="#000000">2601:</font></a> can avoid the question by customizing the variable
<a name="line2602"><font color="#000000">2602:</font></a> <i><font color="#9A1900">@code{desktop-load-locked-desktop} to either @code{nil}, which means</font></i>
<a name="line2603"><font color="#000000">2603:</font></a> never load the desktop in this case, or <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>, which means load the
<a name="line2604"><font color="#000000">2604:</font></a> desktop without asking.
<a name="line2605"><font color="#000000">2605:</font></a> 
<a name="line2606"><font color="#000000">2606:</font></a> <i><font color="#9A1900">@cindex desktop restore in daemon mode</font></i>
<a name="line2607"><font color="#000000">2607:</font></a>   When Emacs starts in daemon mode, it cannot ask you any questions,
<a name="line2608"><font color="#000000">2608:</font></a> so if it finds the desktop file locked, it will not load it, unless
<a name="line2609"><font color="#000000">2609:</font></a> <i><font color="#9A1900">@code{desktop-load-locked-desktop} is @code{t}.  Note that restoring</font></i>
<a name="line2610"><font color="#000000">2610:</font></a> the desktop in daemon mode is somewhat problematic for other reasons:
<a name="line2611"><font color="#000000">2611:</font></a> e.g., the daemon cannot use GUI features, so parameters such as frame
<a name="line2612"><font color="#000000">2612:</font></a> position, size, and decorations cannot be restored.  For that reason,
<a name="line2613"><font color="#000000">2613:</font></a> you may wish to delay restoring the desktop in daemon mode until the
<a name="line2614"><font color="#000000">2614:</font></a> first client connects, by calling <b><font color="#0000FF">@code</font></b><font color="#009900">{desktop-read}</font> in a hook
<a name="line2615"><font color="#000000">2615:</font></a> function that you add to <b><font color="#0000FF">@code</font></b><font color="#009900">{server-after-make-frame-hook}</font>
<a name="line2616"><font color="#000000">2616:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Creating Frames,,, elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>).
<a name="line2617"><font color="#000000">2617:</font></a> 
<a name="line2618"><font color="#000000">2618:</font></a> <b><font color="#0000FF">@node</font></b> Recursive Edit
<a name="line2619"><font color="#000000">2619:</font></a> <b><font color="#0000FF">@section</font></b> Recursive Editing Levels
<a name="line2620"><font color="#000000">2620:</font></a> <i><font color="#9A1900">@cindex recursive editing level</font></i>
<a name="line2621"><font color="#000000">2621:</font></a> <i><font color="#9A1900">@cindex editing level, recursive</font></i>
<a name="line2622"><font color="#000000">2622:</font></a> 
<a name="line2623"><font color="#000000">2623:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{recursive edit}</font> is a situation in which you are using Emacs
<a name="line2624"><font color="#000000">2624:</font></a> commands to perform arbitrary editing while in the middle of another
<a name="line2625"><font color="#000000">2625:</font></a> Emacs command.  For example, when you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> inside of a
<a name="line2626"><font color="#000000">2626:</font></a> <i><font color="#9A1900">@code{query-replace}, you enter a recursive edit in which you can change</font></i>
<a name="line2627"><font color="#000000">2627:</font></a> the current buffer.  On exiting from the recursive edit, you go back to
<a name="line2628"><font color="#000000">2628:</font></a> the <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Query Replace</font><font color="#FF0000">}</font>.
<a name="line2629"><font color="#000000">2629:</font></a> 
<a name="line2630"><font color="#000000">2630:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-c
<a name="line2631"><font color="#000000">2631:</font></a> <b><font color="#0000FF">@findex</font></b> exit-recursive-edit
<a name="line2632"><font color="#000000">2632:</font></a> <i><font color="#9A1900">@cindex exiting recursive edit</font></i>
<a name="line2633"><font color="#000000">2633:</font></a>   <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Exiting}</font> the recursive edit means returning to the unfinished
<a name="line2634"><font color="#000000">2634:</font></a> command, which continues execution.  The command to exit is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-c}</font>
<a name="line2635"><font color="#000000">2635:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{exit-recursive-edit}</font>).
<a name="line2636"><font color="#000000">2636:</font></a> 
<a name="line2637"><font color="#000000">2637:</font></a>   You can also <b><font color="#0000FF">@dfn</font></b><font color="#009900">{abort}</font> the recursive edit.  This is like exiting,
<a name="line2638"><font color="#000000">2638:</font></a> but also quits the unfinished command immediately.  Use the command
<a name="line2639"><font color="#000000">2639:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-]}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{abort-recursive-edit}</font>) to do this.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Quitting</font><font color="#FF0000">}</font>.
<a name="line2640"><font color="#000000">2640:</font></a> 
<a name="line2641"><font color="#000000">2641:</font></a>   The mode line shows you when you are in a recursive edit by displaying
<a name="line2642"><font color="#000000">2642:</font></a> square brackets around the parentheses that always surround the major and
<a name="line2643"><font color="#000000">2643:</font></a> minor mode names.  Every window's mode line shows this in the same way,
<a name="line2644"><font color="#000000">2644:</font></a> since being in a recursive edit is true of Emacs as a whole rather than
<a name="line2645"><font color="#000000">2645:</font></a> any particular window or buffer.
<a name="line2646"><font color="#000000">2646:</font></a> 
<a name="line2647"><font color="#000000">2647:</font></a>   It is possible to be in recursive edits within recursive edits.  For
<a name="line2648"><font color="#000000">2648:</font></a> example, after typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> in a <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>, you may type a
<a name="line2649"><font color="#000000">2649:</font></a> command that enters the debugger.  This begins a recursive editing level
<a name="line2650"><font color="#000000">2650:</font></a> for the debugger, within the recursive editing level for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font>.
<a name="line2651"><font color="#000000">2651:</font></a> Mode lines display a pair of square brackets for each recursive editing
<a name="line2652"><font color="#000000">2652:</font></a> level currently in progress.
<a name="line2653"><font color="#000000">2653:</font></a> 
<a name="line2654"><font color="#000000">2654:</font></a>   Exiting the inner recursive edit (such as with the debugger <b><font color="#0000FF">@kbd</font></b><font color="#009900">{c}</font>
<a name="line2655"><font color="#000000">2655:</font></a> command) resumes the command running in the next level up.  When that
<a name="line2656"><font color="#000000">2656:</font></a> command finishes, you can then use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-c}</font> to exit another recursive
<a name="line2657"><font color="#000000">2657:</font></a> editing level, and so on.  Exiting applies to the innermost level only.
<a name="line2658"><font color="#000000">2658:</font></a> Aborting also gets out of only one level of recursive edit; it returns
<a name="line2659"><font color="#000000">2659:</font></a> immediately to the command level of the previous recursive edit.  If you
<a name="line2660"><font color="#000000">2660:</font></a> wish, you can then abort the next recursive editing level.
<a name="line2661"><font color="#000000">2661:</font></a> 
<a name="line2662"><font color="#000000">2662:</font></a>   Alternatively, the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x top-level}</font> aborts all levels of
<a name="line2663"><font color="#000000">2663:</font></a> recursive edits, returning immediately to the top-level command
<a name="line2664"><font color="#000000">2664:</font></a> reader.  It also exits the minibuffer, if it is active.
<a name="line2665"><font color="#000000">2665:</font></a> 
<a name="line2666"><font color="#000000">2666:</font></a>   The text being edited inside the recursive edit need not be the same text
<a name="line2667"><font color="#000000">2667:</font></a> that you were editing at top level.  It depends on what the recursive edit
<a name="line2668"><font color="#000000">2668:</font></a> is for.  If the command that invokes the recursive edit selects a different
<a name="line2669"><font color="#000000">2669:</font></a> buffer first, that is the buffer you will edit recursively.  In any case,
<a name="line2670"><font color="#000000">2670:</font></a> you can switch buffers within the recursive edit in the normal manner (as
<a name="line2671"><font color="#000000">2671:</font></a> long as the buffer-switching keys have not been rebound).  You could
<a name="line2672"><font color="#000000">2672:</font></a> probably do all the rest of your editing inside the recursive edit,
<a name="line2673"><font color="#000000">2673:</font></a> visiting files and all.  But this could have surprising effects (such as
<a name="line2674"><font color="#000000">2674:</font></a> stack overflow) from time to time.  So remember to exit or abort the
<a name="line2675"><font color="#000000">2675:</font></a> recursive edit when you no longer need it.
<a name="line2676"><font color="#000000">2676:</font></a> 
<a name="line2677"><font color="#000000">2677:</font></a>   In general, we try to minimize the use of recursive editing levels in
<a name="line2678"><font color="#000000">2678:</font></a> GNU Emacs.  This is because they constrain you to go back in a
<a name="line2679"><font color="#000000">2679:</font></a> particular order---from the innermost level toward the top level.  When
<a name="line2680"><font color="#000000">2680:</font></a> possible, we present different activities in separate buffers so that
<a name="line2681"><font color="#000000">2681:</font></a> you can switch between them as you please.  Some commands switch to a
<a name="line2682"><font color="#000000">2682:</font></a> new major mode which provides a command to switch back.  These
<a name="line2683"><font color="#000000">2683:</font></a> approaches give you more flexibility to go back to unfinished tasks in
<a name="line2684"><font color="#000000">2684:</font></a> the order you choose.
<a name="line2685"><font color="#000000">2685:</font></a> 
<a name="line2686"><font color="#000000">2686:</font></a> <b><font color="#0000FF">@ignore</font></b>
<a name="line2687"><font color="#000000">2687:</font></a> <i><font color="#9A1900">@c Apart from edt and viper, this is all obsolete.</font></i>
<a name="line2688"><font color="#000000">2688:</font></a> <i><font color="#9A1900">@c (Can't believe we were saying "most other editors" into 2014!)</font></i>
<a name="line2689"><font color="#000000">2689:</font></a> <i><font color="#9A1900">@c There seems no point having a node just for those, which both have</font></i>
<a name="line2690"><font color="#000000">2690:</font></a> <i><font color="#9A1900">@c their own manuals.</font></i>
<a name="line2691"><font color="#000000">2691:</font></a> <b><font color="#0000FF">@node</font></b> Emulation
<a name="line2692"><font color="#000000">2692:</font></a> <b><font color="#0000FF">@section</font></b> Emulation
<a name="line2693"><font color="#000000">2693:</font></a> <i><font color="#9A1900">@cindex emulating other editors</font></i>
<a name="line2694"><font color="#000000">2694:</font></a> <i><font color="#9A1900">@cindex other editors</font></i>
<a name="line2695"><font color="#000000">2695:</font></a> <i><font color="#9A1900">@cindex EDT</font></i>
<a name="line2696"><font color="#000000">2696:</font></a> <i><font color="#9A1900">@cindex vi</font></i>
<a name="line2697"><font color="#000000">2697:</font></a> <i><font color="#9A1900">@cindex WordStar</font></i>
<a name="line2698"><font color="#000000">2698:</font></a> 
<a name="line2699"><font color="#000000">2699:</font></a>   GNU Emacs can be programmed to emulate (more or less) most other
<a name="line2700"><font color="#000000">2700:</font></a> editors.  Standard facilities can emulate these:
<a name="line2701"><font color="#000000">2701:</font></a> 
<a name="line2702"><font color="#000000">2702:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line2703"><font color="#000000">2703:</font></a> <b><font color="#0000FF">@item</font></b> CRiSP/Brief (PC editor)
<a name="line2704"><font color="#000000">2704:</font></a> <b><font color="#0000FF">@findex</font></b> crisp-mode
<a name="line2705"><font color="#000000">2705:</font></a> <b><font color="#0000FF">@vindex</font></b> crisp-override-meta-x
<a name="line2706"><font color="#000000">2706:</font></a> <b><font color="#0000FF">@findex</font></b> scroll-all-mode
<a name="line2707"><font color="#000000">2707:</font></a> <i><font color="#9A1900">@cindex CRiSP mode</font></i>
<a name="line2708"><font color="#000000">2708:</font></a> <i><font color="#9A1900">@cindex Brief emulation</font></i>
<a name="line2709"><font color="#000000">2709:</font></a> <i><font color="#9A1900">@cindex emulation of Brief</font></i>
<a name="line2710"><font color="#000000">2710:</font></a> <i><font color="#9A1900">@cindex mode, CRiSP</font></i>
<a name="line2711"><font color="#000000">2711:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x crisp-mode}</font> enables key bindings to emulate the CRiSP/Brief
<a name="line2712"><font color="#000000">2712:</font></a> editor.  Note that this rebinds <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x}</font> to exit Emacs unless you set
<a name="line2713"><font color="#000000">2713:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{crisp-override-meta-x}</font>.  You can also use the
<a name="line2714"><font color="#000000">2714:</font></a> command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x scroll-all-mode}</font> or set the variable
<a name="line2715"><font color="#000000">2715:</font></a> <i><font color="#9A1900">@code{crisp-load-scroll-all} to emulate CRiSP's scroll-all feature</font></i>
<a name="line2716"><font color="#000000">2716:</font></a> (scrolling all windows together).
<a name="line2717"><font color="#000000">2717:</font></a> 
<a name="line2718"><font color="#000000">2718:</font></a> <b><font color="#0000FF">@item</font></b> EDT (DEC VMS editor)
<a name="line2719"><font color="#000000">2719:</font></a> <b><font color="#0000FF">@findex</font></b> edt-emulation-on
<a name="line2720"><font color="#000000">2720:</font></a> <b><font color="#0000FF">@findex</font></b> edt-emulation-off
<a name="line2721"><font color="#000000">2721:</font></a> Turn on EDT emulation with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x edt-emulation-on}</font>; restore normal
<a name="line2722"><font color="#000000">2722:</font></a> command bindings with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x edt-emulation-off}</font>.
<a name="line2723"><font color="#000000">2723:</font></a> 
<a name="line2724"><font color="#000000">2724:</font></a> Most of the EDT emulation commands are keypad keys, and most standard
<a name="line2725"><font color="#000000">2725:</font></a> Emacs key bindings are still available.  The EDT emulation rebindings
<a name="line2726"><font color="#000000">2726:</font></a> are done in the global keymap, so there is no problem switching
<a name="line2727"><font color="#000000">2727:</font></a> buffers or major modes while in EDT emulation.
<a name="line2728"><font color="#000000">2728:</font></a> 
<a name="line2729"><font color="#000000">2729:</font></a> <b><font color="#0000FF">@item</font></b> TPU (DEC VMS editor)
<a name="line2730"><font color="#000000">2730:</font></a> <b><font color="#0000FF">@findex</font></b> tpu-edt-on
<a name="line2731"><font color="#000000">2731:</font></a> <i><font color="#9A1900">@cindex TPU</font></i>
<a name="line2732"><font color="#000000">2732:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x tpu-edt-on}</font> turns on emulation of the TPU editor emulating EDT.
<a name="line2733"><font color="#000000">2733:</font></a> 
<a name="line2734"><font color="#000000">2734:</font></a> <b><font color="#0000FF">@item</font></b> vi (Berkeley editor)
<a name="line2735"><font color="#000000">2735:</font></a> <b><font color="#0000FF">@findex</font></b> viper-mode
<a name="line2736"><font color="#000000">2736:</font></a> Viper is an emulator for vi.  It implements several levels of
<a name="line2737"><font color="#000000">2737:</font></a> emulation; level 1 is closest to vi itself, while level 5 departs
<a name="line2738"><font color="#000000">2738:</font></a> somewhat from strict emulation to take advantage of the capabilities of
<a name="line2739"><font color="#000000">2739:</font></a> Emacs.  To invoke Viper, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x viper-mode}</font>; it will guide you
<a name="line2740"><font color="#000000">2740:</font></a> the rest of the way and ask for the emulation level.  <b><font color="#0000FF">@inforef</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,</font>
<a name="line2741"><font color="#000000">2741:</font></a> <font color="#FF0000">Viper, viper</font><font color="#FF0000">}</font>.
<a name="line2742"><font color="#000000">2742:</font></a> 
<a name="line2743"><font color="#000000">2743:</font></a> <b><font color="#0000FF">@item</font></b> vi (another emulator)
<a name="line2744"><font color="#000000">2744:</font></a> <b><font color="#0000FF">@findex</font></b> vi-mode
<a name="line2745"><font color="#000000">2745:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x vi-mode}</font> enters a major mode that replaces the previously
<a name="line2746"><font color="#000000">2746:</font></a> established major mode.  All of the vi commands that, in real vi, enter
<a name="line2747"><font color="#000000">2747:</font></a> input mode are programmed instead to return to the previous major
<a name="line2748"><font color="#000000">2748:</font></a> mode.  Thus, ordinary Emacs serves as vi's input mode.
<a name="line2749"><font color="#000000">2749:</font></a> 
<a name="line2750"><font color="#000000">2750:</font></a> Because vi emulation works through major modes, it does not work
<a name="line2751"><font color="#000000">2751:</font></a> to switch buffers during emulation.  Return to normal Emacs first.
<a name="line2752"><font color="#000000">2752:</font></a> 
<a name="line2753"><font color="#000000">2753:</font></a> If you plan to use vi emulation much, you probably want to bind a key
<a name="line2754"><font color="#000000">2754:</font></a> to the <b><font color="#0000FF">@code</font></b><font color="#009900">{vi-mode}</font> command.
<a name="line2755"><font color="#000000">2755:</font></a> 
<a name="line2756"><font color="#000000">2756:</font></a> <b><font color="#0000FF">@item</font></b> vi (alternate emulator)
<a name="line2757"><font color="#000000">2757:</font></a> <b><font color="#0000FF">@findex</font></b> vip-mode
<a name="line2758"><font color="#000000">2758:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x vip-mode}</font> invokes another vi emulator, said to resemble real vi
<a name="line2759"><font color="#000000">2759:</font></a> more thoroughly than <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x vi-mode}</font>.  Input mode in this emulator
<a name="line2760"><font color="#000000">2760:</font></a> is changed from ordinary Emacs so you can use <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font> to go back to
<a name="line2761"><font color="#000000">2761:</font></a> emulated vi command mode.  To get from emulated vi command mode back to
<a name="line2762"><font color="#000000">2762:</font></a> ordinary Emacs, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-z}</font>.
<a name="line2763"><font color="#000000">2763:</font></a> 
<a name="line2764"><font color="#000000">2764:</font></a> This emulation does not work through major modes, and it is possible
<a name="line2765"><font color="#000000">2765:</font></a> to switch buffers in various ways within the emulator.  It is not
<a name="line2766"><font color="#000000">2766:</font></a> so necessary to assign a key to the command <b><font color="#0000FF">@code</font></b><font color="#009900">{vip-mode}</font> as
<a name="line2767"><font color="#000000">2767:</font></a> it is with <b><font color="#0000FF">@code</font></b><font color="#009900">{vi-mode}</font> because terminating insert mode does
<a name="line2768"><font color="#000000">2768:</font></a> not use it.
<a name="line2769"><font color="#000000">2769:</font></a> 
<a name="line2770"><font color="#000000">2770:</font></a> <b><font color="#0000FF">@inforef</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, VIP, vip</font><font color="#FF0000">}</font>, for full information.
<a name="line2771"><font color="#000000">2771:</font></a> 
<a name="line2772"><font color="#000000">2772:</font></a> <b><font color="#0000FF">@item</font></b> WordStar (old wordprocessor)
<a name="line2773"><font color="#000000">2773:</font></a> <b><font color="#0000FF">@findex</font></b> wordstar-mode
<a name="line2774"><font color="#000000">2774:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x wordstar-mode}</font> provides a major mode with WordStar-like
<a name="line2775"><font color="#000000">2775:</font></a> key bindings.
<a name="line2776"><font color="#000000">2776:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2777"><font color="#000000">2777:</font></a> <b><font color="#0000FF">@end ignore</font></b>
<a name="line2778"><font color="#000000">2778:</font></a> 
<a name="line2779"><font color="#000000">2779:</font></a> 
<a name="line2780"><font color="#000000">2780:</font></a> <b><font color="#0000FF">@node</font></b> Hyperlinking
<a name="line2781"><font color="#000000">2781:</font></a> <b><font color="#0000FF">@section</font></b> Hyperlinking and Web Navigation Features
<a name="line2782"><font color="#000000">2782:</font></a> 
<a name="line2783"><font color="#000000">2783:</font></a>   The following subsections describe convenience features for handling
<a name="line2784"><font color="#000000">2784:</font></a> URLs and other types of links occurring in Emacs buffer text.
<a name="line2785"><font color="#000000">2785:</font></a> 
<a name="line2786"><font color="#000000">2786:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line2787"><font color="#000000">2787:</font></a> <font color="#FF0000">* EWW::</font>                         A web browser in Emacs.
<a name="line2788"><font color="#000000">2788:</font></a> <font color="#FF0000">* Embedded WebKit Widgets::</font>     Embedding browser widgets in Emacs buffers.
<a name="line2789"><font color="#000000">2789:</font></a> <font color="#FF0000">* Browse-URL::</font>                  Following URLs.
<a name="line2790"><font color="#000000">2790:</font></a> <font color="#FF0000">* Goto Address mode::</font>           Activating URLs.
<a name="line2791"><font color="#000000">2791:</font></a> <font color="#FF0000">* FFAP::</font>                        Finding files etc. at point.
<a name="line2792"><font color="#000000">2792:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line2793"><font color="#000000">2793:</font></a> 
<a name="line2794"><font color="#000000">2794:</font></a> <b><font color="#0000FF">@node</font></b> EWW
<a name="line2795"><font color="#000000">2795:</font></a> <b><font color="#0000FF">@subsection</font></b> Web Browsing with EWW
<a name="line2796"><font color="#000000">2796:</font></a> 
<a name="line2797"><font color="#000000">2797:</font></a> <b><font color="#0000FF">@findex</font></b> eww
<a name="line2798"><font color="#000000">2798:</font></a> <b><font color="#0000FF">@findex</font></b> eww-open-file
<a name="line2799"><font color="#000000">2799:</font></a>   <b><font color="#0000FF">@dfn</font></b><font color="#009900">{EWW}</font>, the Emacs Web Wowser, is a web browser package for Emacs.
<a name="line2800"><font color="#000000">2800:</font></a> It allows browsing URLs within an Emacs buffer.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2801"><font color="#000000">2801:</font></a> <font color="#009900">eww}</font> will open a URL or search the web.  You can open a file
<a name="line2802"><font color="#000000">2802:</font></a> using the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x eww-open-file}</font>.  You can use EWW as the
<a name="line2803"><font color="#000000">2803:</font></a> web browser for <b><font color="#0000FF">@code</font></b><font color="#009900">{browse-url}</font>, <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Browse-URL</font><font color="#FF0000">}</font>.  For full
<a name="line2804"><font color="#000000">2804:</font></a> details, <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, EWW,, eww, The Emacs Web Wowser Manual</font><font color="#FF0000">}</font>.
<a name="line2805"><font color="#000000">2805:</font></a> 
<a name="line2806"><font color="#000000">2806:</font></a> <b><font color="#0000FF">@node</font></b> Embedded WebKit Widgets
<a name="line2807"><font color="#000000">2807:</font></a> <b><font color="#0000FF">@subsection</font></b> Embedded WebKit Widgets
<a name="line2808"><font color="#000000">2808:</font></a> <i><font color="#9A1900">@cindex xwidget</font></i>
<a name="line2809"><font color="#000000">2809:</font></a> <i><font color="#9A1900">@cindex webkit widgets</font></i>
<a name="line2810"><font color="#000000">2810:</font></a> <i><font color="#9A1900">@cindex embedded widgets</font></i>
<a name="line2811"><font color="#000000">2811:</font></a> 
<a name="line2812"><font color="#000000">2812:</font></a> <b><font color="#0000FF">@findex</font></b> xwidget-webkit-browse-url
<a name="line2813"><font color="#000000">2813:</font></a> <b><font color="#0000FF">@findex</font></b> xwidget-webkit-mode
<a name="line2814"><font color="#000000">2814:</font></a> <i><font color="#9A1900">@cindex Xwidget-WebKit mode</font></i>
<a name="line2815"><font color="#000000">2815:</font></a>   If Emacs was compiled with the appropriate support packages, it is
<a name="line2816"><font color="#000000">2816:</font></a> able to show browser widgets in its buffers.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2817"><font color="#000000">2817:</font></a> <font color="#009900">xwidget-webkit-browse-url}</font> asks for a URL to display in the browser
<a name="line2818"><font color="#000000">2818:</font></a> widget.  The URL normally defaults to the URL at or before point, but
<a name="line2819"><font color="#000000">2819:</font></a> if there is an active region (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mark</font><font color="#FF0000">}</font>), the default URL comes
<a name="line2820"><font color="#000000">2820:</font></a> from the region instead, after removing any whitespace from it.  The
<a name="line2821"><font color="#000000">2821:</font></a> command then creates a new buffer with the embedded browser showing
<a name="line2822"><font color="#000000">2822:</font></a> the specified URL.  The buffer is put in the Xwidget-WebKit mode
<a name="line2823"><font color="#000000">2823:</font></a> (similar to Image mode, <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">File Conveniences</font><font color="#FF0000">}</font>), which provides
<a name="line2824"><font color="#000000">2824:</font></a> one-key commands for scrolling the widget, changing its size, and
<a name="line2825"><font color="#000000">2825:</font></a> reloading it.  Type <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-h b}}</font> in that buffer to see the key
<a name="line2826"><font color="#000000">2826:</font></a> bindings.
<a name="line2827"><font color="#000000">2827:</font></a> 
<a name="line2828"><font color="#000000">2828:</font></a> <b><font color="#0000FF">@node</font></b> Browse-URL
<a name="line2829"><font color="#000000">2829:</font></a> <b><font color="#0000FF">@subsection</font></b>  Following URLs
<a name="line2830"><font color="#000000">2830:</font></a> <i><font color="#9A1900">@cindex World Wide Web</font></i>
<a name="line2831"><font color="#000000">2831:</font></a> <i><font color="#9A1900">@cindex Web</font></i>
<a name="line2832"><font color="#000000">2832:</font></a> <b><font color="#0000FF">@findex</font></b> browse-url
<a name="line2833"><font color="#000000">2833:</font></a> <b><font color="#0000FF">@findex</font></b> browse-url-at-point
<a name="line2834"><font color="#000000">2834:</font></a> <b><font color="#0000FF">@findex</font></b> browse-url-at-mouse
<a name="line2835"><font color="#000000">2835:</font></a> <i><font color="#9A1900">@cindex Browse-URL</font></i>
<a name="line2836"><font color="#000000">2836:</font></a> <i><font color="#9A1900">@cindex URLs</font></i>
<a name="line2837"><font color="#000000">2837:</font></a> 
<a name="line2838"><font color="#000000">2838:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2839"><font color="#000000">2839:</font></a> <b><font color="#0000FF">@item</font></b> M-x browse-url <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{url}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2840"><font color="#000000">2840:</font></a> Load a URL into a Web browser.
<a name="line2841"><font color="#000000">2841:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2842"><font color="#000000">2842:</font></a> 
<a name="line2843"><font color="#000000">2843:</font></a>   The Browse-URL package allows you to easily follow URLs from within
<a name="line2844"><font color="#000000">2844:</font></a> Emacs.  Most URLs are followed by invoking a web browser;
<a name="line2845"><font color="#000000">2845:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{mailto:}</font> URLs are followed by invoking the <b><font color="#0000FF">@code</font></b><font color="#009900">{compose-mail}</font>
<a name="line2846"><font color="#000000">2846:</font></a> Emacs command to send mail to the specified address (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Sending</font>
<a name="line2847"><font color="#000000">2847:</font></a> <font color="#FF0000">Mail</font><font color="#FF0000">}</font>).
<a name="line2848"><font color="#000000">2848:</font></a> 
<a name="line2849"><font color="#000000">2849:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x browse-url}</font> prompts for a URL, and follows it.
<a name="line2850"><font color="#000000">2850:</font></a> If point is located near a plausible URL, that URL is offered as the
<a name="line2851"><font color="#000000">2851:</font></a> default.  The Browse-URL package also provides other commands which
<a name="line2852"><font color="#000000">2852:</font></a> you might like to bind to keys, such as <b><font color="#0000FF">@code</font></b><font color="#009900">{browse-url-at-point}</font> and
<a name="line2853"><font color="#000000">2853:</font></a> <i><font color="#9A1900">@code{browse-url-at-mouse}.</font></i>
<a name="line2854"><font color="#000000">2854:</font></a> 
<a name="line2855"><font color="#000000">2855:</font></a> <b><font color="#0000FF">@vindex</font></b> browse-url-mailto-function
<a name="line2856"><font color="#000000">2856:</font></a> <b><font color="#0000FF">@vindex</font></b> browse-url-browser-function
<a name="line2857"><font color="#000000">2857:</font></a>   You can customize Browse-URL's behavior via various options in the
<a name="line2858"><font color="#000000">2858:</font></a> <i><font color="#9A1900">@code{browse-url} Customize group.  In particular, the option</font></i>
<a name="line2859"><font color="#000000">2859:</font></a> <i><font color="#9A1900">@code{browse-url-mailto-function} lets you define how to follow</font></i>
<a name="line2860"><font color="#000000">2860:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{mailto:}</font> URLs, while <b><font color="#0000FF">@code</font></b><font color="#009900">{browse-url-browser-function}</font> lets you
<a name="line2861"><font color="#000000">2861:</font></a> define how to follow other types of URLs.  For more information, view
<a name="line2862"><font color="#000000">2862:</font></a> the package commentary by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h P browse-url @key{RET}}</font>.
<a name="line2863"><font color="#000000">2863:</font></a> 
<a name="line2864"><font color="#000000">2864:</font></a> <b><font color="#0000FF">@node</font></b> Goto Address mode
<a name="line2865"><font color="#000000">2865:</font></a> <b><font color="#0000FF">@subsection</font></b> Activating URLs
<a name="line2866"><font color="#000000">2866:</font></a> <b><font color="#0000FF">@findex</font></b> goto-address-mode
<a name="line2867"><font color="#000000">2867:</font></a> <i><font color="#9A1900">@cindex mode, Goto Address</font></i>
<a name="line2868"><font color="#000000">2868:</font></a> <i><font color="#9A1900">@cindex Goto Address mode</font></i>
<a name="line2869"><font color="#000000">2869:</font></a> <i><font color="#9A1900">@cindex URLs, activating</font></i>
<a name="line2870"><font color="#000000">2870:</font></a> 
<a name="line2871"><font color="#000000">2871:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2872"><font color="#000000">2872:</font></a> <b><font color="#0000FF">@item</font></b> M-x goto-address-mode
<a name="line2873"><font color="#000000">2873:</font></a> Activate URLs and e-mail addresses in the current buffer.
<a name="line2874"><font color="#000000">2874:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2875"><font color="#000000">2875:</font></a> 
<a name="line2876"><font color="#000000">2876:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c RET <b><font color="#0000FF">@r</font></b><font color="#009900">{(Goto Address mode)}</font>
<a name="line2877"><font color="#000000">2877:</font></a> <b><font color="#0000FF">@findex</font></b> goto-address-at-point
<a name="line2878"><font color="#000000">2878:</font></a>   You can make Emacs mark out URLs specially in the current buffer, by
<a name="line2879"><font color="#000000">2879:</font></a> typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x goto-address-mode}</font>.  When this buffer-local minor mode
<a name="line2880"><font color="#000000">2880:</font></a> is enabled, it finds all the URLs in the buffer, highlights them, and
<a name="line2881"><font color="#000000">2881:</font></a> turns them into clickable buttons.  You can follow the URL by typing
<a name="line2882"><font color="#000000">2882:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c @key{RET}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{goto-address-at-point}</font>) while point is on
<a name="line2883"><font color="#000000">2883:</font></a> its text; or by clicking with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font>, or by clicking
<a name="line2884"><font color="#000000">2884:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-1}</font> quickly (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mouse References</font><font color="#FF0000">}</font>).  Following a URL is
<a name="line2885"><font color="#000000">2885:</font></a> done by calling <b><font color="#0000FF">@code</font></b><font color="#009900">{browse-url}</font> as a subroutine
<a name="line2886"><font color="#000000">2886:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Browse-URL</font><font color="#FF0000">}</font>).
<a name="line2887"><font color="#000000">2887:</font></a> 
<a name="line2888"><font color="#000000">2888:</font></a>   It can be useful to add <b><font color="#0000FF">@code</font></b><font color="#009900">{goto-address-mode}</font> to mode hooks and
<a name="line2889"><font color="#000000">2889:</font></a> hooks for displaying an incoming message
<a name="line2890"><font color="#000000">2890:</font></a> (e.g., <b><font color="#0000FF">@code</font></b><font color="#009900">{rmail-show-message-hook}</font> for Rmail, and
<a name="line2891"><font color="#000000">2891:</font></a> <i><font color="#9A1900">@code{mh-show-mode-hook} for MH-E).  This is not needed for Gnus,</font></i>
<a name="line2892"><font color="#000000">2892:</font></a> which has a similar feature of its own.
<a name="line2893"><font color="#000000">2893:</font></a> 
<a name="line2894"><font color="#000000">2894:</font></a> <b><font color="#0000FF">@node</font></b> FFAP
<a name="line2895"><font color="#000000">2895:</font></a> <b><font color="#0000FF">@subsection</font></b> Finding Files and URLs at Point
<a name="line2896"><font color="#000000">2896:</font></a> <b><font color="#0000FF">@findex</font></b> find-file-at-point
<a name="line2897"><font color="#000000">2897:</font></a> <b><font color="#0000FF">@findex</font></b> ffap
<a name="line2898"><font color="#000000">2898:</font></a> <b><font color="#0000FF">@findex</font></b> dired-at-point
<a name="line2899"><font color="#000000">2899:</font></a> <b><font color="#0000FF">@findex</font></b> ffap-next
<a name="line2900"><font color="#000000">2900:</font></a> <b><font color="#0000FF">@findex</font></b> ffap-menu
<a name="line2901"><font color="#000000">2901:</font></a> <i><font color="#9A1900">@cindex finding file at point</font></i>
<a name="line2902"><font color="#000000">2902:</font></a> 
<a name="line2903"><font color="#000000">2903:</font></a>   The FFAP package replaces certain key bindings for finding files,
<a name="line2904"><font color="#000000">2904:</font></a> such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-f}</font>, with commands that provide more sensible
<a name="line2905"><font color="#000000">2905:</font></a> defaults.  These commands behave like the ordinary ones when given a
<a name="line2906"><font color="#000000">2906:</font></a> prefix argument.  Otherwise, they get the default file name or URL
<a name="line2907"><font color="#000000">2907:</font></a> from the text around point.  If what is found in the buffer has the
<a name="line2908"><font color="#000000">2908:</font></a> form of a URL rather than a file name, the commands use
<a name="line2909"><font color="#000000">2909:</font></a> <i><font color="#9A1900">@code{browse-url} to view it (@pxref{Browse-URL}).</font></i>
<a name="line2910"><font color="#000000">2910:</font></a> 
<a name="line2911"><font color="#000000">2911:</font></a>   This feature is useful for following references in mail or news
<a name="line2912"><font color="#000000">2912:</font></a> buffers, <b><font color="#0000FF">@file</font></b><font color="#009900">{README}</font> files, <b><font color="#0000FF">@file</font></b><font color="#009900">{MANIFEST}</font> files, and so on.  For
<a name="line2913"><font color="#000000">2913:</font></a> more information, view the package commentary by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h P</font>
<a name="line2914"><font color="#000000">2914:</font></a> <font color="#009900">ffap @key{RET}}</font>.
<a name="line2915"><font color="#000000">2915:</font></a> 
<a name="line2916"><font color="#000000">2916:</font></a> <i><font color="#9A1900">@cindex FFAP minor mode</font></i>
<a name="line2917"><font color="#000000">2917:</font></a> <b><font color="#0000FF">@findex</font></b> ffap-mode
<a name="line2918"><font color="#000000">2918:</font></a>   To enable FFAP, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x ffap-bindings}</font>.  This makes the
<a name="line2919"><font color="#000000">2919:</font></a> following key bindings, and also installs hooks for additional FFAP
<a name="line2920"><font color="#000000">2920:</font></a> functionality in Rmail, Gnus and VM article buffers.
<a name="line2921"><font color="#000000">2921:</font></a> 
<a name="line2922"><font color="#000000">2922:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2923"><font color="#000000">2923:</font></a> <b><font color="#0000FF">@item</font></b> C-x C-f <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2924"><font color="#000000">2924:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x C-f <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2925"><font color="#000000">2925:</font></a> Find <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font>, guessing a default from text around point
<a name="line2926"><font color="#000000">2926:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{find-file-at-point}</font>).
<a name="line2927"><font color="#000000">2927:</font></a> <b><font color="#0000FF">@item</font></b> C-x C-r <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2928"><font color="#000000">2928:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x C-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2929"><font color="#000000">2929:</font></a> <i><font color="#9A1900">@code{ffap-read-only}, analogous to @code{find-file-read-only}.</font></i>
<a name="line2930"><font color="#000000">2930:</font></a> <b><font color="#0000FF">@item</font></b> C-x C-v <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2931"><font color="#000000">2931:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x C-v <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2932"><font color="#000000">2932:</font></a> <i><font color="#9A1900">@code{ffap-alternate-file}, analogous to @code{find-alternate-file}.</font></i>
<a name="line2933"><font color="#000000">2933:</font></a> <b><font color="#0000FF">@item</font></b> C-x d <b><font color="#0000FF">@var</font></b><font color="#009900">{directory}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2934"><font color="#000000">2934:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x d <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2935"><font color="#000000">2935:</font></a> Start Dired on <b><font color="#0000FF">@var</font></b><font color="#009900">{directory}</font>, defaulting to the directory at
<a name="line2936"><font color="#000000">2936:</font></a> point (<b><font color="#0000FF">@code</font></b><font color="#009900">{dired-at-point}</font>).
<a name="line2937"><font color="#000000">2937:</font></a> <b><font color="#0000FF">@item</font></b> C-x C-d <b><font color="#0000FF">@var</font></b><font color="#009900">{directory}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2938"><font color="#000000">2938:</font></a> <i><font color="#9A1900">@code{ffap-list-directory}, analogous to @code{list-directory}.</font></i>
<a name="line2939"><font color="#000000">2939:</font></a> <b><font color="#0000FF">@item</font></b> C-x 4 f <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2940"><font color="#000000">2940:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 4 f <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2941"><font color="#000000">2941:</font></a> <i><font color="#9A1900">@code{ffap-other-window}, analogous to @code{find-file-other-window}.</font></i>
<a name="line2942"><font color="#000000">2942:</font></a> <b><font color="#0000FF">@item</font></b> C-x 4 r <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2943"><font color="#000000">2943:</font></a> <i><font color="#9A1900">@code{ffap-read-only-other-window}, analogous to</font></i>
<a name="line2944"><font color="#000000">2944:</font></a> <i><font color="#9A1900">@code{find-file-read-only-other-window}.</font></i>
<a name="line2945"><font color="#000000">2945:</font></a> <b><font color="#0000FF">@item</font></b> C-x 4 d <b><font color="#0000FF">@var</font></b><font color="#009900">{directory}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2946"><font color="#000000">2946:</font></a> <i><font color="#9A1900">@code{ffap-dired-other-window}, like @code{dired-other-window}.</font></i>
<a name="line2947"><font color="#000000">2947:</font></a> <b><font color="#0000FF">@item</font></b> C-x 5 f <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2948"><font color="#000000">2948:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 5 f <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2949"><font color="#000000">2949:</font></a> <i><font color="#9A1900">@code{ffap-other-frame}, analogous to @code{find-file-other-frame}.</font></i>
<a name="line2950"><font color="#000000">2950:</font></a> <b><font color="#0000FF">@item</font></b> C-x 5 r <b><font color="#0000FF">@var</font></b><font color="#009900">{filename}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2951"><font color="#000000">2951:</font></a> <i><font color="#9A1900">@code{ffap-read-only-other-frame}, analogous to</font></i>
<a name="line2952"><font color="#000000">2952:</font></a> <i><font color="#9A1900">@code{find-file-read-only-other-frame}.</font></i>
<a name="line2953"><font color="#000000">2953:</font></a> <b><font color="#0000FF">@item</font></b> C-x 5 d <b><font color="#0000FF">@var</font></b><font color="#009900">{directory}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2954"><font color="#000000">2954:</font></a> <i><font color="#9A1900">@code{ffap-dired-other-frame}, analogous to @code{dired-other-frame}.</font></i>
<a name="line2955"><font color="#000000">2955:</font></a> <b><font color="#0000FF">@item</font></b> M-x ffap-next
<a name="line2956"><font color="#000000">2956:</font></a> Search buffer for next file name or URL, then find that file or URL.
<a name="line2957"><font color="#000000">2957:</font></a> <b><font color="#0000FF">@item</font></b> S-mouse-3
<a name="line2958"><font color="#000000">2958:</font></a> <b><font color="#0000FF">@kindex</font></b> S-mouse-3 <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2959"><font color="#000000">2959:</font></a> <i><font color="#9A1900">@code{ffap-at-mouse} finds the file guessed from text around the position</font></i>
<a name="line2960"><font color="#000000">2960:</font></a> of a mouse click.
<a name="line2961"><font color="#000000">2961:</font></a> <b><font color="#0000FF">@item</font></b> C-S-mouse-3
<a name="line2962"><font color="#000000">2962:</font></a> <b><font color="#0000FF">@kindex</font></b> C-S-mouse-3 <b><font color="#0000FF">@r</font></b><font color="#009900">{(FFAP)}</font>
<a name="line2963"><font color="#000000">2963:</font></a> Display a menu of files and URLs mentioned in current buffer, then
<a name="line2964"><font color="#000000">2964:</font></a> find the one you select (<b><font color="#0000FF">@code</font></b><font color="#009900">{ffap-menu}</font>).
<a name="line2965"><font color="#000000">2965:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2966"><font color="#000000">2966:</font></a> 
<a name="line2967"><font color="#000000">2967:</font></a> <b><font color="#0000FF">@node</font></b> Amusements
<a name="line2968"><font color="#000000">2968:</font></a> <b><font color="#0000FF">@section</font></b> Games and Other Amusements
<a name="line2969"><font color="#000000">2969:</font></a> <i><font color="#9A1900">@cindex boredom</font></i>
<a name="line2970"><font color="#000000">2970:</font></a> <i><font color="#9A1900">@cindex games</font></i>
<a name="line2971"><font color="#000000">2971:</font></a> 
<a name="line2972"><font color="#000000">2972:</font></a> <b><font color="#0000FF">@findex</font></b> animate-birthday-present
<a name="line2973"><font color="#000000">2973:</font></a> <i><font color="#9A1900">@cindex animate</font></i>
<a name="line2974"><font color="#000000">2974:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{animate}</font> package makes text dance (e.g., <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2975"><font color="#000000">2975:</font></a> <font color="#009900">animate-birthday-present}</font>).
<a name="line2976"><font color="#000000">2976:</font></a> 
<a name="line2977"><font color="#000000">2977:</font></a> <b><font color="#0000FF">@findex</font></b> blackbox
<a name="line2978"><font color="#000000">2978:</font></a> <b><font color="#0000FF">@findex</font></b> mpuz
<a name="line2979"><font color="#000000">2979:</font></a> <b><font color="#0000FF">@findex</font></b> 5x5
<a name="line2980"><font color="#000000">2980:</font></a> <i><font color="#9A1900">@cindex puzzles</font></i>
<a name="line2981"><font color="#000000">2981:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x blackbox}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x mpuz}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x 5x5}</font> are puzzles.
<a name="line2982"><font color="#000000">2982:</font></a> <i><font color="#9A1900">@code{blackbox} challenges you to determine the location of objects</font></i>
<a name="line2983"><font color="#000000">2983:</font></a> inside a box by tomography.  <b><font color="#0000FF">@code</font></b><font color="#009900">{mpuz}</font> displays a multiplication
<a name="line2984"><font color="#000000">2984:</font></a> puzzle with letters standing for digits in a code that you must
<a name="line2985"><font color="#000000">2985:</font></a> guess---to guess a value, type a letter and then the digit you think it
<a name="line2986"><font color="#000000">2986:</font></a> stands for.  The aim of <b><font color="#0000FF">@code</font></b><font color="#009900">{5x5}</font> is to fill in all the squares.
<a name="line2987"><font color="#000000">2987:</font></a> 
<a name="line2988"><font color="#000000">2988:</font></a> <b><font color="#0000FF">@findex</font></b> bubbles
<a name="line2989"><font color="#000000">2989:</font></a> <i><font color="#9A1900">@cindex bubbles</font></i>
<a name="line2990"><font color="#000000">2990:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x bubbles}</font> is a game in which the object is to remove as many
<a name="line2991"><font color="#000000">2991:</font></a> bubbles as you can in the smallest number of moves.
<a name="line2992"><font color="#000000">2992:</font></a> 
<a name="line2993"><font color="#000000">2993:</font></a> <b><font color="#0000FF">@findex</font></b> decipher
<a name="line2994"><font color="#000000">2994:</font></a> <i><font color="#9A1900">@cindex ciphers</font></i>
<a name="line2995"><font color="#000000">2995:</font></a> <i><font color="#9A1900">@cindex cryptanalysis</font></i>
<a name="line2996"><font color="#000000">2996:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x decipher}</font> helps you to cryptanalyze a buffer which is
<a name="line2997"><font color="#000000">2997:</font></a> encrypted in a simple monoalphabetic substitution cipher.
<a name="line2998"><font color="#000000">2998:</font></a> 
<a name="line2999"><font color="#000000">2999:</font></a> <b><font color="#0000FF">@findex</font></b> dissociated-press
<a name="line3000"><font color="#000000">3000:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x dissociated-press}</font> scrambles the text in the current Emacs
<a name="line3001"><font color="#000000">3001:</font></a> buffer, word by word or character by character, writing its output to
<a name="line3002"><font color="#000000">3002:</font></a> a buffer named <b><font color="#0000FF">@file</font></b><font color="#009900">{*Dissociation*}</font>.  A positive argument tells it to
<a name="line3003"><font color="#000000">3003:</font></a> operate character by character, and specifies the number of overlap
<a name="line3004"><font color="#000000">3004:</font></a> characters.  A negative argument tells it to operate word by word, and
<a name="line3005"><font color="#000000">3005:</font></a> specifies the number of overlap words.  Dissociated Press produces
<a name="line3006"><font color="#000000">3006:</font></a> results fairly like those of a Markov chain, but is however, an
<a name="line3007"><font color="#000000">3007:</font></a> independent, ignoriginal invention; it techniquitously copies several
<a name="line3008"><font color="#000000">3008:</font></a> consecutive characters from the sample text between random jumps,
<a name="line3009"><font color="#000000">3009:</font></a> unlike a Markov chain which would jump randomly after each word or
<a name="line3010"><font color="#000000">3010:</font></a> character.  Keep dissociwords out of your documentation, if you want
<a name="line3011"><font color="#000000">3011:</font></a> it to be well userenced and properbose.
<a name="line3012"><font color="#000000">3012:</font></a> 
<a name="line3013"><font color="#000000">3013:</font></a> <b><font color="#0000FF">@findex</font></b> dunnet
<a name="line3014"><font color="#000000">3014:</font></a> <i><font color="#9A1900">@cindex dunnet</font></i>
<a name="line3015"><font color="#000000">3015:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x dunnet}</font> runs a text-based adventure game.
<a name="line3016"><font color="#000000">3016:</font></a> 
<a name="line3017"><font color="#000000">3017:</font></a> <b><font color="#0000FF">@findex</font></b> gomoku
<a name="line3018"><font color="#000000">3018:</font></a> <i><font color="#9A1900">@cindex Go Moku</font></i>
<a name="line3019"><font color="#000000">3019:</font></a>   If you want a little more personal involvement, try <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x gomoku}</font>,
<a name="line3020"><font color="#000000">3020:</font></a> which plays the game Go Moku with you.
<a name="line3021"><font color="#000000">3021:</font></a> 
<a name="line3022"><font color="#000000">3022:</font></a> <i><font color="#9A1900">@cindex tower of Hanoi</font></i>
<a name="line3023"><font color="#000000">3023:</font></a> <b><font color="#0000FF">@findex</font></b> hanoi
<a name="line3024"><font color="#000000">3024:</font></a>   If you are a little bit bored, you can try <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x hanoi}</font>.  If you are
<a name="line3025"><font color="#000000">3025:</font></a> considerably bored, give it a numeric argument.  If you are very, very
<a name="line3026"><font color="#000000">3026:</font></a> bored, try an argument of 9.  Sit back and watch.
<a name="line3027"><font color="#000000">3027:</font></a> 
<a name="line3028"><font color="#000000">3028:</font></a> <b><font color="#0000FF">@findex</font></b> life
<a name="line3029"><font color="#000000">3029:</font></a> <i><font color="#9A1900">@cindex Life</font></i>
<a name="line3030"><font color="#000000">3030:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x life}</font> runs Conway's Game of Life cellular automaton.
<a name="line3031"><font color="#000000">3031:</font></a> 
<a name="line3032"><font color="#000000">3032:</font></a> <b><font color="#0000FF">@findex</font></b> morse-region
<a name="line3033"><font color="#000000">3033:</font></a> <b><font color="#0000FF">@findex</font></b> unmorse-region
<a name="line3034"><font color="#000000">3034:</font></a> <b><font color="#0000FF">@findex</font></b> nato-region
<a name="line3035"><font color="#000000">3035:</font></a> <i><font color="#9A1900">@cindex Morse code</font></i>
<a name="line3036"><font color="#000000">3036:</font></a> <i><font color="#9A1900">@cindex --/---/.-./.../.</font></i>
<a name="line3037"><font color="#000000">3037:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x morse-region}</font> converts the text in the region to Morse
<a name="line3038"><font color="#000000">3038:</font></a> code; <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x unmorse-region}</font> converts it back.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line3039"><font color="#000000">3039:</font></a> <font color="#009900">nato-region}</font> converts the text in the region to NATO phonetic
<a name="line3040"><font color="#000000">3040:</font></a> alphabet; <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x denato-region}</font> converts it back.
<a name="line3041"><font color="#000000">3041:</font></a> 
<a name="line3042"><font color="#000000">3042:</font></a> <b><font color="#0000FF">@findex</font></b> pong
<a name="line3043"><font color="#000000">3043:</font></a> <i><font color="#9A1900">@cindex Pong game</font></i>
<a name="line3044"><font color="#000000">3044:</font></a> <b><font color="#0000FF">@findex</font></b> tetris
<a name="line3045"><font color="#000000">3045:</font></a> <i><font color="#9A1900">@cindex Tetris</font></i>
<a name="line3046"><font color="#000000">3046:</font></a> <b><font color="#0000FF">@findex</font></b> snake
<a name="line3047"><font color="#000000">3047:</font></a> <i><font color="#9A1900">@cindex Snake</font></i>
<a name="line3048"><font color="#000000">3048:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x pong}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x snake}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x tetris}</font> are
<a name="line3049"><font color="#000000">3049:</font></a> implementations of the well-known Pong, Snake and Tetris games.
<a name="line3050"><font color="#000000">3050:</font></a> 
<a name="line3051"><font color="#000000">3051:</font></a> <b><font color="#0000FF">@findex</font></b> solitaire
<a name="line3052"><font color="#000000">3052:</font></a> <i><font color="#9A1900">@cindex solitaire</font></i>
<a name="line3053"><font color="#000000">3053:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x solitaire}</font> plays a game of solitaire in which you jump pegs
<a name="line3054"><font color="#000000">3054:</font></a> across other pegs.
<a name="line3055"><font color="#000000">3055:</font></a> 
<a name="line3056"><font color="#000000">3056:</font></a> <b><font color="#0000FF">@findex</font></b> zone
<a name="line3057"><font color="#000000">3057:</font></a> <i><font color="#9A1900">@cindex zone</font></i>
<a name="line3058"><font color="#000000">3058:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x zone}</font> plays games with the display when Emacs
<a name="line3059"><font color="#000000">3059:</font></a> is idle.
<a name="line3060"><font color="#000000">3060:</font></a> 
<a name="line3061"><font color="#000000">3061:</font></a> <b><font color="#0000FF">@findex</font></b> butterfly
<a name="line3062"><font color="#000000">3062:</font></a> <i><font color="#9A1900">@cindex butterfly</font></i>
<a name="line3063"><font color="#000000">3063:</font></a>   ``Real Programmers'' deploy <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x butterfly}</font>, which uses butterflies
<a name="line3064"><font color="#000000">3064:</font></a> to flip a bit on the drive platter, see <b><font color="#0000FF">@uref</font></b><font color="#FF0000">{</font><u><font color="#0000FF">https://xkcd.com/378</font></u><font color="#FF0000">}</font>.
<a name="line3065"><font color="#000000">3065:</font></a> 
<a name="line3066"><font color="#000000">3066:</font></a> <b><font color="#0000FF">@findex</font></b> doctor
<a name="line3067"><font color="#000000">3067:</font></a> <i><font color="#9A1900">@cindex Eliza</font></i>
<a name="line3068"><font color="#000000">3068:</font></a>   Finally, if you find yourself frustrated, try describing your
<a name="line3069"><font color="#000000">3069:</font></a> problems to the famous psychotherapist Eliza.  Just do <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line3070"><font color="#000000">3070:</font></a> <font color="#009900">doctor}</font>.  End each input by typing <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> twice.
<a name="line3071"><font color="#000000">3071:</font></a> 
<a name="line3072"><font color="#000000">3072:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line3073"><font color="#000000">3073:</font></a> <b><font color="#0000FF">@lowersections</font></b>
<a name="line3074"><font color="#000000">3074:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line3075"><font color="#000000">3075:</font></a> </tt></pre>
