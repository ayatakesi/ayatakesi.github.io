<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">0001:</font></a> <i><font color="#9A1900">@c -*- coding: utf-8 -*-</font></i>
<a name="line2"><font color="#000000">0002:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line3"><font color="#000000">0003:</font></a> <i><font color="#9A1900">@c Copyright (C) 1985-1987, 1993-1995, 1997, 2000-2018 Free Software</font></i>
<a name="line4"><font color="#000000">0004:</font></a> <i><font color="#9A1900">@c Foundation, Inc.</font></i>
<a name="line5"><font color="#000000">0005:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line6"><font color="#000000">0006:</font></a> <b><font color="#0000FF">@node</font></b> Search
<a name="line7"><font color="#000000">0007:</font></a> <i><font color="#9A1900">@chapter Searching and Replacement</font></i>
<a name="line8"><font color="#000000">0008:</font></a> <i><font color="#9A1900">@cindex searching</font></i>
<a name="line9"><font color="#000000">0009:</font></a> <i><font color="#9A1900">@cindex finding strings within text</font></i>
<a name="line10"><font color="#000000">0010:</font></a> 
<a name="line11"><font color="#000000">0011:</font></a>   Like other editors, Emacs has commands to search for occurrences of
<a name="line12"><font color="#000000">0012:</font></a> a string.  Emacs also has commands to replace occurrences of a string
<a name="line13"><font color="#000000">0013:</font></a> with a different string.  There are also commands that do the same
<a name="line14"><font color="#000000">0014:</font></a> thing, but search for patterns instead of fixed strings.
<a name="line15"><font color="#000000">0015:</font></a> 
<a name="line16"><font color="#000000">0016:</font></a>   You can also search multiple files under the control of <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">}</font>
<a name="line17"><font color="#000000">0017:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Identifier Search</font><font color="#FF0000">}</font>) or through the Dired <b><font color="#0000FF">@kbd</font></b><font color="#009900">{A}</font> command
<a name="line18"><font color="#000000">0018:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Operating on Files</font><font color="#FF0000">}</font>), or ask the <b><font color="#0000FF">@code</font></b><font color="#009900">{grep}</font> program to do it
<a name="line19"><font color="#000000">0019:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Grep Searching</font><font color="#FF0000">}</font>).
<a name="line20"><font color="#000000">0020:</font></a> 
<a name="line21"><font color="#000000">0021:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line22"><font color="#000000">0022:</font></a> <font color="#FF0000">* Incremental Search::</font>        Search happens as you type the string.
<a name="line23"><font color="#000000">0023:</font></a> <font color="#FF0000">* Nonincremental Search::</font>     Specify entire string and then search.
<a name="line24"><font color="#000000">0024:</font></a> <font color="#FF0000">* Word Search::</font>               Search for sequence of words.
<a name="line25"><font color="#000000">0025:</font></a> <font color="#FF0000">* Symbol Search::</font>             Search for a source code symbol.
<a name="line26"><font color="#000000">0026:</font></a> <font color="#FF0000">* Regexp Search::</font>             Search for match for a regexp.
<a name="line27"><font color="#000000">0027:</font></a> <font color="#FF0000">* Regexps::</font>                   Syntax of regular expressions.
<a name="line28"><font color="#000000">0028:</font></a> <font color="#FF0000">* Regexp Backslash::</font>          Regular expression constructs starting with `\'.
<a name="line29"><font color="#000000">0029:</font></a> <font color="#FF0000">* Regexp Example::</font>            A complex regular expression explained.
<a name="line30"><font color="#000000">0030:</font></a> <font color="#FF0000">* Lax Search::</font>                Search ignores some distinctions among
<a name="line31"><font color="#000000">0031:</font></a>                                 similar characters, like letter-case.
<a name="line32"><font color="#000000">0032:</font></a> <font color="#FF0000">* Replace::</font>                   Search, and replace some or all matches.
<a name="line33"><font color="#000000">0033:</font></a> <font color="#FF0000">* Other Repeating Search::</font>    Operating on all matches for some regexp.
<a name="line34"><font color="#000000">0034:</font></a> <font color="#FF0000">* Search Customizations::</font>     Various search customizations.
<a name="line35"><font color="#000000">0035:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line36"><font color="#000000">0036:</font></a> 
<a name="line37"><font color="#000000">0037:</font></a> <b><font color="#0000FF">@node</font></b> Incremental Search
<a name="line38"><font color="#000000">0038:</font></a> <b><font color="#0000FF">@section</font></b> Incremental Search
<a name="line39"><font color="#000000">0039:</font></a> <i><font color="#9A1900">@cindex incremental search</font></i>
<a name="line40"><font color="#000000">0040:</font></a> <i><font color="#9A1900">@cindex isearch</font></i>
<a name="line41"><font color="#000000">0041:</font></a> 
<a name="line42"><font color="#000000">0042:</font></a>   The principal search command in Emacs is <b><font color="#0000FF">@dfn</font></b><font color="#009900">{incremental}</font>: it
<a name="line43"><font color="#000000">0043:</font></a> begins searching as soon as you type the first character of the search
<a name="line44"><font color="#000000">0044:</font></a> string.  As you type in the search string, Emacs shows you where the
<a name="line45"><font color="#000000">0045:</font></a> string (as you have typed it so far) would be found.  When you have
<a name="line46"><font color="#000000">0046:</font></a> typed enough characters to identify the place you want, you can stop.
<a name="line47"><font color="#000000">0047:</font></a> Depending on what you plan to do next, you may or may not need to
<a name="line48"><font color="#000000">0048:</font></a> terminate the search explicitly with <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>.
<a name="line49"><font color="#000000">0049:</font></a> 
<a name="line50"><font color="#000000">0050:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line51"><font color="#000000">0051:</font></a> <b><font color="#0000FF">@item</font></b> C-s
<a name="line52"><font color="#000000">0052:</font></a> Incremental search forward (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-forward}</font>).
<a name="line53"><font color="#000000">0053:</font></a> <b><font color="#0000FF">@item</font></b> C-r
<a name="line54"><font color="#000000">0054:</font></a> Incremental search backward (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-backward}</font>).
<a name="line55"><font color="#000000">0055:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line56"><font color="#000000">0056:</font></a> 
<a name="line57"><font color="#000000">0057:</font></a> You can also invoke incremental search from the menu bar's
<a name="line58"><font color="#000000">0058:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Edit-&gt;Search}</font> menu.
<a name="line59"><font color="#000000">0059:</font></a> 
<a name="line60"><font color="#000000">0060:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line61"><font color="#000000">0061:</font></a> <font color="#FF0000">* Basic Isearch::</font>        Basic incremental search commands.
<a name="line62"><font color="#000000">0062:</font></a> <font color="#FF0000">* Repeat Isearch::</font>       Searching for the same string again.
<a name="line63"><font color="#000000">0063:</font></a> <font color="#FF0000">* Isearch Yank::</font>         Commands that grab text into the search string
<a name="line64"><font color="#000000">0064:</font></a>                            or else edit the search string.
<a name="line65"><font color="#000000">0065:</font></a> <font color="#FF0000">* Error in Isearch::</font>     When your string is not found.
<a name="line66"><font color="#000000">0066:</font></a> <font color="#FF0000">* Special Isearch::</font>      Special input in incremental search.
<a name="line67"><font color="#000000">0067:</font></a> <font color="#FF0000">* Not Exiting Isearch::</font>  Prefix argument and scrolling commands.
<a name="line68"><font color="#000000">0068:</font></a> <font color="#FF0000">* Isearch Minibuffer::</font>   Incremental search of the minibuffer history.
<a name="line69"><font color="#000000">0069:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line70"><font color="#000000">0070:</font></a> 
<a name="line71"><font color="#000000">0071:</font></a> <b><font color="#0000FF">@node</font></b> Basic Isearch
<a name="line72"><font color="#000000">0072:</font></a> <b><font color="#0000FF">@subsection</font></b> Basics of Incremental Search
<a name="line73"><font color="#000000">0073:</font></a> 
<a name="line74"><font color="#000000">0074:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line75"><font color="#000000">0075:</font></a> <b><font color="#0000FF">@item</font></b> C-s
<a name="line76"><font color="#000000">0076:</font></a> Begin incremental search (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-forward}</font>).
<a name="line77"><font color="#000000">0077:</font></a> <b><font color="#0000FF">@item</font></b> C-r
<a name="line78"><font color="#000000">0078:</font></a> Begin reverse incremental search (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-backward}</font>).
<a name="line79"><font color="#000000">0079:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line80"><font color="#000000">0080:</font></a> 
<a name="line81"><font color="#000000">0081:</font></a> <b><font color="#0000FF">@kindex</font></b> C-s
<a name="line82"><font color="#000000">0082:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-forward
<a name="line83"><font color="#000000">0083:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-forward}</font>) starts a forward incremental
<a name="line84"><font color="#000000">0084:</font></a> search.  It reads characters from the keyboard, and moves point just
<a name="line85"><font color="#000000">0085:</font></a> past the end of the next occurrence of those characters in the buffer.
<a name="line86"><font color="#000000">0086:</font></a> 
<a name="line87"><font color="#000000">0087:</font></a>   For instance, if you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> and then <b><font color="#0000FF">@kbd</font></b><font color="#009900">{F}</font>, that puts the
<a name="line88"><font color="#000000">0088:</font></a> cursor after the first <b><font color="#0000FF">@samp</font></b><font color="#009900">{F}</font> that occurs in the buffer after the
<a name="line89"><font color="#000000">0089:</font></a> starting point.  If you then type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{O}</font>, the cursor moves to just
<a name="line90"><font color="#000000">0090:</font></a> after the first <b><font color="#0000FF">@samp</font></b><font color="#009900">{FO}</font>; the <b><font color="#0000FF">@samp</font></b><font color="#009900">{F}</font> in that <b><font color="#0000FF">@samp</font></b><font color="#009900">{FO}</font> might not be
<a name="line91"><font color="#000000">0091:</font></a> the first <b><font color="#0000FF">@samp</font></b><font color="#009900">{F}</font> previously found.  After another <b><font color="#0000FF">@kbd</font></b><font color="#009900">{O}</font>, the
<a name="line92"><font color="#000000">0092:</font></a> cursor moves to just after the first <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOO}</font>.
<a name="line93"><font color="#000000">0093:</font></a> 
<a name="line94"><font color="#000000">0094:</font></a> <i><font color="#9A1900">@cindex faces for highlighting search matches</font></i>
<a name="line95"><font color="#000000">0095:</font></a> <i><font color="#9A1900">@cindex @code{isearch} face</font></i>
<a name="line96"><font color="#000000">0096:</font></a>   At each step, Emacs highlights the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{current match}</font>---the buffer
<a name="line97"><font color="#000000">0097:</font></a> text that matches the search string---using the <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch}</font> face
<a name="line98"><font color="#000000">0098:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces</font><font color="#FF0000">}</font>).  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Search Customizations</font><font color="#FF0000">}</font>, for various options
<a name="line99"><font color="#000000">0099:</font></a> that customize this highlighting.  The current search string is also
<a name="line100"><font color="#000000">0100:</font></a> displayed in the echo area.
<a name="line101"><font color="#000000">0101:</font></a> 
<a name="line102"><font color="#000000">0102:</font></a> <i><font color="#9A1900">@cindex isearch input item</font></i>
<a name="line103"><font color="#000000">0103:</font></a> <i><font color="#9A1900">@cindex input item, isearch</font></i>
<a name="line104"><font color="#000000">0104:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-delete-char
<a name="line105"><font color="#000000">0105:</font></a> <b><font color="#0000FF">@kindex</font></b> DEL <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line106"><font color="#000000">0106:</font></a>   If you make a mistake typing the search string, type <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>
<a name="line107"><font color="#000000">0107:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-delete-char}</font>).  Each <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font> cancels the last input
<a name="line108"><font color="#000000">0108:</font></a> item entered during the search.  Emacs records a new <b><font color="#0000FF">@dfn</font></b><font color="#009900">{input item}</font>
<a name="line109"><font color="#000000">0109:</font></a> whenever you type a command that changes the search string, the
<a name="line110"><font color="#000000">0110:</font></a> position of point, the success or failure of the search, the direction
<a name="line111"><font color="#000000">0111:</font></a> of the search, the position of the other end of the current search
<a name="line112"><font color="#000000">0112:</font></a> result, or the ``wrappedness'' of the search.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Error in</font>
<a name="line113"><font color="#000000">0113:</font></a> <font color="#FF0000">Isearch</font><font color="#FF0000">}</font>, for more about dealing with unsuccessful search.
<a name="line114"><font color="#000000">0114:</font></a> 
<a name="line115"><font color="#000000">0115:</font></a> <i><font color="#9A1900">@cindex exit incremental search</font></i>
<a name="line116"><font color="#000000">0116:</font></a> <i><font color="#9A1900">@cindex incremental search, exiting</font></i>
<a name="line117"><font color="#000000">0117:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-exit
<a name="line118"><font color="#000000">0118:</font></a> <b><font color="#0000FF">@kindex</font></b> RET <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line119"><font color="#000000">0119:</font></a>   When you are satisfied with the place you have reached, type
<a name="line120"><font color="#000000">0120:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-exit}</font>).  This stops searching, leaving the
<a name="line121"><font color="#000000">0121:</font></a> cursor where the search brought it.  Also, any command not specially
<a name="line122"><font color="#000000">0122:</font></a> meaningful in searches stops the searching and is then executed.
<a name="line123"><font color="#000000">0123:</font></a> Thus, typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-a}</font> exits the search and then moves to the
<a name="line124"><font color="#000000">0124:</font></a> beginning of the line; typing one of the arrow keys exits the search
<a name="line125"><font color="#000000">0125:</font></a> and performs the respective movement command; etc.  <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> is
<a name="line126"><font color="#000000">0126:</font></a> necessary only if the next command you want to type is a printing
<a name="line127"><font color="#000000">0127:</font></a> character, <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, or another character that is special
<a name="line128"><font color="#000000">0128:</font></a> within searches (<b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-q}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-w}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>,
<a name="line129"><font color="#000000">0129:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-y}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-y}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-c}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-e}</font>, and some others
<a name="line130"><font color="#000000">0130:</font></a> described below).  You can fine-tune the commands that exit the
<a name="line131"><font color="#000000">0131:</font></a> search; see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Not Exiting Isearch</font><font color="#FF0000">}</font>.
<a name="line132"><font color="#000000">0132:</font></a> 
<a name="line133"><font color="#000000">0133:</font></a>   As a special exception, entering <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> when the search string is
<a name="line134"><font color="#000000">0134:</font></a> empty launches nonincremental search (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Nonincremental Search</font><font color="#FF0000">}</font>).
<a name="line135"><font color="#000000">0135:</font></a> (This can be customized; see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Search Customizations</font><font color="#FF0000">}</font>.)
<a name="line136"><font color="#000000">0136:</font></a> 
<a name="line137"><font color="#000000">0137:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-abort
<a name="line138"><font color="#000000">0138:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-cancel
<a name="line139"><font color="#000000">0139:</font></a> <b><font color="#0000FF">@kindex</font></b> C-g C-g <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line140"><font color="#000000">0140:</font></a> <b><font color="#0000FF">@kindex</font></b> ESC ESC ESC <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line141"><font color="#000000">0141:</font></a>   To abandon the search and return to the place where you started,
<a name="line142"><font color="#000000">0142:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{ESC} @key{ESC} @key{ESC}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-cancel}</font>) or
<a name="line143"><font color="#000000">0143:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g C-g}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-abort}</font>).
<a name="line144"><font color="#000000">0144:</font></a> 
<a name="line145"><font color="#000000">0145:</font></a>   When you exit the incremental search, it adds the original value of
<a name="line146"><font color="#000000">0146:</font></a> point to the mark ring, without activating the mark; you can thus use
<a name="line147"><font color="#000000">0147:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-@key{SPC}}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-x}</font> to return to where you were
<a name="line148"><font color="#000000">0148:</font></a> before beginning the search.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mark Ring</font><font color="#FF0000">}</font>.  (Emacs only does this
<a name="line149"><font color="#000000">0149:</font></a> if the mark was not already active; if the mark was active when you
<a name="line150"><font color="#000000">0150:</font></a> started the search, both <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-@key{SPC}}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-x}</font> will
<a name="line151"><font color="#000000">0151:</font></a> go to the mark.)
<a name="line152"><font color="#000000">0152:</font></a> 
<a name="line153"><font color="#000000">0153:</font></a> <b><font color="#0000FF">@kindex</font></b> C-r
<a name="line154"><font color="#000000">0154:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-backward
<a name="line155"><font color="#000000">0155:</font></a>   To search backwards, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-backward}</font>) instead
<a name="line156"><font color="#000000">0156:</font></a> of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> to start the search.  A backward search finds matches
<a name="line157"><font color="#000000">0157:</font></a> that end before the starting point, just as a forward search finds
<a name="line158"><font color="#000000">0158:</font></a> matches that begin after it.
<a name="line159"><font color="#000000">0159:</font></a> 
<a name="line160"><font color="#000000">0160:</font></a> <b><font color="#0000FF">@node</font></b> Repeat Isearch
<a name="line161"><font color="#000000">0161:</font></a> <b><font color="#0000FF">@subsection</font></b> Repeating Incremental Search
<a name="line162"><font color="#000000">0162:</font></a> 
<a name="line163"><font color="#000000">0163:</font></a> <b><font color="#0000FF">@kindex</font></b> C-s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line164"><font color="#000000">0164:</font></a> <b><font color="#0000FF">@kindex</font></b> C-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line165"><font color="#000000">0165:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-repeat-forward
<a name="line166"><font color="#000000">0166:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-repeat-backward
<a name="line167"><font color="#000000">0167:</font></a>   Suppose you search forward for <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOO}</font> and find a match, but not
<a name="line168"><font color="#000000">0168:</font></a> the one you expected to find: the <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOO}</font> you were aiming for
<a name="line169"><font color="#000000">0169:</font></a> occurs later in the buffer.  In this event, type another <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>
<a name="line170"><font color="#000000">0170:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-repeat-forward}</font>) to move to the next occurrence of the
<a name="line171"><font color="#000000">0171:</font></a> search string.  You can repeat this any number of times.  If you
<a name="line172"><font color="#000000">0172:</font></a> overshoot, you can cancel some <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> commands with <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>.
<a name="line173"><font color="#000000">0173:</font></a> Similarly, each <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-repeat-backward}</font>) in a
<a name="line174"><font color="#000000">0174:</font></a> backward incremental search repeats the backward search.
<a name="line175"><font color="#000000">0175:</font></a> 
<a name="line176"><font color="#000000">0176:</font></a> <i><font color="#9A1900">@cindex lazy search highlighting</font></i>
<a name="line177"><font color="#000000">0177:</font></a>   If you pause for a little while during incremental search, Emacs
<a name="line178"><font color="#000000">0178:</font></a> highlights all the other possible matches for the search string that
<a name="line179"><font color="#000000">0179:</font></a> are present on the screen.  This helps you anticipate where you can
<a name="line180"><font color="#000000">0180:</font></a> get to by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> to repeat the search.  The
<a name="line181"><font color="#000000">0181:</font></a> other matches are highlighted differently from the current match,
<a name="line182"><font color="#000000">0182:</font></a> using the customizable face <b><font color="#0000FF">@code</font></b><font color="#009900">{lazy-highlight}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces</font><font color="#FF0000">}</font>).  If
<a name="line183"><font color="#000000">0183:</font></a> you don't like this feature, you can disable it by setting
<a name="line184"><font color="#000000">0184:</font></a> <i><font color="#9A1900">@code{isearch-lazy-highlight} to @code{nil}.  For other customizations</font></i>
<a name="line185"><font color="#000000">0185:</font></a> related to highlighting matches, see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Search Customizations</font><font color="#FF0000">}</font>.
<a name="line186"><font color="#000000">0186:</font></a> 
<a name="line187"><font color="#000000">0187:</font></a>   After exiting a search, you can search for the same string again by
<a name="line188"><font color="#000000">0188:</font></a> typing just <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s C-s}</font>.  The first <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> is the key that
<a name="line189"><font color="#000000">0189:</font></a> invokes incremental search, and the second <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> means to search
<a name="line190"><font color="#000000">0190:</font></a> again for the last search string.  Similarly, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r C-r}</font> searches
<a name="line191"><font color="#000000">0191:</font></a> backward for the last search string.  In determining the last search
<a name="line192"><font color="#000000">0192:</font></a> string, it doesn't matter whether that string was searched for with
<a name="line193"><font color="#000000">0193:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font>.
<a name="line194"><font color="#000000">0194:</font></a> 
<a name="line195"><font color="#000000">0195:</font></a>   If you are searching forward but you realize you were looking for
<a name="line196"><font color="#000000">0196:</font></a> something before the starting point, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> to switch to a
<a name="line197"><font color="#000000">0197:</font></a> backward search, leaving the search string unchanged.  Similarly,
<a name="line198"><font color="#000000">0198:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> in a backward search switches to a forward search.
<a name="line199"><font color="#000000">0199:</font></a> 
<a name="line200"><font color="#000000">0200:</font></a> <i><font color="#9A1900">@cindex search, wrapping around</font></i>
<a name="line201"><font color="#000000">0201:</font></a> <i><font color="#9A1900">@cindex search, overwrapped</font></i>
<a name="line202"><font color="#000000">0202:</font></a> <i><font color="#9A1900">@cindex wrapped search</font></i>
<a name="line203"><font color="#000000">0203:</font></a> <i><font color="#9A1900">@cindex overwrapped search</font></i>
<a name="line204"><font color="#000000">0204:</font></a>   If a search is failing and you ask to repeat it by typing another
<a name="line205"><font color="#000000">0205:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>, it starts again from the beginning of the buffer.
<a name="line206"><font color="#000000">0206:</font></a> Repeating a failing reverse search with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> starts again from
<a name="line207"><font color="#000000">0207:</font></a> the end.  This is called <b><font color="#0000FF">@dfn</font></b><font color="#009900">{wrapping around}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{Wrapped}</font>
<a name="line208"><font color="#000000">0208:</font></a> appears in the search prompt once this has happened.  If you keep on
<a name="line209"><font color="#000000">0209:</font></a> going past the original starting point of the search, it changes to
<a name="line210"><font color="#000000">0210:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Overwrapped}</font>, which means that you are revisiting matches that
<a name="line211"><font color="#000000">0211:</font></a> you have already seen.
<a name="line212"><font color="#000000">0212:</font></a> 
<a name="line213"><font color="#000000">0213:</font></a> <i><font color="#9A1900">@cindex search ring</font></i>
<a name="line214"><font color="#000000">0214:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-ring-advance
<a name="line215"><font color="#000000">0215:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-ring-retreat
<a name="line216"><font color="#000000">0216:</font></a> <b><font color="#0000FF">@kindex</font></b> M-n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line217"><font color="#000000">0217:</font></a> <b><font color="#0000FF">@kindex</font></b> M-p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line218"><font color="#000000">0218:</font></a> <b><font color="#0000FF">@vindex</font></b> search-ring-max
<a name="line219"><font color="#000000">0219:</font></a>   To reuse earlier search strings, use the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{search ring}</font>.  The
<a name="line220"><font color="#000000">0220:</font></a> commands <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-ring-retreat}</font>) and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font>
<a name="line221"><font color="#000000">0221:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-ring-advance}</font>) move through the ring to pick a search
<a name="line222"><font color="#000000">0222:</font></a> string to reuse.  These commands leave the selected search ring
<a name="line223"><font color="#000000">0223:</font></a> element in the minibuffer, where you can edit it.  Type
<a name="line224"><font color="#000000">0224:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>/<b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> or <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> to accept the string and start
<a name="line225"><font color="#000000">0225:</font></a> searching for it.  The number of most recently used search strings
<a name="line226"><font color="#000000">0226:</font></a> saved in the search ring is specified by the variable
<a name="line227"><font color="#000000">0227:</font></a> <i><font color="#9A1900">@code{search-ring-max}, 16 by default.</font></i>
<a name="line228"><font color="#000000">0228:</font></a> 
<a name="line229"><font color="#000000">0229:</font></a> <i><font color="#9A1900">@cindex incremental search, edit search string</font></i>
<a name="line230"><font color="#000000">0230:</font></a> <i><font color="#9A1900">@cindex interactively edit search string</font></i>
<a name="line231"><font color="#000000">0231:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-edit-string
<a name="line232"><font color="#000000">0232:</font></a> <b><font color="#0000FF">@kindex</font></b> M-e <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line233"><font color="#000000">0233:</font></a> <b><font color="#0000FF">@kindex</font></b> mouse-1 <b><font color="#0000FF">@r</font></b><font color="#009900">{in the minibuffer (Incremental Search)}</font>
<a name="line234"><font color="#000000">0234:</font></a>   To edit the current search string in the minibuffer without
<a name="line235"><font color="#000000">0235:</font></a> replacing it with items from the search ring, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-e}</font>
<a name="line236"><font color="#000000">0236:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-edit-string}</font>) or click <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-1}</font> in the minibuffer.
<a name="line237"><font color="#000000">0237:</font></a> Type <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> to finish editing the string
<a name="line238"><font color="#000000">0238:</font></a> and search for it.  Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RIGHT}}</font> to add to the
<a name="line239"><font color="#000000">0239:</font></a> search string characters following point from the buffer from which
<a name="line240"><font color="#000000">0240:</font></a> you started the search.
<a name="line241"><font color="#000000">0241:</font></a> 
<a name="line242"><font color="#000000">0242:</font></a> <b><font color="#0000FF">@node</font></b> Isearch Yank
<a name="line243"><font color="#000000">0243:</font></a> <b><font color="#0000FF">@subsection</font></b> Isearch Yanking
<a name="line244"><font color="#000000">0244:</font></a> 
<a name="line245"><font color="#000000">0245:</font></a>   In many cases, you will want to use text at or near point as your
<a name="line246"><font color="#000000">0246:</font></a> search string.  The commands described in this subsection let you do
<a name="line247"><font color="#000000">0247:</font></a> that conveniently.
<a name="line248"><font color="#000000">0248:</font></a> 
<a name="line249"><font color="#000000">0249:</font></a> <b><font color="#0000FF">@kindex</font></b> C-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line250"><font color="#000000">0250:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-yank-word-or-char
<a name="line251"><font color="#000000">0251:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-w}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-word-or-char}</font>) appends the next
<a name="line252"><font color="#000000">0252:</font></a> character or word at point to the search string.  This is an easy way
<a name="line253"><font color="#000000">0253:</font></a> to search for another occurrence of the text at point.  (The decision
<a name="line254"><font color="#000000">0254:</font></a> of whether to copy a character or a word is heuristic.)
<a name="line255"><font color="#000000">0255:</font></a> 
<a name="line256"><font color="#000000">0256:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line257"><font color="#000000">0257:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-yank-symbol-or-char
<a name="line258"><font color="#000000">0258:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-w}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-symbol-or-char}</font>) appends the next
<a name="line259"><font color="#000000">0259:</font></a> character or symbol at point to the search string.  This is an easy way
<a name="line260"><font color="#000000">0260:</font></a> to search for another occurrence of the symbol at point.  (The decision
<a name="line261"><font color="#000000">0261:</font></a> of whether to copy a character or a symbol is heuristic.)
<a name="line262"><font color="#000000">0262:</font></a> 
<a name="line263"><font color="#000000">0263:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s C-e <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line264"><font color="#000000">0264:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-yank-line
<a name="line265"><font color="#000000">0265:</font></a>   Similarly, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s C-e}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-line}</font>) appends the rest
<a name="line266"><font color="#000000">0266:</font></a> of the current line to the search string.  If point is already at the
<a name="line267"><font color="#000000">0267:</font></a> end of a line, it appends the next line.  With a prefix argument
<a name="line268"><font color="#000000">0268:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font>, it appends the next <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> lines.
<a name="line269"><font color="#000000">0269:</font></a> 
<a name="line270"><font color="#000000">0270:</font></a> <b><font color="#0000FF">@kindex</font></b> C-y <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line271"><font color="#000000">0271:</font></a> <b><font color="#0000FF">@kindex</font></b> M-y <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line272"><font color="#000000">0272:</font></a> <b><font color="#0000FF">@kindex</font></b> mouse-2 <b><font color="#0000FF">@r</font></b><font color="#009900">{in the minibuffer (Incremental search)}</font>
<a name="line273"><font color="#000000">0273:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-yank-kill
<a name="line274"><font color="#000000">0274:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-yank-pop
<a name="line275"><font color="#000000">0275:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-yank-x-selection
<a name="line276"><font color="#000000">0276:</font></a>   Within incremental search, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-y}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-kill}</font>)
<a name="line277"><font color="#000000">0277:</font></a> appends the current kill to the search string.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-y}</font>
<a name="line278"><font color="#000000">0278:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-pop}</font>), if called after <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-y}</font>, replaces that
<a name="line279"><font color="#000000">0279:</font></a> appended text with an earlier kill, similar to the usual <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-y}</font>
<a name="line280"><font color="#000000">0280:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{yank-pop}</font>) command (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Yanking</font><font color="#FF0000">}</font>).  Clicking <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font>
<a name="line281"><font color="#000000">0281:</font></a> in the echo area appends the current X selection (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Primary</font>
<a name="line282"><font color="#000000">0282:</font></a> <font color="#FF0000">Selection</font><font color="#FF0000">}</font>) to the search string (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-x-selection}</font>).
<a name="line283"><font color="#000000">0283:</font></a> 
<a name="line284"><font color="#000000">0284:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-d <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line285"><font color="#000000">0285:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-y <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line286"><font color="#000000">0286:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-del-char
<a name="line287"><font color="#000000">0287:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-yank-char
<a name="line288"><font color="#000000">0288:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-d}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-del-char}</font>) deletes the last character
<a name="line289"><font color="#000000">0289:</font></a> from the search string, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-y}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-char}</font>)
<a name="line290"><font color="#000000">0290:</font></a> appends the character after point to the search string.  An
<a name="line291"><font color="#000000">0291:</font></a> alternative method to add the character after point is to enter the
<a name="line292"><font color="#000000">0292:</font></a> minibuffer with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-e}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Repeat Isearch</font><font color="#FF0000">}</font>) and type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font>
<a name="line293"><font color="#000000">0293:</font></a> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RIGHT}}</font> at the end of the search string in the
<a name="line294"><font color="#000000">0294:</font></a> minibuffer.  Each <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RIGHT}}</font> you type adds another
<a name="line295"><font color="#000000">0295:</font></a> character following point to the search string.
<a name="line296"><font color="#000000">0296:</font></a> 
<a name="line297"><font color="#000000">0297:</font></a>   Normally, when the search is case-insensitive, text yanked into the
<a name="line298"><font color="#000000">0298:</font></a> search string is converted to lower case, so that the search remains
<a name="line299"><font color="#000000">0299:</font></a> case-insensitive (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search, case folding</font><font color="#FF0000">}</font>).  However, if the
<a name="line300"><font color="#000000">0300:</font></a> value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{search-upper-case}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search,</font>
<a name="line301"><font color="#000000">0301:</font></a> <font color="#FF0000">search-upper-case</font><font color="#FF0000">}</font>) is other than <b><font color="#0000FF">@code</font></b><font color="#009900">{not-yanks}</font>, that disables this
<a name="line302"><font color="#000000">0302:</font></a> down-casing.
<a name="line303"><font color="#000000">0303:</font></a> 
<a name="line304"><font color="#000000">0304:</font></a> <b><font color="#0000FF">@node</font></b> Error in Isearch
<a name="line305"><font color="#000000">0305:</font></a> <b><font color="#0000FF">@subsection</font></b> Errors in Incremental Search
<a name="line306"><font color="#000000">0306:</font></a> 
<a name="line307"><font color="#000000">0307:</font></a> <i><font color="#9A1900">@cindex @code{isearch-fail} face</font></i>
<a name="line308"><font color="#000000">0308:</font></a>   If your string is not found at all, the echo area says <b><font color="#0000FF">@samp</font></b><font color="#009900">{Failing</font>
<a name="line309"><font color="#000000">0309:</font></a> <font color="#009900">I-Search}</font>, and the cursor moves past the place where Emacs found as
<a name="line310"><font color="#000000">0310:</font></a> much of your string as it could.  Thus, if you search for <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOOT}</font>,
<a name="line311"><font color="#000000">0311:</font></a> and there is no <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOOT}</font>, you might see the cursor after the
<a name="line312"><font color="#000000">0312:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOO}</font> in <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOOL}</font>.  In the echo area, the part of the search
<a name="line313"><font color="#000000">0313:</font></a> string that failed to match is highlighted using the face
<a name="line314"><font color="#000000">0314:</font></a> <i><font color="#9A1900">@code{isearch-fail}.</font></i>
<a name="line315"><font color="#000000">0315:</font></a> 
<a name="line316"><font color="#000000">0316:</font></a>   At this point, there are several things you can do.  If your string
<a name="line317"><font color="#000000">0317:</font></a> was mistyped, use <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font> to cancel a previous input item
<a name="line318"><font color="#000000">0318:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Basic Isearch</font><font color="#FF0000">}</font>), <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-d}</font> to erase one character at a time,
<a name="line319"><font color="#000000">0319:</font></a> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-e}</font> to edit it.  If you like the place you have found, you
<a name="line320"><font color="#000000">0320:</font></a> can type <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> to remain there.  Or you can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font>, which
<a name="line321"><font color="#000000">0321:</font></a> removes from the search string the characters that could not be found
<a name="line322"><font color="#000000">0322:</font></a> (the <b><font color="#0000FF">@samp</font></b><font color="#009900">{T}</font> in <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOOT}</font>), leaving those that were found (the
<a name="line323"><font color="#000000">0323:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOO}</font> in <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOOT}</font>).  A second <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> at that point cancels
<a name="line324"><font color="#000000">0324:</font></a> the search entirely, returning point to where it was when the search
<a name="line325"><font color="#000000">0325:</font></a> started.
<a name="line326"><font color="#000000">0326:</font></a> 
<a name="line327"><font color="#000000">0327:</font></a> <i><font color="#9A1900">@cindex quitting (in search)</font></i>
<a name="line328"><font color="#000000">0328:</font></a> <b><font color="#0000FF">@kindex</font></b> C-g <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line329"><font color="#000000">0329:</font></a>   The quit command, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font>, does special things during searches;
<a name="line330"><font color="#000000">0330:</font></a> just what it does depends on the status of the search.  If the search
<a name="line331"><font color="#000000">0331:</font></a> has found what you specified and is waiting for input, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font>
<a name="line332"><font color="#000000">0332:</font></a> cancels the entire search, moving the cursor back to where you started
<a name="line333"><font color="#000000">0333:</font></a> the search.  If <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> is typed when there are characters in the
<a name="line334"><font color="#000000">0334:</font></a> search string that have not been found---because Emacs is still
<a name="line335"><font color="#000000">0335:</font></a> searching for them, or because it has failed to find them---then the
<a name="line336"><font color="#000000">0336:</font></a> search string characters which have not been found are discarded from
<a name="line337"><font color="#000000">0337:</font></a> the search string.  With them gone, the search is now successful and
<a name="line338"><font color="#000000">0338:</font></a> waiting for more input, so a second <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> will cancel the entire
<a name="line339"><font color="#000000">0339:</font></a> search.
<a name="line340"><font color="#000000">0340:</font></a> 
<a name="line341"><font color="#000000">0341:</font></a> <b><font color="#0000FF">@node</font></b> Special Isearch
<a name="line342"><font color="#000000">0342:</font></a> <b><font color="#0000FF">@subsection</font></b> Special Input for Incremental Search
<a name="line343"><font color="#000000">0343:</font></a> 
<a name="line344"><font color="#000000">0344:</font></a>   In addition to characters described in the previous subsections,
<a name="line345"><font color="#000000">0345:</font></a> some of the other characters you type during incremental search have
<a name="line346"><font color="#000000">0346:</font></a> special effects.  They are described here.
<a name="line347"><font color="#000000">0347:</font></a> 
<a name="line348"><font color="#000000">0348:</font></a>   To toggle lax space matching (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search, lax space</font>
<a name="line349"><font color="#000000">0349:</font></a> <font color="#FF0000">matching</font><font color="#FF0000">}</font>), type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s @key{SPC}}</font>.
<a name="line350"><font color="#000000">0350:</font></a> 
<a name="line351"><font color="#000000">0351:</font></a>   To toggle case sensitivity of the search, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-c}</font> or
<a name="line352"><font color="#000000">0352:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s c}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search, case folding</font><font color="#FF0000">}</font>.  If the search string
<a name="line353"><font color="#000000">0353:</font></a> includes upper-case letters, the search is case-sensitive by default.
<a name="line354"><font color="#000000">0354:</font></a> 
<a name="line355"><font color="#000000">0355:</font></a>   To toggle whether or not the search will consider similar and
<a name="line356"><font color="#000000">0356:</font></a> equivalent characters as a match, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s '}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search,</font>
<a name="line357"><font color="#000000">0357:</font></a> <font color="#FF0000">character folding</font><font color="#FF0000">}</font>.  If the search string includes accented
<a name="line358"><font color="#000000">0358:</font></a> characters, that disables character folding during that search.
<a name="line359"><font color="#000000">0359:</font></a> 
<a name="line360"><font color="#000000">0360:</font></a> <i><font color="#9A1900">@cindex invisible text, searching for</font></i>
<a name="line361"><font color="#000000">0361:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s i <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line362"><font color="#000000">0362:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-invisible
<a name="line363"><font color="#000000">0363:</font></a>   To toggle whether or not invisible text is searched, type
<a name="line364"><font color="#000000">0364:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s i}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-invisible}</font>).  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Outline Search</font><font color="#FF0000">}</font>.
<a name="line365"><font color="#000000">0365:</font></a> 
<a name="line366"><font color="#000000">0366:</font></a> <b><font color="#0000FF">@kindex</font></b> M-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line367"><font color="#000000">0367:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line368"><font color="#000000">0368:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-regexp
<a name="line369"><font color="#000000">0369:</font></a>   To toggle between non-regexp and regexp incremental search, type
<a name="line370"><font color="#000000">0370:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s r}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-regexp}</font>).
<a name="line371"><font color="#000000">0371:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexp Search</font><font color="#FF0000">}</font>.
<a name="line372"><font color="#000000">0372:</font></a> 
<a name="line373"><font color="#000000">0373:</font></a>   To toggle symbol mode, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s _}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Symbol Search</font><font color="#FF0000">}</font>.
<a name="line374"><font color="#000000">0374:</font></a> 
<a name="line375"><font color="#000000">0375:</font></a>   To search for a newline character, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-j}</font> as part of the
<a name="line376"><font color="#000000">0376:</font></a> search string.
<a name="line377"><font color="#000000">0377:</font></a> 
<a name="line378"><font color="#000000">0378:</font></a>   To search for non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters, use one of the
<a name="line379"><font color="#000000">0379:</font></a> following methods:
<a name="line380"><font color="#000000">0380:</font></a> 
<a name="line381"><font color="#000000">0381:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line382"><font color="#000000">0382:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line383"><font color="#000000">0383:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-quote-char
<a name="line384"><font color="#000000">0384:</font></a> <b><font color="#0000FF">@kindex</font></b> C-q <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line385"><font color="#000000">0385:</font></a> Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-q}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-quote-char}</font>), followed by a non-graphic
<a name="line386"><font color="#000000">0386:</font></a> character or a sequence of octal digits.  This adds a character to the
<a name="line387"><font color="#000000">0387:</font></a> search string, similar to inserting into a buffer using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-q}</font>
<a name="line388"><font color="#000000">0388:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Inserting Text</font><font color="#FF0000">}</font>).  For example, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-q C-s}</font> during
<a name="line389"><font color="#000000">0389:</font></a> incremental search adds the <b><font color="#0000FF">@samp</font></b><font color="#009900">{control-S}</font> character to the search
<a name="line390"><font color="#000000">0390:</font></a> string.
<a name="line391"><font color="#000000">0391:</font></a> 
<a name="line392"><font color="#000000">0392:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line393"><font color="#000000">0393:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-char-by-name
<a name="line394"><font color="#000000">0394:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 8 RET <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line395"><font color="#000000">0395:</font></a> Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 8 @key{RET}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-char-by-name}</font>), followed by
<a name="line396"><font color="#000000">0396:</font></a> a Unicode name or code-point in hex.  This adds the specified
<a name="line397"><font color="#000000">0397:</font></a> character into the search string, similar to the usual
<a name="line398"><font color="#000000">0398:</font></a> <i><font color="#9A1900">@code{insert-char} command (@pxref{Inserting Text}).</font></i>
<a name="line399"><font color="#000000">0399:</font></a> 
<a name="line400"><font color="#000000">0400:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line401"><font color="#000000">0401:</font></a> <b><font color="#0000FF">@kindex</font></b> C-^ <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line402"><font color="#000000">0402:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-input-method
<a name="line403"><font color="#000000">0403:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-specified-input-method
<a name="line404"><font color="#000000">0404:</font></a> Use an input method (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Input Methods</font><font color="#FF0000">}</font>).  If an input method is
<a name="line405"><font color="#000000">0405:</font></a> enabled in the current buffer when you start the search, the same
<a name="line406"><font color="#000000">0406:</font></a> method will be active in the minibuffer when you type the search
<a name="line407"><font color="#000000">0407:</font></a> string.  While typing the search string, you can toggle the input
<a name="line408"><font color="#000000">0408:</font></a> method with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-\}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-input-method}</font>).  You can
<a name="line409"><font color="#000000">0409:</font></a> also turn on a non-default input method with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-^}</font>
<a name="line410"><font color="#000000">0410:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-specified-input-method}</font>), which prompts for the
<a name="line411"><font color="#000000">0411:</font></a> name of the input method.  When an input method is active during
<a name="line412"><font color="#000000">0412:</font></a> incremental search, the search prompt includes the input method
<a name="line413"><font color="#000000">0413:</font></a> mnemonic, like this:
<a name="line414"><font color="#000000">0414:</font></a> 
<a name="line415"><font color="#000000">0415:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line416"><font color="#000000">0416:</font></a> I-search [<b><font color="#0000FF">@var</font></b><font color="#009900">{im}</font>]:
<a name="line417"><font color="#000000">0417:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line418"><font color="#000000">0418:</font></a> 
<a name="line419"><font color="#000000">0419:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line420"><font color="#000000">0420:</font></a> where <b><font color="#0000FF">@var</font></b><font color="#009900">{im}</font> is the mnemonic of the active input method.  Any input
<a name="line421"><font color="#000000">0421:</font></a> method you enable during incremental search remains enabled in the
<a name="line422"><font color="#000000">0422:</font></a> current buffer afterwards.
<a name="line423"><font color="#000000">0423:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line424"><font color="#000000">0424:</font></a> 
<a name="line425"><font color="#000000">0425:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s o <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line426"><font color="#000000">0426:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-occur
<a name="line427"><font color="#000000">0427:</font></a>   Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s o}</font> in incremental search invokes
<a name="line428"><font color="#000000">0428:</font></a> <i><font color="#9A1900">@code{isearch-occur}, which runs @code{occur} with the current search</font></i>
<a name="line429"><font color="#000000">0429:</font></a> string.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Other Repeating Search, occur</font><font color="#FF0000">}</font>.
<a name="line430"><font color="#000000">0430:</font></a> 
<a name="line431"><font color="#000000">0431:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-query-replace
<a name="line432"><font color="#000000">0432:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-query-replace-regexp
<a name="line433"><font color="#000000">0433:</font></a> <b><font color="#0000FF">@kindex</font></b> M-% <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line434"><font color="#000000">0434:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-% <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line435"><font color="#000000">0435:</font></a>   Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-%}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-query-replace}</font>) in incremental
<a name="line436"><font color="#000000">0436:</font></a> search invokes <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font> or <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace-regexp}</font>
<a name="line437"><font color="#000000">0437:</font></a> (depending on search mode) with the current search string used as the
<a name="line438"><font color="#000000">0438:</font></a> string to replace.  A negative prefix argument means to replace
<a name="line439"><font color="#000000">0439:</font></a> backward.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Query Replace</font><font color="#FF0000">}</font>.  Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-%}</font>
<a name="line440"><font color="#000000">0440:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-query-replace-regexp}</font>) invokes
<a name="line441"><font color="#000000">0441:</font></a> <i><font color="#9A1900">@code{query-replace-regexp} with the current search string used as the</font></i>
<a name="line442"><font color="#000000">0442:</font></a> regexp to replace.
<a name="line443"><font color="#000000">0443:</font></a> 
<a name="line444"><font color="#000000">0444:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-complete
<a name="line445"><font color="#000000">0445:</font></a> <b><font color="#0000FF">@kindex</font></b> M-TAB <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line446"><font color="#000000">0446:</font></a>   Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-@key{TAB}}</font> in incremental search invokes
<a name="line447"><font color="#000000">0447:</font></a> <i><font color="#9A1900">@code{isearch-complete}, which attempts to complete the search string</font></i>
<a name="line448"><font color="#000000">0448:</font></a> using the search ring (the previous search strings you used) as a list
<a name="line449"><font color="#000000">0449:</font></a> of completion alternatives.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Completion</font><font color="#FF0000">}</font>.  In many operating
<a name="line450"><font color="#000000">0450:</font></a> systems, the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-@key{TAB}}</font> key sequence is captured by the window
<a name="line451"><font color="#000000">0451:</font></a> manager; you then need to rebind <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-complete}</font> to another
<a name="line452"><font color="#000000">0452:</font></a> key sequence if you want to use it (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Rebinding</font><font color="#FF0000">}</font>).
<a name="line453"><font color="#000000">0453:</font></a> 
<a name="line454"><font color="#000000">0454:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s h r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line455"><font color="#000000">0455:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-highlight-regexp
<a name="line456"><font color="#000000">0456:</font></a>   You can exit the search while leaving the matches for the last
<a name="line457"><font color="#000000">0457:</font></a> search string highlighted on display.  To this end, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s h r}</font>
<a name="line458"><font color="#000000">0458:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-highlight-regexp}</font>), which will run
<a name="line459"><font color="#000000">0459:</font></a> <i><font color="#9A1900">@code{highlight-regexp} (@pxref{Highlight Interactively}) passing</font></i>
<a name="line460"><font color="#000000">0460:</font></a> it the regexp derived from the last search string and prompting you
<a name="line461"><font color="#000000">0461:</font></a> for the face to use for highlighting.  To remove the highlighting,
<a name="line462"><font color="#000000">0462:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s h u}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{unhighlight-regexp}</font>).
<a name="line463"><font color="#000000">0463:</font></a> 
<a name="line464"><font color="#000000">0464:</font></a> <i><font color="#9A1900">@cindex incremental search, help on special keys</font></i>
<a name="line465"><font color="#000000">0465:</font></a> <b><font color="#0000FF">@kindex</font></b> C-h C-h <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line466"><font color="#000000">0466:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-help-map
<a name="line467"><font color="#000000">0467:</font></a> <b><font color="#0000FF">@vindex</font></b> isearch-mode-map
<a name="line468"><font color="#000000">0468:</font></a>   When incremental search is active, you can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h C-h}</font>
<a name="line469"><font color="#000000">0469:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-help-map}</font>) to access interactive help options,
<a name="line470"><font color="#000000">0470:</font></a> including a list of special key bindings.  These key bindings are part
<a name="line471"><font color="#000000">0471:</font></a> of the keymap <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-mode-map}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Keymaps</font><font color="#FF0000">}</font>).
<a name="line472"><font color="#000000">0472:</font></a> 
<a name="line473"><font color="#000000">0473:</font></a> <b><font color="#0000FF">@node</font></b> Not Exiting Isearch
<a name="line474"><font color="#000000">0474:</font></a> <b><font color="#0000FF">@subsection</font></b> Not Exiting Incremental Search
<a name="line475"><font color="#000000">0475:</font></a> 
<a name="line476"><font color="#000000">0476:</font></a> This subsection describes how to control whether typing a command not
<a name="line477"><font color="#000000">0477:</font></a> specifically meaningful in searches exits the search before executing
<a name="line478"><font color="#000000">0478:</font></a> the command.  It also describes three categories of commands which you
<a name="line479"><font color="#000000">0479:</font></a> can type without exiting the current incremental search, even though
<a name="line480"><font color="#000000">0480:</font></a> they are not themselves part of incremental search.
<a name="line481"><font color="#000000">0481:</font></a> 
<a name="line482"><font color="#000000">0482:</font></a> <b><font color="#0000FF">@vindex</font></b> search-exit-option
<a name="line483"><font color="#000000">0483:</font></a>   Normally, typing a command that is not bound by the incremental
<a name="line484"><font color="#000000">0484:</font></a> search exits the search before executing the command.  Thus, the
<a name="line485"><font color="#000000">0485:</font></a> command operates on the buffer from which you invoked the search.
<a name="line486"><font color="#000000">0486:</font></a> However, if you customize the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{search-exit-option}</font> to
<a name="line487"><font color="#000000">0487:</font></a> <i><font color="#9A1900">@code{append}, the characters which you type that are not interpreted by</font></i>
<a name="line488"><font color="#000000">0488:</font></a> the incremental search are simply appended to the search string.  This
<a name="line489"><font color="#000000">0489:</font></a> is so you could include in the search string control characters, such
<a name="line490"><font color="#000000">0490:</font></a> as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-a}</font>, that would normally exit the search and invoke the
<a name="line491"><font color="#000000">0491:</font></a> command bound to them on the buffer.
<a name="line492"><font color="#000000">0492:</font></a> 
<a name="line493"><font color="#000000">0493:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line494"><font color="#000000">0494:</font></a> <b><font color="#0000FF">@item</font></b> Prefix Arguments
<a name="line495"><font color="#000000">0495:</font></a> <i><font color="#9A1900">@cindex prefix argument commands, during incremental search</font></i>
<a name="line496"><font color="#000000">0496:</font></a> <b><font color="#0000FF">@vindex</font></b> isearch-allow-prefix
<a name="line497"><font color="#000000">0497:</font></a>   In incremental search, when you type a command that specifies a
<a name="line498"><font color="#000000">0498:</font></a> prefix argument (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Arguments</font><font color="#FF0000">}</font>), by default it will apply either
<a name="line499"><font color="#000000">0499:</font></a> to the next action in the search or to the command that exits the
<a name="line500"><font color="#000000">0500:</font></a> search.  In other words, entering a prefix argument will not by itself
<a name="line501"><font color="#000000">0501:</font></a> terminate the search.
<a name="line502"><font color="#000000">0502:</font></a> 
<a name="line503"><font color="#000000">0503:</font></a>   In previous versions of Emacs, entering a prefix argument always
<a name="line504"><font color="#000000">0504:</font></a> terminated the search.  You can revert to this behavior by setting the
<a name="line505"><font color="#000000">0505:</font></a> variable <b><font color="#0000FF">@code{isearch-allow-pref</font></b><font color="#FF0000">ix</font><font color="#FF0000">}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line506"><font color="#000000">0506:</font></a> 
<a name="line507"><font color="#000000">0507:</font></a>   When <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-allow-scroll}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> (see below),
<a name="line508"><font color="#000000">0508:</font></a> prefix arguments always have the default behavior described above,
<a name="line509"><font color="#000000">0509:</font></a> i.e., they don't terminate the search, even if
<a name="line510"><font color="#000000">0510:</font></a> <i><font color="#9A1900">@code{isearch-allow-prefix} is @code{nil}.</font></i>
<a name="line511"><font color="#000000">0511:</font></a> 
<a name="line512"><font color="#000000">0512:</font></a> <b><font color="#0000FF">@item</font></b> Scrolling Commands
<a name="line513"><font color="#000000">0513:</font></a> <i><font color="#9A1900">@cindex scrolling commands, during incremental search</font></i>
<a name="line514"><font color="#000000">0514:</font></a> <b><font color="#0000FF">@vindex</font></b> isearch-allow-scroll
<a name="line515"><font color="#000000">0515:</font></a>   Normally, scrolling commands exit incremental search.  If you change
<a name="line516"><font color="#000000">0516:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-allow-scroll}</font> to a non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value,
<a name="line517"><font color="#000000">0517:</font></a> that enables the use of the scroll-bar, as well as keyboard scrolling
<a name="line518"><font color="#000000">0518:</font></a> commands like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-v}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-v}</font>, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-l}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Scrolling</font><font color="#FF0000">}</font>).
<a name="line519"><font color="#000000">0519:</font></a> This applies only to calling these commands via their bound key
<a name="line520"><font color="#000000">0520:</font></a> sequences---typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x}</font> will still exit the search.  You can give
<a name="line521"><font color="#000000">0521:</font></a> prefix arguments to these commands in the usual way.  This feature
<a name="line522"><font color="#000000">0522:</font></a> won't let you scroll the current match out of visibility, however.
<a name="line523"><font color="#000000">0523:</font></a> 
<a name="line524"><font color="#000000">0524:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-allow-scroll}</font> feature also affects some other
<a name="line525"><font color="#000000">0525:</font></a> commands, such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 2}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{split-window-below}</font>) and
<a name="line526"><font color="#000000">0526:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x ^}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{enlarge-window}</font>), which don't exactly scroll but do
<a name="line527"><font color="#000000">0527:</font></a> affect where the text appears on the screen.  It applies to any
<a name="line528"><font color="#000000">0528:</font></a> command whose name has a non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> <i><font color="#9A1900">@code{isearch-scroll}</font></i>
<a name="line529"><font color="#000000">0529:</font></a> property.  So you can control which commands are affected by changing
<a name="line530"><font color="#000000">0530:</font></a> these properties.
<a name="line531"><font color="#000000">0531:</font></a> 
<a name="line532"><font color="#000000">0532:</font></a> <i><font color="#9A1900">@cindex prevent commands from exiting incremental search</font></i>
<a name="line533"><font color="#000000">0533:</font></a>   For example, to make <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h l}</font> usable within an incremental search
<a name="line534"><font color="#000000">0534:</font></a> in all future Emacs sessions, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h c}</font> to find what command it
<a name="line535"><font color="#000000">0535:</font></a> runs (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Key Help</font><font color="#FF0000">}</font>), which is <b><font color="#0000FF">@code</font></b><font color="#009900">{view-lossage}</font>.  Then you can
<a name="line536"><font color="#000000">0536:</font></a> put the following line in your init file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>):
<a name="line537"><font color="#000000">0537:</font></a> 
<a name="line538"><font color="#000000">0538:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line539"><font color="#000000">0539:</font></a> (put 'view-lossage 'isearch-scroll t)
<a name="line540"><font color="#000000">0540:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line541"><font color="#000000">0541:</font></a> 
<a name="line542"><font color="#000000">0542:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line543"><font color="#000000">0543:</font></a> This feature can be applied to any command that doesn't permanently
<a name="line544"><font color="#000000">0544:</font></a> change point, the buffer contents, the match data, the current buffer,
<a name="line545"><font color="#000000">0545:</font></a> or the selected window and frame.  The command must not itself attempt
<a name="line546"><font color="#000000">0546:</font></a> an incremental search.  This feature is disabled if
<a name="line547"><font color="#000000">0547:</font></a> <i><font color="#9A1900">@code{isearch-allow-scroll} is @code{nil} (which it is by default).</font></i>
<a name="line548"><font color="#000000">0548:</font></a> 
<a name="line549"><font color="#000000">0549:</font></a> <b><font color="#0000FF">@item</font></b> Motion Commands
<a name="line550"><font color="#000000">0550:</font></a> <i><font color="#9A1900">@cindex motion commands, during incremental search</font></i>
<a name="line551"><font color="#000000">0551:</font></a> When <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-on-move}</font> is customized to <b><font color="#0000FF">@code</font></b><font color="#009900">{shift}</font>,
<a name="line552"><font color="#000000">0552:</font></a> you can extend the search string by holding down the shift key while
<a name="line553"><font color="#000000">0553:</font></a> typing cursor motion commands.  It will yank text that ends at the new
<a name="line554"><font color="#000000">0554:</font></a> position after moving point in the current buffer.
<a name="line555"><font color="#000000">0555:</font></a> 
<a name="line556"><font color="#000000">0556:</font></a> When <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-yank-on-move}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>, you can extend the
<a name="line557"><font color="#000000">0557:</font></a> search string without using the shift key for cursor motion commands,
<a name="line558"><font color="#000000">0558:</font></a> but it applies only for certain motion command that have the
<a name="line559"><font color="#000000">0559:</font></a> <i><font color="#9A1900">@code{isearch-move} property on their symbols.</font></i>
<a name="line560"><font color="#000000">0560:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line561"><font color="#000000">0561:</font></a> 
<a name="line562"><font color="#000000">0562:</font></a> <b><font color="#0000FF">@node</font></b> Isearch Minibuffer
<a name="line563"><font color="#000000">0563:</font></a> <b><font color="#0000FF">@subsection</font></b> Searching the Minibuffer
<a name="line564"><font color="#000000">0564:</font></a> <i><font color="#9A1900">@cindex minibuffer history, searching</font></i>
<a name="line565"><font color="#000000">0565:</font></a> 
<a name="line566"><font color="#000000">0566:</font></a> If you start an incremental search while the minibuffer is active,
<a name="line567"><font color="#000000">0567:</font></a> Emacs searches the contents of the minibuffer.  Unlike searching an
<a name="line568"><font color="#000000">0568:</font></a> ordinary buffer, the search string is not shown in the echo area,
<a name="line569"><font color="#000000">0569:</font></a> because that is used to display the minibuffer.
<a name="line570"><font color="#000000">0570:</font></a> 
<a name="line571"><font color="#000000">0571:</font></a> If an incremental search fails in the minibuffer, it tries searching
<a name="line572"><font color="#000000">0572:</font></a> the minibuffer history.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minibuffer History</font><font color="#FF0000">}</font>.  You can visualize
<a name="line573"><font color="#000000">0573:</font></a> the minibuffer and its history as a series of pages, with the
<a name="line574"><font color="#000000">0574:</font></a> earliest history element on the first page and the current minibuffer
<a name="line575"><font color="#000000">0575:</font></a> on the last page.  A forward search, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>, searches forward to
<a name="line576"><font color="#000000">0576:</font></a> later pages; a reverse search, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font>, searches backwards to
<a name="line577"><font color="#000000">0577:</font></a> earlier pages.  Like in ordinary buffer search, a failing search can
<a name="line578"><font color="#000000">0578:</font></a> wrap around, going from the last page to the first page or vice versa.
<a name="line579"><font color="#000000">0579:</font></a> 
<a name="line580"><font color="#000000">0580:</font></a> When the current match is on a history element, that history element
<a name="line581"><font color="#000000">0581:</font></a> is pulled into the minibuffer.  If you exit the incremental search
<a name="line582"><font color="#000000">0582:</font></a> normally (e.g., by typing <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>), it remains in the minibuffer
<a name="line583"><font color="#000000">0583:</font></a> afterwards.  Canceling the search, with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font>, restores the
<a name="line584"><font color="#000000">0584:</font></a> contents of the minibuffer when you began the search.
<a name="line585"><font color="#000000">0585:</font></a> 
<a name="line586"><font color="#000000">0586:</font></a> <b><font color="#0000FF">@node</font></b> Nonincremental Search
<a name="line587"><font color="#000000">0587:</font></a> <b><font color="#0000FF">@section</font></b> Nonincremental Search
<a name="line588"><font color="#000000">0588:</font></a> <i><font color="#9A1900">@cindex nonincremental search</font></i>
<a name="line589"><font color="#000000">0589:</font></a> 
<a name="line590"><font color="#000000">0590:</font></a>   Emacs also has conventional nonincremental search commands, which require
<a name="line591"><font color="#000000">0591:</font></a> you to type the entire search string before searching begins.
<a name="line592"><font color="#000000">0592:</font></a> 
<a name="line593"><font color="#000000">0593:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line594"><font color="#000000">0594:</font></a> <b><font color="#0000FF">@item</font></b> C-s <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line595"><font color="#000000">0595:</font></a> Search for <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>.
<a name="line596"><font color="#000000">0596:</font></a> <b><font color="#0000FF">@item</font></b> C-r <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line597"><font color="#000000">0597:</font></a> Search backward for <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>.
<a name="line598"><font color="#000000">0598:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line599"><font color="#000000">0599:</font></a> 
<a name="line600"><font color="#000000">0600:</font></a>   To start a nonincremental search, first type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s @key{RET}}</font>.
<a name="line601"><font color="#000000">0601:</font></a> This enters the minibuffer to read the search string; terminate the
<a name="line602"><font color="#000000">0602:</font></a> string with <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, and then the search takes place.  If the string
<a name="line603"><font color="#000000">0603:</font></a> is not found, the search command signals an error.
<a name="line604"><font color="#000000">0604:</font></a> 
<a name="line605"><font color="#000000">0605:</font></a>   When you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s @key{RET}}</font>, the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> invokes incremental
<a name="line606"><font color="#000000">0606:</font></a> search as usual.  That command is specially programmed to invoke the
<a name="line607"><font color="#000000">0607:</font></a> command for nonincremental search, if the string you specify is empty.
<a name="line608"><font color="#000000">0608:</font></a> (Such an empty argument would otherwise be useless.)  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r</font>
<a name="line609"><font color="#000000">0609:</font></a> <font color="#009900">@key{RET}}</font> does likewise, invoking the nonincremental
<a name="line610"><font color="#000000">0610:</font></a> backward-searching command.
<a name="line611"><font color="#000000">0611:</font></a> 
<a name="line612"><font color="#000000">0612:</font></a>   Nonincremental search can also be invoked from the menu bar's
<a name="line613"><font color="#000000">0613:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Edit-&gt;Search}</font> menu.
<a name="line614"><font color="#000000">0614:</font></a> 
<a name="line615"><font color="#000000">0615:</font></a> <b><font color="#0000FF">@findex</font></b> search-forward
<a name="line616"><font color="#000000">0616:</font></a> <b><font color="#0000FF">@findex</font></b> search-backward
<a name="line617"><font color="#000000">0617:</font></a>   You can also use two simpler commands, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x search-forward}</font> and
<a name="line618"><font color="#000000">0618:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x search-backward}</font>.  These commands look for the literal
<a name="line619"><font color="#000000">0619:</font></a> strings you specify, and don't support any of the lax-search features
<a name="line620"><font color="#000000">0620:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search</font><font color="#FF0000">}</font>) except case folding.
<a name="line621"><font color="#000000">0621:</font></a> 
<a name="line622"><font color="#000000">0622:</font></a> <b><font color="#0000FF">@node</font></b> Word Search
<a name="line623"><font color="#000000">0623:</font></a> <b><font color="#0000FF">@section</font></b> Word Search
<a name="line624"><font color="#000000">0624:</font></a> <i><font color="#9A1900">@cindex word search</font></i>
<a name="line625"><font color="#000000">0625:</font></a> 
<a name="line626"><font color="#000000">0626:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{word search}</font> finds a sequence of words without regard to the
<a name="line627"><font color="#000000">0627:</font></a> type of punctuation between them.  For instance, if you enter a search
<a name="line628"><font color="#000000">0628:</font></a> string that consists of two words separated by a single space, the
<a name="line629"><font color="#000000">0629:</font></a> search matches any sequence of those two words separated by one or
<a name="line630"><font color="#000000">0630:</font></a> more spaces, newlines, or other punctuation characters.  This is
<a name="line631"><font color="#000000">0631:</font></a> particularly useful for searching text documents, because you don't
<a name="line632"><font color="#000000">0632:</font></a> have to worry whether the words you are looking for are separated by
<a name="line633"><font color="#000000">0633:</font></a> newlines or spaces.  Note that major modes for programming languages
<a name="line634"><font color="#000000">0634:</font></a> or other specialized modes can modify the definition of a word to suit
<a name="line635"><font color="#000000">0635:</font></a> their syntactic needs.
<a name="line636"><font color="#000000">0636:</font></a> 
<a name="line637"><font color="#000000">0637:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line638"><font color="#000000">0638:</font></a> <b><font color="#0000FF">@item</font></b> M-s w
<a name="line639"><font color="#000000">0639:</font></a>   If incremental search is active, toggle word search mode
<a name="line640"><font color="#000000">0640:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-word}</font>); otherwise, begin an incremental forward
<a name="line641"><font color="#000000">0641:</font></a> word search (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-forward-word}</font>).
<a name="line642"><font color="#000000">0642:</font></a> <b><font color="#0000FF">@item</font></b> M-s w <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{words}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line643"><font color="#000000">0643:</font></a> Search for <b><font color="#0000FF">@var</font></b><font color="#009900">{words}</font>, using a forward nonincremental word search.
<a name="line644"><font color="#000000">0644:</font></a> <b><font color="#0000FF">@item</font></b> M-s w C-r <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{words}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line645"><font color="#000000">0645:</font></a> Search backward for <b><font color="#0000FF">@var</font></b><font color="#009900">{words}</font>, using a nonincremental word search.
<a name="line646"><font color="#000000">0646:</font></a> <b><font color="#0000FF">@item</font></b> M-s M-w
<a name="line647"><font color="#000000">0647:</font></a> Search the Web for the text in region.
<a name="line648"><font color="#000000">0648:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line649"><font color="#000000">0649:</font></a> 
<a name="line650"><font color="#000000">0650:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-forward-word
<a name="line651"><font color="#000000">0651:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-word
<a name="line652"><font color="#000000">0652:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s w
<a name="line653"><font color="#000000">0653:</font></a>   To begin a forward incremental word search, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s w}</font>.  If
<a name="line654"><font color="#000000">0654:</font></a> incremental search is not already active, this runs the command
<a name="line655"><font color="#000000">0655:</font></a> <i><font color="#9A1900">@code{isearch-forward-word}.  If incremental search is already active</font></i>
<a name="line656"><font color="#000000">0656:</font></a> (whether a forward or backward search), <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s w}</font> runs the command
<a name="line657"><font color="#000000">0657:</font></a> <i><font color="#9A1900">@code{isearch-toggle-word}, which switches to a word search while</font></i>
<a name="line658"><font color="#000000">0658:</font></a> keeping the direction of the search and the current search string
<a name="line659"><font color="#000000">0659:</font></a> unchanged.  You can toggle word search back off by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s w}</font>
<a name="line660"><font color="#000000">0660:</font></a> again.
<a name="line661"><font color="#000000">0661:</font></a> 
<a name="line662"><font color="#000000">0662:</font></a> <b><font color="#0000FF">@findex</font></b> word-search-forward
<a name="line663"><font color="#000000">0663:</font></a> <b><font color="#0000FF">@findex</font></b> word-search-backward
<a name="line664"><font color="#000000">0664:</font></a>   To begin a nonincremental word search, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s w @key{RET}}</font>
<a name="line665"><font color="#000000">0665:</font></a> for a forward search, or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s w C-r @key{RET}}</font> for a backward search.
<a name="line666"><font color="#000000">0666:</font></a> These run the commands <b><font color="#0000FF">@code</font></b><font color="#009900">{word-search-forward}</font> and
<a name="line667"><font color="#000000">0667:</font></a> <i><font color="#9A1900">@code{word-search-backward} respectively.</font></i>
<a name="line668"><font color="#000000">0668:</font></a> 
<a name="line669"><font color="#000000">0669:</font></a>   Incremental and nonincremental word searches differ slightly in the
<a name="line670"><font color="#000000">0670:</font></a> way they find a match.  In a nonincremental word search, each word in
<a name="line671"><font color="#000000">0671:</font></a> the search string must exactly match a whole word.  In an incremental
<a name="line672"><font color="#000000">0672:</font></a> word search, the matching is more lax: while you are typing the search
<a name="line673"><font color="#000000">0673:</font></a> string, its first and last words need not match whole words.  This is
<a name="line674"><font color="#000000">0674:</font></a> so that the matching can proceed incrementally as you type.  This
<a name="line675"><font color="#000000">0675:</font></a> additional laxity does not apply to the lazy highlight
<a name="line676"><font color="#000000">0676:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Incremental Search</font><font color="#FF0000">}</font>), which always matches whole words.
<a name="line677"><font color="#000000">0677:</font></a> While you are typing the search string, <b><font color="#0000FF">@samp</font></b><font color="#009900">{Pending}</font> appears in the
<a name="line678"><font color="#000000">0678:</font></a> search prompt until you use a search repeating key like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>.
<a name="line679"><font color="#000000">0679:</font></a> 
<a name="line680"><font color="#000000">0680:</font></a>   The word search commands don't perform character folding, and
<a name="line681"><font color="#000000">0681:</font></a> toggling lax whitespace matching (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search, lax space</font>
<a name="line682"><font color="#000000">0682:</font></a> <font color="#FF0000">matching</font><font color="#FF0000">}</font>) has no effect on them.
<a name="line683"><font color="#000000">0683:</font></a> 
<a name="line684"><font color="#000000">0684:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s M-w
<a name="line685"><font color="#000000">0685:</font></a> <b><font color="#0000FF">@findex</font></b> eww-search-words
<a name="line686"><font color="#000000">0686:</font></a> <b><font color="#0000FF">@vindex</font></b> eww-search-prefix
<a name="line687"><font color="#000000">0687:</font></a>   To search the Web for the text in region, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s M-w}</font>.  This
<a name="line688"><font color="#000000">0688:</font></a> command performs an Internet search for the words in region using the
<a name="line689"><font color="#000000">0689:</font></a> search engine whose <b><font color="#0000FF">@acronym</font></b><font color="#009900">{URL}</font> is specified by the variable
<a name="line690"><font color="#000000">0690:</font></a> <i><font color="#9A1900">@code{eww-search-prefix} (@pxref{Basics, EWW, , eww, The Emacs Web</font></i>
<a name="line691"><font color="#000000">0691:</font></a> Wowser Manual}).  If the region is not active, or doesn't contain any
<a name="line692"><font color="#000000">0692:</font></a> words, this command prompts the user for a URL or keywords to search.
<a name="line693"><font color="#000000">0693:</font></a> 
<a name="line694"><font color="#000000">0694:</font></a> 
<a name="line695"><font color="#000000">0695:</font></a> <b><font color="#0000FF">@node</font></b> Symbol Search
<a name="line696"><font color="#000000">0696:</font></a> <b><font color="#0000FF">@section</font></b> Symbol Search
<a name="line697"><font color="#000000">0697:</font></a> <i><font color="#9A1900">@cindex symbol search</font></i>
<a name="line698"><font color="#000000">0698:</font></a> 
<a name="line699"><font color="#000000">0699:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{symbol search}</font> is much like an ordinary search, except that
<a name="line700"><font color="#000000">0700:</font></a> the boundaries of the search must match the boundaries of a symbol.
<a name="line701"><font color="#000000">0701:</font></a> The meaning of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{symbol}</font> in this context depends on the major mode,
<a name="line702"><font color="#000000">0702:</font></a> and usually refers to a source code token, such as a Lisp symbol in
<a name="line703"><font color="#000000">0703:</font></a> Emacs Lisp mode.  For instance, if you perform an incremental symbol
<a name="line704"><font color="#000000">0704:</font></a> search for the Lisp symbol <b><font color="#0000FF">@code</font></b><font color="#009900">{forward-word}</font>, it would not match
<a name="line705"><font color="#000000">0705:</font></a> <i><font color="#9A1900">@code{isearch-forward-word}.  This feature is thus mainly useful for</font></i>
<a name="line706"><font color="#000000">0706:</font></a> searching source code.
<a name="line707"><font color="#000000">0707:</font></a> 
<a name="line708"><font color="#000000">0708:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line709"><font color="#000000">0709:</font></a> <b><font color="#0000FF">@item</font></b> M-s _
<a name="line710"><font color="#000000">0710:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-symbol
<a name="line711"><font color="#000000">0711:</font></a> If incremental search is active, toggle symbol search mode
<a name="line712"><font color="#000000">0712:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-symbol}</font>); otherwise, begin an incremental
<a name="line713"><font color="#000000">0713:</font></a> forward symbol search (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-forward-symbol}</font>).
<a name="line714"><font color="#000000">0714:</font></a> <b><font color="#0000FF">@item</font></b> M-s .
<a name="line715"><font color="#000000">0715:</font></a> Start a symbol incremental search forward with the symbol found near
<a name="line716"><font color="#000000">0716:</font></a> point added to the search string initially.
<a name="line717"><font color="#000000">0717:</font></a> <b><font color="#0000FF">@item</font></b> M-s _ <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{symbol}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line718"><font color="#000000">0718:</font></a> Search forward for <b><font color="#0000FF">@var</font></b><font color="#009900">{symbol}</font>, nonincrementally.
<a name="line719"><font color="#000000">0719:</font></a> <b><font color="#0000FF">@item</font></b> M-s _ C-r <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{symbol}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line720"><font color="#000000">0720:</font></a> Search backward for <b><font color="#0000FF">@var</font></b><font color="#009900">{symbol}</font>, nonincrementally.
<a name="line721"><font color="#000000">0721:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line722"><font color="#000000">0722:</font></a> 
<a name="line723"><font color="#000000">0723:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s _
<a name="line724"><font color="#000000">0724:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s .
<a name="line725"><font color="#000000">0725:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-forward-symbol
<a name="line726"><font color="#000000">0726:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-forward-symbol-at-point
<a name="line727"><font color="#000000">0727:</font></a>   To begin a forward incremental symbol search, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s _}</font> (or
<a name="line728"><font color="#000000">0728:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s .}</font> if the symbol to search is near point).  If incremental
<a name="line729"><font color="#000000">0729:</font></a> search is not already active, this runs the command
<a name="line730"><font color="#000000">0730:</font></a> <i><font color="#9A1900">@code{isearch-forward-symbol}.  If incremental search is already</font></i>
<a name="line731"><font color="#000000">0731:</font></a> active, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s _}</font> switches to a symbol search, preserving the
<a name="line732"><font color="#000000">0732:</font></a> direction of the search and the current search string; you can disable
<a name="line733"><font color="#000000">0733:</font></a> symbol search by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s _}</font> again.  In incremental symbol
<a name="line734"><font color="#000000">0734:</font></a> search, while you are typing the search string, only the beginning
<a name="line735"><font color="#000000">0735:</font></a> of the search string is required to match the beginning of a symbol,
<a name="line736"><font color="#000000">0736:</font></a> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{Pending}</font> appears in the search prompt until you use a search
<a name="line737"><font color="#000000">0737:</font></a> repeating key like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>.
<a name="line738"><font color="#000000">0738:</font></a> 
<a name="line739"><font color="#000000">0739:</font></a>   To begin a nonincremental symbol search, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s _ @key{RET}}</font>
<a name="line740"><font color="#000000">0740:</font></a> for a forward search, or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s _ C-r @key{RET}}</font> or a backward
<a name="line741"><font color="#000000">0741:</font></a> search.  In nonincremental symbol searches, the beginning and end of
<a name="line742"><font color="#000000">0742:</font></a> the search string are required to match the beginning and end of a
<a name="line743"><font color="#000000">0743:</font></a> symbol, respectively.
<a name="line744"><font color="#000000">0744:</font></a> 
<a name="line745"><font color="#000000">0745:</font></a>   The symbol search commands don't perform character folding, and
<a name="line746"><font color="#000000">0746:</font></a> toggling lax whitespace matching (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search, lax space</font>
<a name="line747"><font color="#000000">0747:</font></a> <font color="#FF0000">matching</font><font color="#FF0000">}</font>) has no effect on them.
<a name="line748"><font color="#000000">0748:</font></a> 
<a name="line749"><font color="#000000">0749:</font></a> <b><font color="#0000FF">@node</font></b> Regexp Search
<a name="line750"><font color="#000000">0750:</font></a> <b><font color="#0000FF">@section</font></b> Regular Expression Search
<a name="line751"><font color="#000000">0751:</font></a> <i><font color="#9A1900">@cindex regexp search</font></i>
<a name="line752"><font color="#000000">0752:</font></a> <i><font color="#9A1900">@cindex search for a regular expression</font></i>
<a name="line753"><font color="#000000">0753:</font></a> 
<a name="line754"><font color="#000000">0754:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{regular expression}</font> (or <b><font color="#0000FF">@dfn</font></b><font color="#009900">{regexp}</font> for short) is a pattern
<a name="line755"><font color="#000000">0755:</font></a> that denotes a class of alternative strings to match.  Emacs
<a name="line756"><font color="#000000">0756:</font></a> provides both incremental and nonincremental ways to search for a
<a name="line757"><font color="#000000">0757:</font></a> match for a regexp.  The syntax of regular expressions is explained in
<a name="line758"><font color="#000000">0758:</font></a> the next section.
<a name="line759"><font color="#000000">0759:</font></a> 
<a name="line760"><font color="#000000">0760:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line761"><font color="#000000">0761:</font></a> <b><font color="#0000FF">@item</font></b> C-M-s
<a name="line762"><font color="#000000">0762:</font></a> Begin incremental regexp search (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-forward-regexp}</font>).
<a name="line763"><font color="#000000">0763:</font></a> <b><font color="#0000FF">@item</font></b> C-M-r
<a name="line764"><font color="#000000">0764:</font></a> Begin reverse incremental regexp search (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-backward-regexp}</font>).
<a name="line765"><font color="#000000">0765:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line766"><font color="#000000">0766:</font></a> 
<a name="line767"><font color="#000000">0767:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-s
<a name="line768"><font color="#000000">0768:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-forward-regexp
<a name="line769"><font color="#000000">0769:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-r
<a name="line770"><font color="#000000">0770:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-backward-regexp
<a name="line771"><font color="#000000">0771:</font></a>   Incremental search for a regexp is done by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-s}</font>
<a name="line772"><font color="#000000">0772:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-forward-regexp}</font>), by invoking <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> with a
<a name="line773"><font color="#000000">0773:</font></a> prefix argument (whose value does not matter), or by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font>
<a name="line774"><font color="#000000">0774:</font></a> within a forward incremental search.  This command reads a
<a name="line775"><font color="#000000">0775:</font></a> search string incrementally just like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font>, but it treats the
<a name="line776"><font color="#000000">0776:</font></a> search string as a regexp rather than looking for an exact match
<a name="line777"><font color="#000000">0777:</font></a> against the text in the buffer.  Each time you add text to the search
<a name="line778"><font color="#000000">0778:</font></a> string, you make the regexp longer, and the new regexp is searched
<a name="line779"><font color="#000000">0779:</font></a> for.  To search backward for a regexp, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-r}</font>
<a name="line780"><font color="#000000">0780:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-backward-regexp}</font>), <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> with a prefix argument,
<a name="line781"><font color="#000000">0781:</font></a> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font> within a backward incremental search.
<a name="line782"><font color="#000000">0782:</font></a> 
<a name="line783"><font color="#000000">0783:</font></a> <b><font color="#0000FF">@vindex</font></b> regexp-search-ring-max
<a name="line784"><font color="#000000">0784:</font></a>   All of the special key sequences in an ordinary incremental search
<a name="line785"><font color="#000000">0785:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Special Isearch</font><font color="#FF0000">}</font>) do similar things in an incremental regexp
<a name="line786"><font color="#000000">0786:</font></a> search.  For instance, typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> immediately after starting the
<a name="line787"><font color="#000000">0787:</font></a> search retrieves the last incremental search regexp used and searches
<a name="line788"><font color="#000000">0788:</font></a> forward for it.  Incremental regexp and non-regexp searches have
<a name="line789"><font color="#000000">0789:</font></a> independent defaults.  They also have separate search rings, which you
<a name="line790"><font color="#000000">0790:</font></a> can access with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font>.  The maximum number of search
<a name="line791"><font color="#000000">0791:</font></a> regexps saved in the search ring is determined by the value of
<a name="line792"><font color="#000000">0792:</font></a> <i><font color="#9A1900">@code{regexp-search-ring-max}, 16 by default.</font></i>
<a name="line793"><font color="#000000">0793:</font></a> 
<a name="line794"><font color="#000000">0794:</font></a>   Unlike ordinary incremental search, incremental regexp search
<a name="line795"><font color="#000000">0795:</font></a> does not use lax space matching by default.  To toggle this feature
<a name="line796"><font color="#000000">0796:</font></a> use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s @key{SPC}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-lax-whitespace}</font>).
<a name="line797"><font color="#000000">0797:</font></a> Then any <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font> typed in incremental regexp search will match
<a name="line798"><font color="#000000">0798:</font></a> any sequence of one or more whitespace characters.  The variable
<a name="line799"><font color="#000000">0799:</font></a> <i><font color="#9A1900">@code{search-whitespace-regexp} specifies the regexp for the lax</font></i>
<a name="line800"><font color="#000000">0800:</font></a> space matching.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Special Isearch</font><font color="#FF0000">}</font>.
<a name="line801"><font color="#000000">0801:</font></a> 
<a name="line802"><font color="#000000">0802:</font></a>   Also unlike ordinary incremental search, incremental regexp search
<a name="line803"><font color="#000000">0803:</font></a> cannot use character folding (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search</font><font color="#FF0000">}</font>).  (If you toggle
<a name="line804"><font color="#000000">0804:</font></a> character folding during incremental regexp search with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s '}</font>,
<a name="line805"><font color="#000000">0805:</font></a> the search becomes a non-regexp search and the search pattern you
<a name="line806"><font color="#000000">0806:</font></a> typed is interpreted as a literal string.)
<a name="line807"><font color="#000000">0807:</font></a> 
<a name="line808"><font color="#000000">0808:</font></a>   In some cases, adding characters to the regexp in an incremental
<a name="line809"><font color="#000000">0809:</font></a> regexp search can make the cursor move back and start again.  For
<a name="line810"><font color="#000000">0810:</font></a> example, if you have searched for <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> and you add <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|bar}</font>,
<a name="line811"><font color="#000000">0811:</font></a> the cursor backs up in case the first <b><font color="#0000FF">@samp</font></b><font color="#009900">{bar}</font> precedes the first
<a name="line812"><font color="#000000">0812:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexps</font><font color="#FF0000">}</font>.
<a name="line813"><font color="#000000">0813:</font></a> 
<a name="line814"><font color="#000000">0814:</font></a>   Forward and backward regexp search are not symmetrical, because
<a name="line815"><font color="#000000">0815:</font></a> regexp matching in Emacs always operates forward, starting with the
<a name="line816"><font color="#000000">0816:</font></a> beginning of the regexp.  Thus, forward regexp search scans forward,
<a name="line817"><font color="#000000">0817:</font></a> trying a forward match at each possible starting position.  Backward
<a name="line818"><font color="#000000">0818:</font></a> regexp search scans backward, trying a forward match at each possible
<a name="line819"><font color="#000000">0819:</font></a> starting position.  These search methods are not mirror images.
<a name="line820"><font color="#000000">0820:</font></a> 
<a name="line821"><font color="#000000">0821:</font></a> <b><font color="#0000FF">@findex</font></b> re-search-forward
<a name="line822"><font color="#000000">0822:</font></a> <b><font color="#0000FF">@findex</font></b> re-search-backward
<a name="line823"><font color="#000000">0823:</font></a>   Nonincremental search for a regexp is done with the commands
<a name="line824"><font color="#000000">0824:</font></a> <i><font color="#9A1900">@code{re-search-forward} and @code{re-search-backward}.  You can</font></i>
<a name="line825"><font color="#000000">0825:</font></a> invoke these with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x}</font>, or by way of incremental regexp search
<a name="line826"><font color="#000000">0826:</font></a> with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-s @key{RET}}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-r @key{RET}}</font>.  When you invoke
<a name="line827"><font color="#000000">0827:</font></a> these commands with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x}</font>, they search for the exact regexp you
<a name="line828"><font color="#000000">0828:</font></a> specify, and thus don't support any lax-search features (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax</font>
<a name="line829"><font color="#000000">0829:</font></a> <font color="#FF0000">Search</font><font color="#FF0000">}</font>) except case folding.
<a name="line830"><font color="#000000">0830:</font></a> 
<a name="line831"><font color="#000000">0831:</font></a>   If you use the incremental regexp search commands with a prefix
<a name="line832"><font color="#000000">0832:</font></a> argument, they perform ordinary string search, like
<a name="line833"><font color="#000000">0833:</font></a> <i><font color="#9A1900">@code{isearch-forward} and @code{isearch-backward}.  @xref{Incremental</font></i>
<a name="line834"><font color="#000000">0834:</font></a> Search}.
<a name="line835"><font color="#000000">0835:</font></a> 
<a name="line836"><font color="#000000">0836:</font></a> <b><font color="#0000FF">@node</font></b> Regexps
<a name="line837"><font color="#000000">0837:</font></a> <b><font color="#0000FF">@section</font></b> Syntax of Regular Expressions
<a name="line838"><font color="#000000">0838:</font></a> <i><font color="#9A1900">@cindex syntax of regexps</font></i>
<a name="line839"><font color="#000000">0839:</font></a> <i><font color="#9A1900">@cindex regular expression</font></i>
<a name="line840"><font color="#000000">0840:</font></a> <i><font color="#9A1900">@cindex regexp</font></i>
<a name="line841"><font color="#000000">0841:</font></a> 
<a name="line842"><font color="#000000">0842:</font></a>   This section (and this manual in general) describes regular
<a name="line843"><font color="#000000">0843:</font></a> expression features that users typically use.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regular</font>
<a name="line844"><font color="#000000">0844:</font></a> <font color="#FF0000">Expressions,,, elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>, for additional
<a name="line845"><font color="#000000">0845:</font></a> features used mainly in Lisp programs.
<a name="line846"><font color="#000000">0846:</font></a> 
<a name="line847"><font color="#000000">0847:</font></a>   Regular expressions have a syntax in which a few characters are
<a name="line848"><font color="#000000">0848:</font></a> special constructs and the rest are <b><font color="#0000FF">@dfn</font></b><font color="#009900">{ordinary}</font>.  An ordinary
<a name="line849"><font color="#000000">0849:</font></a> character matches that same character and nothing else.  The special
<a name="line850"><font color="#000000">0850:</font></a> characters are <b><font color="#0000FF">@samp</font></b><font color="#009900">{$^.*+?[\}</font>.  The character <b><font color="#0000FF">@samp</font></b><font color="#009900">{]}</font> is special if
<a name="line851"><font color="#000000">0851:</font></a> it ends a character alternative (see below).  The character <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font>
<a name="line852"><font color="#000000">0852:</font></a> is special inside a character alternative.  Any other character
<a name="line853"><font color="#000000">0853:</font></a> appearing in a regular expression is ordinary, unless a <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font>
<a name="line854"><font color="#000000">0854:</font></a> precedes it.  (When you use regular expressions in a Lisp program,
<a name="line855"><font color="#000000">0855:</font></a> each <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> must be doubled, see the example near the end of this
<a name="line856"><font color="#000000">0856:</font></a> section.)
<a name="line857"><font color="#000000">0857:</font></a> 
<a name="line858"><font color="#000000">0858:</font></a>   For example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{f}</font> is not a special character, so it is ordinary, and
<a name="line859"><font color="#000000">0859:</font></a> therefore <b><font color="#0000FF">@samp</font></b><font color="#009900">{f}</font> is a regular expression that matches the string
<a name="line860"><font color="#000000">0860:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{f}</font> and no other string.  (It does <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">not</font></i><font color="#FF0000">}</font> match the string
<a name="line861"><font color="#000000">0861:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{ff}</font>.)  Likewise, <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font> is a regular expression that matches
<a name="line862"><font color="#000000">0862:</font></a> only <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font>.  (When case distinctions are being ignored, these regexps
<a name="line863"><font color="#000000">0863:</font></a> also match <b><font color="#0000FF">@samp</font></b><font color="#009900">{F}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{O}</font>, but we consider this a generalization
<a name="line864"><font color="#000000">0864:</font></a> of ``the same string'', rather than an exception.)
<a name="line865"><font color="#000000">0865:</font></a> 
<a name="line866"><font color="#000000">0866:</font></a>   Any two regular expressions <b><font color="#0000FF">@var</font></b><font color="#009900">{a}</font> and <b><font color="#0000FF">@var</font></b><font color="#009900">{b}</font> can be concatenated.
<a name="line867"><font color="#000000">0867:</font></a> The result is a regular expression which matches a string if <b><font color="#0000FF">@var</font></b><font color="#009900">{a}</font>
<a name="line868"><font color="#000000">0868:</font></a> matches some amount of the beginning of that string and <b><font color="#0000FF">@var</font></b><font color="#009900">{b}</font>
<a name="line869"><font color="#000000">0869:</font></a> matches the rest of the string.  As a trivial example, concatenating
<a name="line870"><font color="#000000">0870:</font></a> the regular expressions <b><font color="#0000FF">@samp</font></b><font color="#009900">{f}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font> gives the regular
<a name="line871"><font color="#000000">0871:</font></a> expression <b><font color="#0000FF">@samp</font></b><font color="#009900">{fo}</font>, which matches only the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{fo}</font>.  To do
<a name="line872"><font color="#000000">0872:</font></a> something less trivial, you need to use one of the special characters.
<a name="line873"><font color="#000000">0873:</font></a> Here is a list of them.
<a name="line874"><font color="#000000">0874:</font></a> 
<a name="line875"><font color="#000000">0875:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line876"><font color="#000000">0876:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{.}</font><b><font color="#0000FF">@:</font></b> <b><font color="#0000FF">@r</font></b><font color="#009900">{(Period)}</font>
<a name="line877"><font color="#000000">0877:</font></a> is a special character that matches any single character except a
<a name="line878"><font color="#000000">0878:</font></a> newline.  For example, the regular expressions <b><font color="#0000FF">@samp</font></b><font color="#009900">{a.b}</font> matches any
<a name="line879"><font color="#000000">0879:</font></a> three-character string that begins with <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font> and ends with
<a name="line880"><font color="#000000">0880:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{b}</font>.
<a name="line881"><font color="#000000">0881:</font></a> 
<a name="line882"><font color="#000000">0882:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{*}</font>
<a name="line883"><font color="#000000">0883:</font></a> is not a construct by itself; it is a postfix operator that means to
<a name="line884"><font color="#000000">0884:</font></a> match the preceding regular expression repetitively any number of
<a name="line885"><font color="#000000">0885:</font></a> times, as many times as possible.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{o*}</font> matches any number
<a name="line886"><font color="#000000">0886:</font></a> of <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font>s, including no <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font>s.
<a name="line887"><font color="#000000">0887:</font></a> 
<a name="line888"><font color="#000000">0888:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> always applies to the <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">smallest</font></i><font color="#FF0000">}</font> possible preceding
<a name="line889"><font color="#000000">0889:</font></a> expression.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{fo*}</font> has a repeating <b><font color="#0000FF">@samp</font></b><font color="#009900">{o}</font>, not a repeating
<a name="line890"><font color="#000000">0890:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{fo}</font>.  It matches <b><font color="#0000FF">@samp</font></b><font color="#009900">{f}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{fo}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font>, and so on.
<a name="line891"><font color="#000000">0891:</font></a> 
<a name="line892"><font color="#000000">0892:</font></a> The matcher processes a <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> construct by matching, immediately,
<a name="line893"><font color="#000000">0893:</font></a> as many repetitions as can be found.  Then it continues with the rest
<a name="line894"><font color="#000000">0894:</font></a> of the pattern.  If that fails, backtracking occurs, discarding some
<a name="line895"><font color="#000000">0895:</font></a> of the matches of the <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font>-modified construct in case that makes
<a name="line896"><font color="#000000">0896:</font></a> it possible to match the rest of the pattern.  For example, in matching
<a name="line897"><font color="#000000">0897:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{ca*ar}</font> against the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{caaar}</font>, the <b><font color="#0000FF">@samp</font></b><font color="#009900">{a*}</font> first
<a name="line898"><font color="#000000">0898:</font></a> tries to match all three <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font>s; but the rest of the pattern is
<a name="line899"><font color="#000000">0899:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{ar}</font> and there is only <b><font color="#0000FF">@samp</font></b><font color="#009900">{r}</font> left to match, so this try fails.
<a name="line900"><font color="#000000">0900:</font></a> The next alternative is for <b><font color="#0000FF">@samp</font></b><font color="#009900">{a*}</font> to match only two <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font>s.
<a name="line901"><font color="#000000">0901:</font></a> With this choice, the rest of the regexp matches successfully.
<a name="line902"><font color="#000000">0902:</font></a> 
<a name="line903"><font color="#000000">0903:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{+}</font>
<a name="line904"><font color="#000000">0904:</font></a> is a postfix operator, similar to <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> except that it must match
<a name="line905"><font color="#000000">0905:</font></a> the preceding expression at least once.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{ca+r}</font> matches the
<a name="line906"><font color="#000000">0906:</font></a> strings <b><font color="#0000FF">@samp</font></b><font color="#009900">{car}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{caaaar}</font> but not the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{cr}</font>,
<a name="line907"><font color="#000000">0907:</font></a> whereas <b><font color="#0000FF">@samp</font></b><font color="#009900">{ca*r}</font> matches all three strings.
<a name="line908"><font color="#000000">0908:</font></a> 
<a name="line909"><font color="#000000">0909:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{?}</font>
<a name="line910"><font color="#000000">0910:</font></a> is a postfix operator, similar to <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> except that it can match
<a name="line911"><font color="#000000">0911:</font></a> the preceding expression either once or not at all.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{ca?r}</font>
<a name="line912"><font color="#000000">0912:</font></a> matches <b><font color="#0000FF">@samp</font></b><font color="#009900">{car}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{cr}</font>, and nothing else.
<a name="line913"><font color="#000000">0913:</font></a> 
<a name="line914"><font color="#000000">0914:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{*?}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{+?}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{??}</font>
<a name="line915"><font color="#000000">0915:</font></a> <i><font color="#9A1900">@cindex non-greedy regexp matching</font></i>
<a name="line916"><font color="#000000">0916:</font></a> are non-<b><font color="#0000FF">@dfn</font></b><font color="#009900">{greedy}</font> variants of the operators above.  The normal
<a name="line917"><font color="#000000">0917:</font></a> operators <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{+}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font> match as much as they can, as
<a name="line918"><font color="#000000">0918:</font></a> long as the overall regexp can still match.  With a following
<a name="line919"><font color="#000000">0919:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font>, they will match as little as possible.
<a name="line920"><font color="#000000">0920:</font></a> 
<a name="line921"><font color="#000000">0921:</font></a> Thus, both <b><font color="#0000FF">@samp</font></b><font color="#009900">{ab*}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{ab*?}</font> can match the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font>
<a name="line922"><font color="#000000">0922:</font></a> and the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{abbbb}</font>; but if you try to match them both against
<a name="line923"><font color="#000000">0923:</font></a> the text <b><font color="#0000FF">@samp</font></b><font color="#009900">{abbb}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{ab*}</font> will match it all (the longest valid
<a name="line924"><font color="#000000">0924:</font></a> match), while <b><font color="#0000FF">@samp</font></b><font color="#009900">{ab*?}</font>  will match just <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font> (the shortest
<a name="line925"><font color="#000000">0925:</font></a> valid match).
<a name="line926"><font color="#000000">0926:</font></a> 
<a name="line927"><font color="#000000">0927:</font></a> Non-greedy operators match the shortest possible string starting at a
<a name="line928"><font color="#000000">0928:</font></a> given starting point; in a forward search, though, the earliest
<a name="line929"><font color="#000000">0929:</font></a> possible starting point for match is always the one chosen.  Thus, if
<a name="line930"><font color="#000000">0930:</font></a> you search for <b><font color="#0000FF">@samp</font></b><font color="#009900">{a.*?$}</font> against the text <b><font color="#0000FF">@samp</font></b><font color="#009900">{abbab}</font> followed by
<a name="line931"><font color="#000000">0931:</font></a> a newline, it matches the whole string.  Since it <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">can</font></i><font color="#FF0000">}</font> match
<a name="line932"><font color="#000000">0932:</font></a> starting at the first <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font>, it does.
<a name="line933"><font color="#000000">0933:</font></a> 
<a name="line934"><font color="#000000">0934:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{\@{@var{n}\@}}</font>
<a name="line935"><font color="#000000">0935:</font></a> is a postfix operator specifying <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> repetitions---that is, the
<a name="line936"><font color="#000000">0936:</font></a> preceding regular expression must match exactly <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> times in a
<a name="line937"><font color="#000000">0937:</font></a> row.  For example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{x\@{4\@}}</font> matches the string <b><font color="#0000FF">@samp</font></b><font color="#009900">{xxxx}</font> and
<a name="line938"><font color="#000000">0938:</font></a> nothing else.
<a name="line939"><font color="#000000">0939:</font></a> 
<a name="line940"><font color="#000000">0940:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{\@{@var{n},@var{m}\@}}</font>
<a name="line941"><font color="#000000">0941:</font></a> is a postfix operator specifying between <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> and <b><font color="#0000FF">@var</font></b><font color="#009900">{m}</font>
<a name="line942"><font color="#000000">0942:</font></a> repetitions---that is, the preceding regular expression must match at
<a name="line943"><font color="#000000">0943:</font></a> least <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> times, but no more than <b><font color="#0000FF">@var</font></b><font color="#009900">{m}</font> times.  If <b><font color="#0000FF">@var</font></b><font color="#009900">{m}</font> is
<a name="line944"><font color="#000000">0944:</font></a> omitted, then there is no upper limit, but the preceding regular
<a name="line945"><font color="#000000">0945:</font></a> expression must match at least <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> times.<b><font color="#0000FF">@*</font></b> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@{0,1\@}}</font> is
<a name="line946"><font color="#000000">0946:</font></a> equivalent to <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font>. <b><font color="#0000FF">@*</font></b> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@{0,\@}}</font> is equivalent to
<a name="line947"><font color="#000000">0947:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font>. <b><font color="#0000FF">@*</font></b> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@{1,\@}}</font> is equivalent to <b><font color="#0000FF">@samp</font></b><font color="#009900">{+}</font>.
<a name="line948"><font color="#000000">0948:</font></a> 
<a name="line949"><font color="#000000">0949:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{[ @dots{} ]}</font>
<a name="line950"><font color="#000000">0950:</font></a> is a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{character set}</font>, beginning with <b><font color="#0000FF">@samp</font></b><font color="#009900">{[}</font> and terminated by
<a name="line951"><font color="#000000">0951:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{]}</font>.
<a name="line952"><font color="#000000">0952:</font></a> 
<a name="line953"><font color="#000000">0953:</font></a> In the simplest case, the characters between the two brackets are what
<a name="line954"><font color="#000000">0954:</font></a> this set can match.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[ad]}</font> matches either one <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font> or
<a name="line955"><font color="#000000">0955:</font></a> one <b><font color="#0000FF">@samp</font></b><font color="#009900">{d}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{[ad]*}</font> matches any string composed of just
<a name="line956"><font color="#000000">0956:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font>s and <b><font color="#0000FF">@samp</font></b><font color="#009900">{d}</font>s (including the empty string).  It follows that
<a name="line957"><font color="#000000">0957:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{c[ad]*r}</font> matches <b><font color="#0000FF">@samp</font></b><font color="#009900">{cr}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{car}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{cdr}</font>,
<a name="line958"><font color="#000000">0958:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{caddaar}</font>, etc.
<a name="line959"><font color="#000000">0959:</font></a> 
<a name="line960"><font color="#000000">0960:</font></a> You can also include character ranges in a character set, by writing the
<a name="line961"><font color="#000000">0961:</font></a> starting and ending characters with a <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> between them.  Thus,
<a name="line962"><font color="#000000">0962:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[a-z]}</font> matches any lower-case <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> letter.  Ranges may be
<a name="line963"><font color="#000000">0963:</font></a> intermixed freely with individual characters, as in <b><font color="#0000FF">@samp</font></b><font color="#009900">{[a-z$%.]}</font>,
<a name="line964"><font color="#000000">0964:</font></a> which matches any lower-case <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> letter or <b><font color="#0000FF">@samp</font></b><font color="#009900">{$}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{%}</font> or
<a name="line965"><font color="#000000">0965:</font></a> period.  As another example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[α-ωί]}</font> matches all lower-case
<a name="line966"><font color="#000000">0966:</font></a> Greek letters.
<a name="line967"><font color="#000000">0967:</font></a> 
<a name="line968"><font color="#000000">0968:</font></a> You can also include certain special <b><font color="#0000FF">@dfn</font></b><font color="#009900">{character classes}</font> in a
<a name="line969"><font color="#000000">0969:</font></a> character set.  A <b><font color="#0000FF">@samp</font></b><font color="#009900">{[:}</font> and balancing <b><font color="#0000FF">@samp</font></b><font color="#009900">{:]}</font> enclose a
<a name="line970"><font color="#000000">0970:</font></a> character class inside a character alternative.  For instance,
<a name="line971"><font color="#000000">0971:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[[:alnum:]]}</font> matches any letter or digit.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Char Classes,,,</font>
<a name="line972"><font color="#000000">0972:</font></a> <font color="#FF0000">elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>, for a list of character
<a name="line973"><font color="#000000">0973:</font></a> classes.
<a name="line974"><font color="#000000">0974:</font></a> 
<a name="line975"><font color="#000000">0975:</font></a> To include a <b><font color="#0000FF">@samp</font></b><font color="#009900">{]}</font> in a character set, you must make it the first
<a name="line976"><font color="#000000">0976:</font></a> character.  For example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[]a]}</font> matches <b><font color="#0000FF">@samp</font></b><font color="#009900">{]}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font>.  To
<a name="line977"><font color="#000000">0977:</font></a> include a <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font>, write <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> as the first or last character of the
<a name="line978"><font color="#000000">0978:</font></a> set, or put it after a range.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[]-]}</font> matches both <b><font color="#0000FF">@samp</font></b><font color="#009900">{]}</font>
<a name="line979"><font color="#000000">0979:</font></a> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font>.
<a name="line980"><font color="#000000">0980:</font></a> 
<a name="line981"><font color="#000000">0981:</font></a> To include <b><font color="#0000FF">@samp</font></b><font color="#009900">{^}</font> in a set, put it anywhere but at the beginning of
<a name="line982"><font color="#000000">0982:</font></a> the set.  (At the beginning, it complements the set---see below.)
<a name="line983"><font color="#000000">0983:</font></a> 
<a name="line984"><font color="#000000">0984:</font></a> When you use a range in case-insensitive search, you should write both
<a name="line985"><font color="#000000">0985:</font></a> ends of the range in upper case, or both in lower case, or both should
<a name="line986"><font color="#000000">0986:</font></a> be non-letters.  The behavior of a mixed-case range such as <b><font color="#0000FF">@samp</font></b><font color="#009900">{A-z}</font>
<a name="line987"><font color="#000000">0987:</font></a> is somewhat ill-defined, and it may change in future Emacs versions.
<a name="line988"><font color="#000000">0988:</font></a> 
<a name="line989"><font color="#000000">0989:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{[^ @dots{} ]}</font>
<a name="line990"><font color="#000000">0990:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[^}</font> begins a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{complemented character set}</font>, which matches any
<a name="line991"><font color="#000000">0991:</font></a> character except the ones specified.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[^a-z0-9A-Z]}</font> matches
<a name="line992"><font color="#000000">0992:</font></a> all characters <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">except</font></i><font color="#FF0000">}</font> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> letters and digits.
<a name="line993"><font color="#000000">0993:</font></a> 
<a name="line994"><font color="#000000">0994:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{^}</font> is not special in a character set unless it is the first
<a name="line995"><font color="#000000">0995:</font></a> character.  The character following the <b><font color="#0000FF">@samp</font></b><font color="#009900">{^}</font> is treated as if it
<a name="line996"><font color="#000000">0996:</font></a> were first (in other words, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{]}</font> are not special there).
<a name="line997"><font color="#000000">0997:</font></a> 
<a name="line998"><font color="#000000">0998:</font></a> A complemented character set can match a newline, unless newline is
<a name="line999"><font color="#000000">0999:</font></a> mentioned as one of the characters not to match.  This is in contrast to
<a name="line1000"><font color="#000000">1000:</font></a> the handling of regexps in programs such as <b><font color="#0000FF">@code</font></b><font color="#009900">{grep}</font>.
<a name="line1001"><font color="#000000">1001:</font></a> 
<a name="line1002"><font color="#000000">1002:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{^}</font>
<a name="line1003"><font color="#000000">1003:</font></a> is a special character that matches the empty string, but only at the
<a name="line1004"><font color="#000000">1004:</font></a> beginning of a line in the text being matched.  Otherwise it fails to
<a name="line1005"><font color="#000000">1005:</font></a> match anything.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{^foo}</font> matches a <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> that occurs at
<a name="line1006"><font color="#000000">1006:</font></a> the beginning of a line.
<a name="line1007"><font color="#000000">1007:</font></a> 
<a name="line1008"><font color="#000000">1008:</font></a> For historical compatibility reasons, <b><font color="#0000FF">@samp</font></b><font color="#009900">{^}</font> can be used with this
<a name="line1009"><font color="#000000">1009:</font></a> meaning only at the beginning of the regular expression, or after
<a name="line1010"><font color="#000000">1010:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\(}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|}</font>.
<a name="line1011"><font color="#000000">1011:</font></a> 
<a name="line1012"><font color="#000000">1012:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{$}</font>
<a name="line1013"><font color="#000000">1013:</font></a> is similar to <b><font color="#0000FF">@samp</font></b><font color="#009900">{^}</font> but matches only at the end of a line.  Thus,
<a name="line1014"><font color="#000000">1014:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{x+$}</font> matches a string of one <b><font color="#0000FF">@samp</font></b><font color="#009900">{x}</font> or more at the end of a line.
<a name="line1015"><font color="#000000">1015:</font></a> 
<a name="line1016"><font color="#000000">1016:</font></a> For historical compatibility reasons, <b><font color="#0000FF">@samp</font></b><font color="#009900">{$}</font> can be used with this
<a name="line1017"><font color="#000000">1017:</font></a> meaning only at the end of the regular expression, or before <b><font color="#0000FF">@samp</font></b><font color="#009900">{\)}</font>
<a name="line1018"><font color="#000000">1018:</font></a> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|}</font>.
<a name="line1019"><font color="#000000">1019:</font></a> 
<a name="line1020"><font color="#000000">1020:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{\}</font>
<a name="line1021"><font color="#000000">1021:</font></a> has two functions: it quotes the special characters (including
<a name="line1022"><font color="#000000">1022:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font>), and it introduces additional special constructs.
<a name="line1023"><font color="#000000">1023:</font></a> 
<a name="line1024"><font color="#000000">1024:</font></a> Because <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> quotes special characters, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\$}</font> is a regular
<a name="line1025"><font color="#000000">1025:</font></a> expression that matches only <b><font color="#0000FF">@samp</font></b><font color="#009900">{$}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{\[}</font> is a regular
<a name="line1026"><font color="#000000">1026:</font></a> expression that matches only <b><font color="#0000FF">@samp</font></b><font color="#009900">{[}</font>, and so on.
<a name="line1027"><font color="#000000">1027:</font></a> 
<a name="line1028"><font color="#000000">1028:</font></a> See the following section for the special constructs that begin
<a name="line1029"><font color="#000000">1029:</font></a> with <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font>.
<a name="line1030"><font color="#000000">1030:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1031"><font color="#000000">1031:</font></a> 
<a name="line1032"><font color="#000000">1032:</font></a>   Note: for historical compatibility, special characters are treated as
<a name="line1033"><font color="#000000">1033:</font></a> ordinary ones if they are in contexts where their special meanings make no
<a name="line1034"><font color="#000000">1034:</font></a> sense.  For example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{*foo}</font> treats <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> as ordinary since there is
<a name="line1035"><font color="#000000">1035:</font></a> no preceding expression on which the <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> can act.  It is poor practice
<a name="line1036"><font color="#000000">1036:</font></a> to depend on this behavior; it is better to quote the special character anyway,
<a name="line1037"><font color="#000000">1037:</font></a> regardless of where it appears.
<a name="line1038"><font color="#000000">1038:</font></a> 
<a name="line1039"><font color="#000000">1039:</font></a> As a <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> is not special inside a character alternative, it can
<a name="line1040"><font color="#000000">1040:</font></a> never remove the special meaning of <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{]}</font>.  So you
<a name="line1041"><font color="#000000">1041:</font></a> should not quote these characters when they have no special meaning
<a name="line1042"><font color="#000000">1042:</font></a> either.  This would not clarify anything, since backslashes can
<a name="line1043"><font color="#000000">1043:</font></a> legitimately precede these characters where they <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">have</font></i><font color="#FF0000">}</font> special
<a name="line1044"><font color="#000000">1044:</font></a> meaning, as in <b><font color="#0000FF">@samp</font></b><font color="#009900">{[^\]}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{"[^\\]"}</font> for Lisp string syntax),
<a name="line1045"><font color="#000000">1045:</font></a> which matches any single character except a backslash.
<a name="line1046"><font color="#000000">1046:</font></a> 
<a name="line1047"><font color="#000000">1047:</font></a> <b><font color="#0000FF">@node</font></b> Regexp Backslash
<a name="line1048"><font color="#000000">1048:</font></a> <b><font color="#0000FF">@section</font></b> Backslash in Regular Expressions
<a name="line1049"><font color="#000000">1049:</font></a> 
<a name="line1050"><font color="#000000">1050:</font></a>   For the most part, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> followed by any character matches only
<a name="line1051"><font color="#000000">1051:</font></a> that character.  However, there are several exceptions: two-character
<a name="line1052"><font color="#000000">1052:</font></a> sequences starting with <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> that have special meanings.  The
<a name="line1053"><font color="#000000">1053:</font></a> second character in the sequence is always an ordinary character when
<a name="line1054"><font color="#000000">1054:</font></a> used on its own.  Here is a table of <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> constructs.
<a name="line1055"><font color="#000000">1055:</font></a> 
<a name="line1056"><font color="#000000">1056:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1057"><font color="#000000">1057:</font></a> <b><font color="#0000FF">@item</font></b> \|
<a name="line1058"><font color="#000000">1058:</font></a> specifies an alternative.  Two regular expressions <b><font color="#0000FF">@var</font></b><font color="#009900">{a}</font> and <b><font color="#0000FF">@var</font></b><font color="#009900">{b}</font>
<a name="line1059"><font color="#000000">1059:</font></a> with <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|}</font> in between form an expression that matches some text if
<a name="line1060"><font color="#000000">1060:</font></a> either <b><font color="#0000FF">@var</font></b><font color="#009900">{a}</font> matches it or <b><font color="#0000FF">@var</font></b><font color="#009900">{b}</font> matches it.  It works by trying to
<a name="line1061"><font color="#000000">1061:</font></a> match <b><font color="#0000FF">@var</font></b><font color="#009900">{a}</font>, and if that fails, by trying to match <b><font color="#0000FF">@var</font></b><font color="#009900">{b}</font>.
<a name="line1062"><font color="#000000">1062:</font></a> 
<a name="line1063"><font color="#000000">1063:</font></a> Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo\|bar}</font> matches either <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{bar}</font>
<a name="line1064"><font color="#000000">1064:</font></a> but no other string.
<a name="line1065"><font color="#000000">1065:</font></a> 
<a name="line1066"><font color="#000000">1066:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|}</font> applies to the largest possible surrounding expressions.  Only a
<a name="line1067"><font color="#000000">1067:</font></a> surrounding <b><font color="#0000FF">@samp</font></b><font color="#009900">{\( @dots{} \)}</font> grouping can limit the grouping power of
<a name="line1068"><font color="#000000">1068:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|}</font>.
<a name="line1069"><font color="#000000">1069:</font></a> 
<a name="line1070"><font color="#000000">1070:</font></a> Full backtracking capability exists to handle multiple uses of <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|}</font>.
<a name="line1071"><font color="#000000">1071:</font></a> 
<a name="line1072"><font color="#000000">1072:</font></a> <b><font color="#0000FF">@item</font></b> \( <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font> \)
<a name="line1073"><font color="#000000">1073:</font></a> is a grouping construct that serves three purposes:
<a name="line1074"><font color="#000000">1074:</font></a> 
<a name="line1075"><font color="#000000">1075:</font></a> <b><font color="#0000FF">@enumerate</font></b>
<a name="line1076"><font color="#000000">1076:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1077"><font color="#000000">1077:</font></a> To enclose a set of <b><font color="#0000FF">@samp</font></b><font color="#009900">{\|}</font> alternatives for other operations.
<a name="line1078"><font color="#000000">1078:</font></a> Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\(foo\|bar\)x}</font> matches either <b><font color="#0000FF">@samp</font></b><font color="#009900">{foox}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{barx}</font>.
<a name="line1079"><font color="#000000">1079:</font></a> 
<a name="line1080"><font color="#000000">1080:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1081"><font color="#000000">1081:</font></a> To enclose a complicated expression for the postfix operators <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font>,
<a name="line1082"><font color="#000000">1082:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{+}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font> to operate on.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{ba\(na\)*}</font> matches
<a name="line1083"><font color="#000000">1083:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{bananana}</font>, etc., with any (zero or more) number of <b><font color="#0000FF">@samp</font></b><font color="#009900">{na}</font>
<a name="line1084"><font color="#000000">1084:</font></a> strings.
<a name="line1085"><font color="#000000">1085:</font></a> 
<a name="line1086"><font color="#000000">1086:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1087"><font color="#000000">1087:</font></a> To record a matched substring for future reference.
<a name="line1088"><font color="#000000">1088:</font></a> <b><font color="#0000FF">@end enumerate</font></b>
<a name="line1089"><font color="#000000">1089:</font></a> 
<a name="line1090"><font color="#000000">1090:</font></a> This last application is not a consequence of the idea of a
<a name="line1091"><font color="#000000">1091:</font></a> parenthetical grouping; it is a separate feature that is assigned as a
<a name="line1092"><font color="#000000">1092:</font></a> second meaning to the same <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{\( @dots{} \)}}</font> construct.  In practice
<a name="line1093"><font color="#000000">1093:</font></a> there is usually no conflict between the two meanings; when there is
<a name="line1094"><font color="#000000">1094:</font></a> a conflict, you can use a shy group, described below.
<a name="line1095"><font color="#000000">1095:</font></a> 
<a name="line1096"><font color="#000000">1096:</font></a> <b><font color="#0000FF">@item</font></b> \(?: <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font> \)
<a name="line1097"><font color="#000000">1097:</font></a> <i><font color="#9A1900">@cindex shy group, in regexp</font></i>
<a name="line1098"><font color="#000000">1098:</font></a> specifies a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{shy group}</font> that does not record the matched substring;
<a name="line1099"><font color="#000000">1099:</font></a> you can't refer back to it with <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@var{d}}</font> (see below).  This is
<a name="line1100"><font color="#000000">1100:</font></a> useful in mechanically combining regular expressions, so that you can
<a name="line1101"><font color="#000000">1101:</font></a> add groups for syntactic purposes without interfering with the
<a name="line1102"><font color="#000000">1102:</font></a> numbering of the groups that are meant to be referred to.
<a name="line1103"><font color="#000000">1103:</font></a> 
<a name="line1104"><font color="#000000">1104:</font></a> <b><font color="#0000FF">@item</font></b> \<b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font>
<a name="line1105"><font color="#000000">1105:</font></a> <i><font color="#9A1900">@cindex back reference, in regexp</font></i>
<a name="line1106"><font color="#000000">1106:</font></a> matches the same text that matched the <b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font>th occurrence of a
<a name="line1107"><font color="#000000">1107:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\( @dots{} \)}</font> construct.  This is called a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{back</font>
<a name="line1108"><font color="#000000">1108:</font></a> <font color="#009900">reference}</font>.
<a name="line1109"><font color="#000000">1109:</font></a> 
<a name="line1110"><font color="#000000">1110:</font></a> After the end of a <b><font color="#0000FF">@samp</font></b><font color="#009900">{\( @dots{} \)}</font> construct, the matcher remembers
<a name="line1111"><font color="#000000">1111:</font></a> the beginning and end of the text matched by that construct.  Then,
<a name="line1112"><font color="#000000">1112:</font></a> later on in the regular expression, you can use <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> followed by the
<a name="line1113"><font color="#000000">1113:</font></a> digit <b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font> to mean ``match the same text matched the <b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font>th time
<a name="line1114"><font color="#000000">1114:</font></a> by the <b><font color="#0000FF">@samp</font></b><font color="#009900">{\( @dots{} \)}</font> construct''.
<a name="line1115"><font color="#000000">1115:</font></a> 
<a name="line1116"><font color="#000000">1116:</font></a> The strings matching the first nine <b><font color="#0000FF">@samp</font></b><font color="#009900">{\( @dots{} \)}</font> constructs
<a name="line1117"><font color="#000000">1117:</font></a> appearing in a regular expression are assigned numbers 1 through 9 in
<a name="line1118"><font color="#000000">1118:</font></a> the order that the open-parentheses appear in the regular expression.
<a name="line1119"><font color="#000000">1119:</font></a> So you can use <b><font color="#0000FF">@samp</font></b><font color="#009900">{\1}</font> through <b><font color="#0000FF">@samp</font></b><font color="#009900">{\9}</font> to refer to the text matched
<a name="line1120"><font color="#000000">1120:</font></a> by the corresponding <b><font color="#0000FF">@samp</font></b><font color="#009900">{\( @dots{} \)}</font> constructs.
<a name="line1121"><font color="#000000">1121:</font></a> 
<a name="line1122"><font color="#000000">1122:</font></a> For example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\(.*\)\1}</font> matches any newline-free string that is
<a name="line1123"><font color="#000000">1123:</font></a> composed of two identical halves.  The <b><font color="#0000FF">@samp</font></b><font color="#009900">{\(.*\)}</font> matches the first
<a name="line1124"><font color="#000000">1124:</font></a> half, which may be anything, but the <b><font color="#0000FF">@samp</font></b><font color="#009900">{\1}</font> that follows must match
<a name="line1125"><font color="#000000">1125:</font></a> the same exact text.
<a name="line1126"><font color="#000000">1126:</font></a> 
<a name="line1127"><font color="#000000">1127:</font></a> If a particular <b><font color="#0000FF">@samp</font></b><font color="#009900">{\( @dots{} \)}</font> construct matches more than once
<a name="line1128"><font color="#000000">1128:</font></a> (which can easily happen if it is followed by <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font>), only the last
<a name="line1129"><font color="#000000">1129:</font></a> match is recorded.
<a name="line1130"><font color="#000000">1130:</font></a> 
<a name="line1131"><font color="#000000">1131:</font></a> <b><font color="#0000FF">@item</font></b> \`
<a name="line1132"><font color="#000000">1132:</font></a> matches the empty string, but only at the beginning of the string or
<a name="line1133"><font color="#000000">1133:</font></a> buffer (or its accessible portion) being matched against.
<a name="line1134"><font color="#000000">1134:</font></a> 
<a name="line1135"><font color="#000000">1135:</font></a> <b><font color="#0000FF">@item</font></b> \'
<a name="line1136"><font color="#000000">1136:</font></a> matches the empty string, but only at the end of the string or buffer
<a name="line1137"><font color="#000000">1137:</font></a> (or its accessible portion) being matched against.
<a name="line1138"><font color="#000000">1138:</font></a> 
<a name="line1139"><font color="#000000">1139:</font></a> <b><font color="#0000FF">@item</font></b> \=
<a name="line1140"><font color="#000000">1140:</font></a> matches the empty string, but only at point.
<a name="line1141"><font color="#000000">1141:</font></a> 
<a name="line1142"><font color="#000000">1142:</font></a> <b><font color="#0000FF">@item</font></b> \b
<a name="line1143"><font color="#000000">1143:</font></a> matches the empty string, but only at the beginning or
<a name="line1144"><font color="#000000">1144:</font></a> end of a word.  Thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\bfoo\b}</font> matches any occurrence of
<a name="line1145"><font color="#000000">1145:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> as a separate word.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{\bballs?\b}</font> matches
<a name="line1146"><font color="#000000">1146:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{ball}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{balls}</font> as a separate word.
<a name="line1147"><font color="#000000">1147:</font></a> 
<a name="line1148"><font color="#000000">1148:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\b}</font> matches at the beginning or end of the buffer
<a name="line1149"><font color="#000000">1149:</font></a> regardless of what text appears next to it.
<a name="line1150"><font color="#000000">1150:</font></a> 
<a name="line1151"><font color="#000000">1151:</font></a> <b><font color="#0000FF">@item</font></b> \B
<a name="line1152"><font color="#000000">1152:</font></a> matches the empty string, but <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">not</font></i><font color="#FF0000">}</font> at the beginning or
<a name="line1153"><font color="#000000">1153:</font></a> end of a word.
<a name="line1154"><font color="#000000">1154:</font></a> 
<a name="line1155"><font color="#000000">1155:</font></a> <b><font color="#0000FF">@item</font></b> \&lt;
<a name="line1156"><font color="#000000">1156:</font></a> matches the empty string, but only at the beginning of a word.
<a name="line1157"><font color="#000000">1157:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\&lt;}</font> matches at the beginning of the buffer only if a
<a name="line1158"><font color="#000000">1158:</font></a> word-constituent character follows.
<a name="line1159"><font color="#000000">1159:</font></a> 
<a name="line1160"><font color="#000000">1160:</font></a> <b><font color="#0000FF">@item</font></b> \&gt;
<a name="line1161"><font color="#000000">1161:</font></a> matches the empty string, but only at the end of a word.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{\&gt;}</font>
<a name="line1162"><font color="#000000">1162:</font></a> matches at the end of the buffer only if the contents end with a
<a name="line1163"><font color="#000000">1163:</font></a> word-constituent character.
<a name="line1164"><font color="#000000">1164:</font></a> 
<a name="line1165"><font color="#000000">1165:</font></a> <b><font color="#0000FF">@item</font></b> \w
<a name="line1166"><font color="#000000">1166:</font></a> matches any word-constituent character.  The syntax table determines
<a name="line1167"><font color="#000000">1167:</font></a> which characters these are.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Syntax Tables,, Syntax Tables,</font>
<a name="line1168"><font color="#000000">1168:</font></a> <font color="#FF0000">elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>.
<a name="line1169"><font color="#000000">1169:</font></a> 
<a name="line1170"><font color="#000000">1170:</font></a> <b><font color="#0000FF">@item</font></b> \W
<a name="line1171"><font color="#000000">1171:</font></a> matches any character that is not a word-constituent.
<a name="line1172"><font color="#000000">1172:</font></a> 
<a name="line1173"><font color="#000000">1173:</font></a> <b><font color="#0000FF">@item</font></b> \_&lt;
<a name="line1174"><font color="#000000">1174:</font></a> matches the empty string, but only at the beginning of a symbol.
<a name="line1175"><font color="#000000">1175:</font></a> A symbol is a sequence of one or more symbol-constituent characters.
<a name="line1176"><font color="#000000">1176:</font></a> A symbol-constituent character is a character whose syntax is either
<a name="line1177"><font color="#000000">1177:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{w}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{_}</font>.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{\_&lt;}</font> matches at the beginning of the
<a name="line1178"><font color="#000000">1178:</font></a> buffer only if a symbol-constituent character follows.  As with words,
<a name="line1179"><font color="#000000">1179:</font></a> the syntax table determines which characters are symbol-constituent.
<a name="line1180"><font color="#000000">1180:</font></a> 
<a name="line1181"><font color="#000000">1181:</font></a> <b><font color="#0000FF">@item</font></b> \_&gt;
<a name="line1182"><font color="#000000">1182:</font></a> matches the empty string, but only at the end of a symbol.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{\_&gt;}</font>
<a name="line1183"><font color="#000000">1183:</font></a> matches at the end of the buffer only if the contents end with a
<a name="line1184"><font color="#000000">1184:</font></a> symbol-constituent character.
<a name="line1185"><font color="#000000">1185:</font></a> 
<a name="line1186"><font color="#000000">1186:</font></a> <b><font color="#0000FF">@item</font></b> \s<b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>
<a name="line1187"><font color="#000000">1187:</font></a> matches any character whose syntax is <b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>.  Here <b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font> is a
<a name="line1188"><font color="#000000">1188:</font></a> character that designates a particular syntax class: thus, <b><font color="#0000FF">@samp</font></b><font color="#009900">{w}</font>
<a name="line1189"><font color="#000000">1189:</font></a> for word constituent, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{ }</font> for whitespace, <b><font color="#0000FF">@samp</font></b><font color="#009900">{.}</font>
<a name="line1190"><font color="#000000">1190:</font></a> for ordinary punctuation, etc.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Syntax Tables,, Syntax Tables,</font>
<a name="line1191"><font color="#000000">1191:</font></a> <font color="#FF0000">elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>.
<a name="line1192"><font color="#000000">1192:</font></a> 
<a name="line1193"><font color="#000000">1193:</font></a> <b><font color="#0000FF">@item</font></b> \S<b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>
<a name="line1194"><font color="#000000">1194:</font></a> matches any character whose syntax is not <b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>.
<a name="line1195"><font color="#000000">1195:</font></a> 
<a name="line1196"><font color="#000000">1196:</font></a> <i><font color="#9A1900">@cindex categories of characters</font></i>
<a name="line1197"><font color="#000000">1197:</font></a> <i><font color="#9A1900">@cindex characters which belong to a specific language</font></i>
<a name="line1198"><font color="#000000">1198:</font></a> <b><font color="#0000FF">@findex</font></b> describe-categories
<a name="line1199"><font color="#000000">1199:</font></a> <b><font color="#0000FF">@item</font></b> \c<b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>
<a name="line1200"><font color="#000000">1200:</font></a> matches any character that belongs to the category <b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>.  For
<a name="line1201"><font color="#000000">1201:</font></a> example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\cc}</font> matches Chinese characters, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\cg}</font> matches
<a name="line1202"><font color="#000000">1202:</font></a> Greek characters, etc.  For the description of the known categories,
<a name="line1203"><font color="#000000">1203:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x describe-categories @key{RET}}</font>.
<a name="line1204"><font color="#000000">1204:</font></a> 
<a name="line1205"><font color="#000000">1205:</font></a> <b><font color="#0000FF">@item</font></b> \C<b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>
<a name="line1206"><font color="#000000">1206:</font></a> matches any character that does <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">not</font></i><font color="#FF0000">}</font> belong to category
<a name="line1207"><font color="#000000">1207:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{c}</font>.
<a name="line1208"><font color="#000000">1208:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1209"><font color="#000000">1209:</font></a> 
<a name="line1210"><font color="#000000">1210:</font></a>   The constructs that pertain to words and syntax are controlled by
<a name="line1211"><font color="#000000">1211:</font></a> the setting of the syntax table.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Syntax Tables,, Syntax Tables,</font>
<a name="line1212"><font color="#000000">1212:</font></a> <font color="#FF0000">elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>.
<a name="line1213"><font color="#000000">1213:</font></a> 
<a name="line1214"><font color="#000000">1214:</font></a> <b><font color="#0000FF">@node</font></b> Regexp Example
<a name="line1215"><font color="#000000">1215:</font></a> <b><font color="#0000FF">@section</font></b> Regular Expression Example
<a name="line1216"><font color="#000000">1216:</font></a> 
<a name="line1217"><font color="#000000">1217:</font></a>   Here is an example of a regexp---similar to the regexp that Emacs
<a name="line1218"><font color="#000000">1218:</font></a> uses, by default, to recognize the end of a sentence, not including
<a name="line1219"><font color="#000000">1219:</font></a> the following space (i.e., the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{sentence-end-base}</font>):
<a name="line1220"><font color="#000000">1220:</font></a> 
<a name="line1221"><font color="#000000">1221:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1222"><font color="#000000">1222:</font></a> <b><font color="#0000FF">@verbatim</font></b>
<a name="line1223"><font color="#000000">1223:</font></a> [.?!][]\"')}]*
<a name="line1224"><font color="#000000">1224:</font></a> <b><font color="#0000FF">@end verbatim</font></b>
<a name="line1225"><font color="#000000">1225:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1226"><font color="#000000">1226:</font></a> 
<a name="line1227"><font color="#000000">1227:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1228"><font color="#000000">1228:</font></a> This contains two parts in succession: a character set matching
<a name="line1229"><font color="#000000">1229:</font></a> period, <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font>, or <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font>, and a character set matching
<a name="line1230"><font color="#000000">1230:</font></a> close-brackets, quotes, or parentheses, repeated zero or more times.
<a name="line1231"><font color="#000000">1231:</font></a> 
<a name="line1232"><font color="#000000">1232:</font></a> <b><font color="#0000FF">@node</font></b> Lax Search
<a name="line1233"><font color="#000000">1233:</font></a> <b><font color="#0000FF">@section</font></b> Lax Matching During Searching
<a name="line1234"><font color="#000000">1234:</font></a> 
<a name="line1235"><font color="#000000">1235:</font></a> <i><font color="#9A1900">@cindex lax search</font></i>
<a name="line1236"><font color="#000000">1236:</font></a> <i><font color="#9A1900">@cindex character equivalence in search</font></i>
<a name="line1237"><font color="#000000">1237:</font></a>   Normally, you'd want search commands to disregard certain minor
<a name="line1238"><font color="#000000">1238:</font></a> differences between the search string you type and the text being
<a name="line1239"><font color="#000000">1239:</font></a> searched.  For example, sequences of whitespace characters of
<a name="line1240"><font color="#000000">1240:</font></a> different length are usually perceived as equivalent; letter-case
<a name="line1241"><font color="#000000">1241:</font></a> differences usually don't matter; etc.  This is known as
<a name="line1242"><font color="#000000">1242:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{character equivalence}</font>.
<a name="line1243"><font color="#000000">1243:</font></a> 
<a name="line1244"><font color="#000000">1244:</font></a>   This section describes the Emacs lax search features, and how to
<a name="line1245"><font color="#000000">1245:</font></a> tailor them to your needs.
<a name="line1246"><font color="#000000">1246:</font></a> 
<a name="line1247"><font color="#000000">1247:</font></a> <i><font color="#9A1900">@cindex lax space matching in search</font></i>
<a name="line1248"><font color="#000000">1248:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s SPC <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line1249"><font color="#000000">1249:</font></a> <b><font color="#0000FF">@kindex</font></b> SPC <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line1250"><font color="#000000">1250:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-lax-whitespace
<a name="line1251"><font color="#000000">1251:</font></a> <b><font color="#0000FF">@vindex</font></b> search-whitespace-regexp
<a name="line1252"><font color="#000000">1252:</font></a>   By default, search commands perform <b><font color="#0000FF">@dfn</font></b><font color="#009900">{lax space matching}</font>:
<a name="line1253"><font color="#000000">1253:</font></a> each space, or sequence of spaces, matches any sequence of one or more
<a name="line1254"><font color="#000000">1254:</font></a> whitespace characters in the text.  (Incremental regexp search has a
<a name="line1255"><font color="#000000">1255:</font></a> separate default; see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexp Search</font><font color="#FF0000">}</font>.)  Hence, <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{foo bar}}</font>
<a name="line1256"><font color="#000000">1256:</font></a> matches <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{foo bar}}</font>, <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{foo@ @ bar}}</font>,
<a name="line1257"><font color="#000000">1257:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{foo@ @ @ bar}}</font>, and so on (but not <b><font color="#0000FF">@samp</font></b><font color="#009900">{foobar}</font>).  More
<a name="line1258"><font color="#000000">1258:</font></a> precisely, Emacs matches each sequence of space characters in the
<a name="line1259"><font color="#000000">1259:</font></a> search string to a regular expression specified by the variable
<a name="line1260"><font color="#000000">1260:</font></a> <i><font color="#9A1900">@code{search-whitespace-regexp}.  For example, to make spaces match</font></i>
<a name="line1261"><font color="#000000">1261:</font></a> sequences of newlines as well as spaces, set it to
<a name="line1262"><font color="#000000">1262:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{"[[:space:]\n]+"}</font>.  The default value of this variable depends
<a name="line1263"><font color="#000000">1263:</font></a> on the buffer's major mode; most major modes classify spaces, tabs,
<a name="line1264"><font color="#000000">1264:</font></a> and formfeed characters as whitespace.
<a name="line1265"><font color="#000000">1265:</font></a> 
<a name="line1266"><font color="#000000">1266:</font></a>   If you want whitespace characters to match exactly, you can turn lax
<a name="line1267"><font color="#000000">1267:</font></a> space matching off by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s @key{SPC}}</font>
<a name="line1268"><font color="#000000">1268:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-lax-whitespace}</font>) within an incremental search.
<a name="line1269"><font color="#000000">1269:</font></a> Another <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s @key{SPC}}</font> turns lax space matching back on.  To
<a name="line1270"><font color="#000000">1270:</font></a> disable lax whitespace matching for all searches, change
<a name="line1271"><font color="#000000">1271:</font></a> <i><font color="#9A1900">@code{search-whitespace-regexp} to @code{nil}; then each space in the</font></i>
<a name="line1272"><font color="#000000">1272:</font></a> search string matches exactly one space.
<a name="line1273"><font color="#000000">1273:</font></a> 
<a name="line1274"><font color="#000000">1274:</font></a> <i><font color="#9A1900">@cindex case folding in search</font></i>
<a name="line1275"><font color="#000000">1275:</font></a> <i><font color="#9A1900">@cindex case-sensitivity and search</font></i>
<a name="line1276"><font color="#000000">1276:</font></a>   Searches in Emacs by default ignore the case of the text they are
<a name="line1277"><font color="#000000">1277:</font></a> searching through, if you specify the search string in lower case.
<a name="line1278"><font color="#000000">1278:</font></a> Thus, if you specify searching for <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font>, then <b><font color="#0000FF">@samp</font></b><font color="#009900">{Foo}</font> and
<a name="line1279"><font color="#000000">1279:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{fOO}</font> also match.  Regexps, and in particular character sets,
<a name="line1280"><font color="#000000">1280:</font></a> behave likewise: <b><font color="#0000FF">@samp</font></b><font color="#009900">{[ab]}</font> matches <b><font color="#0000FF">@samp</font></b><font color="#009900">{a}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{A}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{b}</font>
<a name="line1281"><font color="#000000">1281:</font></a> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{B}</font>.  This feature is known as <b><font color="#0000FF">@dfn</font></b><font color="#009900">{case folding}</font>, and it is
<a name="line1282"><font color="#000000">1282:</font></a> supported in both incremental and non-incremental search modes.
<a name="line1283"><font color="#000000">1283:</font></a> 
<a name="line1284"><font color="#000000">1284:</font></a> <b><font color="#0000FF">@vindex</font></b> search-upper-case
<a name="line1285"><font color="#000000">1285:</font></a>   An upper-case letter anywhere in the search string makes the search
<a name="line1286"><font color="#000000">1286:</font></a> case-sensitive.  Thus, searching for <b><font color="#0000FF">@samp</font></b><font color="#009900">{Foo}</font> does not find
<a name="line1287"><font color="#000000">1287:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOO}</font>.  This applies to regular expression search
<a name="line1288"><font color="#000000">1288:</font></a> as well as to literal string search.  The effect ceases if you delete
<a name="line1289"><font color="#000000">1289:</font></a> the upper-case letter from the search string.  The variable
<a name="line1290"><font color="#000000">1290:</font></a> <i><font color="#9A1900">@code{search-upper-case} controls this: if it is non-@code{nil} (the</font></i>
<a name="line1291"><font color="#000000">1291:</font></a> default), an upper-case character in the search string makes the
<a name="line1292"><font color="#000000">1292:</font></a> search case-sensitive; setting it to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> disables this effect
<a name="line1293"><font color="#000000">1293:</font></a> of upper-case characters.
<a name="line1294"><font color="#000000">1294:</font></a> 
<a name="line1295"><font color="#000000">1295:</font></a> <b><font color="#0000FF">@vindex</font></b> case-fold-search
<a name="line1296"><font color="#000000">1296:</font></a>   If you set the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{case-fold-search}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, then
<a name="line1297"><font color="#000000">1297:</font></a> all letters must match exactly, including case.  This is a per-buffer
<a name="line1298"><font color="#000000">1298:</font></a> variable; altering the variable normally affects only the current buffer,
<a name="line1299"><font color="#000000">1299:</font></a> unless you change its default value.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Locals</font><font color="#FF0000">}</font>.
<a name="line1300"><font color="#000000">1300:</font></a> This variable applies to nonincremental searches also, including those
<a name="line1301"><font color="#000000">1301:</font></a> performed by the replace commands (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Replace</font><font color="#FF0000">}</font>) and the minibuffer
<a name="line1302"><font color="#000000">1302:</font></a> history matching commands (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minibuffer History</font><font color="#FF0000">}</font>).
<a name="line1303"><font color="#000000">1303:</font></a> 
<a name="line1304"><font color="#000000">1304:</font></a> <b><font color="#0000FF">@kindex</font></b> M-c <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line1305"><font color="#000000">1305:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s c <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental search)}</font>
<a name="line1306"><font color="#000000">1306:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-case-fold
<a name="line1307"><font color="#000000">1307:</font></a>   Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-c}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s c}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-case-fold}</font>)
<a name="line1308"><font color="#000000">1308:</font></a> within an incremental search toggles the case sensitivity of that
<a name="line1309"><font color="#000000">1309:</font></a> search.  The effect does not extend beyond the current incremental
<a name="line1310"><font color="#000000">1310:</font></a> search, but it does override the effect of adding or removing an
<a name="line1311"><font color="#000000">1311:</font></a> upper-case letter in the current search.
<a name="line1312"><font color="#000000">1312:</font></a> 
<a name="line1313"><font color="#000000">1313:</font></a>   Several related variables control case-sensitivity of searching and
<a name="line1314"><font color="#000000">1314:</font></a> matching for specific commands or activities.  For instance,
<a name="line1315"><font color="#000000">1315:</font></a> <i><font color="#9A1900">@code{tags-case-fold-search} controls case sensitivity for</font></i>
<a name="line1316"><font color="#000000">1316:</font></a> <i><font color="#9A1900">@code{find-tag}.  To find these variables, do @kbd{M-x</font></i>
<a name="line1317"><font color="#000000">1317:</font></a> apropos-variable <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> case-fold-search <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>}.
<a name="line1318"><font color="#000000">1318:</font></a> 
<a name="line1319"><font color="#000000">1319:</font></a> <i><font color="#9A1900">@cindex character folding in search</font></i>
<a name="line1320"><font color="#000000">1320:</font></a> <i><font color="#9A1900">@cindex equivalent character sequences</font></i>
<a name="line1321"><font color="#000000">1321:</font></a>   Case folding disregards case distinctions among characters, making
<a name="line1322"><font color="#000000">1322:</font></a> upper-case characters match lower-case variants, and vice versa.  A
<a name="line1323"><font color="#000000">1323:</font></a> generalization of case folding is <b><font color="#0000FF">@dfn</font></b><font color="#009900">{character folding}</font>, which
<a name="line1324"><font color="#000000">1324:</font></a> disregards wider classes of distinctions among similar characters.
<a name="line1325"><font color="#000000">1325:</font></a> For instance, under character folding the letter <b><font color="#0000FF">@code</font></b><font color="#009900">{a}</font> matches all
<a name="line1326"><font color="#000000">1326:</font></a> of its accented cousins like <b><font color="#0000FF">@code</font></b><font color="#009900">{@"a}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{@'a}</font>, i.e., the
<a name="line1327"><font color="#000000">1327:</font></a> match disregards the diacritics that distinguish these
<a name="line1328"><font color="#000000">1328:</font></a> variants.  In addition, <b><font color="#0000FF">@code</font></b><font color="#009900">{a}</font> matches other characters that
<a name="line1329"><font color="#000000">1329:</font></a> resemble it, or have it as part of their graphical representation,
<a name="line1330"><font color="#000000">1330:</font></a> such as <b><font color="#0000FF">@sc</font></b><font color="#009900">{u+249c parenthesized latin small letter a}</font> and <b><font color="#0000FF">@sc</font></b><font color="#009900">{u+2100</font>
<a name="line1331"><font color="#000000">1331:</font></a> <font color="#009900">account of}</font> (which looks like a small <b><font color="#0000FF">@code</font></b><font color="#009900">{a}</font> over <b><font color="#0000FF">@code</font></b><font color="#009900">{c}</font>).
<a name="line1332"><font color="#000000">1332:</font></a> Similarly, the <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> double-quote character <b><font color="#0000FF">@code</font></b><font color="#009900">{"}</font> matches
<a name="line1333"><font color="#000000">1333:</font></a> all the other variants of double quotes defined by the Unicode
<a name="line1334"><font color="#000000">1334:</font></a> standard.  Finally, character folding can make a sequence of one or
<a name="line1335"><font color="#000000">1335:</font></a> more characters match another sequence of a different length: for
<a name="line1336"><font color="#000000">1336:</font></a> example, the sequence of two characters <b><font color="#0000FF">@code</font></b><font color="#009900">{ff}</font> matches <b><font color="#0000FF">@sc</font></b><font color="#009900">{u+fb00</font>
<a name="line1337"><font color="#000000">1337:</font></a> <font color="#009900">latin small ligature ff}</font>.  Character sequences that are not identical,
<a name="line1338"><font color="#000000">1338:</font></a> but match under character folding are known as <b><font color="#0000FF">@dfn</font></b><font color="#009900">{equivalent</font>
<a name="line1339"><font color="#000000">1339:</font></a> <font color="#009900">character sequences}</font>.
<a name="line1340"><font color="#000000">1340:</font></a> 
<a name="line1341"><font color="#000000">1341:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s ' <b><font color="#0000FF">@r</font></b><font color="#009900">{(Incremental Search)}</font>
<a name="line1342"><font color="#000000">1342:</font></a> <b><font color="#0000FF">@findex</font></b> isearch-toggle-char-fold
<a name="line1343"><font color="#000000">1343:</font></a>   Generally, search commands in Emacs do not by default perform
<a name="line1344"><font color="#000000">1344:</font></a> character folding in order to match equivalent character sequences.
<a name="line1345"><font color="#000000">1345:</font></a> You can enable this behavior by customizing the variable
<a name="line1346"><font color="#000000">1346:</font></a> <i><font color="#9A1900">@code{search-default-mode} to @code{char-fold-to-regexp}.</font></i>
<a name="line1347"><font color="#000000">1347:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Search Customizations</font><font color="#FF0000">}</font>.  Within an incremental search, typing
<a name="line1348"><font color="#000000">1348:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s '}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-toggle-char-fold}</font>) toggles character
<a name="line1349"><font color="#000000">1349:</font></a> folding, but only for that search.  (Replace commands have a different
<a name="line1350"><font color="#000000">1350:</font></a> default, controlled by a separate option; see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Replacement and Lax</font>
<a name="line1351"><font color="#000000">1351:</font></a> <font color="#FF0000">Matches</font><font color="#FF0000">}</font>.)
<a name="line1352"><font color="#000000">1352:</font></a> 
<a name="line1353"><font color="#000000">1353:</font></a>   Like with case folding, typing an explicit variant of a character,
<a name="line1354"><font color="#000000">1354:</font></a> such as <b><font color="#0000FF">@code</font></b><font color="#009900">{@"a}</font>, as part of the search string disables character
<a name="line1355"><font color="#000000">1355:</font></a> folding for that search.  If you delete such a character from the
<a name="line1356"><font color="#000000">1356:</font></a> search string, this effect ceases.
<a name="line1357"><font color="#000000">1357:</font></a> 
<a name="line1358"><font color="#000000">1358:</font></a> <b><font color="#0000FF">@node</font></b> Replace
<a name="line1359"><font color="#000000">1359:</font></a> <b><font color="#0000FF">@section</font></b> Replacement Commands
<a name="line1360"><font color="#000000">1360:</font></a> <i><font color="#9A1900">@cindex replacement</font></i>
<a name="line1361"><font color="#000000">1361:</font></a> <i><font color="#9A1900">@cindex search-and-replace commands</font></i>
<a name="line1362"><font color="#000000">1362:</font></a> <i><font color="#9A1900">@cindex string substitution</font></i>
<a name="line1363"><font color="#000000">1363:</font></a> <i><font color="#9A1900">@cindex global substitution</font></i>
<a name="line1364"><font color="#000000">1364:</font></a> 
<a name="line1365"><font color="#000000">1365:</font></a>   Emacs provides several commands for performing search-and-replace
<a name="line1366"><font color="#000000">1366:</font></a> operations.  In addition to the simple <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x replace-string}</font>
<a name="line1367"><font color="#000000">1367:</font></a> command, there is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-%}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>), which presents
<a name="line1368"><font color="#000000">1368:</font></a> each occurrence of the search pattern and asks you whether to replace
<a name="line1369"><font color="#000000">1369:</font></a> it.
<a name="line1370"><font color="#000000">1370:</font></a> 
<a name="line1371"><font color="#000000">1371:</font></a>   The replace commands normally operate on the text from point to the
<a name="line1372"><font color="#000000">1372:</font></a> end of the buffer.  When the region is active, they operate on it
<a name="line1373"><font color="#000000">1373:</font></a> instead (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mark</font><font color="#FF0000">}</font>).  The basic replace commands replace one
<a name="line1374"><font color="#000000">1374:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{search string}</font> (or regexp) with one <b><font color="#0000FF">@dfn</font></b><font color="#009900">{replacement string}</font>.  It
<a name="line1375"><font color="#000000">1375:</font></a> is possible to perform several replacements in parallel, using the
<a name="line1376"><font color="#000000">1376:</font></a> command <b><font color="#0000FF">@code</font></b><font color="#009900">{expand-region-abbrevs}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Expanding Abbrevs</font><font color="#FF0000">}</font>).
<a name="line1377"><font color="#000000">1377:</font></a> 
<a name="line1378"><font color="#000000">1378:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1379"><font color="#000000">1379:</font></a> <font color="#FF0000">* Unconditional Replace::</font>   Replacing all matches for a string.
<a name="line1380"><font color="#000000">1380:</font></a> <font color="#FF0000">* Regexp Replace::</font>          Replacing all matches for a regexp.
<a name="line1381"><font color="#000000">1381:</font></a> <font color="#FF0000">* Replacement and Lax Matches::</font>
<a name="line1382"><font color="#000000">1382:</font></a>                             Lax searching for text to replace.
<a name="line1383"><font color="#000000">1383:</font></a> <font color="#FF0000">* Query Replace::</font>           How to use querying.
<a name="line1384"><font color="#000000">1384:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1385"><font color="#000000">1385:</font></a> 
<a name="line1386"><font color="#000000">1386:</font></a> <b><font color="#0000FF">@node</font></b> Unconditional Replace
<a name="line1387"><font color="#000000">1387:</font></a> <b><font color="#0000FF">@subsection</font></b> Unconditional Replacement
<a name="line1388"><font color="#000000">1388:</font></a> <b><font color="#0000FF">@findex</font></b> replace-string
<a name="line1389"><font color="#000000">1389:</font></a> 
<a name="line1390"><font color="#000000">1390:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1391"><font color="#000000">1391:</font></a> <b><font color="#0000FF">@item</font></b> M-x replace-string <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1392"><font color="#000000">1392:</font></a> Replace every occurrence of <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> with <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font>.
<a name="line1393"><font color="#000000">1393:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1394"><font color="#000000">1394:</font></a> 
<a name="line1395"><font color="#000000">1395:</font></a>   To replace every instance of <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> after point with <b><font color="#0000FF">@samp</font></b><font color="#009900">{bar}</font>,
<a name="line1396"><font color="#000000">1396:</font></a> use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x replace-string}</font> with the two arguments
<a name="line1397"><font color="#000000">1397:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{bar}</font>.  Replacement happens only in the text after
<a name="line1398"><font color="#000000">1398:</font></a> point, so if you want to cover the whole buffer you must go to the
<a name="line1399"><font color="#000000">1399:</font></a> beginning first.  All occurrences up to the end of the buffer are
<a name="line1400"><font color="#000000">1400:</font></a> replaced; to limit replacement to part of the buffer, activate the
<a name="line1401"><font color="#000000">1401:</font></a> region around that part.  When the region is active, replacement is
<a name="line1402"><font color="#000000">1402:</font></a> limited to the region (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mark</font><font color="#FF0000">}</font>).
<a name="line1403"><font color="#000000">1403:</font></a> 
<a name="line1404"><font color="#000000">1404:</font></a>   When <b><font color="#0000FF">@code</font></b><font color="#009900">{replace-string}</font> exits, it leaves point at the last
<a name="line1405"><font color="#000000">1405:</font></a> occurrence replaced.  It adds the prior position of point (where the
<a name="line1406"><font color="#000000">1406:</font></a> <i><font color="#9A1900">@code{replace-string} command was issued) to the mark ring, without</font></i>
<a name="line1407"><font color="#000000">1407:</font></a> activating the mark; use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-@key{SPC}}</font> to move back there.
<a name="line1408"><font color="#000000">1408:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mark Ring</font><font color="#FF0000">}</font>.
<a name="line1409"><font color="#000000">1409:</font></a> 
<a name="line1410"><font color="#000000">1410:</font></a>   A prefix argument restricts replacement to matches that are
<a name="line1411"><font color="#000000">1411:</font></a> surrounded by word boundaries.
<a name="line1412"><font color="#000000">1412:</font></a> 
<a name="line1413"><font color="#000000">1413:</font></a>   <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Replacement and Lax Matches</font><font color="#FF0000">}</font>, for details about
<a name="line1414"><font color="#000000">1414:</font></a> case-sensitivity and character folding in replace commands.
<a name="line1415"><font color="#000000">1415:</font></a> 
<a name="line1416"><font color="#000000">1416:</font></a> <b><font color="#0000FF">@node</font></b> Regexp Replace
<a name="line1417"><font color="#000000">1417:</font></a> <b><font color="#0000FF">@subsection</font></b> Regexp Replacement
<a name="line1418"><font color="#000000">1418:</font></a> <b><font color="#0000FF">@findex</font></b> replace-regexp
<a name="line1419"><font color="#000000">1419:</font></a> 
<a name="line1420"><font color="#000000">1420:</font></a>   The <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x replace-string}</font> command replaces exact matches for a
<a name="line1421"><font color="#000000">1421:</font></a> single string.  The similar command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x replace-regexp}</font> replaces
<a name="line1422"><font color="#000000">1422:</font></a> any match for a specified regular expression pattern (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexps</font><font color="#FF0000">}</font>).
<a name="line1423"><font color="#000000">1423:</font></a> 
<a name="line1424"><font color="#000000">1424:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1425"><font color="#000000">1425:</font></a> <b><font color="#0000FF">@item</font></b> M-x replace-regexp <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1426"><font color="#000000">1426:</font></a> Replace every match for <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> with <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font>.
<a name="line1427"><font color="#000000">1427:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1428"><font color="#000000">1428:</font></a> 
<a name="line1429"><font color="#000000">1429:</font></a> <i><font color="#9A1900">@cindex back reference, in regexp replacement</font></i>
<a name="line1430"><font color="#000000">1430:</font></a>   In <b><font color="#0000FF">@code</font></b><font color="#009900">{replace-regexp}</font>, the <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font> need not be constant:
<a name="line1431"><font color="#000000">1431:</font></a> it can refer to all or part of what is matched by the <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font>.
<a name="line1432"><font color="#000000">1432:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\&amp;}</font> in <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font> stands for the entire match being
<a name="line1433"><font color="#000000">1433:</font></a> replaced.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@var{d}}</font> in <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font>, where <b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font> is a
<a name="line1434"><font color="#000000">1434:</font></a> digit starting from 1, stands for whatever matched the <b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font>th
<a name="line1435"><font color="#000000">1435:</font></a> parenthesized grouping in <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font>.  (This is called a ``back
<a name="line1436"><font color="#000000">1436:</font></a> reference''.)  <b><font color="#0000FF">@samp</font></b><font color="#009900">{\#}</font> refers to the count of replacements already
<a name="line1437"><font color="#000000">1437:</font></a> made in this command, as a decimal number.  In the first replacement,
<a name="line1438"><font color="#000000">1438:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\#}</font> stands for <b><font color="#0000FF">@samp</font></b><font color="#009900">{0}</font>; in the second, for <b><font color="#0000FF">@samp</font></b><font color="#009900">{1}</font>; and so on.
<a name="line1439"><font color="#000000">1439:</font></a> For example,
<a name="line1440"><font color="#000000">1440:</font></a> 
<a name="line1441"><font color="#000000">1441:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1442"><font color="#000000">1442:</font></a> M-x replace-regexp <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> c[ad]+r <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> \&amp;-safe <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1443"><font color="#000000">1443:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1444"><font color="#000000">1444:</font></a> 
<a name="line1445"><font color="#000000">1445:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1446"><font color="#000000">1446:</font></a> replaces (for example) <b><font color="#0000FF">@samp</font></b><font color="#009900">{cadr}</font> with <b><font color="#0000FF">@samp</font></b><font color="#009900">{cadr-safe}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{cddr}</font>
<a name="line1447"><font color="#000000">1447:</font></a> with <b><font color="#0000FF">@samp</font></b><font color="#009900">{cddr-safe}</font>.
<a name="line1448"><font color="#000000">1448:</font></a> 
<a name="line1449"><font color="#000000">1449:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1450"><font color="#000000">1450:</font></a> M-x replace-regexp <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> \(c[ad]+r\)-safe <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> \1 <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1451"><font color="#000000">1451:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1452"><font color="#000000">1452:</font></a> 
<a name="line1453"><font color="#000000">1453:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1454"><font color="#000000">1454:</font></a> performs the inverse transformation.  To include a <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> in the
<a name="line1455"><font color="#000000">1455:</font></a> text to replace with, you must enter <b><font color="#0000FF">@samp</font></b><font color="#009900">{\\}</font>.
<a name="line1456"><font color="#000000">1456:</font></a> 
<a name="line1457"><font color="#000000">1457:</font></a>   If you want to enter part of the replacement string by hand each
<a name="line1458"><font color="#000000">1458:</font></a> time, use <b><font color="#0000FF">@samp</font></b><font color="#009900">{\?}</font> in the replacement string.  Each replacement will
<a name="line1459"><font color="#000000">1459:</font></a> ask you to edit the replacement string in the minibuffer, putting
<a name="line1460"><font color="#000000">1460:</font></a> point where the <b><font color="#0000FF">@samp</font></b><font color="#009900">{\?}</font> was.
<a name="line1461"><font color="#000000">1461:</font></a> 
<a name="line1462"><font color="#000000">1462:</font></a>   The remainder of this subsection is intended for specialized tasks
<a name="line1463"><font color="#000000">1463:</font></a> and requires knowledge of Lisp.  Most readers can skip it.
<a name="line1464"><font color="#000000">1464:</font></a> 
<a name="line1465"><font color="#000000">1465:</font></a>   You can use Lisp expressions to calculate parts of the
<a name="line1466"><font color="#000000">1466:</font></a> replacement string.  To do this, write <b><font color="#0000FF">@samp</font></b><font color="#009900">{\,}</font> followed by the
<a name="line1467"><font color="#000000">1467:</font></a> expression in the replacement string.  Each replacement calculates the
<a name="line1468"><font color="#000000">1468:</font></a> value of the expression and converts it to text without quoting (if
<a name="line1469"><font color="#000000">1469:</font></a> it's a string, this means using the string's contents), and uses it in
<a name="line1470"><font color="#000000">1470:</font></a> the replacement string in place of the expression itself.  If the
<a name="line1471"><font color="#000000">1471:</font></a> expression is a symbol, one space in the replacement string after the
<a name="line1472"><font color="#000000">1472:</font></a> symbol name goes with the symbol name, so the value replaces them
<a name="line1473"><font color="#000000">1473:</font></a> both.
<a name="line1474"><font color="#000000">1474:</font></a> 
<a name="line1475"><font color="#000000">1475:</font></a>   Inside such an expression, you can use some special sequences.
<a name="line1476"><font color="#000000">1476:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\&amp;}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@var{d}}</font> refer here, as usual, to the entire
<a name="line1477"><font color="#000000">1477:</font></a> match as a string, and to a submatch as a string.  <b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font> may be
<a name="line1478"><font color="#000000">1478:</font></a> multiple digits, and the value of <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@var{d}}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> if the
<a name="line1479"><font color="#000000">1479:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{d}</font>'th parenthesized grouping did not match.  You can also use
<a name="line1480"><font color="#000000">1480:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\#&amp;}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{\#@var{d}}</font> to refer to those matches as numbers
<a name="line1481"><font color="#000000">1481:</font></a> (this is valid when the match or submatch has the form of a numeral).
<a name="line1482"><font color="#000000">1482:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\#}</font> here too stands for the number of already-completed
<a name="line1483"><font color="#000000">1483:</font></a> replacements.
<a name="line1484"><font color="#000000">1484:</font></a> 
<a name="line1485"><font color="#000000">1485:</font></a>   Repeating our example to exchange <b><font color="#0000FF">@samp</font></b><font color="#009900">{x}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{y}</font>, we can thus
<a name="line1486"><font color="#000000">1486:</font></a> do it also this way:
<a name="line1487"><font color="#000000">1487:</font></a> 
<a name="line1488"><font color="#000000">1488:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1489"><font color="#000000">1489:</font></a> M-x replace-regexp <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> \(x\)\|y <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1490"><font color="#000000">1490:</font></a> \,(if \1 "y" "x") <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1491"><font color="#000000">1491:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1492"><font color="#000000">1492:</font></a> 
<a name="line1493"><font color="#000000">1493:</font></a>   For computing replacement strings for <b><font color="#0000FF">@samp</font></b><font color="#009900">{\,}</font>, the <b><font color="#0000FF">@code</font></b><font color="#009900">{format}</font>
<a name="line1494"><font color="#000000">1494:</font></a> function is often useful (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Formatting Strings,,, elisp, The Emacs</font>
<a name="line1495"><font color="#000000">1495:</font></a> <font color="#FF0000">Lisp Reference Manual</font><font color="#FF0000">}</font>).  For example, to add consecutively numbered
<a name="line1496"><font color="#000000">1496:</font></a> strings like <b><font color="#0000FF">@samp</font></b><font color="#009900">{ABC00042}</font> to columns 73 <b><font color="#0000FF">@w</font></b><font color="#009900">{to 80}</font> (unless they are
<a name="line1497"><font color="#000000">1497:</font></a> already occupied), you can use
<a name="line1498"><font color="#000000">1498:</font></a> 
<a name="line1499"><font color="#000000">1499:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1500"><font color="#000000">1500:</font></a> M-x replace-regexp <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> ^.\@{0,72\@}$ <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1501"><font color="#000000">1501:</font></a> \,(format "%-72sABC%05d" \&amp; \#) <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1502"><font color="#000000">1502:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1503"><font color="#000000">1503:</font></a> 
<a name="line1504"><font color="#000000">1504:</font></a> <b><font color="#0000FF">@node</font></b> Replacement and Lax Matches
<a name="line1505"><font color="#000000">1505:</font></a> <b><font color="#0000FF">@subsection</font></b> Replace Commands and Lax Matches
<a name="line1506"><font color="#000000">1506:</font></a> 
<a name="line1507"><font color="#000000">1507:</font></a>   This subsection describes the behavior of replace commands with
<a name="line1508"><font color="#000000">1508:</font></a> respect to lax matches (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search</font><font color="#FF0000">}</font>) and how to customize it.
<a name="line1509"><font color="#000000">1509:</font></a> In general, replace commands mostly default to stricter matching than
<a name="line1510"><font color="#000000">1510:</font></a> their search counterparts.
<a name="line1511"><font color="#000000">1511:</font></a> 
<a name="line1512"><font color="#000000">1512:</font></a> <i><font color="#9A1900">@cindex lax space matching in replace commands</font></i>
<a name="line1513"><font color="#000000">1513:</font></a> <b><font color="#0000FF">@vindex</font></b> replace-lax-whitespace
<a name="line1514"><font color="#000000">1514:</font></a>   Unlike incremental search, the replacement commands do not use lax
<a name="line1515"><font color="#000000">1515:</font></a> space matching (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search, lax space matching</font><font color="#FF0000">}</font>) by default.
<a name="line1516"><font color="#000000">1516:</font></a> To enable lax space matching for replacement, change the variable
<a name="line1517"><font color="#000000">1517:</font></a> <i><font color="#9A1900">@code{replace-lax-whitespace} to non-@code{nil}.  (This only affects</font></i>
<a name="line1518"><font color="#000000">1518:</font></a> how Emacs finds the text to replace, not the replacement text.)
<a name="line1519"><font color="#000000">1519:</font></a> 
<a name="line1520"><font color="#000000">1520:</font></a> <b><font color="#0000FF">@vindex</font></b> replace-regexp-lax-whitespace
<a name="line1521"><font color="#000000">1521:</font></a>   A companion variable <b><font color="#0000FF">@code</font></b><font color="#009900">{replace-regexp-lax-whitespace}</font> controls
<a name="line1522"><font color="#000000">1522:</font></a> whether <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace-regexp}</font> uses lax whitespace matching when
<a name="line1523"><font color="#000000">1523:</font></a> searching for patterns.
<a name="line1524"><font color="#000000">1524:</font></a> 
<a name="line1525"><font color="#000000">1525:</font></a> <i><font color="#9A1900">@cindex case folding in replace commands</font></i>
<a name="line1526"><font color="#000000">1526:</font></a>   If the first argument of a replace command is all lower case, the
<a name="line1527"><font color="#000000">1527:</font></a> command ignores case while searching for occurrences to
<a name="line1528"><font color="#000000">1528:</font></a> replace---provided <b><font color="#0000FF">@code</font></b><font color="#009900">{case-fold-search}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.  If
<a name="line1529"><font color="#000000">1529:</font></a> <i><font color="#9A1900">@code{case-fold-search} is set to @code{nil}, case is always significant</font></i>
<a name="line1530"><font color="#000000">1530:</font></a> in all searches.
<a name="line1531"><font color="#000000">1531:</font></a> 
<a name="line1532"><font color="#000000">1532:</font></a> <b><font color="#0000FF">@vindex</font></b> case-replace
<a name="line1533"><font color="#000000">1533:</font></a>   In addition, when the <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font> argument is all or partly lower
<a name="line1534"><font color="#000000">1534:</font></a> case, replacement commands try to preserve the case pattern of each
<a name="line1535"><font color="#000000">1535:</font></a> occurrence.  Thus, the command
<a name="line1536"><font color="#000000">1536:</font></a> 
<a name="line1537"><font color="#000000">1537:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1538"><font color="#000000">1538:</font></a> M-x replace-string <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> foo <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> bar <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1539"><font color="#000000">1539:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1540"><font color="#000000">1540:</font></a> 
<a name="line1541"><font color="#000000">1541:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1542"><font color="#000000">1542:</font></a> replaces a lower case <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> with a lower case <b><font color="#0000FF">@samp</font></b><font color="#009900">{bar}</font>, an
<a name="line1543"><font color="#000000">1543:</font></a> all-caps <b><font color="#0000FF">@samp</font></b><font color="#009900">{FOO}</font> with <b><font color="#0000FF">@samp</font></b><font color="#009900">{BAR}</font>, and a capitalized <b><font color="#0000FF">@samp</font></b><font color="#009900">{Foo}</font> with
<a name="line1544"><font color="#000000">1544:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Bar}</font>.  (These three alternatives---lower case, all caps, and
<a name="line1545"><font color="#000000">1545:</font></a> capitalized, are the only ones that <b><font color="#0000FF">@code</font></b><font color="#009900">{replace-string}</font> can
<a name="line1546"><font color="#000000">1546:</font></a> distinguish.)
<a name="line1547"><font color="#000000">1547:</font></a> 
<a name="line1548"><font color="#000000">1548:</font></a>   If upper-case letters are used in the replacement string, they remain
<a name="line1549"><font color="#000000">1549:</font></a> upper case every time that text is inserted.  If upper-case letters are
<a name="line1550"><font color="#000000">1550:</font></a> used in the first argument, the second argument is always substituted
<a name="line1551"><font color="#000000">1551:</font></a> exactly as given, with no case conversion.  Likewise, if either
<a name="line1552"><font color="#000000">1552:</font></a> <i><font color="#9A1900">@code{case-replace} or @code{case-fold-search} is set to @code{nil},</font></i>
<a name="line1553"><font color="#000000">1553:</font></a> replacement is done without case conversion.
<a name="line1554"><font color="#000000">1554:</font></a> 
<a name="line1555"><font color="#000000">1555:</font></a> <i><font color="#9A1900">@cindex character folding in replace commands</font></i>
<a name="line1556"><font color="#000000">1556:</font></a>   The replacement commands by default do not use character folding
<a name="line1557"><font color="#000000">1557:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax Search, character folding</font><font color="#FF0000">}</font>) when looking for the text to
<a name="line1558"><font color="#000000">1558:</font></a> replace.  To enable character folding for matching in
<a name="line1559"><font color="#000000">1559:</font></a> <i><font color="#9A1900">@code{query-replace} and @code{replace-string}, set the variable</font></i>
<a name="line1560"><font color="#000000">1560:</font></a> <i><font color="#9A1900">@code{replace-char-fold} to a non-@code{nil} value.  (This</font></i>
<a name="line1561"><font color="#000000">1561:</font></a> setting does not affect the replacement text, only how Emacs finds the
<a name="line1562"><font color="#000000">1562:</font></a> text to replace.  It also doesn't affect <b><font color="#0000FF">@code</font></b><font color="#009900">{replace-regexp}</font>.)
<a name="line1563"><font color="#000000">1563:</font></a> 
<a name="line1564"><font color="#000000">1564:</font></a> <b><font color="#0000FF">@node</font></b> Query Replace
<a name="line1565"><font color="#000000">1565:</font></a> <b><font color="#0000FF">@subsection</font></b> Query Replace
<a name="line1566"><font color="#000000">1566:</font></a> <i><font color="#9A1900">@cindex query replace</font></i>
<a name="line1567"><font color="#000000">1567:</font></a> 
<a name="line1568"><font color="#000000">1568:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1569"><font color="#000000">1569:</font></a> <b><font color="#0000FF">@item</font></b> M-% <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1570"><font color="#000000">1570:</font></a> Replace some occurrences of <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font> with <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font>.
<a name="line1571"><font color="#000000">1571:</font></a> <b><font color="#0000FF">@item</font></b> C-M-% <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1572"><font color="#000000">1572:</font></a> Replace some matches for <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> with <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font>.
<a name="line1573"><font color="#000000">1573:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1574"><font color="#000000">1574:</font></a> 
<a name="line1575"><font color="#000000">1575:</font></a> <b><font color="#0000FF">@kindex</font></b> M-%
<a name="line1576"><font color="#000000">1576:</font></a> <b><font color="#0000FF">@findex</font></b> query-replace
<a name="line1577"><font color="#000000">1577:</font></a>   If you want to change only some of the occurrences of <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> to
<a name="line1578"><font color="#000000">1578:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{bar}</font>, not all of them, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-%}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>).
<a name="line1579"><font color="#000000">1579:</font></a> This command finds occurrences of <b><font color="#0000FF">@samp</font></b><font color="#009900">{foo}</font> one by one, displays each
<a name="line1580"><font color="#000000">1580:</font></a> occurrence and asks you whether to replace it.  Aside from querying,
<a name="line1581"><font color="#000000">1581:</font></a> <i><font color="#9A1900">@code{query-replace} works just like @code{replace-string}</font></i>
<a name="line1582"><font color="#000000">1582:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Unconditional Replace</font><font color="#FF0000">}</font>).  In particular, it preserves case
<a name="line1583"><font color="#000000">1583:</font></a> provided <b><font color="#0000FF">@code</font></b><font color="#009900">{case-replace}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, as it normally is
<a name="line1584"><font color="#000000">1584:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Replacement and Lax Matches</font><font color="#FF0000">}</font>).  A numeric argument means to
<a name="line1585"><font color="#000000">1585:</font></a> consider only occurrences that are bounded by word-delimiter
<a name="line1586"><font color="#000000">1586:</font></a> characters.  A negative prefix argument replaces backward.
<a name="line1587"><font color="#000000">1587:</font></a> 
<a name="line1588"><font color="#000000">1588:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-%
<a name="line1589"><font color="#000000">1589:</font></a> <b><font color="#0000FF">@findex</font></b> query-replace-regexp
<a name="line1590"><font color="#000000">1590:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-%}</font> performs regexp search and replace (<b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace-regexp}</font>).
<a name="line1591"><font color="#000000">1591:</font></a> It works like <b><font color="#0000FF">@code</font></b><font color="#009900">{replace-regexp}</font> except that it queries
<a name="line1592"><font color="#000000">1592:</font></a> like <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>.
<a name="line1593"><font color="#000000">1593:</font></a> 
<a name="line1594"><font color="#000000">1594:</font></a> <b><font color="#0000FF">@vindex</font></b> query-replace-from-to-separator
<a name="line1595"><font color="#000000">1595:</font></a>   You can reuse earlier replacements with these commands.  When
<a name="line1596"><font color="#000000">1596:</font></a> <i><font color="#9A1900">@code{query-replace} or @code{query-replace-regexp} prompts for the</font></i>
<a name="line1597"><font color="#000000">1597:</font></a> search string, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font> to show previous
<a name="line1598"><font color="#000000">1598:</font></a> replacements in the form <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{from} -&gt; @var{to}}</font>, where
<a name="line1599"><font color="#000000">1599:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{from}</font> is the search pattern, <b><font color="#0000FF">@var</font></b><font color="#009900">{to}</font> is its replacement, and the
<a name="line1600"><font color="#000000">1600:</font></a> separator between them is determined by the value of the variable
<a name="line1601"><font color="#000000">1601:</font></a> <i><font color="#9A1900">@code{query-replace-from-to-separator}.  Type @key{RET} to select the</font></i>
<a name="line1602"><font color="#000000">1602:</font></a> desired replacement.  If the value of this variable is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line1603"><font color="#000000">1603:</font></a> replacements are not added to the command history, and cannot be
<a name="line1604"><font color="#000000">1604:</font></a> reused.
<a name="line1605"><font color="#000000">1605:</font></a> 
<a name="line1606"><font color="#000000">1606:</font></a> <i><font color="#9A1900">@cindex faces for highlighting query replace</font></i>
<a name="line1607"><font color="#000000">1607:</font></a> <i><font color="#9A1900">@cindex @code{query-replace} face</font></i>
<a name="line1608"><font color="#000000">1608:</font></a> <i><font color="#9A1900">@cindex @code{lazy-highlight} face, in replace</font></i>
<a name="line1609"><font color="#000000">1609:</font></a> <b><font color="#0000FF">@vindex</font></b> query-replace-highlight
<a name="line1610"><font color="#000000">1610:</font></a> <b><font color="#0000FF">@vindex</font></b> query-replace-lazy-highlight
<a name="line1611"><font color="#000000">1611:</font></a> <b><font color="#0000FF">@vindex</font></b> query-replace-show-replacement
<a name="line1612"><font color="#000000">1612:</font></a>   These commands highlight the current match using the face
<a name="line1613"><font color="#000000">1613:</font></a> <i><font color="#9A1900">@code{query-replace}.  You can disable this highlight by setting the</font></i>
<a name="line1614"><font color="#000000">1614:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace-highlight}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.  They highlight
<a name="line1615"><font color="#000000">1615:</font></a> other matches using <b><font color="#0000FF">@code</font></b><font color="#009900">{lazy-highlight}</font> just like incremental search
<a name="line1616"><font color="#000000">1616:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Incremental Search</font><font color="#FF0000">}</font>); this can be disabled by setting
<a name="line1617"><font color="#000000">1617:</font></a> <i><font color="#9A1900">@code{query-replace-lazy-highlight} to @code{nil}.  By default,</font></i>
<a name="line1618"><font color="#000000">1618:</font></a> <i><font color="#9A1900">@code{query-replace-regexp} will show the substituted replacement</font></i>
<a name="line1619"><font color="#000000">1619:</font></a> string for the current match in the minibuffer.  If you want to keep
<a name="line1620"><font color="#000000">1620:</font></a> special sequences <b><font color="#0000FF">@samp</font></b><font color="#009900">{\&amp;}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@var{n}}</font> unexpanded, customize
<a name="line1621"><font color="#000000">1621:</font></a> <i><font color="#9A1900">@code{query-replace-show-replacement} variable.</font></i>
<a name="line1622"><font color="#000000">1622:</font></a> 
<a name="line1623"><font color="#000000">1623:</font></a> <b><font color="#0000FF">@vindex</font></b> query-replace-skip-read-only
<a name="line1624"><font color="#000000">1624:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace-skip-read-only}</font>, if set
<a name="line1625"><font color="#000000">1625:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, will cause replacement commands to ignore matches in
<a name="line1626"><font color="#000000">1626:</font></a> read-only text.  The default is not to ignore them.
<a name="line1627"><font color="#000000">1627:</font></a> 
<a name="line1628"><font color="#000000">1628:</font></a>   The characters you can type when you are shown a match for the string
<a name="line1629"><font color="#000000">1629:</font></a> or regexp are:
<a name="line1630"><font color="#000000">1630:</font></a> 
<a name="line1631"><font color="#000000">1631:</font></a> <b><font color="#0000FF">@ignore</font></b> <i><font color="#9A1900">@c Not worth it.</font></i>
<a name="line1632"><font color="#000000">1632:</font></a> <b><font color="#0000FF">@kindex</font></b> SPC <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1633"><font color="#000000">1633:</font></a> <b><font color="#0000FF">@kindex</font></b> DEL <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1634"><font color="#000000">1634:</font></a> <b><font color="#0000FF">@kindex</font></b> , <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1635"><font color="#000000">1635:</font></a> <b><font color="#0000FF">@kindex</font></b> RET <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1636"><font color="#000000">1636:</font></a> <b><font color="#0000FF">@kindex</font></b> . <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1637"><font color="#000000">1637:</font></a> <b><font color="#0000FF">@kindex</font></b> ! <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1638"><font color="#000000">1638:</font></a> <b><font color="#0000FF">@kindex</font></b> ^ <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1639"><font color="#000000">1639:</font></a> <b><font color="#0000FF">@kindex</font></b> C-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1640"><font color="#000000">1640:</font></a> <b><font color="#0000FF">@kindex</font></b> C-w <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1641"><font color="#000000">1641:</font></a> <b><font color="#0000FF">@kindex</font></b> C-l <b><font color="#0000FF">@r</font></b><font color="#009900">{(query-replace)}</font>
<a name="line1642"><font color="#000000">1642:</font></a> <b><font color="#0000FF">@end ignore</font></b>
<a name="line1643"><font color="#000000">1643:</font></a> 
<a name="line1644"><font color="#000000">1644:</font></a> <i><font color="#9A1900">@c WideCommands</font></i>
<a name="line1645"><font color="#000000">1645:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1646"><font color="#000000">1646:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>
<a name="line1647"><font color="#000000">1647:</font></a> <b><font color="#0000FF">@itemx</font></b> y
<a name="line1648"><font color="#000000">1648:</font></a> to replace the occurrence with <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font>.
<a name="line1649"><font color="#000000">1649:</font></a> 
<a name="line1650"><font color="#000000">1650:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>
<a name="line1651"><font color="#000000">1651:</font></a> <b><font color="#0000FF">@itemx</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{Delete}</font>
<a name="line1652"><font color="#000000">1652:</font></a> <b><font color="#0000FF">@itemx</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{BACKSPACE}</font>
<a name="line1653"><font color="#000000">1653:</font></a> <b><font color="#0000FF">@itemx</font></b> n
<a name="line1654"><font color="#000000">1654:</font></a> to skip to the next occurrence without replacing this one.
<a name="line1655"><font color="#000000">1655:</font></a> 
<a name="line1656"><font color="#000000">1656:</font></a> <b><font color="#0000FF">@item</font></b> , <b><font color="#0000FF">@r</font></b><font color="#009900">{(Comma)}</font>
<a name="line1657"><font color="#000000">1657:</font></a> to replace this occurrence and display the result.  You are then asked
<a name="line1658"><font color="#000000">1658:</font></a> for another input character to say what to do next.  Since the
<a name="line1659"><font color="#000000">1659:</font></a> replacement has already been made, <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font> and <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font> are
<a name="line1660"><font color="#000000">1660:</font></a> equivalent in this situation; both move to the next occurrence.
<a name="line1661"><font color="#000000">1661:</font></a> 
<a name="line1662"><font color="#000000">1662:</font></a> You can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> at this point (see below) to alter the replaced
<a name="line1663"><font color="#000000">1663:</font></a> text.  You can also type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x u}</font> to undo the replacement; this exits
<a name="line1664"><font color="#000000">1664:</font></a> the <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>, so if you want to do further replacement you
<a name="line1665"><font color="#000000">1665:</font></a> must use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{ESC} @key{ESC} @key{RET}}</font> to restart
<a name="line1666"><font color="#000000">1666:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Repetition</font><font color="#FF0000">}</font>).
<a name="line1667"><font color="#000000">1667:</font></a> 
<a name="line1668"><font color="#000000">1668:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1669"><font color="#000000">1669:</font></a> <b><font color="#0000FF">@itemx</font></b> q
<a name="line1670"><font color="#000000">1670:</font></a> to exit without doing any more replacements.
<a name="line1671"><font color="#000000">1671:</font></a> 
<a name="line1672"><font color="#000000">1672:</font></a> <b><font color="#0000FF">@item</font></b> .<b><font color="#0000FF">@:</font></b> <b><font color="#0000FF">@r</font></b><font color="#009900">{(Period)}</font>
<a name="line1673"><font color="#000000">1673:</font></a> to replace this occurrence and then exit without searching for more
<a name="line1674"><font color="#000000">1674:</font></a> occurrences.
<a name="line1675"><font color="#000000">1675:</font></a> 
<a name="line1676"><font color="#000000">1676:</font></a> <b><font color="#0000FF">@item</font></b> !
<a name="line1677"><font color="#000000">1677:</font></a> to replace all remaining occurrences without asking again.
<a name="line1678"><font color="#000000">1678:</font></a> 
<a name="line1679"><font color="#000000">1679:</font></a> <b><font color="#0000FF">@item</font></b> ^
<a name="line1680"><font color="#000000">1680:</font></a> to go back to the position of the previous occurrence (or what used to
<a name="line1681"><font color="#000000">1681:</font></a> be an occurrence), in case you changed it by mistake or want to
<a name="line1682"><font color="#000000">1682:</font></a> reexamine it.
<a name="line1683"><font color="#000000">1683:</font></a> 
<a name="line1684"><font color="#000000">1684:</font></a> <b><font color="#0000FF">@item</font></b> u
<a name="line1685"><font color="#000000">1685:</font></a> to undo the last replacement and go back to where that replacement was
<a name="line1686"><font color="#000000">1686:</font></a> made.
<a name="line1687"><font color="#000000">1687:</font></a> 
<a name="line1688"><font color="#000000">1688:</font></a> <b><font color="#0000FF">@item</font></b> U
<a name="line1689"><font color="#000000">1689:</font></a> to undo all the replacements and go back to where the first
<a name="line1690"><font color="#000000">1690:</font></a> replacement was made.
<a name="line1691"><font color="#000000">1691:</font></a> 
<a name="line1692"><font color="#000000">1692:</font></a> <b><font color="#0000FF">@item</font></b> C-r
<a name="line1693"><font color="#000000">1693:</font></a> to enter a recursive editing level, in case the occurrence needs to be
<a name="line1694"><font color="#000000">1694:</font></a> edited rather than just replaced with <b><font color="#0000FF">@var</font></b><font color="#009900">{newstring}</font>.  When you are
<a name="line1695"><font color="#000000">1695:</font></a> done, exit the recursive editing level with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-c}</font> to proceed to
<a name="line1696"><font color="#000000">1696:</font></a> the next occurrence.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Recursive Edit</font><font color="#FF0000">}</font>.
<a name="line1697"><font color="#000000">1697:</font></a> 
<a name="line1698"><font color="#000000">1698:</font></a> <b><font color="#0000FF">@item</font></b> C-w
<a name="line1699"><font color="#000000">1699:</font></a> to delete the occurrence, and then enter a recursive editing level as in
<a name="line1700"><font color="#000000">1700:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font>.  Use the recursive edit to insert text to replace the deleted
<a name="line1701"><font color="#000000">1701:</font></a> occurrence of <b><font color="#0000FF">@var</font></b><font color="#009900">{string}</font>.  When done, exit the recursive editing level
<a name="line1702"><font color="#000000">1702:</font></a> with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-c}</font> to proceed to the next occurrence.
<a name="line1703"><font color="#000000">1703:</font></a> 
<a name="line1704"><font color="#000000">1704:</font></a> <b><font color="#0000FF">@item</font></b> e
<a name="line1705"><font color="#000000">1705:</font></a> to edit the replacement string in the minibuffer.  When you exit the
<a name="line1706"><font color="#000000">1706:</font></a> minibuffer by typing <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, the minibuffer contents replace the
<a name="line1707"><font color="#000000">1707:</font></a> current occurrence of the pattern.  They also become the new
<a name="line1708"><font color="#000000">1708:</font></a> replacement string for any further occurrences.
<a name="line1709"><font color="#000000">1709:</font></a> 
<a name="line1710"><font color="#000000">1710:</font></a> <b><font color="#0000FF">@item</font></b> C-l
<a name="line1711"><font color="#000000">1711:</font></a> to redisplay the screen.  Then you must type another character to
<a name="line1712"><font color="#000000">1712:</font></a> specify what to do with this occurrence.
<a name="line1713"><font color="#000000">1713:</font></a> 
<a name="line1714"><font color="#000000">1714:</font></a> <b><font color="#0000FF">@item</font></b> Y <b><font color="#0000FF">@r</font></b><font color="#009900">{(Upper-case)}</font>
<a name="line1715"><font color="#000000">1715:</font></a> to replace all remaining occurrences in all remaining buffers in
<a name="line1716"><font color="#000000">1716:</font></a> multi-buffer replacements (like the Dired <b><font color="#0000FF">@kbd</font></b><font color="#009900">{Q}</font> command that performs
<a name="line1717"><font color="#000000">1717:</font></a> query replace on selected files).  It answers this question and all
<a name="line1718"><font color="#000000">1718:</font></a> subsequent questions in the series with ``yes'', without further
<a name="line1719"><font color="#000000">1719:</font></a> user interaction.
<a name="line1720"><font color="#000000">1720:</font></a> 
<a name="line1721"><font color="#000000">1721:</font></a> <b><font color="#0000FF">@item</font></b> N <b><font color="#0000FF">@r</font></b><font color="#009900">{(Upper-case)}</font>
<a name="line1722"><font color="#000000">1722:</font></a> to skip to the next buffer in multi-buffer replacements without
<a name="line1723"><font color="#000000">1723:</font></a> replacing remaining occurrences in the current buffer.  It answers
<a name="line1724"><font color="#000000">1724:</font></a> this question ``no'', gives up on the questions for the current buffer,
<a name="line1725"><font color="#000000">1725:</font></a> and continues to the next buffer in the sequence.
<a name="line1726"><font color="#000000">1726:</font></a> 
<a name="line1727"><font color="#000000">1727:</font></a> <b><font color="#0000FF">@item</font></b> C-h
<a name="line1728"><font color="#000000">1728:</font></a> <b><font color="#0000FF">@itemx</font></b> ?
<a name="line1729"><font color="#000000">1729:</font></a> <b><font color="#0000FF">@itemx</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{F1}</font>
<a name="line1730"><font color="#000000">1730:</font></a> to display a message summarizing these options.  Then you must type
<a name="line1731"><font color="#000000">1731:</font></a> another character to specify what to do with this occurrence.
<a name="line1732"><font color="#000000">1732:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1733"><font color="#000000">1733:</font></a> 
<a name="line1734"><font color="#000000">1734:</font></a>   Aside from this, any other character exits the <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>,
<a name="line1735"><font color="#000000">1735:</font></a> and is then reread as part of a key sequence.  Thus, if you type
<a name="line1736"><font color="#000000">1736:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-k}</font>, it exits the <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font> and then kills to end of
<a name="line1737"><font color="#000000">1737:</font></a> line.  In particular, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-g}</font> simply exits the <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>.
<a name="line1738"><font color="#000000">1738:</font></a> 
<a name="line1739"><font color="#000000">1739:</font></a>   To restart a <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font> once it is exited, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x</font>
<a name="line1740"><font color="#000000">1740:</font></a> <font color="#009900">@key{ESC} @key{ESC}}</font>, which repeats the <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font> because it
<a name="line1741"><font color="#000000">1741:</font></a> used the minibuffer to read its arguments.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Repetition, C-x @key{ESC</font><font color="#FF0000">}</font>
<a name="line1742"><font color="#000000">1742:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font>}.
<a name="line1743"><font color="#000000">1743:</font></a> 
<a name="line1744"><font color="#000000">1744:</font></a> <i><font color="#9A1900">@cindex invisible text, and query-replace</font></i>
<a name="line1745"><font color="#000000">1745:</font></a>   The option <b><font color="#0000FF">@code</font></b><font color="#009900">{search-invisible}</font> determines how <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace}</font>
<a name="line1746"><font color="#000000">1746:</font></a> treats invisible text.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Outline Search</font><font color="#FF0000">}</font>.
<a name="line1747"><font color="#000000">1747:</font></a> 
<a name="line1748"><font color="#000000">1748:</font></a>   <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Operating on Files</font><font color="#FF0000">}</font>, for the Dired <b><font color="#0000FF">@kbd</font></b><font color="#009900">{Q}</font> command which
<a name="line1749"><font color="#000000">1749:</font></a> performs query replace on selected files.  See also <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Transforming</font>
<a name="line1750"><font color="#000000">1750:</font></a> <font color="#FF0000">File Names</font><font color="#FF0000">}</font>, for Dired commands to rename, copy, or link files by
<a name="line1751"><font color="#000000">1751:</font></a> replacing regexp matches in file names.
<a name="line1752"><font color="#000000">1752:</font></a> 
<a name="line1753"><font color="#000000">1753:</font></a> <b><font color="#0000FF">@node</font></b> Other Repeating Search
<a name="line1754"><font color="#000000">1754:</font></a> <b><font color="#0000FF">@section</font></b> Other Search-and-Loop Commands
<a name="line1755"><font color="#000000">1755:</font></a> 
<a name="line1756"><font color="#000000">1756:</font></a>   Here are some other commands that find matches for a regular
<a name="line1757"><font color="#000000">1757:</font></a> expression.  They all ignore case in matching, if the pattern contains
<a name="line1758"><font color="#000000">1758:</font></a> no upper-case letters and <b><font color="#0000FF">@code</font></b><font color="#009900">{case-fold-search}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line1759"><font color="#000000">1759:</font></a> Aside from <b><font color="#0000FF">@code</font></b><font color="#009900">{multi-occur}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{multi-occur-in-matching-buffers}</font>,
<a name="line1760"><font color="#000000">1760:</font></a> which always search the whole buffer, all operate on the text from point
<a name="line1761"><font color="#000000">1761:</font></a> to the end of the buffer, or on the region if it is active.
<a name="line1762"><font color="#000000">1762:</font></a> 
<a name="line1763"><font color="#000000">1763:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1764"><font color="#000000">1764:</font></a> <b><font color="#0000FF">@findex</font></b> multi-isearch-buffers
<a name="line1765"><font color="#000000">1765:</font></a> <i><font color="#9A1900">@cindex isearch multiple buffers</font></i>
<a name="line1766"><font color="#000000">1766:</font></a> <i><font color="#9A1900">@cindex multiple-buffer isearch</font></i>
<a name="line1767"><font color="#000000">1767:</font></a> <b><font color="#0000FF">@item</font></b> M-x multi-isearch-buffers
<a name="line1768"><font color="#000000">1768:</font></a> Prompt for one or more buffer names, ending with <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>; then,
<a name="line1769"><font color="#000000">1769:</font></a> begin a multi-buffer incremental search in those buffers.  (If the
<a name="line1770"><font color="#000000">1770:</font></a> search fails in one buffer, the next <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> tries searching the
<a name="line1771"><font color="#000000">1771:</font></a> next specified buffer, and so forth.)  With a prefix argument, prompt
<a name="line1772"><font color="#000000">1772:</font></a> for a regexp and begin a multi-buffer incremental search in buffers
<a name="line1773"><font color="#000000">1773:</font></a> matching that regexp.
<a name="line1774"><font color="#000000">1774:</font></a> 
<a name="line1775"><font color="#000000">1775:</font></a> <b><font color="#0000FF">@findex</font></b> multi-isearch-buffers-regexp
<a name="line1776"><font color="#000000">1776:</font></a> <b><font color="#0000FF">@item</font></b> M-x multi-isearch-buffers-regexp
<a name="line1777"><font color="#000000">1777:</font></a> This command is just like <b><font color="#0000FF">@code</font></b><font color="#009900">{multi-isearch-buffers}</font>, except it
<a name="line1778"><font color="#000000">1778:</font></a> performs an incremental regexp search.
<a name="line1779"><font color="#000000">1779:</font></a> 
<a name="line1780"><font color="#000000">1780:</font></a> <b><font color="#0000FF">@findex</font></b> multi-isearch-files
<a name="line1781"><font color="#000000">1781:</font></a> <i><font color="#9A1900">@cindex isearch multiple files</font></i>
<a name="line1782"><font color="#000000">1782:</font></a> <i><font color="#9A1900">@cindex multiple-file isearch</font></i>
<a name="line1783"><font color="#000000">1783:</font></a> <b><font color="#0000FF">@item</font></b> M-x multi-isearch-files
<a name="line1784"><font color="#000000">1784:</font></a> Prompt for one or more file names, ending with <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>; then,
<a name="line1785"><font color="#000000">1785:</font></a> begin a multi-file incremental search in those files.  (If the
<a name="line1786"><font color="#000000">1786:</font></a> search fails in one file, the next <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> tries searching the
<a name="line1787"><font color="#000000">1787:</font></a> next specified file, and so forth.)  With a prefix argument, prompt
<a name="line1788"><font color="#000000">1788:</font></a> for a regexp and begin a multi-file incremental search in files
<a name="line1789"><font color="#000000">1789:</font></a> matching that regexp.
<a name="line1790"><font color="#000000">1790:</font></a> 
<a name="line1791"><font color="#000000">1791:</font></a> <b><font color="#0000FF">@findex</font></b> multi-isearch-files-regexp
<a name="line1792"><font color="#000000">1792:</font></a> <b><font color="#0000FF">@item</font></b> M-x multi-isearch-files-regexp
<a name="line1793"><font color="#000000">1793:</font></a> This command is just like <b><font color="#0000FF">@code</font></b><font color="#009900">{multi-isearch-files}</font>, except it
<a name="line1794"><font color="#000000">1794:</font></a> performs an incremental regexp search.
<a name="line1795"><font color="#000000">1795:</font></a> 
<a name="line1796"><font color="#000000">1796:</font></a> In some modes that set the buffer-local variable
<a name="line1797"><font color="#000000">1797:</font></a> <i><font color="#9A1900">@code{multi-isearch-next-buffer-function} (e.g., in Change Log mode)</font></i>
<a name="line1798"><font color="#000000">1798:</font></a> a multi-file incremental search is activated automatically.
<a name="line1799"><font color="#000000">1799:</font></a> 
<a name="line1800"><font color="#000000">1800:</font></a> <i><font color="#9A1900">@cindex Occur mode</font></i>
<a name="line1801"><font color="#000000">1801:</font></a> <i><font color="#9A1900">@cindex mode, Occur</font></i>
<a name="line1802"><font color="#000000">1802:</font></a> <i><font color="#9A1900">@cindex match (face name)</font></i>
<a name="line1803"><font color="#000000">1803:</font></a> <b><font color="#0000FF">@vindex</font></b> list-matching-lines-default-context-lines
<a name="line1804"><font color="#000000">1804:</font></a> <b><font color="#0000FF">@vindex</font></b> list-matching-lines-jump-to-current-line
<a name="line1805"><font color="#000000">1805:</font></a> <i><font color="#9A1900">@c Too long.</font></i>
<a name="line1806"><font color="#000000">1806:</font></a> <i><font color="#9A1900">@c @cindex list-matching-lines-current-line-face (face name)</font></i>
<a name="line1807"><font color="#000000">1807:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s o
<a name="line1808"><font color="#000000">1808:</font></a> <b><font color="#0000FF">@findex</font></b> occur
<a name="line1809"><font color="#000000">1809:</font></a> <b><font color="#0000FF">@item</font></b> M-x occur
<a name="line1810"><font color="#000000">1810:</font></a> <b><font color="#0000FF">@itemx</font></b> M-s o
<a name="line1811"><font color="#000000">1811:</font></a> Prompt for a regexp, and display a list showing each line in the
<a name="line1812"><font color="#000000">1812:</font></a> buffer that contains a match for it.  If you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font> at the
<a name="line1813"><font color="#000000">1813:</font></a> prompt, you can reuse search strings from previous incremental
<a name="line1814"><font color="#000000">1814:</font></a> searches.  The text that matched is highlighted using the <b><font color="#0000FF">@code</font></b><font color="#009900">{match}</font>
<a name="line1815"><font color="#000000">1815:</font></a> face.  A numeric argument <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> specifies that <b><font color="#0000FF">@var</font></b><font color="#009900">{n}</font> lines of
<a name="line1816"><font color="#000000">1816:</font></a> context are to be displayed before and after each matching line.
<a name="line1817"><font color="#000000">1817:</font></a> 
<a name="line1818"><font color="#000000">1818:</font></a> The default number of context lines is specified by the variable
<a name="line1819"><font color="#000000">1819:</font></a> <i><font color="#9A1900">@code{list-matching-lines-default-context-lines}.  When</font></i>
<a name="line1820"><font color="#000000">1820:</font></a> <i><font color="#9A1900">@code{list-matching-lines-jump-to-current-line} is non-@code{nil} the</font></i>
<a name="line1821"><font color="#000000">1821:</font></a> current line is shown highlighted with face
<a name="line1822"><font color="#000000">1822:</font></a> <i><font color="#9A1900">@code{list-matching-lines-current-line-face} and the point is set at</font></i>
<a name="line1823"><font color="#000000">1823:</font></a> the first match after such line.
<a name="line1824"><font color="#000000">1824:</font></a> 
<a name="line1825"><font color="#000000">1825:</font></a> You can also run <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s o}</font> when an incremental search is active;
<a name="line1826"><font color="#000000">1826:</font></a> this uses the current search string.
<a name="line1827"><font color="#000000">1827:</font></a> 
<a name="line1828"><font color="#000000">1828:</font></a> Note that matches for the regexp you type are extended to include
<a name="line1829"><font color="#000000">1829:</font></a> complete lines, and a match that starts before the previous match ends
<a name="line1830"><font color="#000000">1830:</font></a> is not considered a match.
<a name="line1831"><font color="#000000">1831:</font></a> 
<a name="line1832"><font color="#000000">1832:</font></a> <b><font color="#0000FF">@kindex</font></b> RET <b><font color="#0000FF">@r</font></b><font color="#009900">{(Occur mode)}</font>
<a name="line1833"><font color="#000000">1833:</font></a> <b><font color="#0000FF">@kindex</font></b> o <b><font color="#0000FF">@r</font></b><font color="#009900">{(Occur mode)}</font>
<a name="line1834"><font color="#000000">1834:</font></a> <b><font color="#0000FF">@kindex</font></b> C-o <b><font color="#0000FF">@r</font></b><font color="#009900">{(Occur mode)}</font>
<a name="line1835"><font color="#000000">1835:</font></a> In the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Occur*}</font> buffer, you can click on each entry, or move
<a name="line1836"><font color="#000000">1836:</font></a> point there and type <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, to visit the corresponding position in
<a name="line1837"><font color="#000000">1837:</font></a> the buffer that was searched.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{o}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-o}</font> display the match
<a name="line1838"><font color="#000000">1838:</font></a> in another window; <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-o}</font> does not select it.  Alternatively, you
<a name="line1839"><font color="#000000">1839:</font></a> can use the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-g M-n}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{next-error}</font>) command to visit the
<a name="line1840"><font color="#000000">1840:</font></a> occurrences one by one (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Compilation Mode</font><font color="#FF0000">}</font>).
<a name="line1841"><font color="#000000">1841:</font></a> 
<a name="line1842"><font color="#000000">1842:</font></a> <i><font color="#9A1900">@cindex Occur Edit mode</font></i>
<a name="line1843"><font color="#000000">1843:</font></a> <i><font color="#9A1900">@cindex mode, Occur Edit</font></i>
<a name="line1844"><font color="#000000">1844:</font></a> Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{e}</font> in the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Occur*}</font> buffer switches to Occur Edit
<a name="line1845"><font color="#000000">1845:</font></a> mode, in which edits made to the entries are also applied to the text
<a name="line1846"><font color="#000000">1846:</font></a> in the originating buffer.  Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> to return to Occur
<a name="line1847"><font color="#000000">1847:</font></a> mode.
<a name="line1848"><font color="#000000">1848:</font></a> 
<a name="line1849"><font color="#000000">1849:</font></a> <b><font color="#0000FF">@findex</font></b> list-matching-lines
<a name="line1850"><font color="#000000">1850:</font></a> The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-matching-lines}</font> is a synonym for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line1851"><font color="#000000">1851:</font></a> <font color="#009900">occur}</font>.
<a name="line1852"><font color="#000000">1852:</font></a> 
<a name="line1853"><font color="#000000">1853:</font></a> <b><font color="#0000FF">@findex</font></b> multi-occur
<a name="line1854"><font color="#000000">1854:</font></a> <b><font color="#0000FF">@item</font></b> M-x multi-occur
<a name="line1855"><font color="#000000">1855:</font></a> This command is just like <b><font color="#0000FF">@code</font></b><font color="#009900">{occur}</font>, except it is able to search
<a name="line1856"><font color="#000000">1856:</font></a> through multiple buffers.  It asks you to specify the buffer names one
<a name="line1857"><font color="#000000">1857:</font></a> by one.
<a name="line1858"><font color="#000000">1858:</font></a> 
<a name="line1859"><font color="#000000">1859:</font></a> <b><font color="#0000FF">@findex</font></b> multi-occur-in-matching-buffers
<a name="line1860"><font color="#000000">1860:</font></a> <b><font color="#0000FF">@item</font></b> M-x multi-occur-in-matching-buffers
<a name="line1861"><font color="#000000">1861:</font></a> This command is similar to <b><font color="#0000FF">@code</font></b><font color="#009900">{multi-occur}</font>, except the buffers to
<a name="line1862"><font color="#000000">1862:</font></a> search are specified by a regular expression that matches visited file
<a name="line1863"><font color="#000000">1863:</font></a> names.  With a prefix argument, it uses the regular expression to
<a name="line1864"><font color="#000000">1864:</font></a> match buffer names instead.
<a name="line1865"><font color="#000000">1865:</font></a> 
<a name="line1866"><font color="#000000">1866:</font></a> <b><font color="#0000FF">@findex</font></b> how-many
<a name="line1867"><font color="#000000">1867:</font></a> <b><font color="#0000FF">@item</font></b> M-x how-many
<a name="line1868"><font color="#000000">1868:</font></a> Prompt for a regexp, and print the number of matches for it in the
<a name="line1869"><font color="#000000">1869:</font></a> buffer after point.  If the region is active, this operates on the
<a name="line1870"><font color="#000000">1870:</font></a> region instead.
<a name="line1871"><font color="#000000">1871:</font></a> 
<a name="line1872"><font color="#000000">1872:</font></a> <b><font color="#0000FF">@findex</font></b> flush-lines
<a name="line1873"><font color="#000000">1873:</font></a> <b><font color="#0000FF">@item</font></b> M-x flush-lines
<a name="line1874"><font color="#000000">1874:</font></a> Prompt for a regexp, and delete each line that contains a match for
<a name="line1875"><font color="#000000">1875:</font></a> it, operating on the text after point.  This command deletes the
<a name="line1876"><font color="#000000">1876:</font></a> current line if it contains a match starting after point.  If the
<a name="line1877"><font color="#000000">1877:</font></a> region is active, it operates on the region instead; if a line
<a name="line1878"><font color="#000000">1878:</font></a> partially contained in the region contains a match entirely contained
<a name="line1879"><font color="#000000">1879:</font></a> in the region, it is deleted.
<a name="line1880"><font color="#000000">1880:</font></a> 
<a name="line1881"><font color="#000000">1881:</font></a> If a match is split across lines, <b><font color="#0000FF">@code</font></b><font color="#009900">{flush-lines}</font> deletes all those
<a name="line1882"><font color="#000000">1882:</font></a> lines.  It deletes the lines before starting to look for the next
<a name="line1883"><font color="#000000">1883:</font></a> match; hence, it ignores a match starting on the same line at which
<a name="line1884"><font color="#000000">1884:</font></a> another match ended.
<a name="line1885"><font color="#000000">1885:</font></a> 
<a name="line1886"><font color="#000000">1886:</font></a> <b><font color="#0000FF">@findex</font></b> keep-lines
<a name="line1887"><font color="#000000">1887:</font></a> <b><font color="#0000FF">@item</font></b> M-x keep-lines
<a name="line1888"><font color="#000000">1888:</font></a> Prompt for a regexp, and delete each line that <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">does not</font></i><font color="#FF0000">}</font> contain
<a name="line1889"><font color="#000000">1889:</font></a> a match for it, operating on the text after point.  If point is not at
<a name="line1890"><font color="#000000">1890:</font></a> the beginning of a line, this command always keeps the current line.
<a name="line1891"><font color="#000000">1891:</font></a> If the region is active, the command operates on the region instead;
<a name="line1892"><font color="#000000">1892:</font></a> it never deletes lines that are only partially contained in the region
<a name="line1893"><font color="#000000">1893:</font></a> (a newline that ends a line counts as part of that line).
<a name="line1894"><font color="#000000">1894:</font></a> 
<a name="line1895"><font color="#000000">1895:</font></a> If a match is split across lines, this command keeps all those lines.
<a name="line1896"><font color="#000000">1896:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1897"><font color="#000000">1897:</font></a> 
<a name="line1898"><font color="#000000">1898:</font></a> <b><font color="#0000FF">@node</font></b> Search Customizations
<a name="line1899"><font color="#000000">1899:</font></a> <b><font color="#0000FF">@section</font></b> Tailoring Search to Your Needs
<a name="line1900"><font color="#000000">1900:</font></a> <i><font color="#9A1900">@cindex search customizations</font></i>
<a name="line1901"><font color="#000000">1901:</font></a> 
<a name="line1902"><font color="#000000">1902:</font></a>   This section describes miscellaneous search-related customizations
<a name="line1903"><font color="#000000">1903:</font></a> not described elsewhere.
<a name="line1904"><font color="#000000">1904:</font></a> 
<a name="line1905"><font color="#000000">1905:</font></a> <i><font color="#9A1900">@cindex default search mode</font></i>
<a name="line1906"><font color="#000000">1906:</font></a> <i><font color="#9A1900">@cindex search mode, default</font></i>
<a name="line1907"><font color="#000000">1907:</font></a>   The default search mode for the incremental search is specified by
<a name="line1908"><font color="#000000">1908:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{search-default-mode}</font>.  It can be <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line1909"><font color="#000000">1909:</font></a> <i><font color="#9A1900">@code{t}, or a function.  If it is @code{nil}, the default mode is to</font></i>
<a name="line1910"><font color="#000000">1910:</font></a> do literal searches without character folding, but with case folding
<a name="line1911"><font color="#000000">1911:</font></a> and lax-whitespace matches as determined by <b><font color="#0000FF">@code</font></b><font color="#009900">{case-fold-search}</font>
<a name="line1912"><font color="#000000">1912:</font></a> and <b><font color="#0000FF">@code</font></b><font color="#009900">{search-whitespace-regexp}</font>, respectively (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lax</font>
<a name="line1913"><font color="#000000">1913:</font></a> <font color="#FF0000">Search</font><font color="#FF0000">}</font>).  If the value is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>, incremental search defaults to
<a name="line1914"><font color="#000000">1914:</font></a> regexp searches.  The default value specifies a function that only
<a name="line1915"><font color="#000000">1915:</font></a> performs case folding and lax-whitespace matching.
<a name="line1916"><font color="#000000">1916:</font></a> 
<a name="line1917"><font color="#000000">1917:</font></a> <b><font color="#0000FF">@vindex</font></b> search-highlight
<a name="line1918"><font color="#000000">1918:</font></a>   The current match of an on-going incremental search is highlighted
<a name="line1919"><font color="#000000">1919:</font></a> using the <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch}</font> face.  This highlighting can be disabled by
<a name="line1920"><font color="#000000">1920:</font></a> setting the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{search-highlight}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line1921"><font color="#000000">1921:</font></a> 
<a name="line1922"><font color="#000000">1922:</font></a> <i><font color="#9A1900">@cindex lazy highlighting customizations</font></i>
<a name="line1923"><font color="#000000">1923:</font></a> <b><font color="#0000FF">@vindex</font></b> isearch-lazy-highlight
<a name="line1924"><font color="#000000">1924:</font></a> <i><font color="#9A1900">@cindex @code{lazy-highlight} face</font></i>
<a name="line1925"><font color="#000000">1925:</font></a>   The other matches for the search string that are visible on display
<a name="line1926"><font color="#000000">1926:</font></a> are highlighted using the <b><font color="#0000FF">@code</font></b><font color="#009900">{lazy-highlight}</font> face.  Setting the
<a name="line1927"><font color="#000000">1927:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{isearch-lazy-highlight}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> disables this
<a name="line1928"><font color="#000000">1928:</font></a> highlighting.  Here are some other variables that customize the lazy
<a name="line1929"><font color="#000000">1929:</font></a> highlighting:
<a name="line1930"><font color="#000000">1930:</font></a> 
<a name="line1931"><font color="#000000">1931:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line1932"><font color="#000000">1932:</font></a> <b><font color="#0000FF">@item</font></b> lazy-highlight-initial-delay
<a name="line1933"><font color="#000000">1933:</font></a> Time in seconds to wait before highlighting visible matches.
<a name="line1934"><font color="#000000">1934:</font></a> 
<a name="line1935"><font color="#000000">1935:</font></a> <b><font color="#0000FF">@item</font></b> lazy-highlight-interval
<a name="line1936"><font color="#000000">1936:</font></a> Time in seconds between highlighting successive matches.
<a name="line1937"><font color="#000000">1937:</font></a> 
<a name="line1938"><font color="#000000">1938:</font></a> <b><font color="#0000FF">@item</font></b> lazy-highlight-max-at-a-time
<a name="line1939"><font color="#000000">1939:</font></a> The maximum number of matches to highlight before checking for input.
<a name="line1940"><font color="#000000">1940:</font></a> A large number can take some time to highlight, so if you want to
<a name="line1941"><font color="#000000">1941:</font></a> continue searching and type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-s}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-r}</font> during that time,
<a name="line1942"><font color="#000000">1942:</font></a> Emacs will not respond until it finishes highlighting all those
<a name="line1943"><font color="#000000">1943:</font></a> matches.  Thus, smaller values make Emacs more responsive.
<a name="line1944"><font color="#000000">1944:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1945"><font color="#000000">1945:</font></a> 
<a name="line1946"><font color="#000000">1946:</font></a> <b><font color="#0000FF">@vindex</font></b> search-nonincremental-instead
<a name="line1947"><font color="#000000">1947:</font></a>   Normally, entering <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> within incremental search when the
<a name="line1948"><font color="#000000">1948:</font></a> search string is empty launches a nonincremental search.  (Actually,
<a name="line1949"><font color="#000000">1949:</font></a> it lets you edit the search string, and the next <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> does the
<a name="line1950"><font color="#000000">1950:</font></a> search.)  However, if you customize the variable
<a name="line1951"><font color="#000000">1951:</font></a> <i><font color="#9A1900">@code{search-nonincremental-instead} to @code{nil}, typing @key{RET}</font></i>
<a name="line1952"><font color="#000000">1952:</font></a> will always exit the incremental search, even if the search string is
<a name="line1953"><font color="#000000">1953:</font></a> empty.
<a name="line1954"><font color="#000000">1954:</font></a> 
<a name="line1955"><font color="#000000">1955:</font></a> <b><font color="#0000FF">@vindex</font></b> isearch-hide-immediately
<a name="line1956"><font color="#000000">1956:</font></a>   By default, incremental search and query-replace commands match
<a name="line1957"><font color="#000000">1957:</font></a> invisible text, but hide any such matches as soon as the current match
<a name="line1958"><font color="#000000">1958:</font></a> moves off the invisible text.  If you customize the variable
<a name="line1959"><font color="#000000">1959:</font></a> <i><font color="#9A1900">@code{isearch-hide-immediately} to @code{nil}, any invisible text</font></i>
<a name="line1960"><font color="#000000">1960:</font></a> where matches were found stays on display until the search or the
<a name="line1961"><font color="#000000">1961:</font></a> replace command exits.
<a name="line1962"><font color="#000000">1962:</font></a> 
<a name="line1963"><font color="#000000">1963:</font></a> <i><font color="#9A1900">@cindex search display on slow terminals</font></i>
<a name="line1964"><font color="#000000">1964:</font></a> <b><font color="#0000FF">@vindex</font></b> search-slow-speed
<a name="line1965"><font color="#000000">1965:</font></a> <b><font color="#0000FF">@vindex</font></b> search-slow-window-lines
<a name="line1966"><font color="#000000">1966:</font></a>   Searching incrementally on slow terminals, such as displays
<a name="line1967"><font color="#000000">1967:</font></a> connected to remote machines over slow connection, could be annoying
<a name="line1968"><font color="#000000">1968:</font></a> due to the need to redraw large portions of the display as the search
<a name="line1969"><font color="#000000">1969:</font></a> proceeds.  Emacs provides a special display mode for slow terminals,
<a name="line1970"><font color="#000000">1970:</font></a> whereby search pops up a separate small window and displays the text
<a name="line1971"><font color="#000000">1971:</font></a> surrounding the match in that window.  Small windows display faster,
<a name="line1972"><font color="#000000">1972:</font></a> so the annoying effect of slow speed is alleviated.  The variable
<a name="line1973"><font color="#000000">1973:</font></a> <i><font color="#9A1900">@code{search-slow-speed} determines the baud rate threshold below</font></i>
<a name="line1974"><font color="#000000">1974:</font></a> which Emacs will use this display mode.  The variable
<a name="line1975"><font color="#000000">1975:</font></a> <i><font color="#9A1900">@code{search-slow-window-lines} controls the number of lines in the</font></i>
<a name="line1976"><font color="#000000">1976:</font></a> window Emacs pops up for displaying the search results; the default is
<a name="line1977"><font color="#000000">1977:</font></a> 1 line.  Normally, this window will pop up at the bottom of the window
<a name="line1978"><font color="#000000">1978:</font></a> that displays the buffer where you start searching, but if the value
<a name="line1979"><font color="#000000">1979:</font></a> of <b><font color="#0000FF">@code</font></b><font color="#009900">{search-slow-window-lines}</font> is negative, that means to put the
<a name="line1980"><font color="#000000">1980:</font></a> window at the top and give it the number of lines that is the absolute
<a name="line1981"><font color="#000000">1981:</font></a> value of <b><font color="#0000FF">@code</font></b><font color="#009900">{search-slow-window-lines}</font>.
<a name="line1982"><font color="#000000">1982:</font></a> </tt></pre>
