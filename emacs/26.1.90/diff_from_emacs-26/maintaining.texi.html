<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">0001:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual., Abbrevs, This is part of the Emacs manual., Top</font></i>
<a name="line2"><font color="#000000">0002:</font></a> <i><font color="#9A1900">@c Copyright (C) 1985-1987, 1993-1995, 1997, 1999-2018 Free Software</font></i>
<a name="line3"><font color="#000000">0003:</font></a> <i><font color="#9A1900">@c Foundation, Inc.</font></i>
<a name="line4"><font color="#000000">0004:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line5"><font color="#000000">0005:</font></a> <b><font color="#0000FF">@node</font></b> Maintaining
<a name="line6"><font color="#000000">0006:</font></a> <i><font color="#9A1900">@chapter Maintaining Large Programs</font></i>
<a name="line7"><font color="#000000">0007:</font></a> 
<a name="line8"><font color="#000000">0008:</font></a>   This chapter describes Emacs features for maintaining medium- to
<a name="line9"><font color="#000000">0009:</font></a> large-size programs and packages.  These features include:
<a name="line10"><font color="#000000">0010:</font></a> 
<a name="line11"><font color="#000000">0011:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@minus</font></b>
<a name="line12"><font color="#000000">0012:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line13"><font color="#000000">0013:</font></a> Unified interface to Support for Version Control Systems
<a name="line14"><font color="#000000">0014:</font></a> (<b><font color="#0000FF">@acronym</font></b><font color="#009900">{VCS}</font>) that record the history of changes to source files.
<a name="line15"><font color="#000000">0015:</font></a> 
<a name="line16"><font color="#000000">0016:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line17"><font color="#000000">0017:</font></a> A specialized mode for maintaining <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font> files that provide
<a name="line18"><font color="#000000">0018:</font></a> a chronological log of program changes.
<a name="line19"><font color="#000000">0019:</font></a> 
<a name="line20"><font color="#000000">0020:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line21"><font color="#000000">0021:</font></a> <b><font color="#0000FF">@acronym{Xref</font></b><font color="#FF0000">}</font>, a set of commands for displaying definitions of
<a name="line22"><font color="#000000">0022:</font></a> symbols (a.k.a.<b><font color="#0000FF">@:</font></b> ``identifiers'') and their references.
<a name="line23"><font color="#000000">0023:</font></a> 
<a name="line24"><font color="#000000">0024:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line25"><font color="#000000">0025:</font></a> <b><font color="#0000FF">@acronym</font></b><font color="#009900">{EDE}</font>, the Emacs's own IDE.
<a name="line26"><font color="#000000">0026:</font></a> 
<a name="line27"><font color="#000000">0027:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line28"><font color="#000000">0028:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line29"><font color="#000000">0029:</font></a> A mode for merging changes to program sources made on separate
<a name="line30"><font color="#000000">0030:</font></a> branches of development.
<a name="line31"><font color="#000000">0031:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line32"><font color="#000000">0032:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line33"><font color="#000000">0033:</font></a> 
<a name="line34"><font color="#000000">0034:</font></a> If you are maintaining a large Lisp program, then in addition to the
<a name="line35"><font color="#000000">0035:</font></a> features described here, you may find the Emacs Lisp Regression
<a name="line36"><font color="#000000">0036:</font></a> Testing (<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ERT}</font>) library useful (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,,ERT,ert, Emacs</font>
<a name="line37"><font color="#000000">0037:</font></a> <font color="#FF0000">Lisp Regression Testing</font><font color="#FF0000">}</font>).
<a name="line38"><font color="#000000">0038:</font></a> 
<a name="line39"><font color="#000000">0039:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line40"><font color="#000000">0040:</font></a> <font color="#FF0000">* Version Control::</font>     Using version control systems.
<a name="line41"><font color="#000000">0041:</font></a> <font color="#FF0000">* Change Log::</font>          Maintaining a change history for your program.
<a name="line42"><font color="#000000">0042:</font></a> <font color="#FF0000">* Xref::</font>                Find definitions and references of any function,
<a name="line43"><font color="#000000">0043:</font></a>                           method, struct, macro, <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font> in your program.
<a name="line44"><font color="#000000">0044:</font></a> <font color="#FF0000">* EDE::</font>                 An integrated development environment for Emacs.
<a name="line45"><font color="#000000">0045:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line46"><font color="#000000">0046:</font></a> <font color="#FF0000">* Emerge::</font>              A convenient way of merging two versions of a program.
<a name="line47"><font color="#000000">0047:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line48"><font color="#000000">0048:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line49"><font color="#000000">0049:</font></a> 
<a name="line50"><font color="#000000">0050:</font></a> <b><font color="#0000FF">@node</font></b> Version Control
<a name="line51"><font color="#000000">0051:</font></a> <b><font color="#0000FF">@section</font></b> Version Control
<a name="line52"><font color="#000000">0052:</font></a> <i><font color="#9A1900">@cindex version control</font></i>
<a name="line53"><font color="#000000">0053:</font></a> 
<a name="line54"><font color="#000000">0054:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{version control system}</font> is a program that can record multiple
<a name="line55"><font color="#000000">0055:</font></a> versions of a source file, storing information such as the creation
<a name="line56"><font color="#000000">0056:</font></a> time of each version, who made it, and a description of what was
<a name="line57"><font color="#000000">0057:</font></a> changed.
<a name="line58"><font color="#000000">0058:</font></a> 
<a name="line59"><font color="#000000">0059:</font></a> <i><font color="#9A1900">@cindex VC</font></i>
<a name="line60"><font color="#000000">0060:</font></a>   The Emacs version control interface is called <b><font color="#0000FF">@dfn</font></b><font color="#009900">{VC}</font><b><font color="#0000FF">@.</font></b>  VC
<a name="line61"><font color="#000000">0061:</font></a> commands work with several different version control systems;
<a name="line62"><font color="#000000">0062:</font></a> currently, it supports Bazaar, CVS, Git, Mercurial, Monotone, RCS,
<a name="line63"><font color="#000000">0063:</font></a> SRC, SCCS/CSSC, and Subversion.  Of these, the GNU project distributes
<a name="line64"><font color="#000000">0064:</font></a> CVS, RCS, and Bazaar.
<a name="line65"><font color="#000000">0065:</font></a> 
<a name="line66"><font color="#000000">0066:</font></a>   VC is enabled automatically whenever you visit a file governed by a
<a name="line67"><font color="#000000">0067:</font></a> version control system.  To disable VC entirely, set the customizable
<a name="line68"><font color="#000000">0068:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-handled-backends}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>
<a name="line69"><font color="#000000">0069:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line70"><font color="#000000">0070:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Customizing VC,,,emacs-xtra, Specialized Emacs Features</font><font color="#FF0000">}</font>).
<a name="line71"><font color="#000000">0071:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line72"><font color="#000000">0072:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line73"><font color="#000000">0073:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Customizing VC</font><font color="#FF0000">}</font>).
<a name="line74"><font color="#000000">0074:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line75"><font color="#000000">0075:</font></a> 
<a name="line76"><font color="#000000">0076:</font></a> <b><font color="#0000FF">@findex</font></b> vc-refresh-state
<a name="line77"><font color="#000000">0077:</font></a> <b><font color="#0000FF">@findex</font></b> vc-state-refresh
<a name="line78"><font color="#000000">0078:</font></a>   To update the VC state information for the file visited in the
<a name="line79"><font color="#000000">0079:</font></a> current buffer, use the command <b><font color="#0000FF">@code{vc-ref</font></b><font color="#FF0000">resh-state</font><font color="#FF0000">}</font>.  This command
<a name="line80"><font color="#000000">0080:</font></a> is useful when you perform version control commands outside Emacs
<a name="line81"><font color="#000000">0081:</font></a> (e.g., from the shell prompt), or if you put the buffer's file under a
<a name="line82"><font color="#000000">0082:</font></a> different version control system, or remove it from version control
<a name="line83"><font color="#000000">0083:</font></a> entirely.
<a name="line84"><font color="#000000">0084:</font></a> 
<a name="line85"><font color="#000000">0085:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line86"><font color="#000000">0086:</font></a> <font color="#FF0000">* Introduction to VC::</font>  How version control works in general.
<a name="line87"><font color="#000000">0087:</font></a> <font color="#FF0000">* VC Mode Line::</font>        How the mode line shows version control status.
<a name="line88"><font color="#000000">0088:</font></a> <font color="#FF0000">* Basic VC Editing::</font>    How to edit a file under version control.
<a name="line89"><font color="#000000">0089:</font></a> <font color="#FF0000">* Log Buffer::</font>          Features available in log entry buffers.
<a name="line90"><font color="#000000">0090:</font></a> <font color="#FF0000">* Registering::</font>         Putting a file under version control.
<a name="line91"><font color="#000000">0091:</font></a> <font color="#FF0000">* Old Revisions::</font>       Examining and comparing old versions.
<a name="line92"><font color="#000000">0092:</font></a> <font color="#FF0000">* VC Change Log::</font>       Viewing the VC Change Log.
<a name="line93"><font color="#000000">0093:</font></a> <font color="#FF0000">* VC Undo::</font>             Canceling changes before or after committing.
<a name="line94"><font color="#000000">0094:</font></a> <font color="#FF0000">* VC Ignore::</font>           Ignore files under version control system.
<a name="line95"><font color="#000000">0095:</font></a> <font color="#FF0000">* VC Directory Mode::</font>   Listing files managed by version control.
<a name="line96"><font color="#000000">0096:</font></a> <font color="#FF0000">* Branches::</font>            Multiple lines of development.
<a name="line97"><font color="#000000">0097:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line98"><font color="#000000">0098:</font></a> <font color="#FF0000">* Miscellaneous VC::</font>    Various other commands and features of VC.
<a name="line99"><font color="#000000">0099:</font></a> <font color="#FF0000">* Customizing VC::</font>      Variables that change VC's behavior.
<a name="line100"><font color="#000000">0100:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line101"><font color="#000000">0101:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line102"><font color="#000000">0102:</font></a> 
<a name="line103"><font color="#000000">0103:</font></a> <b><font color="#0000FF">@node</font></b> Introduction to VC
<a name="line104"><font color="#000000">0104:</font></a> <b><font color="#0000FF">@subsection</font></b> Introduction to Version Control
<a name="line105"><font color="#000000">0105:</font></a> 
<a name="line106"><font color="#000000">0106:</font></a>   VC allows you to use a version control system from within Emacs,
<a name="line107"><font color="#000000">0107:</font></a> integrating the version control operations smoothly with editing.  It
<a name="line108"><font color="#000000">0108:</font></a> provides a uniform interface for common operations in many version
<a name="line109"><font color="#000000">0109:</font></a> control operations.
<a name="line110"><font color="#000000">0110:</font></a> 
<a name="line111"><font color="#000000">0111:</font></a>   Some uncommon or intricate version control operations, such as
<a name="line112"><font color="#000000">0112:</font></a> altering repository settings, are not supported in VC<b><font color="#0000FF">@.</font></b>  You should
<a name="line113"><font color="#000000">0113:</font></a> perform such tasks outside VC, e.g., via the command line.
<a name="line114"><font color="#000000">0114:</font></a> 
<a name="line115"><font color="#000000">0115:</font></a>   This section provides a general overview of version control, and
<a name="line116"><font color="#000000">0116:</font></a> describes the version control systems that VC supports.  You can skip
<a name="line117"><font color="#000000">0117:</font></a> this section if you are already familiar with the version control system
<a name="line118"><font color="#000000">0118:</font></a> you want to use.
<a name="line119"><font color="#000000">0119:</font></a> 
<a name="line120"><font color="#000000">0120:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line121"><font color="#000000">0121:</font></a> <font color="#FF0000">* Why Version Control?::</font>    Understanding the problems it addresses.
<a name="line122"><font color="#000000">0122:</font></a> <font color="#FF0000">* Version Control Systems::</font> Supported version control back-end systems.
<a name="line123"><font color="#000000">0123:</font></a> <font color="#FF0000">* VCS Concepts::</font>            Words and concepts related to version control.
<a name="line124"><font color="#000000">0124:</font></a> <font color="#FF0000">* VCS Merging::</font>             How file conflicts are handled.
<a name="line125"><font color="#000000">0125:</font></a> <font color="#FF0000">* VCS Changesets::</font>          How changes are grouped.
<a name="line126"><font color="#000000">0126:</font></a> <font color="#FF0000">* VCS Repositories::</font>        Where version control repositories are stored.
<a name="line127"><font color="#000000">0127:</font></a> <font color="#FF0000">* Types of Log File::</font>       The VCS log in contrast to the ChangeLog.
<a name="line128"><font color="#000000">0128:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line129"><font color="#000000">0129:</font></a> 
<a name="line130"><font color="#000000">0130:</font></a> <b><font color="#0000FF">@node</font></b> Why Version Control?
<a name="line131"><font color="#000000">0131:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Understanding the Problems it Addresses
<a name="line132"><font color="#000000">0132:</font></a> 
<a name="line133"><font color="#000000">0133:</font></a>   Version control systems provide you with three important
<a name="line134"><font color="#000000">0134:</font></a> capabilities:
<a name="line135"><font color="#000000">0135:</font></a> 
<a name="line136"><font color="#000000">0136:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line137"><font color="#000000">0137:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line138"><font color="#000000">0138:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Reversibility}</font>: the ability to back up to a previous state if you
<a name="line139"><font color="#000000">0139:</font></a> discover that some modification you did was a mistake or a bad idea.
<a name="line140"><font color="#000000">0140:</font></a> 
<a name="line141"><font color="#000000">0141:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line142"><font color="#000000">0142:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Concurrency}</font>: the ability to have many people modifying the same
<a name="line143"><font color="#000000">0143:</font></a> collection of files knowing that conflicting modifications can be
<a name="line144"><font color="#000000">0144:</font></a> detected and resolved.
<a name="line145"><font color="#000000">0145:</font></a> 
<a name="line146"><font color="#000000">0146:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line147"><font color="#000000">0147:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{History}</font>: the ability to attach historical data to your data,
<a name="line148"><font color="#000000">0148:</font></a> such as explanatory comments about the intention behind each change.
<a name="line149"><font color="#000000">0149:</font></a> Even for a programmer working solo, change histories are an important
<a name="line150"><font color="#000000">0150:</font></a> aid to memory; for a multi-person project, they are a vitally
<a name="line151"><font color="#000000">0151:</font></a> important form of communication among developers.
<a name="line152"><font color="#000000">0152:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line153"><font color="#000000">0153:</font></a> 
<a name="line154"><font color="#000000">0154:</font></a> <b><font color="#0000FF">@node</font></b> Version Control Systems
<a name="line155"><font color="#000000">0155:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Supported Version Control Systems
<a name="line156"><font color="#000000">0156:</font></a> 
<a name="line157"><font color="#000000">0157:</font></a> <i><font color="#9A1900">@cindex back end (version control)</font></i>
<a name="line158"><font color="#000000">0158:</font></a>   VC currently works with many different version control systems,
<a name="line159"><font color="#000000">0159:</font></a> which it refers to as <b><font color="#0000FF">@dfn</font></b><font color="#009900">{back ends}</font>:
<a name="line160"><font color="#000000">0160:</font></a> 
<a name="line161"><font color="#000000">0161:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line162"><font color="#000000">0162:</font></a> 
<a name="line163"><font color="#000000">0163:</font></a> <i><font color="#9A1900">@cindex SCCS</font></i>
<a name="line164"><font color="#000000">0164:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line165"><font color="#000000">0165:</font></a> SCCS was the first version control system ever built, and was long ago
<a name="line166"><font color="#000000">0166:</font></a> superseded by more advanced ones.  VC compensates for certain features
<a name="line167"><font color="#000000">0167:</font></a> missing in SCCS (e.g., tag names for releases) by implementing them
<a name="line168"><font color="#000000">0168:</font></a> itself.  Other VC features, such as multiple branches, are simply
<a name="line169"><font color="#000000">0169:</font></a> unavailable.  Since SCCS is non-free, we recommend avoiding it.
<a name="line170"><font color="#000000">0170:</font></a> 
<a name="line171"><font color="#000000">0171:</font></a> <i><font color="#9A1900">@cindex CSSC</font></i>
<a name="line172"><font color="#000000">0172:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line173"><font color="#000000">0173:</font></a> CSSC is a free replacement for SCCS<b><font color="#0000FF">@.</font></b>  You should use CSSC only if, for
<a name="line174"><font color="#000000">0174:</font></a> some reason, you cannot use a more recent and better-designed version
<a name="line175"><font color="#000000">0175:</font></a> control system.
<a name="line176"><font color="#000000">0176:</font></a> 
<a name="line177"><font color="#000000">0177:</font></a> <i><font color="#9A1900">@cindex RCS</font></i>
<a name="line178"><font color="#000000">0178:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line179"><font color="#000000">0179:</font></a> RCS is the free version control system around which VC was initially
<a name="line180"><font color="#000000">0180:</font></a> built.  It is relatively primitive: it cannot be used over the
<a name="line181"><font color="#000000">0181:</font></a> network, and works at the level of individual files.  Almost
<a name="line182"><font color="#000000">0182:</font></a> everything you can do with RCS can be done through VC.
<a name="line183"><font color="#000000">0183:</font></a> 
<a name="line184"><font color="#000000">0184:</font></a> <i><font color="#9A1900">@cindex CVS</font></i>
<a name="line185"><font color="#000000">0185:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line186"><font color="#000000">0186:</font></a> CVS is the free version control system that was, until circa 2008,
<a name="line187"><font color="#000000">0187:</font></a> used by the majority of free software projects.  Since then, it has
<a name="line188"><font color="#000000">0188:</font></a> been superseded by newer systems.  CVS allows concurrent multi-user
<a name="line189"><font color="#000000">0189:</font></a> development either locally or over the network.  Unlike newer systems,
<a name="line190"><font color="#000000">0190:</font></a> it lacks support for atomic commits and file moving/renaming.  VC
<a name="line191"><font color="#000000">0191:</font></a> supports all basic editing operations under CVS.
<a name="line192"><font color="#000000">0192:</font></a> 
<a name="line193"><font color="#000000">0193:</font></a> <i><font color="#9A1900">@cindex SVN</font></i>
<a name="line194"><font color="#000000">0194:</font></a> <i><font color="#9A1900">@cindex Subversion</font></i>
<a name="line195"><font color="#000000">0195:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line196"><font color="#000000">0196:</font></a> Subversion (svn) is a free version control system designed to be
<a name="line197"><font color="#000000">0197:</font></a> similar to CVS but without its problems (e.g., it supports atomic
<a name="line198"><font color="#000000">0198:</font></a> commits of filesets, and versioning of directories, symbolic links,
<a name="line199"><font color="#000000">0199:</font></a> meta-data, renames, copies, and deletes).
<a name="line200"><font color="#000000">0200:</font></a> 
<a name="line201"><font color="#000000">0201:</font></a> <i><font color="#9A1900">@cindex git</font></i>
<a name="line202"><font color="#000000">0202:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line203"><font color="#000000">0203:</font></a> Git is a decentralized version control system originally invented by
<a name="line204"><font color="#000000">0204:</font></a> Linus Torvalds to support development of Linux (his kernel).  VC
<a name="line205"><font color="#000000">0205:</font></a> supports many common Git operations, but others, such as repository
<a name="line206"><font color="#000000">0206:</font></a> syncing, must be done from the command line.
<a name="line207"><font color="#000000">0207:</font></a> 
<a name="line208"><font color="#000000">0208:</font></a> <i><font color="#9A1900">@cindex hg</font></i>
<a name="line209"><font color="#000000">0209:</font></a> <i><font color="#9A1900">@cindex Mercurial</font></i>
<a name="line210"><font color="#000000">0210:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line211"><font color="#000000">0211:</font></a> Mercurial (hg) is a decentralized version control system broadly
<a name="line212"><font color="#000000">0212:</font></a> resembling Git.  VC supports most Mercurial commands, with the
<a name="line213"><font color="#000000">0213:</font></a> exception of repository sync operations.
<a name="line214"><font color="#000000">0214:</font></a> 
<a name="line215"><font color="#000000">0215:</font></a> <i><font color="#9A1900">@cindex bzr</font></i>
<a name="line216"><font color="#000000">0216:</font></a> <i><font color="#9A1900">@cindex Bazaar</font></i>
<a name="line217"><font color="#000000">0217:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line218"><font color="#000000">0218:</font></a> Bazaar (bzr) is a decentralized version control system that supports
<a name="line219"><font color="#000000">0219:</font></a> both repository-based and decentralized versioning.  VC supports most
<a name="line220"><font color="#000000">0220:</font></a> basic editing operations under Bazaar.
<a name="line221"><font color="#000000">0221:</font></a> 
<a name="line222"><font color="#000000">0222:</font></a> <i><font color="#9A1900">@cindex SRC</font></i>
<a name="line223"><font color="#000000">0223:</font></a> <i><font color="#9A1900">@cindex src</font></i>
<a name="line224"><font color="#000000">0224:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line225"><font color="#000000">0225:</font></a> SRC (src) is RCS, reloaded---a specialized version-control system
<a name="line226"><font color="#000000">0226:</font></a> designed for single-file projects worked on by only one person.  It
<a name="line227"><font color="#000000">0227:</font></a> allows multiple files with independent version-control histories to
<a name="line228"><font color="#000000">0228:</font></a> exist in one directory, and is thus particularly well suited for
<a name="line229"><font color="#000000">0229:</font></a> maintaining small documents, scripts, and dotfiles.  While it uses RCS
<a name="line230"><font color="#000000">0230:</font></a> for revision storage, it presents a modern user interface featuring
<a name="line231"><font color="#000000">0231:</font></a> lockless operation and integer sequential version numbers.  VC
<a name="line232"><font color="#000000">0232:</font></a> supports almost all SRC operations.
<a name="line233"><font color="#000000">0233:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line234"><font color="#000000">0234:</font></a> 
<a name="line235"><font color="#000000">0235:</font></a> <b><font color="#0000FF">@node</font></b> VCS Concepts
<a name="line236"><font color="#000000">0236:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Concepts of Version Control
<a name="line237"><font color="#000000">0237:</font></a> 
<a name="line238"><font color="#000000">0238:</font></a> <i><font color="#9A1900">@cindex repository</font></i>
<a name="line239"><font color="#000000">0239:</font></a> <i><font color="#9A1900">@cindex registered file</font></i>
<a name="line240"><font color="#000000">0240:</font></a>    When a file is under version control, we say that it is
<a name="line241"><font color="#000000">0241:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{registered}</font> in the version control system.  The system has a
<a name="line242"><font color="#000000">0242:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{repository}</font> which stores both the file's present state and its
<a name="line243"><font color="#000000">0243:</font></a> change history---enough to reconstruct the current version or any
<a name="line244"><font color="#000000">0244:</font></a> earlier version.  The repository also contains other information, such
<a name="line245"><font color="#000000">0245:</font></a> as <b><font color="#0000FF">@dfn</font></b><font color="#009900">{log entries}</font> that describe the changes made to each file.
<a name="line246"><font color="#000000">0246:</font></a> 
<a name="line247"><font color="#000000">0247:</font></a> <i><font color="#9A1900">@cindex work file</font></i>
<a name="line248"><font color="#000000">0248:</font></a> <i><font color="#9A1900">@cindex checking out files</font></i>
<a name="line249"><font color="#000000">0249:</font></a>   The copy of a version-controlled file that you actually edit is
<a name="line250"><font color="#000000">0250:</font></a> called the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{work file}</font>.  You can change each work file as you
<a name="line251"><font color="#000000">0251:</font></a> would an ordinary file.  After you are done with a set of changes, you
<a name="line252"><font color="#000000">0252:</font></a> may <b><font color="#0000FF">@dfn</font></b><font color="#009900">{commit}</font> (or <b><font color="#0000FF">@dfn</font></b><font color="#009900">{check in}</font>) the changes; this records the
<a name="line253"><font color="#000000">0253:</font></a> changes in the repository, along with a descriptive log entry.
<a name="line254"><font color="#000000">0254:</font></a> 
<a name="line255"><font color="#000000">0255:</font></a> <i><font color="#9A1900">@cindex working tree</font></i>
<a name="line256"><font color="#000000">0256:</font></a>   A directory tree of work files is called a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{working tree}</font>.
<a name="line257"><font color="#000000">0257:</font></a> 
<a name="line258"><font color="#000000">0258:</font></a> <i><font color="#9A1900">@cindex revision</font></i>
<a name="line259"><font color="#000000">0259:</font></a> <i><font color="#9A1900">@cindex revision ID</font></i>
<a name="line260"><font color="#000000">0260:</font></a>   Each commit creates a new <b><font color="#0000FF">@dfn</font></b><font color="#009900">{revision}</font> in the repository.  The
<a name="line261"><font color="#000000">0261:</font></a> version control system keeps track of all past revisions and the
<a name="line262"><font color="#000000">0262:</font></a> changes that were made in each revision.  Each revision is named by a
<a name="line263"><font color="#000000">0263:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{revision ID}</font>, whose format depends on the version control system;
<a name="line264"><font color="#000000">0264:</font></a> in the simplest case, it is just an integer.
<a name="line265"><font color="#000000">0265:</font></a> 
<a name="line266"><font color="#000000">0266:</font></a>   To go beyond these basic concepts, you will need to understand three
<a name="line267"><font color="#000000">0267:</font></a> aspects in which version control systems differ.  As explained in the
<a name="line268"><font color="#000000">0268:</font></a> next three sections, they can be lock-based or merge-based; file-based
<a name="line269"><font color="#000000">0269:</font></a> or changeset-based; and centralized or decentralized.  VC handles all
<a name="line270"><font color="#000000">0270:</font></a> these modes of operation, but it cannot hide the differences.
<a name="line271"><font color="#000000">0271:</font></a> 
<a name="line272"><font color="#000000">0272:</font></a> <b><font color="#0000FF">@node</font></b> VCS Merging
<a name="line273"><font color="#000000">0273:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Merge-based vs Lock-based Version Control
<a name="line274"><font color="#000000">0274:</font></a> 
<a name="line275"><font color="#000000">0275:</font></a>   A version control system typically has some mechanism to coordinate
<a name="line276"><font color="#000000">0276:</font></a> between users who want to change the same file.  There are two ways to
<a name="line277"><font color="#000000">0277:</font></a> do this: merging and locking.
<a name="line278"><font color="#000000">0278:</font></a> 
<a name="line279"><font color="#000000">0279:</font></a> <i><font color="#9A1900">@cindex merging-based version</font></i>
<a name="line280"><font color="#000000">0280:</font></a>   In a version control system that uses merging, each user may modify
<a name="line281"><font color="#000000">0281:</font></a> a work file at any time.  The system lets you <b><font color="#0000FF">@dfn</font></b><font color="#009900">{merge}</font> your work
<a name="line282"><font color="#000000">0282:</font></a> file, which may contain changes that have not been committed, with the
<a name="line283"><font color="#000000">0283:</font></a> latest changes that others have committed.
<a name="line284"><font color="#000000">0284:</font></a> 
<a name="line285"><font color="#000000">0285:</font></a> <i><font color="#9A1900">@cindex locking-based version</font></i>
<a name="line286"><font color="#000000">0286:</font></a>   Older version control systems use a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{locking}</font> scheme instead.
<a name="line287"><font color="#000000">0287:</font></a> Here, work files are normally read-only.  To edit a file, you ask the
<a name="line288"><font color="#000000">0288:</font></a> version control system to make it writable for you by <b><font color="#0000FF">@dfn</font></b><font color="#009900">{locking}</font>
<a name="line289"><font color="#000000">0289:</font></a> it; only one user can lock a given file at any given time.  This
<a name="line290"><font color="#000000">0290:</font></a> procedure is analogous to, but different from, the locking that Emacs
<a name="line291"><font color="#000000">0291:</font></a> uses to detect simultaneous editing of ordinary files
<a name="line292"><font color="#000000">0292:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Interlocking</font><font color="#FF0000">}</font>).  When you commit your changes, that unlocks
<a name="line293"><font color="#000000">0293:</font></a> the file, and the work file becomes read-only again.  Other users may
<a name="line294"><font color="#000000">0294:</font></a> then lock the file to make their own changes.
<a name="line295"><font color="#000000">0295:</font></a> 
<a name="line296"><font color="#000000">0296:</font></a>   Both locking and merging systems can have problems when multiple
<a name="line297"><font color="#000000">0297:</font></a> users try to modify the same file at the same time.  Locking systems
<a name="line298"><font color="#000000">0298:</font></a> have <b><font color="#0000FF">@dfn</font></b><font color="#009900">{lock conflicts}</font>; a user may try to check a file out and be
<a name="line299"><font color="#000000">0299:</font></a> unable to because it is locked.  In merging systems, <b><font color="#0000FF">@dfn</font></b><font color="#009900">{merge</font>
<a name="line300"><font color="#000000">0300:</font></a> <font color="#009900">conflicts}</font> happen when you commit a change to a file that conflicts
<a name="line301"><font color="#000000">0301:</font></a> with a change committed by someone else after your checkout.  Both
<a name="line302"><font color="#000000">0302:</font></a> kinds of conflict have to be resolved by human judgment and
<a name="line303"><font color="#000000">0303:</font></a> communication.  Experience has shown that merging is superior to
<a name="line304"><font color="#000000">0304:</font></a> locking, both in convenience to developers and in minimizing the
<a name="line305"><font color="#000000">0305:</font></a> number and severity of conflicts that actually occur.
<a name="line306"><font color="#000000">0306:</font></a> 
<a name="line307"><font color="#000000">0307:</font></a>   SCCS always uses locking.  RCS is lock-based by default but can be
<a name="line308"><font color="#000000">0308:</font></a> told to operate in a merging style.  CVS and Subversion are
<a name="line309"><font color="#000000">0309:</font></a> merge-based by default but can be told to operate in a locking mode.
<a name="line310"><font color="#000000">0310:</font></a> Decentralized version control systems, such as Git and Mercurial, are
<a name="line311"><font color="#000000">0311:</font></a> exclusively merging-based.
<a name="line312"><font color="#000000">0312:</font></a> 
<a name="line313"><font color="#000000">0313:</font></a>   VC mode supports both locking and merging version control.  The
<a name="line314"><font color="#000000">0314:</font></a> terms ``commit'' and ``update'' are used in newer version control
<a name="line315"><font color="#000000">0315:</font></a> systems; older lock-based systems use the terms ``check in'' and
<a name="line316"><font color="#000000">0316:</font></a> ``check out''.  VC hides the differences between them as much as
<a name="line317"><font color="#000000">0317:</font></a> possible.
<a name="line318"><font color="#000000">0318:</font></a> 
<a name="line319"><font color="#000000">0319:</font></a> <b><font color="#0000FF">@node</font></b> VCS Changesets
<a name="line320"><font color="#000000">0320:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Changeset-based vs File-based Version Control
<a name="line321"><font color="#000000">0321:</font></a> 
<a name="line322"><font color="#000000">0322:</font></a> <i><font color="#9A1900">@cindex file-based version control</font></i>
<a name="line323"><font color="#000000">0323:</font></a>   On SCCS, RCS, CVS, and other early version control systems (and also
<a name="line324"><font color="#000000">0324:</font></a> in SRC), version control operations are <b><font color="#0000FF">@dfn</font></b><font color="#009900">{file-based}</font>: each file
<a name="line325"><font color="#000000">0325:</font></a> has its own comment and revision history separate from that of all
<a name="line326"><font color="#000000">0326:</font></a> other files.  Newer systems, beginning with Subversion, are
<a name="line327"><font color="#000000">0327:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{changeset-based}</font>: a commit may include changes to several files,
<a name="line328"><font color="#000000">0328:</font></a> and the entire set of changes is handled as a unit.  Any comment
<a name="line329"><font color="#000000">0329:</font></a> associated with the change does not belong to a single file, but to
<a name="line330"><font color="#000000">0330:</font></a> the changeset itself.
<a name="line331"><font color="#000000">0331:</font></a> 
<a name="line332"><font color="#000000">0332:</font></a> <i><font color="#9A1900">@cindex changeset-based version control</font></i>
<a name="line333"><font color="#000000">0333:</font></a>   Changeset-based version control is more flexible and powerful than
<a name="line334"><font color="#000000">0334:</font></a> file-based version control; usually, when a change to multiple files
<a name="line335"><font color="#000000">0335:</font></a> has to be reversed, it's good to be able to easily identify and remove
<a name="line336"><font color="#000000">0336:</font></a> all of it.
<a name="line337"><font color="#000000">0337:</font></a> 
<a name="line338"><font color="#000000">0338:</font></a> <b><font color="#0000FF">@node</font></b> VCS Repositories
<a name="line339"><font color="#000000">0339:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Decentralized vs Centralized Repositories
<a name="line340"><font color="#000000">0340:</font></a> 
<a name="line341"><font color="#000000">0341:</font></a> <i><font color="#9A1900">@cindex centralized version control</font></i>
<a name="line342"><font color="#000000">0342:</font></a> <i><font color="#9A1900">@cindex decentralized version control</font></i>
<a name="line343"><font color="#000000">0343:</font></a> <i><font color="#9A1900">@cindex distributed version control</font></i>
<a name="line344"><font color="#000000">0344:</font></a>   Early version control systems were designed around a
<a name="line345"><font color="#000000">0345:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{centralized}</font> model in which each project has only one repository
<a name="line346"><font color="#000000">0346:</font></a> used by all developers.  SCCS, RCS, CVS, Subversion, and SRC share this
<a name="line347"><font color="#000000">0347:</font></a> kind of model.  One of its drawbacks is that the repository is a choke
<a name="line348"><font color="#000000">0348:</font></a> point for reliability and efficiency.
<a name="line349"><font color="#000000">0349:</font></a> 
<a name="line350"><font color="#000000">0350:</font></a>   GNU Arch pioneered the concept of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{distributed}</font> or
<a name="line351"><font color="#000000">0351:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{decentralized}</font> version control, later implemented in Git,
<a name="line352"><font color="#000000">0352:</font></a> Mercurial, and Bazaar.  A project may have several different
<a name="line353"><font color="#000000">0353:</font></a> repositories, and these systems support a sort of super-merge between
<a name="line354"><font color="#000000">0354:</font></a> repositories that tries to reconcile their change histories.  In
<a name="line355"><font color="#000000">0355:</font></a> effect, there is one repository for each developer, and repository
<a name="line356"><font color="#000000">0356:</font></a> merges take the place of commit operations.
<a name="line357"><font color="#000000">0357:</font></a> 
<a name="line358"><font color="#000000">0358:</font></a>   VC helps you manage the traffic between your personal workfiles and
<a name="line359"><font color="#000000">0359:</font></a> a repository.  Whether the repository is a single master, or one of a
<a name="line360"><font color="#000000">0360:</font></a> network of peer repositories, is not something VC has to care about.
<a name="line361"><font color="#000000">0361:</font></a> 
<a name="line362"><font color="#000000">0362:</font></a> <b><font color="#0000FF">@node</font></b> Types of Log File
<a name="line363"><font color="#000000">0363:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Types of Log File
<a name="line364"><font color="#000000">0364:</font></a> <i><font color="#9A1900">@cindex types of log file</font></i>
<a name="line365"><font color="#000000">0365:</font></a> <i><font color="#9A1900">@cindex log File, types of</font></i>
<a name="line366"><font color="#000000">0366:</font></a> <i><font color="#9A1900">@cindex version control log</font></i>
<a name="line367"><font color="#000000">0367:</font></a> 
<a name="line368"><font color="#000000">0368:</font></a>   Projects that use a version control system can have two types of log
<a name="line369"><font color="#000000">0369:</font></a> for changes.  One is the log maintained by the version control system:
<a name="line370"><font color="#000000">0370:</font></a> each time you commit a change, you fill out a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{log entry}</font> for the
<a name="line371"><font color="#000000">0371:</font></a> change (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Log Buffer</font><font color="#FF0000">}</font>).  This is called the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{version control</font>
<a name="line372"><font color="#000000">0372:</font></a> <font color="#009900">log}</font>.
<a name="line373"><font color="#000000">0373:</font></a> 
<a name="line374"><font color="#000000">0374:</font></a>   The other kind of log is the file <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Change</font>
<a name="line375"><font color="#000000">0375:</font></a> <font color="#FF0000">Log</font><font color="#FF0000">}</font>).  It provides a chronological record of all changes to a large
<a name="line376"><font color="#000000">0376:</font></a> portion of a program---typically one directory and its subdirectories.
<a name="line377"><font color="#000000">0377:</font></a> A small program would use one <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font> file; a large program
<a name="line378"><font color="#000000">0378:</font></a> may have a <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font> file in each major directory.
<a name="line379"><font color="#000000">0379:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Change Log</font><font color="#FF0000">}</font>.  Programmers have used change logs since long
<a name="line380"><font color="#000000">0380:</font></a> before version control systems.
<a name="line381"><font color="#000000">0381:</font></a> 
<a name="line382"><font color="#000000">0382:</font></a>   Changeset-based version systems typically maintain a changeset-based
<a name="line383"><font color="#000000">0383:</font></a> modification log for the entire system, which makes change log files
<a name="line384"><font color="#000000">0384:</font></a> somewhat redundant.  One advantage that they retain is that it is
<a name="line385"><font color="#000000">0385:</font></a> sometimes useful to be able to view the transaction history of a
<a name="line386"><font color="#000000">0386:</font></a> single directory separately from those of other directories.  Another
<a name="line387"><font color="#000000">0387:</font></a> advantage is that commit logs can't be fixed in many version control
<a name="line388"><font color="#000000">0388:</font></a> systems.
<a name="line389"><font color="#000000">0389:</font></a> 
<a name="line390"><font color="#000000">0390:</font></a>   A project maintained with version control can use just the version
<a name="line391"><font color="#000000">0391:</font></a> control log, or it can use both kinds of logs.  It can handle some
<a name="line392"><font color="#000000">0392:</font></a> files one way and some files the other way.  Each project has its
<a name="line393"><font color="#000000">0393:</font></a> policy, which you should follow.
<a name="line394"><font color="#000000">0394:</font></a> 
<a name="line395"><font color="#000000">0395:</font></a>   When the policy is to use both, you typically want to write an entry
<a name="line396"><font color="#000000">0396:</font></a> for each change just once, then put it into both logs.  You can write
<a name="line397"><font color="#000000">0397:</font></a> the entry in <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font>, then copy it to the log buffer with
<a name="line398"><font color="#000000">0398:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-a}</font> when committing the change (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Log Buffer</font><font color="#FF0000">}</font>).  Or you
<a name="line399"><font color="#000000">0399:</font></a> can write the entry in the log buffer while committing the change, and
<a name="line400"><font color="#000000">0400:</font></a> later use the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v a}</font> command to copy it to <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font>
<a name="line401"><font color="#000000">0401:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line402"><font color="#000000">0402:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Change Logs and VC,,,emacs-xtra, Specialized Emacs Features</font><font color="#FF0000">}</font>).
<a name="line403"><font color="#000000">0403:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line404"><font color="#000000">0404:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line405"><font color="#000000">0405:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Change Logs and VC</font><font color="#FF0000">}</font>).
<a name="line406"><font color="#000000">0406:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line407"><font color="#000000">0407:</font></a> 
<a name="line408"><font color="#000000">0408:</font></a> <b><font color="#0000FF">@node</font></b> VC Mode Line
<a name="line409"><font color="#000000">0409:</font></a> <b><font color="#0000FF">@subsection</font></b> Version Control and the Mode Line
<a name="line410"><font color="#000000">0410:</font></a> <i><font color="#9A1900">@cindex VC mode line indicator</font></i>
<a name="line411"><font color="#000000">0411:</font></a> 
<a name="line412"><font color="#000000">0412:</font></a>   When you visit a file that is under version control, Emacs indicates
<a name="line413"><font color="#000000">0413:</font></a> this on the mode line.  For example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{Bzr-1223}</font> says that Bazaar
<a name="line414"><font color="#000000">0414:</font></a> is used for that file, and the current revision ID is 1223.
<a name="line415"><font color="#000000">0415:</font></a> 
<a name="line416"><font color="#000000">0416:</font></a> <i><font color="#9A1900">@cindex version control status</font></i>
<a name="line417"><font color="#000000">0417:</font></a>   The character between the back-end name and the revision ID
<a name="line418"><font color="#000000">0418:</font></a> indicates the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{version control status}</font> of the work file.  In a
<a name="line419"><font color="#000000">0419:</font></a> merge-based version control system, a <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> character indicates
<a name="line420"><font color="#000000">0420:</font></a> that the work file is unmodified, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{:}</font> indicates that it has
<a name="line421"><font color="#000000">0421:</font></a> been modified.  <b><font color="#0000FF">@samp</font></b><font color="#009900">{!}</font> indicates that the file contains conflicts as
<a name="line422"><font color="#000000">0422:</font></a> result of a recent merge operation (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Merging</font><font color="#FF0000">}</font>), or that the file
<a name="line423"><font color="#000000">0423:</font></a> was removed from the version control.  Finally, <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font> means that
<a name="line424"><font color="#000000">0424:</font></a> the file is under version control, but is missing from the working
<a name="line425"><font color="#000000">0425:</font></a> tree.
<a name="line426"><font color="#000000">0426:</font></a> 
<a name="line427"><font color="#000000">0427:</font></a>   In a lock-based system, <b><font color="#0000FF">@samp</font></b><font color="#009900">{-}</font> indicates an unlocked file, and
<a name="line428"><font color="#000000">0428:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{:}</font> a locked file; if the file is locked by another user (for
<a name="line429"><font color="#000000">0429:</font></a> instance, <b><font color="#0000FF">@samp</font></b><font color="#009900">{jim}</font>), that is displayed as <b><font color="#0000FF">@samp</font></b><font color="#009900">{RCS:jim:1.3}</font>.
<a name="line430"><font color="#000000">0430:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{@@}</font> means that the file was locally added, but not yet committed
<a name="line431"><font color="#000000">0431:</font></a> to the master repository.
<a name="line432"><font color="#000000">0432:</font></a> 
<a name="line433"><font color="#000000">0433:</font></a>   On a graphical display, you can move the mouse over this mode line
<a name="line434"><font color="#000000">0434:</font></a> indicator to pop up a tool-tip, which displays a more verbose
<a name="line435"><font color="#000000">0435:</font></a> description of the version control status.  Pressing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-1}</font>
<a name="line436"><font color="#000000">0436:</font></a> over the indicator pops up a menu of VC commands, identical to
<a name="line437"><font color="#000000">0437:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Tools / Version Control}</font> on the menu bar.
<a name="line438"><font color="#000000">0438:</font></a> 
<a name="line439"><font color="#000000">0439:</font></a> <b><font color="#0000FF">@vindex</font></b> auto-revert-check-vc-info
<a name="line440"><font color="#000000">0440:</font></a>   When Auto Revert mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Reverting</font><font color="#FF0000">}</font>) reverts a buffer that is
<a name="line441"><font color="#000000">0441:</font></a> under version control, it updates the version control information in
<a name="line442"><font color="#000000">0442:</font></a> the mode line.  However, Auto Revert mode may not properly update this
<a name="line443"><font color="#000000">0443:</font></a> information if the version control status changes without changes to
<a name="line444"><font color="#000000">0444:</font></a> the work file, from outside the current Emacs session.  If you set
<a name="line445"><font color="#000000">0445:</font></a> <i><font color="#9A1900">@code{auto-revert-check-vc-info} to @code{t}, Auto Revert mode updates</font></i>
<a name="line446"><font color="#000000">0446:</font></a> the version control status information every
<a name="line447"><font color="#000000">0447:</font></a> <i><font color="#9A1900">@code{auto-revert-interval} seconds, even if the work file itself is</font></i>
<a name="line448"><font color="#000000">0448:</font></a> unchanged.  The resulting CPU usage depends on the version control
<a name="line449"><font color="#000000">0449:</font></a> system, but is usually not excessive.
<a name="line450"><font color="#000000">0450:</font></a> 
<a name="line451"><font color="#000000">0451:</font></a> <b><font color="#0000FF">@node</font></b> Basic VC Editing
<a name="line452"><font color="#000000">0452:</font></a> <b><font color="#0000FF">@subsection</font></b> Basic Editing under Version Control
<a name="line453"><font color="#000000">0453:</font></a> 
<a name="line454"><font color="#000000">0454:</font></a> <i><font color="#9A1900">@cindex filesets, VC</font></i>
<a name="line455"><font color="#000000">0455:</font></a> <i><font color="#9A1900">@cindex VC filesets</font></i>
<a name="line456"><font color="#000000">0456:</font></a>    Most VC commands operate on <b><font color="#0000FF">@dfn</font></b><font color="#009900">{VC filesets}</font>.  A VC fileset is a
<a name="line457"><font color="#000000">0457:</font></a> collection of one or more files that a VC operation acts on.  When you
<a name="line458"><font color="#000000">0458:</font></a> type VC commands in a buffer visiting a version-controlled file, the
<a name="line459"><font color="#000000">0459:</font></a> VC fileset is simply that one file.  When you type them in a VC
<a name="line460"><font color="#000000">0460:</font></a> Directory buffer, and some files in it are marked, the VC fileset
<a name="line461"><font color="#000000">0461:</font></a> consists of the marked files (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Directory Mode</font><font color="#FF0000">}</font>).
<a name="line462"><font color="#000000">0462:</font></a> 
<a name="line463"><font color="#000000">0463:</font></a>   On modern changeset-based version control systems (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VCS</font>
<a name="line464"><font color="#000000">0464:</font></a> <font color="#FF0000">Changesets</font><font color="#FF0000">}</font>), VC commands handle multi-file VC filesets as a group.
<a name="line465"><font color="#000000">0465:</font></a> For example, committing a multi-file VC fileset generates a single
<a name="line466"><font color="#000000">0466:</font></a> revision, containing the changes to all those files.  On older
<a name="line467"><font color="#000000">0467:</font></a> file-based version control systems like CVS, each file in a multi-file
<a name="line468"><font color="#000000">0468:</font></a> VC fileset is handled individually; for example, a commit generates
<a name="line469"><font color="#000000">0469:</font></a> one revision for each changed file.
<a name="line470"><font color="#000000">0470:</font></a> 
<a name="line471"><font color="#000000">0471:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line472"><font color="#000000">0472:</font></a> <b><font color="#0000FF">@item</font></b> C-x v v
<a name="line473"><font color="#000000">0473:</font></a> Perform the next appropriate version control operation on the current
<a name="line474"><font color="#000000">0474:</font></a> VC fileset.
<a name="line475"><font color="#000000">0475:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line476"><font color="#000000">0476:</font></a> 
<a name="line477"><font color="#000000">0477:</font></a> <b><font color="#0000FF">@findex</font></b> vc-next-action
<a name="line478"><font color="#000000">0478:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v v
<a name="line479"><font color="#000000">0479:</font></a>   The principal VC command is a multi-purpose command, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font>
<a name="line480"><font color="#000000">0480:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-next-action}</font>), which performs the most appropriate
<a name="line481"><font color="#000000">0481:</font></a> action on the current VC fileset: either registering it with a version
<a name="line482"><font color="#000000">0482:</font></a> control system, or committing it, or unlocking it, or merging changes
<a name="line483"><font color="#000000">0483:</font></a> into it.  The precise actions are described in detail in the following
<a name="line484"><font color="#000000">0484:</font></a> subsections.  You can use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> either in a file-visiting
<a name="line485"><font color="#000000">0485:</font></a> buffer or in a VC Directory buffer.
<a name="line486"><font color="#000000">0486:</font></a> 
<a name="line487"><font color="#000000">0487:</font></a>   Note that VC filesets are distinct from the named filesets used
<a name="line488"><font color="#000000">0488:</font></a> for viewing and visiting files in functional groups
<a name="line489"><font color="#000000">0489:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Filesets</font><font color="#FF0000">}</font>).  Unlike named filesets, VC filesets are not named
<a name="line490"><font color="#000000">0490:</font></a> and don't persist across sessions.
<a name="line491"><font color="#000000">0491:</font></a> 
<a name="line492"><font color="#000000">0492:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line493"><font color="#000000">0493:</font></a> <font color="#FF0000">* VC With A Merging VCS::</font>  Without locking: default mode for CVS.
<a name="line494"><font color="#000000">0494:</font></a> <font color="#FF0000">* VC With A Locking VCS::</font>  RCS in its default mode, SCCS, and optionally CVS.
<a name="line495"><font color="#000000">0495:</font></a> <font color="#FF0000">* Advanced C-x v v::</font>       Advanced features available with a prefix argument.
<a name="line496"><font color="#000000">0496:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line497"><font color="#000000">0497:</font></a> 
<a name="line498"><font color="#000000">0498:</font></a> <b><font color="#0000FF">@node</font></b> VC With A Merging VCS
<a name="line499"><font color="#000000">0499:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Basic Version Control with Merging
<a name="line500"><font color="#000000">0500:</font></a> 
<a name="line501"><font color="#000000">0501:</font></a>   On a merging-based version control system (i.e., most modern ones;
<a name="line502"><font color="#000000">0502:</font></a> <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VCS Merging</font><font color="#FF0000">}</font>), <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> does the following:
<a name="line503"><font color="#000000">0503:</font></a> 
<a name="line504"><font color="#000000">0504:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line505"><font color="#000000">0505:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line506"><font color="#000000">0506:</font></a> If there is more than one file in the VC fileset and the files have
<a name="line507"><font color="#000000">0507:</font></a> inconsistent version control statuses, signal an error.  (Note,
<a name="line508"><font color="#000000">0508:</font></a> however, that a fileset is allowed to include both newly-added
<a name="line509"><font color="#000000">0509:</font></a> files and modified files; <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Registering</font><font color="#FF0000">}</font>.)
<a name="line510"><font color="#000000">0510:</font></a> 
<a name="line511"><font color="#000000">0511:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line512"><font color="#000000">0512:</font></a> If none of the files in the VC fileset are registered with a version
<a name="line513"><font color="#000000">0513:</font></a> control system, register the VC fileset, i.e., place it under version
<a name="line514"><font color="#000000">0514:</font></a> control.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Registering</font><font color="#FF0000">}</font>.  If Emacs cannot find a system to
<a name="line515"><font color="#000000">0515:</font></a> register under, it prompts for a repository type, creates a new
<a name="line516"><font color="#000000">0516:</font></a> repository, and registers the VC fileset with it.
<a name="line517"><font color="#000000">0517:</font></a> 
<a name="line518"><font color="#000000">0518:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line519"><font color="#000000">0519:</font></a> If every work file in the VC fileset is unchanged, do nothing.
<a name="line520"><font color="#000000">0520:</font></a> 
<a name="line521"><font color="#000000">0521:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line522"><font color="#000000">0522:</font></a> If every work file in the VC fileset has been modified, commit the
<a name="line523"><font color="#000000">0523:</font></a> changes.  To do this, Emacs pops up a <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer; type the
<a name="line524"><font color="#000000">0524:</font></a> desired log entry for the new revision, followed by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> to
<a name="line525"><font color="#000000">0525:</font></a> commit.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Log Buffer</font><font color="#FF0000">}</font>.
<a name="line526"><font color="#000000">0526:</font></a> 
<a name="line527"><font color="#000000">0527:</font></a> If committing to a shared repository, the commit may fail if the
<a name="line528"><font color="#000000">0528:</font></a> repository has been changed since your last update.  In that
<a name="line529"><font color="#000000">0529:</font></a> case, you must perform an update before trying again.  On a
<a name="line530"><font color="#000000">0530:</font></a> decentralized version control system, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v +}</font>
<a name="line531"><font color="#000000">0531:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Pulling / Pushing</font><font color="#FF0000">}</font>) or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v m}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Merging</font><font color="#FF0000">}</font>).
<a name="line532"><font color="#000000">0532:</font></a> On a centralized version control system, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> again to
<a name="line533"><font color="#000000">0533:</font></a> merge in the repository changes.
<a name="line534"><font color="#000000">0534:</font></a> 
<a name="line535"><font color="#000000">0535:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line536"><font color="#000000">0536:</font></a> Finally, if you are using a centralized version control system, check
<a name="line537"><font color="#000000">0537:</font></a> if each work file in the VC fileset is up-to-date.  If any file has
<a name="line538"><font color="#000000">0538:</font></a> been changed in the repository, offer to update it.
<a name="line539"><font color="#000000">0539:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line540"><font color="#000000">0540:</font></a> 
<a name="line541"><font color="#000000">0541:</font></a>   These rules also apply when you use RCS in its non-locking mode,
<a name="line542"><font color="#000000">0542:</font></a> except that changes are not automatically merged from the repository.
<a name="line543"><font color="#000000">0543:</font></a> Nothing informs you if another user has committed changes in the same
<a name="line544"><font color="#000000">0544:</font></a> file since you began editing it; when you commit your revision, that
<a name="line545"><font color="#000000">0545:</font></a> other user's changes are removed (however, they remain in the
<a name="line546"><font color="#000000">0546:</font></a> repository and are thus not irrevocably lost).  Therefore, you must
<a name="line547"><font color="#000000">0547:</font></a> verify that the current revision is unchanged before committing your
<a name="line548"><font color="#000000">0548:</font></a> changes.  In addition, locking is possible with RCS even in this mode:
<a name="line549"><font color="#000000">0549:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> with an unmodified file locks the file, just as it does
<a name="line550"><font color="#000000">0550:</font></a> with RCS in its normal locking mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC With A Locking VCS</font><font color="#FF0000">}</font>).
<a name="line551"><font color="#000000">0551:</font></a> 
<a name="line552"><font color="#000000">0552:</font></a> <b><font color="#0000FF">@node</font></b> VC With A Locking VCS
<a name="line553"><font color="#000000">0553:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Basic Version Control with Locking
<a name="line554"><font color="#000000">0554:</font></a> 
<a name="line555"><font color="#000000">0555:</font></a>   On a locking-based version control system (such as SCCS, and RCS in
<a name="line556"><font color="#000000">0556:</font></a> its default mode), <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> does the following:
<a name="line557"><font color="#000000">0557:</font></a> 
<a name="line558"><font color="#000000">0558:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line559"><font color="#000000">0559:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line560"><font color="#000000">0560:</font></a> If there is more than one file in the VC fileset and the files have
<a name="line561"><font color="#000000">0561:</font></a> inconsistent version control statuses, signal an error.
<a name="line562"><font color="#000000">0562:</font></a> 
<a name="line563"><font color="#000000">0563:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line564"><font color="#000000">0564:</font></a> If each file in the VC fileset is not registered with a version
<a name="line565"><font color="#000000">0565:</font></a> control system, register the VC fileset.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Registering</font><font color="#FF0000">}</font>.  If
<a name="line566"><font color="#000000">0566:</font></a> Emacs cannot find a system to register under, it prompts for a
<a name="line567"><font color="#000000">0567:</font></a> repository type, creates a new repository, and registers the VC
<a name="line568"><font color="#000000">0568:</font></a> fileset with it.
<a name="line569"><font color="#000000">0569:</font></a> 
<a name="line570"><font color="#000000">0570:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line571"><font color="#000000">0571:</font></a> If each file is registered and unlocked, lock it and make it writable,
<a name="line572"><font color="#000000">0572:</font></a> so that you can begin to edit it.
<a name="line573"><font color="#000000">0573:</font></a> 
<a name="line574"><font color="#000000">0574:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line575"><font color="#000000">0575:</font></a> If each file is locked by you and contains changes, commit the
<a name="line576"><font color="#000000">0576:</font></a> changes.  To do this, Emacs pops up a <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer; type the
<a name="line577"><font color="#000000">0577:</font></a> desired log entry for the new revision, followed by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> to
<a name="line578"><font color="#000000">0578:</font></a> commit (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Log Buffer</font><font color="#FF0000">}</font>).
<a name="line579"><font color="#000000">0579:</font></a> 
<a name="line580"><font color="#000000">0580:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line581"><font color="#000000">0581:</font></a> If each file is locked by you, but you have not changed it, release
<a name="line582"><font color="#000000">0582:</font></a> the lock and make the file read-only again.
<a name="line583"><font color="#000000">0583:</font></a> 
<a name="line584"><font color="#000000">0584:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line585"><font color="#000000">0585:</font></a> If each file is locked by another user, ask whether you want to
<a name="line586"><font color="#000000">0586:</font></a> steal the lock.  If you say yes, the file becomes locked by you,
<a name="line587"><font color="#000000">0587:</font></a> and a warning message is sent to the user who had formerly locked the
<a name="line588"><font color="#000000">0588:</font></a> file.
<a name="line589"><font color="#000000">0589:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line590"><font color="#000000">0590:</font></a> 
<a name="line591"><font color="#000000">0591:</font></a>   These rules also apply when you use CVS in locking mode, except
<a name="line592"><font color="#000000">0592:</font></a> that CVS does not support stealing locks.
<a name="line593"><font color="#000000">0593:</font></a> 
<a name="line594"><font color="#000000">0594:</font></a> <b><font color="#0000FF">@node</font></b> Advanced C-x v v
<a name="line595"><font color="#000000">0595:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Advanced Control in <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font>
<a name="line596"><font color="#000000">0596:</font></a> 
<a name="line597"><font color="#000000">0597:</font></a> <i><font color="#9A1900">@cindex revision ID in version control</font></i>
<a name="line598"><font color="#000000">0598:</font></a>   When you give a prefix argument to <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-next-action}</font> (<b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u</font>
<a name="line599"><font color="#000000">0599:</font></a> <font color="#009900">C-x v v}</font>), it still performs the next logical version control
<a name="line600"><font color="#000000">0600:</font></a> operation, but accepts additional arguments to specify precisely how
<a name="line601"><font color="#000000">0601:</font></a> to do the operation.
<a name="line602"><font color="#000000">0602:</font></a> 
<a name="line603"><font color="#000000">0603:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line604"><font color="#000000">0604:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line605"><font color="#000000">0605:</font></a> <i><font color="#9A1900">@cindex specific version control system</font></i>
<a name="line606"><font color="#000000">0606:</font></a> You can specify the name of a version control system.  This is useful
<a name="line607"><font color="#000000">0607:</font></a> if the fileset can be managed by more than one version control system,
<a name="line608"><font color="#000000">0608:</font></a> and Emacs fails to detect the correct one.
<a name="line609"><font color="#000000">0609:</font></a> 
<a name="line610"><font color="#000000">0610:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line611"><font color="#000000">0611:</font></a> Otherwise, if using CVS, RCS or SRC, you can specify a revision ID.
<a name="line612"><font color="#000000">0612:</font></a> 
<a name="line613"><font color="#000000">0613:</font></a> If the fileset is modified (or locked), this makes Emacs commit with
<a name="line614"><font color="#000000">0614:</font></a> that revision ID<b><font color="#0000FF">@.</font></b>  You can create a new branch by supplying an
<a name="line615"><font color="#000000">0615:</font></a> appropriate revision ID (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Branches</font><font color="#FF0000">}</font>).
<a name="line616"><font color="#000000">0616:</font></a> 
<a name="line617"><font color="#000000">0617:</font></a> If the fileset is unmodified (and unlocked), this checks the specified
<a name="line618"><font color="#000000">0618:</font></a> revision into the working tree.  You can also specify a revision on
<a name="line619"><font color="#000000">0619:</font></a> another branch by giving its revision or branch ID (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Switching</font>
<a name="line620"><font color="#000000">0620:</font></a> <font color="#FF0000">Branches</font><font color="#FF0000">}</font>).  An empty argument (i.e., <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x v v @key{RET}}</font>)
<a name="line621"><font color="#000000">0621:</font></a> checks out the latest (head) revision on the current branch.
<a name="line622"><font color="#000000">0622:</font></a> 
<a name="line623"><font color="#000000">0623:</font></a> This is silently ignored on a decentralized version control system.
<a name="line624"><font color="#000000">0624:</font></a> Those systems do not let you specify your own revision IDs, nor do
<a name="line625"><font color="#000000">0625:</font></a> they use the concept of checking out individual files.
<a name="line626"><font color="#000000">0626:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line627"><font color="#000000">0627:</font></a> 
<a name="line628"><font color="#000000">0628:</font></a> <b><font color="#0000FF">@node</font></b> Log Buffer
<a name="line629"><font color="#000000">0629:</font></a> <b><font color="#0000FF">@subsection</font></b> Features of the Log Entry Buffer
<a name="line630"><font color="#000000">0630:</font></a> 
<a name="line631"><font color="#000000">0631:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-c <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line632"><font color="#000000">0632:</font></a> <b><font color="#0000FF">@findex</font></b> log-edit-done
<a name="line633"><font color="#000000">0633:</font></a>   When you tell VC to commit a change, it pops up a buffer named
<a name="line634"><font color="#000000">0634:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font>.  In this buffer, you should write a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{log entry}</font>
<a name="line635"><font color="#000000">0635:</font></a> describing the changes you have made (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Why Version Control?</font><font color="#FF0000">}</font>).
<a name="line636"><font color="#000000">0636:</font></a> After you are done, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{log-edit-done}</font>) to exit
<a name="line637"><font color="#000000">0637:</font></a> the buffer and commit the change, together with your log entry.
<a name="line638"><font color="#000000">0638:</font></a> 
<a name="line639"><font color="#000000">0639:</font></a> <i><font color="#9A1900">@cindex Log Edit mode</font></i>
<a name="line640"><font color="#000000">0640:</font></a> <i><font color="#9A1900">@cindex mode, Log Edit</font></i>
<a name="line641"><font color="#000000">0641:</font></a> <b><font color="#0000FF">@vindex</font></b> vc-log-mode-hook
<a name="line642"><font color="#000000">0642:</font></a> <i><font color="#9A1900">@c FIXME: Mention log-edit-mode-hook here?  --xfq</font></i>
<a name="line643"><font color="#000000">0643:</font></a>   The major mode for the <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer is Log Edit mode, a
<a name="line644"><font color="#000000">0644:</font></a> variant of Text mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Text Mode</font><font color="#FF0000">}</font>).  On entering Log Edit mode,
<a name="line645"><font color="#000000">0645:</font></a> Emacs runs the hooks <b><font color="#0000FF">@code</font></b><font color="#009900">{text-mode-hook}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-mode-hook}</font>
<a name="line646"><font color="#000000">0646:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>).
<a name="line647"><font color="#000000">0647:</font></a> 
<a name="line648"><font color="#000000">0648:</font></a>   In the <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer, you can write one or more <b><font color="#0000FF">@dfn</font></b><font color="#009900">{header</font>
<a name="line649"><font color="#000000">0649:</font></a> <font color="#009900">lines}</font>, specifying additional information to be supplied to the
<a name="line650"><font color="#000000">0650:</font></a> version control system.  Each header line must occupy a single line at
<a name="line651"><font color="#000000">0651:</font></a> the top of the buffer; the first line that is not a header line is
<a name="line652"><font color="#000000">0652:</font></a> treated as the start of the log entry.  For example, the following
<a name="line653"><font color="#000000">0653:</font></a> header line states that the present change was not written by you, but
<a name="line654"><font color="#000000">0654:</font></a> by another developer:
<a name="line655"><font color="#000000">0655:</font></a> 
<a name="line656"><font color="#000000">0656:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line657"><font color="#000000">0657:</font></a> Author: J. R. Hacker &lt;jrh<b><font color="#0000FF">@@example.com&gt;</font></b>
<a name="line658"><font color="#000000">0658:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line659"><font color="#000000">0659:</font></a> 
<a name="line660"><font color="#000000">0660:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line661"><font color="#000000">0661:</font></a> Apart from the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Author}</font> header, Emacs recognizes the headers
<a name="line662"><font color="#000000">0662:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Summary}</font> (a one-line summary of the changeset), <b><font color="#0000FF">@samp</font></b><font color="#009900">{Date}</font> (a
<a name="line663"><font color="#000000">0663:</font></a> manually-specified commit time), and <b><font color="#0000FF">@samp</font></b><font color="#009900">{Fixes}</font> (a reference to a
<a name="line664"><font color="#000000">0664:</font></a> bug fixed by the change).  Not all version control systems recognize
<a name="line665"><font color="#000000">0665:</font></a> all headers.  If you specify a header for a system that does not
<a name="line666"><font color="#000000">0666:</font></a> support it, the header is treated as part of the log entry.
<a name="line667"><font color="#000000">0667:</font></a> 
<a name="line668"><font color="#000000">0668:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-f <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line669"><font color="#000000">0669:</font></a> <b><font color="#0000FF">@findex</font></b> log-edit-show-files
<a name="line670"><font color="#000000">0670:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-d <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line671"><font color="#000000">0671:</font></a> <b><font color="#0000FF">@findex</font></b> log-edit-show-diff
<a name="line672"><font color="#000000">0672:</font></a>   While in the <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer, the current VC fileset is
<a name="line673"><font color="#000000">0673:</font></a> considered to be the fileset that will be committed if you type
<a name="line674"><font color="#000000">0674:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-c C-c}}</font>.  To view a list of the files in the VC fileset,
<a name="line675"><font color="#000000">0675:</font></a> type <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-c C-f}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{log-edit-show-files}</font>).  To view a diff
<a name="line676"><font color="#000000">0676:</font></a> of changes between the VC fileset and the version from which you
<a name="line677"><font color="#000000">0677:</font></a> started editing (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Old Revisions</font><font color="#FF0000">}</font>), type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-d}</font>
<a name="line678"><font color="#000000">0678:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{log-edit-show-diff}</font>).
<a name="line679"><font color="#000000">0679:</font></a> 
<a name="line680"><font color="#000000">0680:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-a <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line681"><font color="#000000">0681:</font></a> <b><font color="#0000FF">@findex</font></b> log-edit-insert-changelog
<a name="line682"><font color="#000000">0682:</font></a>   If the VC fileset includes one or more <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font> files
<a name="line683"><font color="#000000">0683:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Change Log</font><font color="#FF0000">}</font>), type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-a}</font>
<a name="line684"><font color="#000000">0684:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{log-edit-insert-changelog}</font>) to pull the relevant entries into
<a name="line685"><font color="#000000">0685:</font></a> the <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer.  If the topmost item in each
<a name="line686"><font color="#000000">0686:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font> was made under your user name on the current date,
<a name="line687"><font color="#000000">0687:</font></a> this command searches that item for entries matching the file(s) to be
<a name="line688"><font color="#000000">0688:</font></a> committed, and inserts them.
<a name="line689"><font color="#000000">0689:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line690"><font color="#000000">0690:</font></a> If you are using CVS or RCS, see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Change Logs and VC</font><font color="#FF0000">}</font>, for the
<a name="line691"><font color="#000000">0691:</font></a> opposite way of working---generating ChangeLog entries from the Log
<a name="line692"><font color="#000000">0692:</font></a> Edit buffer.
<a name="line693"><font color="#000000">0693:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line694"><font color="#000000">0694:</font></a> 
<a name="line695"><font color="#000000">0695:</font></a>   To abort a commit, just <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">don't</font></i><font color="#FF0000">}</font> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> in that
<a name="line696"><font color="#000000">0696:</font></a> buffer.  You can switch buffers and do other editing.  As long as you
<a name="line697"><font color="#000000">0697:</font></a> don't try to make another commit, the entry you were editing remains
<a name="line698"><font color="#000000">0698:</font></a> in the <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer, and you can go back to that buffer at
<a name="line699"><font color="#000000">0699:</font></a> any time to complete the commit.
<a name="line700"><font color="#000000">0700:</font></a> 
<a name="line701"><font color="#000000">0701:</font></a> <b><font color="#0000FF">@kindex</font></b> M-n <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line702"><font color="#000000">0702:</font></a> <b><font color="#0000FF">@kindex</font></b> M-p <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line703"><font color="#000000">0703:</font></a> <b><font color="#0000FF">@kindex</font></b> M-s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line704"><font color="#000000">0704:</font></a> <b><font color="#0000FF">@kindex</font></b> M-r <b><font color="#0000FF">@r</font></b><font color="#009900">{(Log Edit mode)}</font>
<a name="line705"><font color="#000000">0705:</font></a>   You can also browse the history of previous log entries to duplicate
<a name="line706"><font color="#000000">0706:</font></a> a commit comment.  This can be useful when you want to make several
<a name="line707"><font color="#000000">0707:</font></a> commits with similar comments.  The commands <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-p}</font>,
<a name="line708"><font color="#000000">0708:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-s}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-r}</font> for doing this work just like the minibuffer
<a name="line709"><font color="#000000">0709:</font></a> history commands (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minibuffer History</font><font color="#FF0000">}</font>), except that they are
<a name="line710"><font color="#000000">0710:</font></a> used outside the minibuffer.
<a name="line711"><font color="#000000">0711:</font></a> 
<a name="line712"><font color="#000000">0712:</font></a> <b><font color="#0000FF">@node</font></b> Registering
<a name="line713"><font color="#000000">0713:</font></a> <b><font color="#0000FF">@subsection</font></b> Registering a File for Version Control
<a name="line714"><font color="#000000">0714:</font></a> 
<a name="line715"><font color="#000000">0715:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line716"><font color="#000000">0716:</font></a> <b><font color="#0000FF">@item</font></b> C-x v i
<a name="line717"><font color="#000000">0717:</font></a> Register the visited file for version control.
<a name="line718"><font color="#000000">0718:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line719"><font color="#000000">0719:</font></a> 
<a name="line720"><font color="#000000">0720:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v i
<a name="line721"><font color="#000000">0721:</font></a> <b><font color="#0000FF">@findex</font></b> vc-register
<a name="line722"><font color="#000000">0722:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v i}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-register}</font>) <b><font color="#0000FF">@dfn</font></b><font color="#009900">{registers}</font> each
<a name="line723"><font color="#000000">0723:</font></a> file in the current VC fileset, placing it under version control.
<a name="line724"><font color="#000000">0724:</font></a> This is essentially equivalent to the action of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> on an
<a name="line725"><font color="#000000">0725:</font></a> unregistered VC fileset (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Basic VC Editing</font><font color="#FF0000">}</font>), except that if the
<a name="line726"><font color="#000000">0726:</font></a> VC fileset is already registered, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v i}</font> signals an error
<a name="line727"><font color="#000000">0727:</font></a> whereas <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> performs some other action.
<a name="line728"><font color="#000000">0728:</font></a> 
<a name="line729"><font color="#000000">0729:</font></a>   To register a file, Emacs must choose a version control system.  For
<a name="line730"><font color="#000000">0730:</font></a> a multi-file VC fileset, the VC Directory buffer specifies the system
<a name="line731"><font color="#000000">0731:</font></a> to use (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Directory Mode</font><font color="#FF0000">}</font>).  For a single-file VC fileset, if
<a name="line732"><font color="#000000">0732:</font></a> the file's directory already contains files registered in a version
<a name="line733"><font color="#000000">0733:</font></a> control system, or if the directory is part of a directory tree
<a name="line734"><font color="#000000">0734:</font></a> controlled by a version control system, Emacs chooses that system.  In
<a name="line735"><font color="#000000">0735:</font></a> the event that more than one version control system is applicable,
<a name="line736"><font color="#000000">0736:</font></a> Emacs uses the one that appears first in the variable
<a name="line737"><font color="#000000">0737:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line738"><font color="#000000">0738:</font></a> <i><font color="#9A1900">@code{vc-handled-backends}.</font></i>
<a name="line739"><font color="#000000">0739:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line740"><font color="#000000">0740:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line741"><font color="#000000">0741:</font></a> <i><font color="#9A1900">@code{vc-handled-backends} (@pxref{Customizing VC}).</font></i>
<a name="line742"><font color="#000000">0742:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line743"><font color="#000000">0743:</font></a> If Emacs cannot find a version control system to register the file
<a name="line744"><font color="#000000">0744:</font></a> under, it prompts for a repository type, creates a new repository, and
<a name="line745"><font color="#000000">0745:</font></a> registers the file into that repository.
<a name="line746"><font color="#000000">0746:</font></a> 
<a name="line747"><font color="#000000">0747:</font></a>   On most version control systems, registering a file with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v</font>
<a name="line748"><font color="#000000">0748:</font></a> <font color="#009900">i}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> adds it to the working tree but not to the
<a name="line749"><font color="#000000">0749:</font></a> repository.  Such files are labeled as <b><font color="#0000FF">@samp</font></b><font color="#009900">{added}</font> in the VC
<a name="line750"><font color="#000000">0750:</font></a> Directory buffer, and show a revision ID of <b><font color="#0000FF">@samp</font></b><font color="#009900">{@@@@}</font> in the mode
<a name="line751"><font color="#000000">0751:</font></a> line.  To make the registration take effect in the repository, you
<a name="line752"><font color="#000000">0752:</font></a> must perform a commit (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Basic VC Editing</font><font color="#FF0000">}</font>).  Note that a single
<a name="line753"><font color="#000000">0753:</font></a> commit can include both file additions and edits to existing files.
<a name="line754"><font color="#000000">0754:</font></a> 
<a name="line755"><font color="#000000">0755:</font></a>   On a locking-based version control system (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VCS Merging</font><font color="#FF0000">}</font>),
<a name="line756"><font color="#000000">0756:</font></a> registering a file leaves it unlocked and read-only.  Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v</font>
<a name="line757"><font color="#000000">0757:</font></a> <font color="#009900">v}</font> to start editing it.
<a name="line758"><font color="#000000">0758:</font></a> 
<a name="line759"><font color="#000000">0759:</font></a> <b><font color="#0000FF">@node</font></b> Old Revisions
<a name="line760"><font color="#000000">0760:</font></a> <b><font color="#0000FF">@subsection</font></b> Examining And Comparing Old Revisions
<a name="line761"><font color="#000000">0761:</font></a> 
<a name="line762"><font color="#000000">0762:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line763"><font color="#000000">0763:</font></a> <b><font color="#0000FF">@item</font></b> C-x v =
<a name="line764"><font color="#000000">0764:</font></a> Compare the work files in the current VC fileset with the versions you
<a name="line765"><font color="#000000">0765:</font></a> started from (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-diff}</font>).  With a prefix argument, prompt for two
<a name="line766"><font color="#000000">0766:</font></a> revisions of the current VC fileset and compare them.  You can also
<a name="line767"><font color="#000000">0767:</font></a> call this command from a Dired buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Dired</font><font color="#FF0000">}</font>).
<a name="line768"><font color="#000000">0768:</font></a> 
<a name="line769"><font color="#000000">0769:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line770"><font color="#000000">0770:</font></a> <b><font color="#0000FF">@item</font></b> M-x vc-ediff
<a name="line771"><font color="#000000">0771:</font></a> Like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v =}</font>, but using Ediff.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,, Ediff, ediff, The</font>
<a name="line772"><font color="#000000">0772:</font></a> <font color="#FF0000">Ediff Manual</font><font color="#FF0000">}</font>.
<a name="line773"><font color="#000000">0773:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line774"><font color="#000000">0774:</font></a> 
<a name="line775"><font color="#000000">0775:</font></a> <b><font color="#0000FF">@item</font></b> C-x v D
<a name="line776"><font color="#000000">0776:</font></a> Compare the entire working tree to the revision you started from
<a name="line777"><font color="#000000">0777:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-root-diff}</font>).  With a prefix argument, prompt for two
<a name="line778"><font color="#000000">0778:</font></a> revisions and compare their trees.
<a name="line779"><font color="#000000">0779:</font></a> 
<a name="line780"><font color="#000000">0780:</font></a> <b><font color="#0000FF">@item</font></b> C-x v ~
<a name="line781"><font color="#000000">0781:</font></a> Prompt for a revision of the current file, and visit it in a separate
<a name="line782"><font color="#000000">0782:</font></a> buffer (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-revision-other-window}</font>).
<a name="line783"><font color="#000000">0783:</font></a> 
<a name="line784"><font color="#000000">0784:</font></a> <b><font color="#0000FF">@item</font></b> C-x v g
<a name="line785"><font color="#000000">0785:</font></a> Display an annotated version of the current file: for each line, show
<a name="line786"><font color="#000000">0786:</font></a> the latest revision in which it was modified (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-annotate}</font>).
<a name="line787"><font color="#000000">0787:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line788"><font color="#000000">0788:</font></a> 
<a name="line789"><font color="#000000">0789:</font></a> <b><font color="#0000FF">@findex</font></b> vc-diff
<a name="line790"><font color="#000000">0790:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v =
<a name="line791"><font color="#000000">0791:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v =}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-diff}</font>) displays a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{diff}</font> which compares
<a name="line792"><font color="#000000">0792:</font></a> each work file in the current VC fileset to the version(s) from which
<a name="line793"><font color="#000000">0793:</font></a> you started editing.  The diff is displayed in another window, in a
<a name="line794"><font color="#000000">0794:</font></a> Diff mode buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Diff Mode</font><font color="#FF0000">}</font>) named <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-diff*}</font>.  The
<a name="line795"><font color="#000000">0795:</font></a> usual Diff mode commands are available in this buffer.  In particular,
<a name="line796"><font color="#000000">0796:</font></a> the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{revert-buffer}</font>) command performs the file
<a name="line797"><font color="#000000">0797:</font></a> comparison again, generating a new diff.
<a name="line798"><font color="#000000">0798:</font></a> 
<a name="line799"><font color="#000000">0799:</font></a> <b><font color="#0000FF">@kindex</font></b> C-u C-x v =
<a name="line800"><font color="#000000">0800:</font></a>   To compare two arbitrary revisions of the current VC fileset, call
<a name="line801"><font color="#000000">0801:</font></a> <i><font color="#9A1900">@code{vc-diff} with a prefix argument: @kbd{C-u C-x v =}.  This</font></i>
<a name="line802"><font color="#000000">0802:</font></a> prompts for two revision IDs (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VCS Concepts</font><font color="#FF0000">}</font>), and displays a
<a name="line803"><font color="#000000">0803:</font></a> diff between those versions of the fileset.  This will not work
<a name="line804"><font color="#000000">0804:</font></a> reliably for multi-file VC filesets, if the version control system is
<a name="line805"><font color="#000000">0805:</font></a> file-based rather than changeset-based (e.g., CVS), since then
<a name="line806"><font color="#000000">0806:</font></a> revision IDs for different files would not be related in any
<a name="line807"><font color="#000000">0807:</font></a> meaningful way.
<a name="line808"><font color="#000000">0808:</font></a> 
<a name="line809"><font color="#000000">0809:</font></a>   Instead of the revision ID, some version control systems let you
<a name="line810"><font color="#000000">0810:</font></a> specify revisions in other formats.  For instance, under Bazaar you
<a name="line811"><font color="#000000">0811:</font></a> can enter <b><font color="#0000FF">@samp</font></b><font color="#009900">{date:yesterday}</font> for the argument to <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x v =}</font>
<a name="line812"><font color="#000000">0812:</font></a> (and related commands) to specify the first revision committed after
<a name="line813"><font color="#000000">0813:</font></a> yesterday.  See the documentation of the version control system for
<a name="line814"><font color="#000000">0814:</font></a> details.
<a name="line815"><font color="#000000">0815:</font></a> 
<a name="line816"><font color="#000000">0816:</font></a>   If you invoke <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v =}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x v =}</font> from a Dired buffer
<a name="line817"><font color="#000000">0817:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Dired</font><font color="#FF0000">}</font>), the file listed on the current line is treated as the
<a name="line818"><font color="#000000">0818:</font></a> current VC fileset.
<a name="line819"><font color="#000000">0819:</font></a> 
<a name="line820"><font color="#000000">0820:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line821"><font color="#000000">0821:</font></a> <b><font color="#0000FF">@findex</font></b> vc-ediff
<a name="line822"><font color="#000000">0822:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x vc-ediff}</font> works like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v =}</font>, except that it uses an
<a name="line823"><font color="#000000">0823:</font></a> Ediff session.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,, Ediff, ediff, The Ediff Manual</font><font color="#FF0000">}</font>.
<a name="line824"><font color="#000000">0824:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line825"><font color="#000000">0825:</font></a> 
<a name="line826"><font color="#000000">0826:</font></a> <b><font color="#0000FF">@findex</font></b> vc-root-diff
<a name="line827"><font color="#000000">0827:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v D
<a name="line828"><font color="#000000">0828:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v D}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-root-diff}</font>) is similar to <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v =}</font>, but
<a name="line829"><font color="#000000">0829:</font></a> it displays the changes in the entire current working tree (i.e., the
<a name="line830"><font color="#000000">0830:</font></a> working tree containing the current VC fileset).  If you invoke this
<a name="line831"><font color="#000000">0831:</font></a> command from a Dired buffer, it applies to the working tree containing
<a name="line832"><font color="#000000">0832:</font></a> the directory.
<a name="line833"><font color="#000000">0833:</font></a> 
<a name="line834"><font color="#000000">0834:</font></a> <b><font color="#0000FF">@findex</font></b> vc-root-version-diff
<a name="line835"><font color="#000000">0835:</font></a> <b><font color="#0000FF">@kindex</font></b> C-u C-x v D
<a name="line836"><font color="#000000">0836:</font></a>   To compare two arbitrary revisions of the whole trees, call
<a name="line837"><font color="#000000">0837:</font></a> <i><font color="#9A1900">@code{vc-root-diff} with a prefix argument: @kbd{C-u C-x v D}.  This</font></i>
<a name="line838"><font color="#000000">0838:</font></a> prompts for two revision IDs (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VCS Concepts</font><font color="#FF0000">}</font>), and displays a
<a name="line839"><font color="#000000">0839:</font></a> diff between those versions of the entire version-controlled directory
<a name="line840"><font color="#000000">0840:</font></a> trees (RCS, SCCS, CVS, and SRC do not support this feature).
<a name="line841"><font color="#000000">0841:</font></a> 
<a name="line842"><font color="#000000">0842:</font></a> <b><font color="#0000FF">@vindex</font></b> vc-diff-switches
<a name="line843"><font color="#000000">0843:</font></a>   You can customize the <b><font color="#0000FF">@command</font></b><font color="#009900">{diff}</font> options that <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v =}</font> and
<a name="line844"><font color="#000000">0844:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v D}</font> use for generating diffs.  The options used are taken
<a name="line845"><font color="#000000">0845:</font></a> from the first non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value amongst the variables
<a name="line846"><font color="#000000">0846:</font></a> <i><font color="#9A1900">@code{vc-@var{backend}-diff-switches}, @code{vc-diff-switches}, and</font></i>
<a name="line847"><font color="#000000">0847:</font></a> <i><font color="#9A1900">@code{diff-switches} (@pxref{Comparing Files}), in that order.  Here,</font></i>
<a name="line848"><font color="#000000">0848:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{backend}</font> stands for the relevant version control system,
<a name="line849"><font color="#000000">0849:</font></a> e.g., <b><font color="#0000FF">@code</font></b><font color="#009900">{bzr}</font> for Bazaar.  Since <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> means to check the
<a name="line850"><font color="#000000">0850:</font></a> next variable in the sequence, either of the first two may use the
<a name="line851"><font color="#000000">0851:</font></a> value <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> to mean no switches at all.  Most of the
<a name="line852"><font color="#000000">0852:</font></a> <i><font color="#9A1900">@code{vc-@var{backend}-diff-switches} variables default to @code{nil},</font></i>
<a name="line853"><font color="#000000">0853:</font></a> but some default to <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>; these are for version control systems
<a name="line854"><font color="#000000">0854:</font></a> whose <b><font color="#0000FF">@code</font></b><font color="#009900">{diff}</font> implementations do not accept common diff options,
<a name="line855"><font color="#000000">0855:</font></a> such as Subversion.
<a name="line856"><font color="#000000">0856:</font></a> 
<a name="line857"><font color="#000000">0857:</font></a> <b><font color="#0000FF">@findex</font></b> vc-revision-other-window
<a name="line858"><font color="#000000">0858:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v ~
<a name="line859"><font color="#000000">0859:</font></a>   To directly examine an older version of a file, visit the work file
<a name="line860"><font color="#000000">0860:</font></a> and type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v ~ @var{revision} @key{RET}}</font>
<a name="line861"><font color="#000000">0861:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-revision-other-window}</font>).  This retrieves the file version
<a name="line862"><font color="#000000">0862:</font></a> corresponding to <b><font color="#0000FF">@var</font></b><font color="#009900">{revision}</font>, saves it to
<a name="line863"><font color="#000000">0863:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{@var{filename}.~@var{revision}~}</font>, and visits it in a separate
<a name="line864"><font color="#000000">0864:</font></a> window.
<a name="line865"><font color="#000000">0865:</font></a> 
<a name="line866"><font color="#000000">0866:</font></a> <b><font color="#0000FF">@findex</font></b> vc-annotate
<a name="line867"><font color="#000000">0867:</font></a> <b><font color="#0000FF">@vindex</font></b> vc-annotate-background-mode
<a name="line868"><font color="#000000">0868:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v g
<a name="line869"><font color="#000000">0869:</font></a>   Many version control systems allow you to view files <b><font color="#0000FF">@dfn</font></b><font color="#009900">{annotated}</font>
<a name="line870"><font color="#000000">0870:</font></a> with per-line revision information, by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v g}</font>
<a name="line871"><font color="#000000">0871:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-annotate}</font>).  This creates a new ``annotate'' buffer
<a name="line872"><font color="#000000">0872:</font></a> displaying the file's text, with each line colored to show how old it
<a name="line873"><font color="#000000">0873:</font></a> is.  Red text is new, blue is old, and intermediate colors indicate
<a name="line874"><font color="#000000">0874:</font></a> intermediate ages.  By default, the color is scaled over the full
<a name="line875"><font color="#000000">0875:</font></a> range of ages, such that the oldest changes are blue, and the newest
<a name="line876"><font color="#000000">0876:</font></a> changes are red.  If the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-annotate-background-mode}</font>
<a name="line877"><font color="#000000">0877:</font></a> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, the colors expressing the age of each line are
<a name="line878"><font color="#000000">0878:</font></a> applied to the background color, leaving the foreground at its default
<a name="line879"><font color="#000000">0879:</font></a> color.
<a name="line880"><font color="#000000">0880:</font></a> 
<a name="line881"><font color="#000000">0881:</font></a>   When you give a prefix argument to this command, Emacs reads two
<a name="line882"><font color="#000000">0882:</font></a> arguments using the minibuffer: the revision to display and annotate
<a name="line883"><font color="#000000">0883:</font></a> (instead of the current file contents), and the time span in days the
<a name="line884"><font color="#000000">0884:</font></a> color range should cover.
<a name="line885"><font color="#000000">0885:</font></a> 
<a name="line886"><font color="#000000">0886:</font></a>   From the ``annotate'' buffer, these and other color scaling options are
<a name="line887"><font color="#000000">0887:</font></a> available from the <b><font color="#0000FF">@samp</font></b><font color="#009900">{VC-Annotate}</font> menu.  In this buffer, you can
<a name="line888"><font color="#000000">0888:</font></a> also use the following keys to browse the annotations of past revisions,
<a name="line889"><font color="#000000">0889:</font></a> view diffs, or view log entries:
<a name="line890"><font color="#000000">0890:</font></a> 
<a name="line891"><font color="#000000">0891:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line892"><font color="#000000">0892:</font></a> <b><font color="#0000FF">@item</font></b> p
<a name="line893"><font color="#000000">0893:</font></a> Annotate the previous revision, i.e., the revision before the one
<a name="line894"><font color="#000000">0894:</font></a> currently annotated.  A numeric prefix argument is a repeat count, so
<a name="line895"><font color="#000000">0895:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u 10 p}</font> would take you back 10 revisions.
<a name="line896"><font color="#000000">0896:</font></a> 
<a name="line897"><font color="#000000">0897:</font></a> <b><font color="#0000FF">@item</font></b> n
<a name="line898"><font color="#000000">0898:</font></a> Annotate the next revision, i.e., the revision after the one
<a name="line899"><font color="#000000">0899:</font></a> currently annotated.  A numeric prefix argument is a repeat count.
<a name="line900"><font color="#000000">0900:</font></a> 
<a name="line901"><font color="#000000">0901:</font></a> <b><font color="#0000FF">@item</font></b> j
<a name="line902"><font color="#000000">0902:</font></a> Annotate the revision indicated by the current line.
<a name="line903"><font color="#000000">0903:</font></a> 
<a name="line904"><font color="#000000">0904:</font></a> <b><font color="#0000FF">@item</font></b> a
<a name="line905"><font color="#000000">0905:</font></a> Annotate the revision before the one indicated by the current line.
<a name="line906"><font color="#000000">0906:</font></a> This is useful to see the state the file was in before the change on
<a name="line907"><font color="#000000">0907:</font></a> the current line was made.
<a name="line908"><font color="#000000">0908:</font></a> 
<a name="line909"><font color="#000000">0909:</font></a> <b><font color="#0000FF">@item</font></b> f
<a name="line910"><font color="#000000">0910:</font></a> Show in a buffer the file revision indicated by the current line.
<a name="line911"><font color="#000000">0911:</font></a> 
<a name="line912"><font color="#000000">0912:</font></a> <b><font color="#0000FF">@item</font></b> d
<a name="line913"><font color="#000000">0913:</font></a> Display the diff between the current line's revision and the previous
<a name="line914"><font color="#000000">0914:</font></a> revision.  This is useful to see what the current line's revision
<a name="line915"><font color="#000000">0915:</font></a> actually changed in the file.
<a name="line916"><font color="#000000">0916:</font></a> 
<a name="line917"><font color="#000000">0917:</font></a> <b><font color="#0000FF">@item</font></b> D
<a name="line918"><font color="#000000">0918:</font></a> Display the diff between the current line's revision and the previous
<a name="line919"><font color="#000000">0919:</font></a> revision for all files in the changeset (for VC systems that support
<a name="line920"><font color="#000000">0920:</font></a> changesets).  This is useful to see what the current line's revision
<a name="line921"><font color="#000000">0921:</font></a> actually changed in the tree.
<a name="line922"><font color="#000000">0922:</font></a> 
<a name="line923"><font color="#000000">0923:</font></a> <b><font color="#0000FF">@item</font></b> l
<a name="line924"><font color="#000000">0924:</font></a> Show the log of the current line's revision.  This is useful to see
<a name="line925"><font color="#000000">0925:</font></a> the author's description of the changes in the revision on the current
<a name="line926"><font color="#000000">0926:</font></a> line.
<a name="line927"><font color="#000000">0927:</font></a> 
<a name="line928"><font color="#000000">0928:</font></a> <b><font color="#0000FF">@item</font></b> w
<a name="line929"><font color="#000000">0929:</font></a> Annotate the working revision--the one you are editing.  If you used
<a name="line930"><font color="#000000">0930:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{p}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{n}</font> to browse to other revisions, use this key to
<a name="line931"><font color="#000000">0931:</font></a> return to your working revision.
<a name="line932"><font color="#000000">0932:</font></a> 
<a name="line933"><font color="#000000">0933:</font></a> <b><font color="#0000FF">@item</font></b> v
<a name="line934"><font color="#000000">0934:</font></a> Toggle the annotation visibility.  This is useful for looking just at
<a name="line935"><font color="#000000">0935:</font></a> the file contents without distraction from the annotations.
<a name="line936"><font color="#000000">0936:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line937"><font color="#000000">0937:</font></a> 
<a name="line938"><font color="#000000">0938:</font></a> <b><font color="#0000FF">@node</font></b> VC Change Log
<a name="line939"><font color="#000000">0939:</font></a> <b><font color="#0000FF">@subsection</font></b> VC Change Log
<a name="line940"><font color="#000000">0940:</font></a> 
<a name="line941"><font color="#000000">0941:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line942"><font color="#000000">0942:</font></a> <b><font color="#0000FF">@item</font></b> C-x v l
<a name="line943"><font color="#000000">0943:</font></a> Display the change history for the current fileset
<a name="line944"><font color="#000000">0944:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-print-log}</font>).
<a name="line945"><font color="#000000">0945:</font></a> 
<a name="line946"><font color="#000000">0946:</font></a> <b><font color="#0000FF">@item</font></b> C-x v L
<a name="line947"><font color="#000000">0947:</font></a> Display the change history for the current repository
<a name="line948"><font color="#000000">0948:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-print-root-log}</font>).
<a name="line949"><font color="#000000">0949:</font></a> 
<a name="line950"><font color="#000000">0950:</font></a> <b><font color="#0000FF">@item</font></b> C-x v I
<a name="line951"><font color="#000000">0951:</font></a> Display the changes that a ``pull'' operation will retrieve
<a name="line952"><font color="#000000">0952:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-incoming}</font>).
<a name="line953"><font color="#000000">0953:</font></a> 
<a name="line954"><font color="#000000">0954:</font></a> <b><font color="#0000FF">@item</font></b> C-x v O
<a name="line955"><font color="#000000">0955:</font></a> Display the changes that will be sent by the next ``push'' operation
<a name="line956"><font color="#000000">0956:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-outgoing}</font>).
<a name="line957"><font color="#000000">0957:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line958"><font color="#000000">0958:</font></a> 
<a name="line959"><font color="#000000">0959:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v l
<a name="line960"><font color="#000000">0960:</font></a> <b><font color="#0000FF">@findex</font></b> vc-print-log
<a name="line961"><font color="#000000">0961:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v l}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-print-log}</font>) displays a buffer named
<a name="line962"><font color="#000000">0962:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-change-log*}</font>, showing the history of changes made to the
<a name="line963"><font color="#000000">0963:</font></a> current file, including who made the changes, the dates, and the log
<a name="line964"><font color="#000000">0964:</font></a> entry for each change (these are the same log entries you would enter
<a name="line965"><font color="#000000">0965:</font></a> via the <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-log*}</font> buffer; <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Log Buffer</font><font color="#FF0000">}</font>).  Point is
<a name="line966"><font color="#000000">0966:</font></a> centered at the revision of the file currently being visited.  With a
<a name="line967"><font color="#000000">0967:</font></a> prefix argument, the command prompts for the revision to center on,
<a name="line968"><font color="#000000">0968:</font></a> and the maximum number of revisions to display.
<a name="line969"><font color="#000000">0969:</font></a> 
<a name="line970"><font color="#000000">0970:</font></a>   If you call <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v l}</font> from a VC Directory buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC</font>
<a name="line971"><font color="#000000">0971:</font></a> <font color="#FF0000">Directory Mode</font><font color="#FF0000">}</font>) or a Dired buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Dired</font><font color="#FF0000">}</font>), it applies to the
<a name="line972"><font color="#000000">0972:</font></a> file listed on the current line.
<a name="line973"><font color="#000000">0973:</font></a> 
<a name="line974"><font color="#000000">0974:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v L
<a name="line975"><font color="#000000">0975:</font></a> <b><font color="#0000FF">@findex</font></b> vc-print-root-log
<a name="line976"><font color="#000000">0976:</font></a> <b><font color="#0000FF">@findex</font></b> log-view-toggle-entry-display
<a name="line977"><font color="#000000">0977:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v L}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-print-root-log}</font>) displays a
<a name="line978"><font color="#000000">0978:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-change-log*}</font> buffer showing the history of the entire
<a name="line979"><font color="#000000">0979:</font></a> version-controlled directory tree (RCS, SCCS, CVS, and SRC do not
<a name="line980"><font color="#000000">0980:</font></a> support this feature).  With a prefix argument, the command prompts
<a name="line981"><font color="#000000">0981:</font></a> for the maximum number of revisions to display.
<a name="line982"><font color="#000000">0982:</font></a> 
<a name="line983"><font color="#000000">0983:</font></a>   The <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v L}</font> history is shown in a compact form, usually
<a name="line984"><font color="#000000">0984:</font></a> showing only the first line of each log entry.  However, you can type
<a name="line985"><font color="#000000">0985:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{log-view-toggle-entry-display}</font>) in the
<a name="line986"><font color="#000000">0986:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-change-log*}</font> buffer to reveal the entire log entry for the
<a name="line987"><font color="#000000">0987:</font></a> revision at point.  A second <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> hides it again.
<a name="line988"><font color="#000000">0988:</font></a> 
<a name="line989"><font color="#000000">0989:</font></a>   On a decentralized version control system, the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v I}</font>
<a name="line990"><font color="#000000">0990:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-incoming}</font>) command displays a log buffer showing the
<a name="line991"><font color="#000000">0991:</font></a> changes that will be applied, the next time you run the version
<a name="line992"><font color="#000000">0992:</font></a> control system's pull command to get new revisions from another
<a name="line993"><font color="#000000">0993:</font></a> repository (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Pulling / Pushing</font><font color="#FF0000">}</font>).  This other repository is the default
<a name="line994"><font color="#000000">0994:</font></a> one from which changes are pulled, as defined by the version control
<a name="line995"><font color="#000000">0995:</font></a> system; with a prefix argument, <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-incoming}</font> prompts for a
<a name="line996"><font color="#000000">0996:</font></a> specific repository.  Similarly, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v O}</font>
<a name="line997"><font color="#000000">0997:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-outgoing}</font>) shows the changes that will be sent to
<a name="line998"><font color="#000000">0998:</font></a> another repository, the next time you run the push command; with a
<a name="line999"><font color="#000000">0999:</font></a> prefix argument, it prompts for a specific destination repository.
<a name="line1000"><font color="#000000">1000:</font></a> 
<a name="line1001"><font color="#000000">1001:</font></a>   In the <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-change-log*}</font> buffer, you can use the following keys
<a name="line1002"><font color="#000000">1002:</font></a> to move between the logs of revisions and of files, and to examine and
<a name="line1003"><font color="#000000">1003:</font></a> compare past revisions (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Old Revisions</font><font color="#FF0000">}</font>):
<a name="line1004"><font color="#000000">1004:</font></a> 
<a name="line1005"><font color="#000000">1005:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1006"><font color="#000000">1006:</font></a> <b><font color="#0000FF">@item</font></b> p
<a name="line1007"><font color="#000000">1007:</font></a> Move to the previous revision entry.  (Revision entries in the log
<a name="line1008"><font color="#000000">1008:</font></a> buffer are usually in reverse-chronological order, so the previous
<a name="line1009"><font color="#000000">1009:</font></a> revision-item usually corresponds to a newer revision.)  A numeric
<a name="line1010"><font color="#000000">1010:</font></a> prefix argument is a repeat count.
<a name="line1011"><font color="#000000">1011:</font></a> 
<a name="line1012"><font color="#000000">1012:</font></a> <b><font color="#0000FF">@item</font></b> n
<a name="line1013"><font color="#000000">1013:</font></a> Move to the next revision entry.  A numeric prefix argument is a
<a name="line1014"><font color="#000000">1014:</font></a> repeat count.
<a name="line1015"><font color="#000000">1015:</font></a> 
<a name="line1016"><font color="#000000">1016:</font></a> <b><font color="#0000FF">@item</font></b> P
<a name="line1017"><font color="#000000">1017:</font></a> Move to the log of the previous file, if showing logs for a multi-file
<a name="line1018"><font color="#000000">1018:</font></a> VC fileset.  Otherwise, just move to the beginning of the log.  A
<a name="line1019"><font color="#000000">1019:</font></a> numeric prefix argument is a repeat count.
<a name="line1020"><font color="#000000">1020:</font></a> 
<a name="line1021"><font color="#000000">1021:</font></a> <b><font color="#0000FF">@item</font></b> N
<a name="line1022"><font color="#000000">1022:</font></a> Move to the log of the next file, if showing logs for a multi-file VC
<a name="line1023"><font color="#000000">1023:</font></a> fileset.  A numeric prefix argument is a repeat count.
<a name="line1024"><font color="#000000">1024:</font></a> 
<a name="line1025"><font color="#000000">1025:</font></a> <b><font color="#0000FF">@item</font></b> a
<a name="line1026"><font color="#000000">1026:</font></a> Annotate the revision on the current line (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Old Revisions</font><font color="#FF0000">}</font>).
<a name="line1027"><font color="#000000">1027:</font></a> 
<a name="line1028"><font color="#000000">1028:</font></a> <b><font color="#0000FF">@item</font></b> e
<a name="line1029"><font color="#000000">1029:</font></a> Modify the change comment displayed at point.  Note that not all VC
<a name="line1030"><font color="#000000">1030:</font></a> systems support modifying change comments.
<a name="line1031"><font color="#000000">1031:</font></a> 
<a name="line1032"><font color="#000000">1032:</font></a> <b><font color="#0000FF">@item</font></b> f
<a name="line1033"><font color="#000000">1033:</font></a> Visit the revision indicated at the current line.
<a name="line1034"><font color="#000000">1034:</font></a> 
<a name="line1035"><font color="#000000">1035:</font></a> <b><font color="#0000FF">@item</font></b> d
<a name="line1036"><font color="#000000">1036:</font></a> Display a diff between the revision at point and the next earlier
<a name="line1037"><font color="#000000">1037:</font></a> revision, for the specific file.
<a name="line1038"><font color="#000000">1038:</font></a> 
<a name="line1039"><font color="#000000">1039:</font></a> <b><font color="#0000FF">@item</font></b> D
<a name="line1040"><font color="#000000">1040:</font></a> Display the changeset diff between the revision at point and the next
<a name="line1041"><font color="#000000">1041:</font></a> earlier revision.  This shows the changes to all files made in that
<a name="line1042"><font color="#000000">1042:</font></a> revision.
<a name="line1043"><font color="#000000">1043:</font></a> 
<a name="line1044"><font color="#000000">1044:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1045"><font color="#000000">1045:</font></a> In a compact-style log buffer (e.g., the one created by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v</font>
<a name="line1046"><font color="#000000">1046:</font></a> <font color="#009900">L}</font>), toggle between showing and hiding the full log entry for the
<a name="line1047"><font color="#000000">1047:</font></a> revision at point.
<a name="line1048"><font color="#000000">1048:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1049"><font color="#000000">1049:</font></a> 
<a name="line1050"><font color="#000000">1050:</font></a> <b><font color="#0000FF">@vindex</font></b> vc-log-show-limit
<a name="line1051"><font color="#000000">1051:</font></a> Because fetching many log entries can be slow, the
<a name="line1052"><font color="#000000">1052:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-change-log*}</font> buffer displays no more than 2000 revisions by
<a name="line1053"><font color="#000000">1053:</font></a> default.  The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-show-limit}</font> specifies this limit;
<a name="line1054"><font color="#000000">1054:</font></a> if you set the value to zero, that removes the limit.  You can also
<a name="line1055"><font color="#000000">1055:</font></a> increase the number of revisions shown in an existing
<a name="line1056"><font color="#000000">1056:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-change-log*}</font> buffer by clicking on the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Show 2X</font>
<a name="line1057"><font color="#000000">1057:</font></a> <font color="#009900">entries}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{Show unlimited entries}</font> buttons at the end of the
<a name="line1058"><font color="#000000">1058:</font></a> buffer.  However, RCS, SCCS, CVS, and SRC do not support this feature.
<a name="line1059"><font color="#000000">1059:</font></a> 
<a name="line1060"><font color="#000000">1060:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v h
<a name="line1061"><font color="#000000">1061:</font></a> <b><font color="#0000FF">@findex</font></b> vc-region-history
<a name="line1062"><font color="#000000">1062:</font></a> A useful variant of examining changes is provided by the command
<a name="line1063"><font color="#000000">1063:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{vc-region-history}</font> (by default bound to <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v h}</font>), which shows
<a name="line1064"><font color="#000000">1064:</font></a> a <b><font color="#0000FF">@file</font></b><font color="#009900">{*VC-history*}</font> buffer with the history of changes to the region
<a name="line1065"><font color="#000000">1065:</font></a> of the current file between point and the mark (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mark</font><font color="#FF0000">}</font>).  The
<a name="line1066"><font color="#000000">1066:</font></a> history of changes includes the commit log messages and also the
<a name="line1067"><font color="#000000">1067:</font></a> changes themselves in the Diff format.
<a name="line1068"><font color="#000000">1068:</font></a> 
<a name="line1069"><font color="#000000">1069:</font></a> Invoke this command after marking the region of the current file in
<a name="line1070"><font color="#000000">1070:</font></a> whose changes you are interested.  In the <b><font color="#0000FF">@file</font></b><font color="#009900">{*VC-history*}</font> buffer
<a name="line1071"><font color="#000000">1071:</font></a> it pops up, you can use all of the commands available in the
<a name="line1072"><font color="#000000">1072:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-change-log*}</font> buffer described above, and also the commands
<a name="line1073"><font color="#000000">1073:</font></a> defined by Diff mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Diff Mode</font><font color="#FF0000">}</font>).
<a name="line1074"><font color="#000000">1074:</font></a> 
<a name="line1075"><font color="#000000">1075:</font></a> This command is currently available only with Git.
<a name="line1076"><font color="#000000">1076:</font></a> 
<a name="line1077"><font color="#000000">1077:</font></a> <b><font color="#0000FF">@node</font></b> VC Undo
<a name="line1078"><font color="#000000">1078:</font></a> <b><font color="#0000FF">@subsection</font></b> Undoing Version Control Actions
<a name="line1079"><font color="#000000">1079:</font></a> 
<a name="line1080"><font color="#000000">1080:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1081"><font color="#000000">1081:</font></a> <b><font color="#0000FF">@item</font></b> C-x v u
<a name="line1082"><font color="#000000">1082:</font></a> Revert the work file(s) in the current VC fileset to the last revision
<a name="line1083"><font color="#000000">1083:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-revert}</font>).
<a name="line1084"><font color="#000000">1084:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1085"><font color="#000000">1085:</font></a> 
<a name="line1086"><font color="#000000">1086:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v u
<a name="line1087"><font color="#000000">1087:</font></a> <b><font color="#0000FF">@findex</font></b> vc-revert
<a name="line1088"><font color="#000000">1088:</font></a> <b><font color="#0000FF">@vindex</font></b> vc-revert-show-diff
<a name="line1089"><font color="#000000">1089:</font></a>   If you want to discard all the changes you have made to the current
<a name="line1090"><font color="#000000">1090:</font></a> VC fileset, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v u}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-revert}</font>).  This shows
<a name="line1091"><font color="#000000">1091:</font></a> you a diff between the work file(s) and the revision from which you
<a name="line1092"><font color="#000000">1092:</font></a> started editing, and asks for confirmation for discarding the changes.
<a name="line1093"><font color="#000000">1093:</font></a> If you agree, the fileset is reverted.  If you don't want <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v</font>
<a name="line1094"><font color="#000000">1094:</font></a> <font color="#009900">u}</font> to show a diff, set the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-revert-show-diff}</font> to
<a name="line1095"><font color="#000000">1095:</font></a> <i><font color="#9A1900">@code{nil} (you can still view the diff directly with @kbd{C-x v =};</font></i>
<a name="line1096"><font color="#000000">1096:</font></a> <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Old Revisions</font><font color="#FF0000">}</font>).  Note that <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v u}</font> cannot be reversed
<a name="line1097"><font color="#000000">1097:</font></a> with the usual undo commands (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Undo</font><font color="#FF0000">}</font>), so use it with care.
<a name="line1098"><font color="#000000">1098:</font></a> 
<a name="line1099"><font color="#000000">1099:</font></a>   On locking-based version control systems, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v u}</font> leaves files
<a name="line1100"><font color="#000000">1100:</font></a> unlocked; you must lock again to resume editing.  You can also use
<a name="line1101"><font color="#000000">1101:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v u}</font> to unlock a file if you lock it and then decide not to
<a name="line1102"><font color="#000000">1102:</font></a> change it.
<a name="line1103"><font color="#000000">1103:</font></a> 
<a name="line1104"><font color="#000000">1104:</font></a> <b><font color="#0000FF">@node</font></b> VC Ignore
<a name="line1105"><font color="#000000">1105:</font></a> <b><font color="#0000FF">@subsection</font></b> Ignore Version Control Files
<a name="line1106"><font color="#000000">1106:</font></a> 
<a name="line1107"><font color="#000000">1107:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1108"><font color="#000000">1108:</font></a> <b><font color="#0000FF">@item</font></b> C-x v G
<a name="line1109"><font color="#000000">1109:</font></a> Ignore a file under current version control system.  (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-ignore}</font>).
<a name="line1110"><font color="#000000">1110:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1111"><font color="#000000">1111:</font></a> 
<a name="line1112"><font color="#000000">1112:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v G
<a name="line1113"><font color="#000000">1113:</font></a> <b><font color="#0000FF">@findex</font></b> vc-ignore
<a name="line1114"><font color="#000000">1114:</font></a>   Many source trees contain some files that do not need to be
<a name="line1115"><font color="#000000">1115:</font></a> versioned, such as editor backups, object or bytecode files, and built
<a name="line1116"><font color="#000000">1116:</font></a> programs.  You can simply not add them, but then they'll always crop
<a name="line1117"><font color="#000000">1117:</font></a> up as unknown files.  You can also tell the version control system to
<a name="line1118"><font color="#000000">1118:</font></a> ignore these files by adding them to the ignore file at the top of the
<a name="line1119"><font color="#000000">1119:</font></a> tree.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v G}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-ignore}</font>) can help you do this.  When
<a name="line1120"><font color="#000000">1120:</font></a> called with a prefix argument, you can remove a file from the ignored
<a name="line1121"><font color="#000000">1121:</font></a> file list.
<a name="line1122"><font color="#000000">1122:</font></a> 
<a name="line1123"><font color="#000000">1123:</font></a> <b><font color="#0000FF">@node</font></b> VC Directory Mode
<a name="line1124"><font color="#000000">1124:</font></a> <b><font color="#0000FF">@subsection</font></b> VC Directory Mode
<a name="line1125"><font color="#000000">1125:</font></a> 
<a name="line1126"><font color="#000000">1126:</font></a> <i><font color="#9A1900">@cindex VC Directory buffer</font></i>
<a name="line1127"><font color="#000000">1127:</font></a>   The <b><font color="#0000FF">@dfn</font></b><font color="#009900">{VC Directory buffer}</font> is a specialized buffer for viewing
<a name="line1128"><font color="#000000">1128:</font></a> the version control statuses of the files in a directory tree, and
<a name="line1129"><font color="#000000">1129:</font></a> performing version control operations on those files.  In particular,
<a name="line1130"><font color="#000000">1130:</font></a> it is used to specify multi-file VC filesets for commands like
<a name="line1131"><font color="#000000">1131:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-x v v}}</font> to act on (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Directory Commands</font><font color="#FF0000">}</font>).
<a name="line1132"><font color="#000000">1132:</font></a> 
<a name="line1133"><font color="#000000">1133:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v d
<a name="line1134"><font color="#000000">1134:</font></a> <b><font color="#0000FF">@findex</font></b> vc-dir
<a name="line1135"><font color="#000000">1135:</font></a>   To use the VC Directory buffer, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v d}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir}</font>).
<a name="line1136"><font color="#000000">1136:</font></a> This reads a directory's name using the minibuffer, and switches to a VC
<a name="line1137"><font color="#000000">1137:</font></a> Directory buffer for that directory.  By default, the buffer is named
<a name="line1138"><font color="#000000">1138:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*vc-dir*}</font>.  Its contents are described
<a name="line1139"><font color="#000000">1139:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line1140"><font color="#000000">1140:</font></a> below.
<a name="line1141"><font color="#000000">1141:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line1142"><font color="#000000">1142:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line1143"><font color="#000000">1143:</font></a> in <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Directory Buffer</font><font color="#FF0000">}</font>.
<a name="line1144"><font color="#000000">1144:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line1145"><font color="#000000">1145:</font></a> 
<a name="line1146"><font color="#000000">1146:</font></a>   The <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir}</font> command automatically detects the version control
<a name="line1147"><font color="#000000">1147:</font></a> system to be used in the specified directory.  In the event that more
<a name="line1148"><font color="#000000">1148:</font></a> than one system is being used in the directory, you should invoke the
<a name="line1149"><font color="#000000">1149:</font></a> command with a prefix argument, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x v d}</font>; this prompts for
<a name="line1150"><font color="#000000">1150:</font></a> the version control system which the VC Directory buffer should use.
<a name="line1151"><font color="#000000">1151:</font></a> 
<a name="line1152"><font color="#000000">1152:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line1153"><font color="#000000">1153:</font></a> <i><font color="#9A1900">@cindex PCL-CVS</font></i>
<a name="line1154"><font color="#000000">1154:</font></a> <b><font color="#0000FF">@pindex</font></b> cvs
<a name="line1155"><font color="#000000">1155:</font></a> <i><font color="#9A1900">@cindex CVS directory mode</font></i>
<a name="line1156"><font color="#000000">1156:</font></a>   In addition to the VC Directory buffer, Emacs has a similar facility
<a name="line1157"><font color="#000000">1157:</font></a> called PCL-CVS which is specialized for CVS<b><font color="#0000FF">@.</font></b>  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, , About</font>
<a name="line1158"><font color="#000000">1158:</font></a> <font color="#FF0000">PCL-CVS, pcl-cvs, PCL-CVS---The Emacs Front-End to CVS</font><font color="#FF0000">}</font>.
<a name="line1159"><font color="#000000">1159:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line1160"><font color="#000000">1160:</font></a> 
<a name="line1161"><font color="#000000">1161:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1162"><font color="#000000">1162:</font></a> * Buffer: VC Directory Buffer.      What the buffer looks like and means.
<a name="line1163"><font color="#000000">1163:</font></a> * Commands: VC Directory Commands.  Commands to use in a VC directory buffer.
<a name="line1164"><font color="#000000">1164:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1165"><font color="#000000">1165:</font></a> 
<a name="line1166"><font color="#000000">1166:</font></a> <b><font color="#0000FF">@node</font></b> VC Directory Buffer
<a name="line1167"><font color="#000000">1167:</font></a> <b><font color="#0000FF">@subsubsection</font></b> The VC Directory Buffer
<a name="line1168"><font color="#000000">1168:</font></a> 
<a name="line1169"><font color="#000000">1169:</font></a>   The VC Directory buffer contains a list of version-controlled files
<a name="line1170"><font color="#000000">1170:</font></a> and their version control statuses.  It lists files in the current
<a name="line1171"><font color="#000000">1171:</font></a> directory (the one specified when you called <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v d}</font>) and its
<a name="line1172"><font color="#000000">1172:</font></a> subdirectories, but only those with a noteworthy status.  Files
<a name="line1173"><font color="#000000">1173:</font></a> that are up-to-date (i.e., the same as in the repository) are
<a name="line1174"><font color="#000000">1174:</font></a> omitted.  If all the files in a subdirectory are up-to-date, the
<a name="line1175"><font color="#000000">1175:</font></a> subdirectory is not listed either.  As an exception, if a file has
<a name="line1176"><font color="#000000">1176:</font></a> become up-to-date as a direct result of a VC command, it is listed.
<a name="line1177"><font color="#000000">1177:</font></a> 
<a name="line1178"><font color="#000000">1178:</font></a>   Here is an example of a VC Directory buffer listing:
<a name="line1179"><font color="#000000">1179:</font></a> 
<a name="line1180"><font color="#000000">1180:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line1181"><font color="#000000">1181:</font></a> <b><font color="#0000FF">@group</font></b>
<a name="line1182"><font color="#000000">1182:</font></a>                      ./
<a name="line1183"><font color="#000000">1183:</font></a>     edited           configure.ac
<a name="line1184"><font color="#000000">1184:</font></a> *   added            README
<a name="line1185"><font color="#000000">1185:</font></a>     unregistered     temp.txt
<a name="line1186"><font color="#000000">1186:</font></a>                      src/
<a name="line1187"><font color="#000000">1187:</font></a> *   edited           src/main.c
<a name="line1188"><font color="#000000">1188:</font></a> <b><font color="#0000FF">@end group</font></b>
<a name="line1189"><font color="#000000">1189:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line1190"><font color="#000000">1190:</font></a> 
<a name="line1191"><font color="#000000">1191:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1192"><font color="#000000">1192:</font></a> Two work files have been modified but not committed:
<a name="line1193"><font color="#000000">1193:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{configure.ac}</font> in the current directory, and <b><font color="#0000FF">@file</font></b><font color="#009900">{main.c}</font> in the
<a name="line1194"><font color="#000000">1194:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{src/}</font> subdirectory.  The file named <b><font color="#0000FF">@file</font></b><font color="#009900">{README}</font> has been added
<a name="line1195"><font color="#000000">1195:</font></a> but is not yet committed, while <b><font color="#0000FF">@file</font></b><font color="#009900">{temp.txt}</font> is not under version
<a name="line1196"><font color="#000000">1196:</font></a> control (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Registering</font><font color="#FF0000">}</font>).
<a name="line1197"><font color="#000000">1197:</font></a> 
<a name="line1198"><font color="#000000">1198:</font></a> The <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> characters next to the entries for <b><font color="#0000FF">@file</font></b><font color="#009900">{README}</font> and
<a name="line1199"><font color="#000000">1199:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{src/main.c}</font> indicate that the user has marked these files as
<a name="line1200"><font color="#000000">1200:</font></a> the current VC fileset
<a name="line1201"><font color="#000000">1201:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line1202"><font color="#000000">1202:</font></a> (see below).
<a name="line1203"><font color="#000000">1203:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line1204"><font color="#000000">1204:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line1205"><font color="#000000">1205:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Directory Commands</font><font color="#FF0000">}</font>).
<a name="line1206"><font color="#000000">1206:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line1207"><font color="#000000">1207:</font></a> 
<a name="line1208"><font color="#000000">1208:</font></a>   The above example is typical for a decentralized version control
<a name="line1209"><font color="#000000">1209:</font></a> system like Bazaar, Git, or Mercurial.  Other systems can show other
<a name="line1210"><font color="#000000">1210:</font></a> statuses.  For instance, CVS shows the <b><font color="#0000FF">@samp</font></b><font color="#009900">{needs-update}</font> status if
<a name="line1211"><font color="#000000">1211:</font></a> the repository has changes that have not been applied to the work
<a name="line1212"><font color="#000000">1212:</font></a> file.  RCS and SCCS show the name of the user locking a file as its
<a name="line1213"><font color="#000000">1213:</font></a> status.
<a name="line1214"><font color="#000000">1214:</font></a> 
<a name="line1215"><font color="#000000">1215:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line1216"><font color="#000000">1216:</font></a>   On CVS, the <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir}</font> command normally contacts the repository,
<a name="line1217"><font color="#000000">1217:</font></a> which may be on a remote machine, to check for updates.  If you change
<a name="line1218"><font color="#000000">1218:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{vc-cvs-stay-local}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">CVS</font>
<a name="line1219"><font color="#000000">1219:</font></a> <font color="#FF0000">Options</font><font color="#FF0000">}</font>), then Emacs avoids contacting a remote repository when
<a name="line1220"><font color="#000000">1220:</font></a> generating the VC Directory buffer (it will still contact it when
<a name="line1221"><font color="#000000">1221:</font></a> necessary, e.g., when doing a commit).  This may be desirable if you
<a name="line1222"><font color="#000000">1222:</font></a> are working offline or the network is slow.
<a name="line1223"><font color="#000000">1223:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line1224"><font color="#000000">1224:</font></a> 
<a name="line1225"><font color="#000000">1225:</font></a> <b><font color="#0000FF">@vindex</font></b> vc-directory-exclusion-list
<a name="line1226"><font color="#000000">1226:</font></a>   The VC Directory buffer omits subdirectories listed in the variable
<a name="line1227"><font color="#000000">1227:</font></a> <i><font color="#9A1900">@code{vc-directory-exclusion-list}.  Its default value contains</font></i>
<a name="line1228"><font color="#000000">1228:</font></a> directories that are used internally by version control systems.
<a name="line1229"><font color="#000000">1229:</font></a> 
<a name="line1230"><font color="#000000">1230:</font></a> <b><font color="#0000FF">@node</font></b> VC Directory Commands
<a name="line1231"><font color="#000000">1231:</font></a> <b><font color="#0000FF">@subsubsection</font></b> VC Directory Commands
<a name="line1232"><font color="#000000">1232:</font></a> 
<a name="line1233"><font color="#000000">1233:</font></a>   Emacs provides several commands for navigating the VC Directory
<a name="line1234"><font color="#000000">1234:</font></a> buffer, and for marking files as belonging to the current VC
<a name="line1235"><font color="#000000">1235:</font></a> fileset.
<a name="line1236"><font color="#000000">1236:</font></a> 
<a name="line1237"><font color="#000000">1237:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1238"><font color="#000000">1238:</font></a> <b><font color="#0000FF">@item</font></b> n
<a name="line1239"><font color="#000000">1239:</font></a> <b><font color="#0000FF">@itemx</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>
<a name="line1240"><font color="#000000">1240:</font></a> Move point to the next entry (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-next-line}</font>).
<a name="line1241"><font color="#000000">1241:</font></a> 
<a name="line1242"><font color="#000000">1242:</font></a> <b><font color="#0000FF">@item</font></b> p
<a name="line1243"><font color="#000000">1243:</font></a> Move point to the previous entry (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-previous-line}</font>).
<a name="line1244"><font color="#000000">1244:</font></a> 
<a name="line1245"><font color="#000000">1245:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line1246"><font color="#000000">1246:</font></a> Move to the next directory entry (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-next-directory}</font>).
<a name="line1247"><font color="#000000">1247:</font></a> 
<a name="line1248"><font color="#000000">1248:</font></a> <b><font color="#0000FF">@item</font></b> S-<b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line1249"><font color="#000000">1249:</font></a> Move to the previous directory entry
<a name="line1250"><font color="#000000">1250:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-previous-directory}</font>).
<a name="line1251"><font color="#000000">1251:</font></a> 
<a name="line1252"><font color="#000000">1252:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1253"><font color="#000000">1253:</font></a> <b><font color="#0000FF">@itemx</font></b> f
<a name="line1254"><font color="#000000">1254:</font></a> Visit the file or directory listed on the current line
<a name="line1255"><font color="#000000">1255:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-find-file}</font>).
<a name="line1256"><font color="#000000">1256:</font></a> 
<a name="line1257"><font color="#000000">1257:</font></a> <b><font color="#0000FF">@item</font></b> o
<a name="line1258"><font color="#000000">1258:</font></a> Visit the file or directory on the current line, in a separate window
<a name="line1259"><font color="#000000">1259:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-find-file-other-window}</font>).
<a name="line1260"><font color="#000000">1260:</font></a> 
<a name="line1261"><font color="#000000">1261:</font></a> <b><font color="#0000FF">@item</font></b> m
<a name="line1262"><font color="#000000">1262:</font></a> Mark the file or directory on the current line (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-mark}</font>),
<a name="line1263"><font color="#000000">1263:</font></a> putting it in the current VC fileset.  If the region is active, mark
<a name="line1264"><font color="#000000">1264:</font></a> all files in the region.
<a name="line1265"><font color="#000000">1265:</font></a> 
<a name="line1266"><font color="#000000">1266:</font></a> A file cannot be marked with this command if it is already in a marked
<a name="line1267"><font color="#000000">1267:</font></a> directory, or one of its subdirectories.  Similarly, a directory
<a name="line1268"><font color="#000000">1268:</font></a> cannot be marked with this command if any file in its tree is marked.
<a name="line1269"><font color="#000000">1269:</font></a> 
<a name="line1270"><font color="#000000">1270:</font></a> <b><font color="#0000FF">@item</font></b> M
<a name="line1271"><font color="#000000">1271:</font></a> If point is on a file entry, mark all files with the same status; if
<a name="line1272"><font color="#000000">1272:</font></a> point is on a directory entry, mark all files in that directory tree
<a name="line1273"><font color="#000000">1273:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-mark-all-files}</font>).  With a prefix argument, mark all
<a name="line1274"><font color="#000000">1274:</font></a> listed files and directories.
<a name="line1275"><font color="#000000">1275:</font></a> 
<a name="line1276"><font color="#000000">1276:</font></a> <b><font color="#0000FF">@item</font></b> q
<a name="line1277"><font color="#000000">1277:</font></a> Quit the VC Directory buffer, and bury it (<b><font color="#0000FF">@code</font></b><font color="#009900">{quit-window}</font>).
<a name="line1278"><font color="#000000">1278:</font></a> 
<a name="line1279"><font color="#000000">1279:</font></a> <b><font color="#0000FF">@item</font></b> u
<a name="line1280"><font color="#000000">1280:</font></a> Unmark the file or directory on the current line.  If the region is
<a name="line1281"><font color="#000000">1281:</font></a> active, unmark all the files in the region (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-unmark}</font>).
<a name="line1282"><font color="#000000">1282:</font></a> 
<a name="line1283"><font color="#000000">1283:</font></a> <b><font color="#0000FF">@item</font></b> U
<a name="line1284"><font color="#000000">1284:</font></a> If point is on a file entry, unmark all files with the same status; if
<a name="line1285"><font color="#000000">1285:</font></a> point is on a directory entry, unmark all files in that directory tree
<a name="line1286"><font color="#000000">1286:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-unmark-all-files}</font>).  With a prefix argument, unmark all
<a name="line1287"><font color="#000000">1287:</font></a> files and directories.
<a name="line1288"><font color="#000000">1288:</font></a> 
<a name="line1289"><font color="#000000">1289:</font></a> <b><font color="#0000FF">@item</font></b> x
<a name="line1290"><font color="#000000">1290:</font></a> Hide files with <b><font color="#0000FF">@samp</font></b><font color="#009900">{up-to-date}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{ignored}</font> status
<a name="line1291"><font color="#000000">1291:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-hide-up-to-date}</font>).  With a prefix argument, hide items
<a name="line1292"><font color="#000000">1292:</font></a> whose state is that of the item at point.
<a name="line1293"><font color="#000000">1293:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1294"><font color="#000000">1294:</font></a> 
<a name="line1295"><font color="#000000">1295:</font></a> <b><font color="#0000FF">@findex</font></b> vc-dir-mark
<a name="line1296"><font color="#000000">1296:</font></a> <b><font color="#0000FF">@findex</font></b> vc-dir-mark-all-files
<a name="line1297"><font color="#000000">1297:</font></a>   While in the VC Directory buffer, all the files that you mark with
<a name="line1298"><font color="#000000">1298:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{m}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-mark}</font>) or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-mark-all-files}</font>)
<a name="line1299"><font color="#000000">1299:</font></a> are in the current VC fileset.  If you mark a directory entry with
<a name="line1300"><font color="#000000">1300:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{m}</font>, all the listed files in that directory tree are in the
<a name="line1301"><font color="#000000">1301:</font></a> current VC fileset.  The files and directories that belong to the
<a name="line1302"><font color="#000000">1302:</font></a> current VC fileset are indicated with a <b><font color="#0000FF">@samp</font></b><font color="#009900">{*}</font> character in the VC
<a name="line1303"><font color="#000000">1303:</font></a> Directory buffer, next to their VC status.  In this way, you can set
<a name="line1304"><font color="#000000">1304:</font></a> up a multi-file VC fileset to be acted on by VC commands like
<a name="line1305"><font color="#000000">1305:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-x v v}}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Basic VC Editing</font><font color="#FF0000">}</font>), <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-x v =}}</font>
<a name="line1306"><font color="#000000">1306:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Old Revisions</font><font color="#FF0000">}</font>), and <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-x v u}}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Undo</font><font color="#FF0000">}</font>).
<a name="line1307"><font color="#000000">1307:</font></a> 
<a name="line1308"><font color="#000000">1308:</font></a>   The VC Directory buffer also defines some single-key shortcuts for
<a name="line1309"><font color="#000000">1309:</font></a> VC commands with the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v}</font> prefix: <b><font color="#0000FF">@kbd</font></b><font color="#009900">{=}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{+}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{l}</font>,
<a name="line1310"><font color="#000000">1310:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{i}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{D}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{L}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{G}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{I}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{O}</font>, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{v}</font>.
<a name="line1311"><font color="#000000">1311:</font></a> 
<a name="line1312"><font color="#000000">1312:</font></a>   For example, you can commit a set of edited files by opening a VC
<a name="line1313"><font color="#000000">1313:</font></a> Directory buffer, where the files are listed with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{edited}</font>
<a name="line1314"><font color="#000000">1314:</font></a> status; marking the files; and typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{v}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font>
<a name="line1315"><font color="#000000">1315:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-next-action}</font>).  If the version control system is
<a name="line1316"><font color="#000000">1316:</font></a> changeset-based, Emacs will commit the files in a single revision.
<a name="line1317"><font color="#000000">1317:</font></a> 
<a name="line1318"><font color="#000000">1318:</font></a>   While in the VC Directory buffer, you can also perform search and
<a name="line1319"><font color="#000000">1319:</font></a> replace on the current VC fileset, with the following commands:
<a name="line1320"><font color="#000000">1320:</font></a> 
<a name="line1321"><font color="#000000">1321:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1322"><font color="#000000">1322:</font></a> <b><font color="#0000FF">@item</font></b> S
<a name="line1323"><font color="#000000">1323:</font></a> Search the fileset (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-search}</font>).
<a name="line1324"><font color="#000000">1324:</font></a> 
<a name="line1325"><font color="#000000">1325:</font></a> <b><font color="#0000FF">@item</font></b> Q
<a name="line1326"><font color="#000000">1326:</font></a> Do a regular expression query replace on the fileset
<a name="line1327"><font color="#000000">1327:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-query-replace-regexp}</font>).
<a name="line1328"><font color="#000000">1328:</font></a> 
<a name="line1329"><font color="#000000">1329:</font></a> <b><font color="#0000FF">@item</font></b> M-s a C-s
<a name="line1330"><font color="#000000">1330:</font></a> Do an incremental search on the fileset (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-isearch}</font>).
<a name="line1331"><font color="#000000">1331:</font></a> 
<a name="line1332"><font color="#000000">1332:</font></a> <b><font color="#0000FF">@item</font></b> M-s a C-M-s
<a name="line1333"><font color="#000000">1333:</font></a> Do an incremental regular expression search on the fileset
<a name="line1334"><font color="#000000">1334:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-dir-isearch-regexp}</font>).
<a name="line1335"><font color="#000000">1335:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1336"><font color="#000000">1336:</font></a> 
<a name="line1337"><font color="#000000">1337:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1338"><font color="#000000">1338:</font></a> Apart from acting on multiple files, these commands behave much like
<a name="line1339"><font color="#000000">1339:</font></a> their single-buffer counterparts (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Search</font><font color="#FF0000">}</font>).
<a name="line1340"><font color="#000000">1340:</font></a> 
<a name="line1341"><font color="#000000">1341:</font></a>   The VC Directory buffer additionally defines some branch-related
<a name="line1342"><font color="#000000">1342:</font></a> commands starting with the prefix <b><font color="#0000FF">@kbd</font></b><font color="#009900">{B}</font>:
<a name="line1343"><font color="#000000">1343:</font></a> 
<a name="line1344"><font color="#000000">1344:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1345"><font color="#000000">1345:</font></a> <b><font color="#0000FF">@item</font></b> B c
<a name="line1346"><font color="#000000">1346:</font></a> Create a new branch (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-create-tag}</font>).
<a name="line1347"><font color="#000000">1347:</font></a> 
<a name="line1348"><font color="#000000">1348:</font></a> <b><font color="#0000FF">@item</font></b> B l
<a name="line1349"><font color="#000000">1349:</font></a> Prompt for the name of a branch and display the change history of that
<a name="line1350"><font color="#000000">1350:</font></a> branch (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-print-branch-log}</font>).
<a name="line1351"><font color="#000000">1351:</font></a> 
<a name="line1352"><font color="#000000">1352:</font></a> <b><font color="#0000FF">@item</font></b> B s
<a name="line1353"><font color="#000000">1353:</font></a> Switch to a branch (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-retrieve-tag}</font>).  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Switching Branches</font><font color="#FF0000">}</font>.
<a name="line1354"><font color="#000000">1354:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1355"><font color="#000000">1355:</font></a> 
<a name="line1356"><font color="#000000">1356:</font></a> <i><font color="#9A1900">@cindex stashes in version control</font></i>
<a name="line1357"><font color="#000000">1357:</font></a> <i><font color="#9A1900">@cindex shelves in version control</font></i>
<a name="line1358"><font color="#000000">1358:</font></a>   The above commands are also available via the menu bar, and via a
<a name="line1359"><font color="#000000">1359:</font></a> context menu invoked by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font>.  Furthermore, some VC backends
<a name="line1360"><font color="#000000">1360:</font></a> use the menu to provide extra backend-specific commands.  For example,
<a name="line1361"><font color="#000000">1361:</font></a> Git and Bazaar allow you to manipulate <b><font color="#0000FF">@dfn</font></b><font color="#009900">{stashes}</font> and <b><font color="#0000FF">@dfn</font></b><font color="#009900">{shelves}</font>
<a name="line1362"><font color="#000000">1362:</font></a> (which are a way to temporarily put aside uncommitted changes, and
<a name="line1363"><font color="#000000">1363:</font></a> bring them back at a later time).
<a name="line1364"><font color="#000000">1364:</font></a> 
<a name="line1365"><font color="#000000">1365:</font></a> <b><font color="#0000FF">@node</font></b> Branches
<a name="line1366"><font color="#000000">1366:</font></a> <b><font color="#0000FF">@subsection</font></b> Version Control Branches
<a name="line1367"><font color="#000000">1367:</font></a> <i><font color="#9A1900">@cindex branch (version control)</font></i>
<a name="line1368"><font color="#000000">1368:</font></a> 
<a name="line1369"><font color="#000000">1369:</font></a>   One use of version control is to support multiple independent lines
<a name="line1370"><font color="#000000">1370:</font></a> of development, which are called <b><font color="#0000FF">@dfn</font></b><font color="#009900">{branches}</font>.  Amongst other
<a name="line1371"><font color="#000000">1371:</font></a> things, branches can be used for maintaining separate stable and
<a name="line1372"><font color="#000000">1372:</font></a> development versions of a program, and for developing unrelated
<a name="line1373"><font color="#000000">1373:</font></a> features in isolation from one another.
<a name="line1374"><font color="#000000">1374:</font></a> 
<a name="line1375"><font color="#000000">1375:</font></a>   VC's support for branch operations is currently fairly limited.  For
<a name="line1376"><font color="#000000">1376:</font></a> decentralized version control systems, it provides commands for
<a name="line1377"><font color="#000000">1377:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{updating}</font> one branch with the contents of another, and for
<a name="line1378"><font color="#000000">1378:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{merging}</font> the changes made to two different branches
<a name="line1379"><font color="#000000">1379:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Merging</font><font color="#FF0000">}</font>).  For centralized version control systems, it
<a name="line1380"><font color="#000000">1380:</font></a> supports checking out different branches and committing into new or
<a name="line1381"><font color="#000000">1381:</font></a> different branches.
<a name="line1382"><font color="#000000">1382:</font></a> 
<a name="line1383"><font color="#000000">1383:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1384"><font color="#000000">1384:</font></a> <font color="#FF0000">* Switching Branches::</font>    How to get to another existing branch.
<a name="line1385"><font color="#000000">1385:</font></a> <font color="#FF0000">* Pulling / Pushing::</font>     Receiving/sending changes from/to elsewhere.
<a name="line1386"><font color="#000000">1386:</font></a> <font color="#FF0000">* Merging::</font>               Transferring changes between branches.
<a name="line1387"><font color="#000000">1387:</font></a> <font color="#FF0000">* Creating Branches::</font>     How to start a new branch.
<a name="line1388"><font color="#000000">1388:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1389"><font color="#000000">1389:</font></a> 
<a name="line1390"><font color="#000000">1390:</font></a> <b><font color="#0000FF">@node</font></b> Switching Branches
<a name="line1391"><font color="#000000">1391:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Switching between Branches
<a name="line1392"><font color="#000000">1392:</font></a> 
<a name="line1393"><font color="#000000">1393:</font></a>   The various version control systems differ in how branches are
<a name="line1394"><font color="#000000">1394:</font></a> implemented, and these differences cannot be entirely concealed by VC.
<a name="line1395"><font color="#000000">1395:</font></a> 
<a name="line1396"><font color="#000000">1396:</font></a>   On some decentralized version control systems, including Bazaar and
<a name="line1397"><font color="#000000">1397:</font></a> Mercurial in its normal mode of operation, each branch has its own
<a name="line1398"><font color="#000000">1398:</font></a> working directory tree, so switching between branches just involves
<a name="line1399"><font color="#000000">1399:</font></a> switching directories.  On Git, branches are normally <b><font color="#0000FF">@dfn</font></b><font color="#009900">{co-located}</font>
<a name="line1400"><font color="#000000">1400:</font></a> in the same directory, and switching between branches is done using
<a name="line1401"><font color="#000000">1401:</font></a> the <b><font color="#0000FF">@command</font></b><font color="#009900">{git checkout}</font> command, which changes the contents of the
<a name="line1402"><font color="#000000">1402:</font></a> working tree to match the branch you switch to.  Bazaar also supports
<a name="line1403"><font color="#000000">1403:</font></a> co-located branches, in which case the <b><font color="#0000FF">@command</font></b><font color="#009900">{bzr switch}</font> command
<a name="line1404"><font color="#000000">1404:</font></a> will switch branches in the current directory.  With Subversion, you
<a name="line1405"><font color="#000000">1405:</font></a> switch to another branch using the <b><font color="#0000FF">@command</font></b><font color="#009900">{svn switch}</font> command.
<a name="line1406"><font color="#000000">1406:</font></a> 
<a name="line1407"><font color="#000000">1407:</font></a>   The VC command to switch to another branch in the current directory
<a name="line1408"><font color="#000000">1408:</font></a> is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v r @var{branch-name} @key{RET}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-retrieve-tag}</font>).
<a name="line1409"><font color="#000000">1409:</font></a> 
<a name="line1410"><font color="#000000">1410:</font></a>   On centralized version control systems, you can also switch between
<a name="line1411"><font color="#000000">1411:</font></a> branches by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x v v}</font> in an up-to-date work file
<a name="line1412"><font color="#000000">1412:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Advanced C-x v v</font><font color="#FF0000">}</font>), and entering the revision ID for a
<a name="line1413"><font color="#000000">1413:</font></a> revision on another branch.  On CVS, for instance, revisions on the
<a name="line1414"><font color="#000000">1414:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{trunk}</font> (the main line of development) normally have IDs of the
<a name="line1415"><font color="#000000">1415:</font></a> form 1.1, 1.2, 1.3, <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>, while the first branch created from (say)
<a name="line1416"><font color="#000000">1416:</font></a> revision 1.2 has revision IDs 1.2.1.1, 1.2.1.2, <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>, the second
<a name="line1417"><font color="#000000">1417:</font></a> branch created from revision 1.2 has revision IDs 1.2.2.1, 1.2.2.2,
<a name="line1418"><font color="#000000">1418:</font></a> <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>, and so forth.  You can also specify the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{branch ID}</font>,
<a name="line1419"><font color="#000000">1419:</font></a> which is a branch revision ID omitting its final component
<a name="line1420"><font color="#000000">1420:</font></a> (e.g., 1.2.1), to switch to the latest revision on that branch.
<a name="line1421"><font color="#000000">1421:</font></a> 
<a name="line1422"><font color="#000000">1422:</font></a>   On a locking-based system, switching to a different branch also
<a name="line1423"><font color="#000000">1423:</font></a> unlocks (write-protects) the working tree.
<a name="line1424"><font color="#000000">1424:</font></a> 
<a name="line1425"><font color="#000000">1425:</font></a>   Once you have switched to a branch, VC commands will apply to that
<a name="line1426"><font color="#000000">1426:</font></a> branch until you switch away; for instance, any VC filesets that you
<a name="line1427"><font color="#000000">1427:</font></a> commit will be committed to that specific branch.
<a name="line1428"><font color="#000000">1428:</font></a> 
<a name="line1429"><font color="#000000">1429:</font></a> <b><font color="#0000FF">@node</font></b> Pulling / Pushing
<a name="line1430"><font color="#000000">1430:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Pulling/Pushing Changes into/from a Branch
<a name="line1431"><font color="#000000">1431:</font></a> 
<a name="line1432"><font color="#000000">1432:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1433"><font color="#000000">1433:</font></a> <b><font color="#0000FF">@item</font></b> C-x v P
<a name="line1434"><font color="#000000">1434:</font></a> On a decentralized version control system, update another location
<a name="line1435"><font color="#000000">1435:</font></a> with changes from the current branch (a.k.a. ``push'' changes).  This
<a name="line1436"><font color="#000000">1436:</font></a> concept does not exist for centralized version control systems
<a name="line1437"><font color="#000000">1437:</font></a> 
<a name="line1438"><font color="#000000">1438:</font></a> <b><font color="#0000FF">@item</font></b> C-x v +
<a name="line1439"><font color="#000000">1439:</font></a> On a decentralized version control system, update the current branch
<a name="line1440"><font color="#000000">1440:</font></a> by ``pulling in'' changes from another location.
<a name="line1441"><font color="#000000">1441:</font></a> 
<a name="line1442"><font color="#000000">1442:</font></a> On a centralized version control system, update the current VC
<a name="line1443"><font color="#000000">1443:</font></a> fileset.
<a name="line1444"><font color="#000000">1444:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1445"><font color="#000000">1445:</font></a> 
<a name="line1446"><font color="#000000">1446:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v P
<a name="line1447"><font color="#000000">1447:</font></a> <b><font color="#0000FF">@findex</font></b> vc-push
<a name="line1448"><font color="#000000">1448:</font></a> On a decentralized version control system, the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v P}</font>
<a name="line1449"><font color="#000000">1449:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-push}</font>) updates another location with changes from the
<a name="line1450"><font color="#000000">1450:</font></a> current branch.  With a prefix argument, it prompts for the exact
<a name="line1451"><font color="#000000">1451:</font></a> version control command to run, which lets you specify where to push
<a name="line1452"><font color="#000000">1452:</font></a> changes; the default is <b><font color="#0000FF">@command</font></b><font color="#009900">{bzr push}</font> with Bazaar, <b><font color="#0000FF">@command</font></b><font color="#009900">{git</font>
<a name="line1453"><font color="#000000">1453:</font></a> <font color="#009900">push}</font> with Git, and <b><font color="#0000FF">@command</font></b><font color="#009900">{hg push}</font> with Mercurial.  The default
<a name="line1454"><font color="#000000">1454:</font></a> commands always push to a default location determined by the version
<a name="line1455"><font color="#000000">1455:</font></a> control system from your branch configuration.
<a name="line1456"><font color="#000000">1456:</font></a> 
<a name="line1457"><font color="#000000">1457:</font></a> Prior to pushing, you can use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v O}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-outgoing}</font>)
<a name="line1458"><font color="#000000">1458:</font></a> to view a log buffer of the changes to be sent.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Change Log</font><font color="#FF0000">}</font>.
<a name="line1459"><font color="#000000">1459:</font></a> 
<a name="line1460"><font color="#000000">1460:</font></a> <i><font color="#9A1900">@cindex bound branch (Bazaar VCS)</font></i>
<a name="line1461"><font color="#000000">1461:</font></a> This command is currently supported only by Bazaar, Git, and Mercurial.
<a name="line1462"><font color="#000000">1462:</font></a> The concept of ``pushing'' does not exist for centralized version
<a name="line1463"><font color="#000000">1463:</font></a> control systems, where this operation is a part of committing a
<a name="line1464"><font color="#000000">1464:</font></a> changeset, so invoking this command on a centralized VCS signals an
<a name="line1465"><font color="#000000">1465:</font></a> error.  This command also signals an error when attempted in a Bazaar
<a name="line1466"><font color="#000000">1466:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{bound branch}</font>, where committing a changeset automatically pushes
<a name="line1467"><font color="#000000">1467:</font></a> the changes to the remote repository to which the local branch is
<a name="line1468"><font color="#000000">1468:</font></a> bound.
<a name="line1469"><font color="#000000">1469:</font></a> 
<a name="line1470"><font color="#000000">1470:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x v +
<a name="line1471"><font color="#000000">1471:</font></a> <b><font color="#0000FF">@findex</font></b> vc-pull
<a name="line1472"><font color="#000000">1472:</font></a>   On a decentralized version control system, the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v +}</font>
<a name="line1473"><font color="#000000">1473:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-pull}</font>) updates the current branch and working tree.  It is
<a name="line1474"><font color="#000000">1474:</font></a> typically used to update a copy of a remote branch.  If you supply a
<a name="line1475"><font color="#000000">1475:</font></a> prefix argument, the command prompts for the exact version control
<a name="line1476"><font color="#000000">1476:</font></a> command to use, which lets you specify where to pull changes from.
<a name="line1477"><font color="#000000">1477:</font></a> Otherwise, it pulls from a default location determined by the version
<a name="line1478"><font color="#000000">1478:</font></a> control system.
<a name="line1479"><font color="#000000">1479:</font></a> 
<a name="line1480"><font color="#000000">1480:</font></a>   Amongst decentralized version control systems, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v +}</font> is
<a name="line1481"><font color="#000000">1481:</font></a> currently supported only by Bazaar, Git, and Mercurial.  With Bazaar,
<a name="line1482"><font color="#000000">1482:</font></a> it calls <b><font color="#0000FF">@command</font></b><font color="#009900">{bzr pull}</font> for ordinary branches (to pull from a
<a name="line1483"><font color="#000000">1483:</font></a> master branch into a mirroring branch), and <b><font color="#0000FF">@command</font></b><font color="#009900">{bzr update}</font> for a
<a name="line1484"><font color="#000000">1484:</font></a> bound branch (to pull from a central repository).  With Git, it calls
<a name="line1485"><font color="#000000">1485:</font></a> <i><font color="#9A1900">@command{git pull} to fetch changes from a remote repository and merge</font></i>
<a name="line1486"><font color="#000000">1486:</font></a> it into the current branch.  With Mercurial, it calls <b><font color="#0000FF">@command</font></b><font color="#009900">{hg pull</font>
<a name="line1487"><font color="#000000">1487:</font></a> <font color="#009900">-u}</font> to fetch changesets from the default remote repository and update
<a name="line1488"><font color="#000000">1488:</font></a> the working directory.
<a name="line1489"><font color="#000000">1489:</font></a> 
<a name="line1490"><font color="#000000">1490:</font></a>   Prior to pulling, you can use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v I}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-log-incoming}</font>)
<a name="line1491"><font color="#000000">1491:</font></a> to view a log buffer of the changes to be applied.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">VC Change</font>
<a name="line1492"><font color="#000000">1492:</font></a> <font color="#FF0000">Log</font><font color="#FF0000">}</font>.
<a name="line1493"><font color="#000000">1493:</font></a> 
<a name="line1494"><font color="#000000">1494:</font></a>   On a centralized version control system like CVS, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v +}</font>
<a name="line1495"><font color="#000000">1495:</font></a> updates the current VC fileset from the repository.
<a name="line1496"><font color="#000000">1496:</font></a> 
<a name="line1497"><font color="#000000">1497:</font></a> <b><font color="#0000FF">@node</font></b> Merging
<a name="line1498"><font color="#000000">1498:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Merging Branches
<a name="line1499"><font color="#000000">1499:</font></a> <i><font color="#9A1900">@cindex merging changes</font></i>
<a name="line1500"><font color="#000000">1500:</font></a> 
<a name="line1501"><font color="#000000">1501:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1502"><font color="#000000">1502:</font></a> <b><font color="#0000FF">@item</font></b> C-x v m
<a name="line1503"><font color="#000000">1503:</font></a> On a decentralized version control system, merge changes from another
<a name="line1504"><font color="#000000">1504:</font></a> branch into the current one.
<a name="line1505"><font color="#000000">1505:</font></a> 
<a name="line1506"><font color="#000000">1506:</font></a> On a centralized version control system, merge changes from another
<a name="line1507"><font color="#000000">1507:</font></a> branch into the current VC fileset.
<a name="line1508"><font color="#000000">1508:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1509"><font color="#000000">1509:</font></a> 
<a name="line1510"><font color="#000000">1510:</font></a>   While developing a branch, you may sometimes need to <b><font color="#0000FF">@dfn</font></b><font color="#009900">{merge}</font> in
<a name="line1511"><font color="#000000">1511:</font></a> changes that have already been made in another branch.  This is not a
<a name="line1512"><font color="#000000">1512:</font></a> trivial operation, as overlapping changes may have been made to the
<a name="line1513"><font color="#000000">1513:</font></a> two branches.
<a name="line1514"><font color="#000000">1514:</font></a> 
<a name="line1515"><font color="#000000">1515:</font></a>   On a decentralized version control system, merging is done with the
<a name="line1516"><font color="#000000">1516:</font></a> command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v m}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-merge}</font>).  On Bazaar, this prompts for
<a name="line1517"><font color="#000000">1517:</font></a> the exact arguments to pass to <b><font color="#0000FF">@command</font></b><font color="#009900">{bzr merge}</font>, offering a
<a name="line1518"><font color="#000000">1518:</font></a> sensible default if possible.  On Git, this prompts for the name of a
<a name="line1519"><font color="#000000">1519:</font></a> branch to merge from, with completion (based on the branch names known
<a name="line1520"><font color="#000000">1520:</font></a> to the current repository).  The output from running the merge command
<a name="line1521"><font color="#000000">1521:</font></a> is shown in a separate buffer.
<a name="line1522"><font color="#000000">1522:</font></a> 
<a name="line1523"><font color="#000000">1523:</font></a>   On a centralized version control system like CVS, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v m}</font>
<a name="line1524"><font color="#000000">1524:</font></a> prompts for a branch ID, or a pair of revision IDs (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Switching</font>
<a name="line1525"><font color="#000000">1525:</font></a> <font color="#FF0000">Branches</font><font color="#FF0000">}</font>); then it finds the changes from that branch, or the changes
<a name="line1526"><font color="#000000">1526:</font></a> between the two revisions you specified, and merges those changes into
<a name="line1527"><font color="#000000">1527:</font></a> the current VC fileset.  If you just type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RET}}</font>, Emacs simply
<a name="line1528"><font color="#000000">1528:</font></a> merges any changes that were made on the same branch since you checked
<a name="line1529"><font color="#000000">1529:</font></a> the file out.
<a name="line1530"><font color="#000000">1530:</font></a> 
<a name="line1531"><font color="#000000">1531:</font></a> <i><font color="#9A1900">@cindex conflicts</font></i>
<a name="line1532"><font color="#000000">1532:</font></a> <i><font color="#9A1900">@cindex resolving conflicts</font></i>
<a name="line1533"><font color="#000000">1533:</font></a>   Immediately after performing a merge, only the working tree is
<a name="line1534"><font color="#000000">1534:</font></a> modified, and you can review the changes produced by the merge with
<a name="line1535"><font color="#000000">1535:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v D}</font> and related commands (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Old Revisions</font><font color="#FF0000">}</font>).  If the
<a name="line1536"><font color="#000000">1536:</font></a> two branches contained overlapping changes, merging produces a
<a name="line1537"><font color="#000000">1537:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{conflict}</font>; a warning appears in the output of the merge command,
<a name="line1538"><font color="#000000">1538:</font></a> and <b><font color="#0000FF">@dfn</font></b><font color="#009900">{conflict markers}</font> are inserted into each affected work file,
<a name="line1539"><font color="#000000">1539:</font></a> surrounding the two sets of conflicting changes.  You must then
<a name="line1540"><font color="#000000">1540:</font></a> resolve the conflict by editing the conflicted files.  Once you are
<a name="line1541"><font color="#000000">1541:</font></a> done, the modified files must be committed in the usual way for the
<a name="line1542"><font color="#000000">1542:</font></a> merge to take effect (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Basic VC Editing</font><font color="#FF0000">}</font>).
<a name="line1543"><font color="#000000">1543:</font></a> 
<a name="line1544"><font color="#000000">1544:</font></a> <b><font color="#0000FF">@node</font></b> Creating Branches
<a name="line1545"><font color="#000000">1545:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Creating New Branches
<a name="line1546"><font color="#000000">1546:</font></a> 
<a name="line1547"><font color="#000000">1547:</font></a>   On centralized version control systems like CVS, Emacs supports
<a name="line1548"><font color="#000000">1548:</font></a> creating new branches as part of a commit operation.  When committing
<a name="line1549"><font color="#000000">1549:</font></a> a modified VC fileset, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x v v}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{vc-next-action}</font>
<a name="line1550"><font color="#000000">1550:</font></a> with a prefix argument; <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Advanced C-x v v</font><font color="#FF0000">}</font>).  Then Emacs prompts
<a name="line1551"><font color="#000000">1551:</font></a> for a revision ID for the new revision.  You should specify a suitable
<a name="line1552"><font color="#000000">1552:</font></a> branch ID for a branch starting at the current revision.  For example,
<a name="line1553"><font color="#000000">1553:</font></a> if the current revision is 2.5, the branch ID should be 2.5.1, 2.5.2,
<a name="line1554"><font color="#000000">1554:</font></a> and so on, depending on the number of existing branches at that point.
<a name="line1555"><font color="#000000">1555:</font></a> 
<a name="line1556"><font color="#000000">1556:</font></a>   To create a new branch at an older revision (one that is no longer
<a name="line1557"><font color="#000000">1557:</font></a> the head of a branch), first select that revision (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Switching</font>
<a name="line1558"><font color="#000000">1558:</font></a> <font color="#FF0000">Branches</font><font color="#FF0000">}</font>).  Your procedure will then differ depending on whether you
<a name="line1559"><font color="#000000">1559:</font></a> are using a locking or merging-based VCS.
<a name="line1560"><font color="#000000">1560:</font></a> 
<a name="line1561"><font color="#000000">1561:</font></a>   On a locking VCS, you will need to lock the old revision branch with
<a name="line1562"><font color="#000000">1562:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font>.  You'll be asked to confirm, when you lock the old
<a name="line1563"><font color="#000000">1563:</font></a> revision, that you really mean to create a new branch---if you say no,
<a name="line1564"><font color="#000000">1564:</font></a> you'll be offered a chance to lock the latest revision instead.  On a
<a name="line1565"><font color="#000000">1565:</font></a> merging-based VCS you will skip this step.
<a name="line1566"><font color="#000000">1566:</font></a> 
<a name="line1567"><font color="#000000">1567:</font></a>   Then make your changes and type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x v v}</font> again to commit a new
<a name="line1568"><font color="#000000">1568:</font></a> revision.  This creates a new branch starting from the selected
<a name="line1569"><font color="#000000">1569:</font></a> revision.
<a name="line1570"><font color="#000000">1570:</font></a> 
<a name="line1571"><font color="#000000">1571:</font></a>   After the branch is created, subsequent commits create new revisions
<a name="line1572"><font color="#000000">1572:</font></a> on that branch.  To leave the branch, you must explicitly select a
<a name="line1573"><font color="#000000">1573:</font></a> different revision with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-u C-x v v}</font>.
<a name="line1574"><font color="#000000">1574:</font></a> 
<a name="line1575"><font color="#000000">1575:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line1576"><font color="#000000">1576:</font></a> <b><font color="#000080">@include</font></b> vc1-xtra.texi
<a name="line1577"><font color="#000000">1577:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line1578"><font color="#000000">1578:</font></a> 
<a name="line1579"><font color="#000000">1579:</font></a> <b><font color="#0000FF">@node</font></b> Change Log
<a name="line1580"><font color="#000000">1580:</font></a> <b><font color="#0000FF">@section</font></b> Change Logs
<a name="line1581"><font color="#000000">1581:</font></a> 
<a name="line1582"><font color="#000000">1582:</font></a> <i><font color="#9A1900">@cindex change log</font></i>
<a name="line1583"><font color="#000000">1583:</font></a>   Many software projects keep a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{change log}</font>.  This is a file,
<a name="line1584"><font color="#000000">1584:</font></a> normally named <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font>, containing a chronological record of
<a name="line1585"><font color="#000000">1585:</font></a> when and how the program was changed.  Sometimes, these files are
<a name="line1586"><font color="#000000">1586:</font></a> automatically generated from the change log entries stored in version
<a name="line1587"><font color="#000000">1587:</font></a> control systems, or are used to generate these change log entries.
<a name="line1588"><font color="#000000">1588:</font></a> Sometimes, there are several change log files, each recording the
<a name="line1589"><font color="#000000">1589:</font></a> changes in one directory or directory tree.
<a name="line1590"><font color="#000000">1590:</font></a> 
<a name="line1591"><font color="#000000">1591:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1592"><font color="#000000">1592:</font></a> <font color="#FF0000">* Change Log Commands::</font> Commands for editing change log files.
<a name="line1593"><font color="#000000">1593:</font></a> <font color="#FF0000">* Format of ChangeLog::</font> What the change log file looks like.
<a name="line1594"><font color="#000000">1594:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1595"><font color="#000000">1595:</font></a> 
<a name="line1596"><font color="#000000">1596:</font></a> <b><font color="#0000FF">@node</font></b> Change Log Commands
<a name="line1597"><font color="#000000">1597:</font></a> <b><font color="#0000FF">@subsection</font></b> Change Log Commands
<a name="line1598"><font color="#000000">1598:</font></a> 
<a name="line1599"><font color="#000000">1599:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 4 a
<a name="line1600"><font color="#000000">1600:</font></a> <b><font color="#0000FF">@findex</font></b> add-change-log-entry-other-window
<a name="line1601"><font color="#000000">1601:</font></a>   The Emacs command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font> adds a new entry to the change log
<a name="line1602"><font color="#000000">1602:</font></a> file for the file you are editing
<a name="line1603"><font color="#000000">1603:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{add-change-log-entry-other-window}</font>).  If that file is actually
<a name="line1604"><font color="#000000">1604:</font></a> a backup file, it makes an entry appropriate for the file's
<a name="line1605"><font color="#000000">1605:</font></a> parent---that is useful for making log entries for functions that
<a name="line1606"><font color="#000000">1606:</font></a> have been deleted in the current version.
<a name="line1607"><font color="#000000">1607:</font></a> 
<a name="line1608"><font color="#000000">1608:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font> visits the change log file and creates a new entry
<a name="line1609"><font color="#000000">1609:</font></a> unless the most recent entry is for today's date and your name.  It
<a name="line1610"><font color="#000000">1610:</font></a> also creates a new item for the current file.  For many languages, it
<a name="line1611"><font color="#000000">1611:</font></a> can even guess the name of the function or other object that was
<a name="line1612"><font color="#000000">1612:</font></a> changed.
<a name="line1613"><font color="#000000">1613:</font></a> 
<a name="line1614"><font color="#000000">1614:</font></a> <i><font color="#9A1900">@c Not worth it.</font></i>
<a name="line1615"><font color="#000000">1615:</font></a> <i><font color="#9A1900">@c @vindex change-log-directory-files</font></i>
<a name="line1616"><font color="#000000">1616:</font></a> To find the change log file, Emacs searches up the directory tree from
<a name="line1617"><font color="#000000">1617:</font></a> the file you are editing.  By default, it stops if it finds a
<a name="line1618"><font color="#000000">1618:</font></a> directory that seems to be the root of a version-control repository.
<a name="line1619"><font color="#000000">1619:</font></a> To change this, customize <b><font color="#0000FF">@code</font></b><font color="#009900">{change-log-directory-files}</font>.
<a name="line1620"><font color="#000000">1620:</font></a> 
<a name="line1621"><font color="#000000">1621:</font></a> <b><font color="#0000FF">@vindex</font></b> add-log-keep-changes-together
<a name="line1622"><font color="#000000">1622:</font></a>   When the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{add-log-keep-changes-together}</font> is
<a name="line1623"><font color="#000000">1623:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font> adds to any existing item for the file,
<a name="line1624"><font color="#000000">1624:</font></a> rather than starting a new item.
<a name="line1625"><font color="#000000">1625:</font></a> 
<a name="line1626"><font color="#000000">1626:</font></a> You can combine multiple changes of the same nature.  If you don't
<a name="line1627"><font color="#000000">1627:</font></a> enter any text after the initial <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font>, any subsequent
<a name="line1628"><font color="#000000">1628:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font> adds another symbol to the change log entry.
<a name="line1629"><font color="#000000">1629:</font></a> 
<a name="line1630"><font color="#000000">1630:</font></a> <b><font color="#0000FF">@vindex</font></b> add-log-always-start-new-record
<a name="line1631"><font color="#000000">1631:</font></a>   If <b><font color="#0000FF">@code</font></b><font color="#009900">{add-log-always-start-new-record}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line1632"><font color="#000000">1632:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font> always makes a new entry, even if the last entry
<a name="line1633"><font color="#000000">1633:</font></a> was made by you and on the same date.
<a name="line1634"><font color="#000000">1634:</font></a> 
<a name="line1635"><font color="#000000">1635:</font></a> <b><font color="#0000FF">@vindex</font></b> change-log-version-info-enabled
<a name="line1636"><font color="#000000">1636:</font></a> <b><font color="#0000FF">@vindex</font></b> change-log-version-number-regexp-list
<a name="line1637"><font color="#000000">1637:</font></a> <i><font color="#9A1900">@cindex file version in change log entries</font></i>
<a name="line1638"><font color="#000000">1638:</font></a>   If the value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{change-log-version-info-enabled}</font>
<a name="line1639"><font color="#000000">1639:</font></a> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font> adds the file's version number to the
<a name="line1640"><font color="#000000">1640:</font></a> change log entry.  It finds the version number by searching the first
<a name="line1641"><font color="#000000">1641:</font></a> ten percent of the file, using regular expressions from the variable
<a name="line1642"><font color="#000000">1642:</font></a> <i><font color="#9A1900">@code{change-log-version-number-regexp-list}.</font></i>
<a name="line1643"><font color="#000000">1643:</font></a> 
<a name="line1644"><font color="#000000">1644:</font></a> <i><font color="#9A1900">@cindex Change Log mode</font></i>
<a name="line1645"><font color="#000000">1645:</font></a> <b><font color="#0000FF">@findex</font></b> change-log-mode
<a name="line1646"><font color="#000000">1646:</font></a>   The change log file is visited in Change Log mode.  In this major
<a name="line1647"><font color="#000000">1647:</font></a> mode, each bunch of grouped items counts as one paragraph, and each
<a name="line1648"><font color="#000000">1648:</font></a> entry is considered a page.  This facilitates editing the entries.
<a name="line1649"><font color="#000000">1649:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-j}</font> and auto-fill indent each new line like the previous line;
<a name="line1650"><font color="#000000">1650:</font></a> this is convenient for entering the contents of an entry.
<a name="line1651"><font color="#000000">1651:</font></a> 
<a name="line1652"><font color="#000000">1652:</font></a> <b><font color="#0000FF">@findex</font></b> change-log-goto-source
<a name="line1653"><font color="#000000">1653:</font></a>   You can use the command <b><font color="#0000FF">@code</font></b><font color="#009900">{change-log-goto-source}</font> (by default
<a name="line1654"><font color="#000000">1654:</font></a> bound to <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font>) to go to the source location of the change log
<a name="line1655"><font color="#000000">1655:</font></a> entry near point, when Change Log mode is on.  Then subsequent
<a name="line1656"><font color="#000000">1656:</font></a> invocations of the <b><font color="#0000FF">@code</font></b><font color="#009900">{next-error}</font> command (by default bound to
<a name="line1657"><font color="#000000">1657:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-g M-n}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x `}</font>) will move between entries in the change
<a name="line1658"><font color="#000000">1658:</font></a> log.  You will jump to the actual site in the file that was changed,
<a name="line1659"><font color="#000000">1659:</font></a> not just to the next change log entry.  You can also use
<a name="line1660"><font color="#000000">1660:</font></a> <i><font color="#9A1900">@code{previous-error} to move back through the change log entries.</font></i>
<a name="line1661"><font color="#000000">1661:</font></a> 
<a name="line1662"><font color="#000000">1662:</font></a> <b><font color="#0000FF">@findex</font></b> change-log-merge
<a name="line1663"><font color="#000000">1663:</font></a>   You can use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x change-log-merge}</font> to merge other
<a name="line1664"><font color="#000000">1664:</font></a> log files into a buffer in Change Log Mode, preserving the date
<a name="line1665"><font color="#000000">1665:</font></a> ordering of entries.
<a name="line1666"><font color="#000000">1666:</font></a> 
<a name="line1667"><font color="#000000">1667:</font></a> <b><font color="#0000FF">@vindex</font></b> add-log-dont-create-changelog-file
<a name="line1668"><font color="#000000">1668:</font></a>   Version control systems are another way to keep track of changes in
<a name="line1669"><font color="#000000">1669:</font></a> your program and keep a change log.  Many projects that use a VCS don't
<a name="line1670"><font color="#000000">1670:</font></a> keep a separate versioned change log file nowadays, so you may wish to
<a name="line1671"><font color="#000000">1671:</font></a> avoid having such a file in the repository.  If the value of
<a name="line1672"><font color="#000000">1672:</font></a> <i><font color="#9A1900">@code{add-log-dont-create-changelog-file} is non-@code{nil}, commands</font></i>
<a name="line1673"><font color="#000000">1673:</font></a> like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 a}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{add-change-log-entry-other-window}</font>) will
<a name="line1674"><font color="#000000">1674:</font></a> record changes in a suitably named temporary buffer instead of a file,
<a name="line1675"><font color="#000000">1675:</font></a> if such a file does not already exist.
<a name="line1676"><font color="#000000">1676:</font></a> 
<a name="line1677"><font color="#000000">1677:</font></a> Whether you have a change log file or use a temporary buffer for
<a name="line1678"><font color="#000000">1678:</font></a> change logs, you can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-a}</font>
<a name="line1679"><font color="#000000">1679:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{log-edit-insert-changelog}</font>) in the VC Log buffer to insert the
<a name="line1680"><font color="#000000">1680:</font></a> relevant change log entries, if they exist.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Log Buffer</font><font color="#FF0000">}</font>.
<a name="line1681"><font color="#000000">1681:</font></a> 
<a name="line1682"><font color="#000000">1682:</font></a> <b><font color="#0000FF">@node</font></b> Format of ChangeLog
<a name="line1683"><font color="#000000">1683:</font></a> <b><font color="#0000FF">@subsection</font></b> Format of ChangeLog
<a name="line1684"><font color="#000000">1684:</font></a> 
<a name="line1685"><font color="#000000">1685:</font></a>   A change log entry starts with a header line that contains the
<a name="line1686"><font color="#000000">1686:</font></a> current date, your name (taken from the variable
<a name="line1687"><font color="#000000">1687:</font></a> <i><font color="#9A1900">@code{add-log-full-name}), and your email address (taken from the</font></i>
<a name="line1688"><font color="#000000">1688:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{add-log-mailing-address}</font>).  Aside from these header
<a name="line1689"><font color="#000000">1689:</font></a> lines, every line in the change log starts with a space or a tab.  The
<a name="line1690"><font color="#000000">1690:</font></a> bulk of the entry consists of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{items}</font>, each of which starts with a
<a name="line1691"><font color="#000000">1691:</font></a> line starting with whitespace and a star.  Here are two entries, both
<a name="line1692"><font color="#000000">1692:</font></a> dated in May 1993, with two items and one item respectively.
<a name="line1693"><font color="#000000">1693:</font></a> 
<a name="line1694"><font color="#000000">1694:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line1695"><font color="#000000">1695:</font></a> <b><font color="#0000FF">@medbreak</font></b>
<a name="line1696"><font color="#000000">1696:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line1697"><font color="#000000">1697:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line1698"><font color="#000000">1698:</font></a> 1993-05-25  Richard Stallman  &lt;rms<b><font color="#0000FF">@@gnu.org&gt;</font></b>
<a name="line1699"><font color="#000000">1699:</font></a> 
<a name="line1700"><font color="#000000">1700:</font></a>         * man.el: Rename symbols 'man-*' to 'Man-*'.
<a name="line1701"><font color="#000000">1701:</font></a>         (manual-entry): Make prompt string clearer.
<a name="line1702"><font color="#000000">1702:</font></a> 
<a name="line1703"><font color="#000000">1703:</font></a>         * simple.el (blink-matching-paren-distance):
<a name="line1704"><font color="#000000">1704:</font></a>         Change default to 12,000.
<a name="line1705"><font color="#000000">1705:</font></a> 
<a name="line1706"><font color="#000000">1706:</font></a> 1993-05-24  Richard Stallman  &lt;rms<b><font color="#0000FF">@@gnu.org&gt;</font></b>
<a name="line1707"><font color="#000000">1707:</font></a> 
<a name="line1708"><font color="#000000">1708:</font></a>         * vc.el (minor-mode-map-alist): Don't use it if it's void.
<a name="line1709"><font color="#000000">1709:</font></a>         (vc-cancel-version): Doc fix.
<a name="line1710"><font color="#000000">1710:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line1711"><font color="#000000">1711:</font></a> 
<a name="line1712"><font color="#000000">1712:</font></a>   One entry can describe several changes; each change should have its
<a name="line1713"><font color="#000000">1713:</font></a> own item, or its own line in an item.  Normally there should be a
<a name="line1714"><font color="#000000">1714:</font></a> blank line between items.  When items are related (parts of the same
<a name="line1715"><font color="#000000">1715:</font></a> change, in different places), group them by leaving no blank line
<a name="line1716"><font color="#000000">1716:</font></a> between them.
<a name="line1717"><font color="#000000">1717:</font></a> 
<a name="line1718"><font color="#000000">1718:</font></a>   You should put a copyright notice and permission notice at the
<a name="line1719"><font color="#000000">1719:</font></a> end of the change log file.  Here is an example:
<a name="line1720"><font color="#000000">1720:</font></a> 
<a name="line1721"><font color="#000000">1721:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line1722"><font color="#000000">1722:</font></a> Copyright 1997, 1998 Free Software Foundation, Inc.
<a name="line1723"><font color="#000000">1723:</font></a> Copying and distribution of this file, with or without modification, are
<a name="line1724"><font color="#000000">1724:</font></a> permitted provided the copyright notice and this notice are preserved.
<a name="line1725"><font color="#000000">1725:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line1726"><font color="#000000">1726:</font></a> 
<a name="line1727"><font color="#000000">1727:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1728"><font color="#000000">1728:</font></a> Of course, you should substitute the proper years and copyright holder.
<a name="line1729"><font color="#000000">1729:</font></a> 
<a name="line1730"><font color="#000000">1730:</font></a> <b><font color="#0000FF">@node</font></b> Xref
<a name="line1731"><font color="#000000">1731:</font></a> <b><font color="#0000FF">@section</font></b> Find Identifier References
<a name="line1732"><font color="#000000">1732:</font></a> <i><font color="#9A1900">@cindex xref</font></i>
<a name="line1733"><font color="#000000">1733:</font></a> 
<a name="line1734"><font color="#000000">1734:</font></a>   An <b><font color="#0000FF">@dfn</font></b><font color="#009900">{identifier}</font> is a name of a syntactical subunit of the
<a name="line1735"><font color="#000000">1735:</font></a> program: a function, a subroutine, a method, a class, a data type, a
<a name="line1736"><font color="#000000">1736:</font></a> macro, etc.  In a programming language, each identifier is a symbol in
<a name="line1737"><font color="#000000">1737:</font></a> the language's syntax.  Program development and maintenance requires
<a name="line1738"><font color="#000000">1738:</font></a> capabilities to quickly find where each identifier was defined and
<a name="line1739"><font color="#000000">1739:</font></a> referenced, to rename identifiers across the entire project, etc.
<a name="line1740"><font color="#000000">1740:</font></a> 
<a name="line1741"><font color="#000000">1741:</font></a> These capabilities are also useful for finding references in major
<a name="line1742"><font color="#000000">1742:</font></a> modes other than those defined to support programming languages.  For
<a name="line1743"><font color="#000000">1743:</font></a> example, chapters, sections, appendices, etc.<b><font color="#0000FF">@:</font></b> of a text or a <b><font color="#0000FF">@TeX</font></b><font color="#009900">{}</font>
<a name="line1744"><font color="#000000">1744:</font></a> document can be treated as subunits as well, and their names can be
<a name="line1745"><font color="#000000">1745:</font></a> used as identifiers.  In this chapter, we use the term ``identifiers''
<a name="line1746"><font color="#000000">1746:</font></a> to collectively refer to the names of any kind of subunits, in program
<a name="line1747"><font color="#000000">1747:</font></a> source and in other kinds of text alike.
<a name="line1748"><font color="#000000">1748:</font></a> 
<a name="line1749"><font color="#000000">1749:</font></a> Emacs provides a unified interface to these capabilities, called
<a name="line1750"><font color="#000000">1750:</font></a> <b><font color="#0000FF">@samp{xref</font></b><font color="#FF0000">}</font>.
<a name="line1751"><font color="#000000">1751:</font></a> 
<a name="line1752"><font color="#000000">1752:</font></a> <i><font color="#9A1900">@cindex xref backend</font></i>
<a name="line1753"><font color="#000000">1753:</font></a> To do its job, <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">}</font> needs to make use of information and to
<a name="line1754"><font color="#000000">1754:</font></a> employ methods specific to the major mode.  What files to search for
<a name="line1755"><font color="#000000">1755:</font></a> identifiers, how to find references to identifiers, how to complete on
<a name="line1756"><font color="#000000">1756:</font></a> identifiers---all this and more is mode-specific knowledge.
<a name="line1757"><font color="#000000">1757:</font></a> <i><font color="#9A1900">@code{xref} delegates the mode-specific parts of its job to a</font></i>
<a name="line1758"><font color="#000000">1758:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{backend}</font> provided by the mode; it also includes defaults for some
<a name="line1759"><font color="#000000">1759:</font></a> of its commands, for those modes that don't provide their own.
<a name="line1760"><font color="#000000">1760:</font></a> 
<a name="line1761"><font color="#000000">1761:</font></a> A backend can implement its capabilities in a variety of ways.  Here
<a name="line1762"><font color="#000000">1762:</font></a> are a few examples:
<a name="line1763"><font color="#000000">1763:</font></a> 
<a name="line1764"><font color="#000000">1764:</font></a> <b><font color="#0000FF">@enumerate</font></b> a
<a name="line1765"><font color="#000000">1765:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1766"><font color="#000000">1766:</font></a> Some major modes provide built-in means for looking up the language
<a name="line1767"><font color="#000000">1767:</font></a> symbols.  For example, Emacs Lisp symbols can be identified by
<a name="line1768"><font color="#000000">1768:</font></a> searching the package load history, maintained by the Emacs Lisp
<a name="line1769"><font color="#000000">1769:</font></a> interpreter, and by consulting the built-in documentation strings; the
<a name="line1770"><font color="#000000">1770:</font></a> Emacs Lisp mode uses these facilities in its backend to allow finding
<a name="line1771"><font color="#000000">1771:</font></a> definitions of symbols.  (One disadvantage of this kind of backend is
<a name="line1772"><font color="#000000">1772:</font></a> that it only knows about subunits that were loaded into the
<a name="line1773"><font color="#000000">1773:</font></a> interpreter.)
<a name="line1774"><font color="#000000">1774:</font></a> 
<a name="line1775"><font color="#000000">1775:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1776"><font color="#000000">1776:</font></a> An external program can extract references by scanning the relevant
<a name="line1777"><font color="#000000">1777:</font></a> files, and build a database of these references.  A backend can then
<a name="line1778"><font color="#000000">1778:</font></a> access this database whenever it needs to list or look up references.
<a name="line1779"><font color="#000000">1779:</font></a> The Emacs distribution includes <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>, a command for tagging
<a name="line1780"><font color="#000000">1780:</font></a> identifier definitions in programs, which supports many programming
<a name="line1781"><font color="#000000">1781:</font></a> languages and other major modes, such as HTML, by extracting
<a name="line1782"><font color="#000000">1782:</font></a> references into <b><font color="#0000FF">@dfn</font></b><font color="#009900">{tags tables}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Create Tags Table</font><font color="#FF0000">}</font>.  Major
<a name="line1783"><font color="#000000">1783:</font></a> modes for languages supported by <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> can use tags tables
<a name="line1784"><font color="#000000">1784:</font></a> as basis for their backend.  (One disadvantage of this kind of backend
<a name="line1785"><font color="#000000">1785:</font></a> is that tags tables need to be kept reasonably up to date, by
<a name="line1786"><font color="#000000">1786:</font></a> rebuilding them from time to time.)
<a name="line1787"><font color="#000000">1787:</font></a> <b><font color="#0000FF">@end enumerate</font></b>
<a name="line1788"><font color="#000000">1788:</font></a> 
<a name="line1789"><font color="#000000">1789:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1790"><font color="#000000">1790:</font></a> <font color="#FF0000">* Find Identifiers::</font>    Commands to find where an identifier is defined
<a name="line1791"><font color="#000000">1791:</font></a>                           or referenced, to list identifiers, etc.
<a name="line1792"><font color="#000000">1792:</font></a> <font color="#FF0000">* Tags Tables::</font>         Tags table records which file defines a symbol.
<a name="line1793"><font color="#000000">1793:</font></a> <font color="#FF0000">* Select Tags Table::</font>   How to visit a specific tags table.
<a name="line1794"><font color="#000000">1794:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1795"><font color="#000000">1795:</font></a> 
<a name="line1796"><font color="#000000">1796:</font></a> <b><font color="#0000FF">@node</font></b> Find Identifiers
<a name="line1797"><font color="#000000">1797:</font></a> <b><font color="#0000FF">@subsection</font></b> Find Identifiers
<a name="line1798"><font color="#000000">1798:</font></a> 
<a name="line1799"><font color="#000000">1799:</font></a>   This subsection describes the commands that find references to
<a name="line1800"><font color="#000000">1800:</font></a> identifiers and perform various queries about identifiers.  Each such
<a name="line1801"><font color="#000000">1801:</font></a> reference could <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">define</font></i><font color="#FF0000">}</font> an identifier, e.g., provide the
<a name="line1802"><font color="#000000">1802:</font></a> implementation of a program subunit or the text of a document section;
<a name="line1803"><font color="#000000">1803:</font></a> or it could <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">use</font></i><font color="#FF0000">}</font> the identifier, e.g., call a function or a
<a name="line1804"><font color="#000000">1804:</font></a> method, assign a value to a variable, mention a chapter in a
<a name="line1805"><font color="#000000">1805:</font></a> cross-reference, etc.
<a name="line1806"><font color="#000000">1806:</font></a> 
<a name="line1807"><font color="#000000">1807:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1808"><font color="#000000">1808:</font></a> <font color="#FF0000">* Looking Up Identifiers::</font> Commands to find the definition of an identifier.
<a name="line1809"><font color="#000000">1809:</font></a> <font color="#FF0000">* Xref Commands::</font>          Commands in the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer.
<a name="line1810"><font color="#000000">1810:</font></a> <font color="#FF0000">* Identifier Search::</font>      Searching and replacing identifiers.
<a name="line1811"><font color="#000000">1811:</font></a> <font color="#FF0000">* List Identifiers::</font>       Listing identifiers and completing on them.
<a name="line1812"><font color="#000000">1812:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1813"><font color="#000000">1813:</font></a> 
<a name="line1814"><font color="#000000">1814:</font></a> <b><font color="#0000FF">@node</font></b> Looking Up Identifiers
<a name="line1815"><font color="#000000">1815:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Looking Up Identifiers
<a name="line1816"><font color="#000000">1816:</font></a> <i><font color="#9A1900">@cindex find definition of symbols</font></i>
<a name="line1817"><font color="#000000">1817:</font></a> <i><font color="#9A1900">@cindex identifier, finding definition of</font></i>
<a name="line1818"><font color="#000000">1818:</font></a> <i><font color="#9A1900">@cindex find references to symbols</font></i>
<a name="line1819"><font color="#000000">1819:</font></a> 
<a name="line1820"><font color="#000000">1820:</font></a>   The most important thing that <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">}</font> enables you to do is to find
<a name="line1821"><font color="#000000">1821:</font></a> the definition of a specific identifier.
<a name="line1822"><font color="#000000">1822:</font></a> 
<a name="line1823"><font color="#000000">1823:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1824"><font color="#000000">1824:</font></a> <b><font color="#0000FF">@item</font></b> M-.<b><font color="#0000FF">@:</font></b>
<a name="line1825"><font color="#000000">1825:</font></a> Find definitions of an identifier (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions</font><font color="#FF0000">}</font>).
<a name="line1826"><font color="#000000">1826:</font></a> <b><font color="#0000FF">@item</font></b> C-M-. <b><font color="#0000FF">@var</font></b><font color="#009900">{pattern}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1827"><font color="#000000">1827:</font></a> Find all identifiers whose name matches <b><font color="#0000FF">@var</font></b><font color="#009900">{pattern}</font>
<a name="line1828"><font color="#000000">1828:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-apropos</font><font color="#FF0000">}</font>).
<a name="line1829"><font color="#000000">1829:</font></a> <b><font color="#0000FF">@item</font></b> C-x 4 .<b><font color="#0000FF">@:</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1830"><font color="#000000">1830:</font></a> Find definitions of identifier, but display it in another window
<a name="line1831"><font color="#000000">1831:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions-other-window</font><font color="#FF0000">}</font>).
<a name="line1832"><font color="#000000">1832:</font></a> <b><font color="#0000FF">@item</font></b> C-x 5 .<b><font color="#0000FF">@:</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1833"><font color="#000000">1833:</font></a> Find definition of identifier, and display it in a new frame
<a name="line1834"><font color="#000000">1834:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions-other-frame</font><font color="#FF0000">}</font>).
<a name="line1835"><font color="#000000">1835:</font></a> <b><font color="#0000FF">@item</font></b> M-x xref-find-definitions-at-mouse
<a name="line1836"><font color="#000000">1836:</font></a> Find definition of identifier at mouse click.
<a name="line1837"><font color="#000000">1837:</font></a> <b><font color="#0000FF">@item</font></b> M-,
<a name="line1838"><font color="#000000">1838:</font></a> Go back to where you previously invoked <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font> and friends
<a name="line1839"><font color="#000000">1839:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-pop-marker-stack</font><font color="#FF0000">}</font>).
<a name="line1840"><font color="#000000">1840:</font></a> <b><font color="#0000FF">@item</font></b> M-x xref-etags-mode
<a name="line1841"><font color="#000000">1841:</font></a> Switch <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">}</font> to use the <b><font color="#0000FF">@code</font></b><font color="#009900">{etags}</font> backend.
<a name="line1842"><font color="#000000">1842:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1843"><font color="#000000">1843:</font></a> 
<a name="line1844"><font color="#000000">1844:</font></a> <b><font color="#0000FF">@kindex</font></b> M-.
<a name="line1845"><font color="#000000">1845:</font></a> <b><font color="#0000FF">@findex</font></b> xref-find-definitions
<a name="line1846"><font color="#000000">1846:</font></a> <b><font color="#0000FF">@vindex</font></b> xref-prompt-for-identifier
<a name="line1847"><font color="#000000">1847:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font><b><font color="#0000FF">@:</font></b> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions</font><font color="#FF0000">}</font>) shows the definitions of
<a name="line1848"><font color="#000000">1848:</font></a> the identifier at point.  With a prefix argument, or if there's no
<a name="line1849"><font color="#000000">1849:</font></a> identifier at point, it prompts for the identifier.  (If you want it
<a name="line1850"><font color="#000000">1850:</font></a> to always prompt, customize <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-prompt-for-identifier</font><font color="#FF0000">}</font> to
<a name="line1851"><font color="#000000">1851:</font></a> <i><font color="#9A1900">@code{t}.)</font></i>
<a name="line1852"><font color="#000000">1852:</font></a> 
<a name="line1853"><font color="#000000">1853:</font></a> If the specified identifier has only one definition, the command jumps
<a name="line1854"><font color="#000000">1854:</font></a> to it.  If the identifier has more than one possible definition (e.g.,
<a name="line1855"><font color="#000000">1855:</font></a> in an object-oriented language, or if there's a function and a
<a name="line1856"><font color="#000000">1856:</font></a> variable by the same name), the command shows the candidate
<a name="line1857"><font color="#000000">1857:</font></a> definitions in the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer, together with the files in
<a name="line1858"><font color="#000000">1858:</font></a> which these definitions are found.  Selecting one of these candidates
<a name="line1859"><font color="#000000">1859:</font></a> by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RET}}</font> or clicking <b><font color="#0000FF">@kbd</font></b><font color="#009900">{mouse-2}</font> will pop a buffer
<a name="line1860"><font color="#000000">1860:</font></a> showing the corresponding definition.
<a name="line1861"><font color="#000000">1861:</font></a> 
<a name="line1862"><font color="#000000">1862:</font></a>   When entering the identifier argument to <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font>, the usual
<a name="line1863"><font color="#000000">1863:</font></a> minibuffer completion commands can be used (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Completion</font><font color="#FF0000">}</font>), with
<a name="line1864"><font color="#000000">1864:</font></a> the known identifier names as completion candidates.
<a name="line1865"><font color="#000000">1865:</font></a> 
<a name="line1866"><font color="#000000">1866:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 4 .
<a name="line1867"><font color="#000000">1867:</font></a> <b><font color="#0000FF">@findex</font></b> xref-find-definitions-other-window
<a name="line1868"><font color="#000000">1868:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x 5 .
<a name="line1869"><font color="#000000">1869:</font></a> <b><font color="#0000FF">@findex</font></b> xref-find-definitions-other-frame
<a name="line1870"><font color="#000000">1870:</font></a>   Like most commands that can switch buffers,
<a name="line1871"><font color="#000000">1871:</font></a> <i><font color="#9A1900">@code{xref-find-definitions} has a variant that displays the new</font></i>
<a name="line1872"><font color="#000000">1872:</font></a> buffer in another window, and one that makes a new frame for it.  The
<a name="line1873"><font color="#000000">1873:</font></a> former is <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-x 4 .}}</font>
<a name="line1874"><font color="#000000">1874:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions-other-window</font><font color="#FF0000">}</font>), and the latter is
<a name="line1875"><font color="#000000">1875:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{C-x 5 .}}</font>  (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions-other-frame</font><font color="#FF0000">}</font>).
<a name="line1876"><font color="#000000">1876:</font></a> 
<a name="line1877"><font color="#000000">1877:</font></a>   The command <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions-at-mouse</font><font color="#FF0000">}</font> works like
<a name="line1878"><font color="#000000">1878:</font></a> <i><font color="#9A1900">@code{xref-find-definitions}, but it looks for the identifier name at</font></i>
<a name="line1879"><font color="#000000">1879:</font></a> or around the place of a mouse event.  This command is intended to be
<a name="line1880"><font color="#000000">1880:</font></a> bound to a mouse event, such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-mouse-1}</font>, for example.
<a name="line1881"><font color="#000000">1881:</font></a> 
<a name="line1882"><font color="#000000">1882:</font></a> <b><font color="#0000FF">@findex</font></b> xref-find-apropos
<a name="line1883"><font color="#000000">1883:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-.
<a name="line1884"><font color="#000000">1884:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-.}</font> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-apropos</font><font color="#FF0000">}</font>) finds the
<a name="line1885"><font color="#000000">1885:</font></a> definitions of one or more identifiers that match a specified regular
<a name="line1886"><font color="#000000">1886:</font></a> expression.  It is just like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font> except that it does regexp
<a name="line1887"><font color="#000000">1887:</font></a> matching of identifiers instead of matching symbol names as fixed
<a name="line1888"><font color="#000000">1888:</font></a> strings.
<a name="line1889"><font color="#000000">1889:</font></a> 
<a name="line1890"><font color="#000000">1890:</font></a>   When any of the above commands finds more than one definition, it
<a name="line1891"><font color="#000000">1891:</font></a> presents the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer showing the definition candidates.
<a name="line1892"><font color="#000000">1892:</font></a> In that buffer, you have several specialized commands, described in
<a name="line1893"><font color="#000000">1893:</font></a> <b><font color="#0000FF">@ref{Xref</font></b><font color="#FF0000"> Commands</font><font color="#FF0000">}</font>.
<a name="line1894"><font color="#000000">1894:</font></a> 
<a name="line1895"><font color="#000000">1895:</font></a> <b><font color="#0000FF">@kindex</font></b> M-,
<a name="line1896"><font color="#000000">1896:</font></a> <b><font color="#0000FF">@findex</font></b> xref-pop-marker-stack
<a name="line1897"><font color="#000000">1897:</font></a> <b><font color="#0000FF">@vindex</font></b> xref-marker-ring-length
<a name="line1898"><font color="#000000">1898:</font></a>   To go back to places <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">from where</font></i><font color="#FF0000">}</font> you found the definition,
<a name="line1899"><font color="#000000">1899:</font></a> use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-,}</font> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-pop-marker-stack</font><font color="#FF0000">}</font>).  It jumps back to the
<a name="line1900"><font color="#000000">1900:</font></a> point of the last invocation of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font>.  Thus you can find and
<a name="line1901"><font color="#000000">1901:</font></a> examine the definition of something with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font> and then return to
<a name="line1902"><font color="#000000">1902:</font></a> where you were with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-,}</font>.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-,}</font> allows you to retrace your
<a name="line1903"><font color="#000000">1903:</font></a> steps to a depth determined by the variable
<a name="line1904"><font color="#000000">1904:</font></a> <i><font color="#9A1900">@code{xref-marker-ring-length}, which defaults to 16.</font></i>
<a name="line1905"><font color="#000000">1905:</font></a> 
<a name="line1906"><font color="#000000">1906:</font></a> <b><font color="#0000FF">@findex</font></b> xref-etags-mode
<a name="line1907"><font color="#000000">1907:</font></a>   Some major modes install <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">}</font> support facilities that might
<a name="line1908"><font color="#000000">1908:</font></a> sometimes fail to find certain identifiers.  For example, in Emacs
<a name="line1909"><font color="#000000">1909:</font></a> Lisp mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lisp Eval</font><font color="#FF0000">}</font>) <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font> will by default find only
<a name="line1910"><font color="#000000">1910:</font></a> functions and variables from Lisp packages which are loaded into the
<a name="line1911"><font color="#000000">1911:</font></a> current Emacs session or are auto-loaded (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Autoload,,, elisp,</font>
<a name="line1912"><font color="#000000">1912:</font></a> <font color="#FF0000">The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>).  If <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font> fails to find some
<a name="line1913"><font color="#000000">1913:</font></a> identifiers, you can try forcing <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">}</font> to use the <b><font color="#0000FF">@code</font></b><font color="#009900">{etags}</font>
<a name="line1914"><font color="#000000">1914:</font></a> backend (<b><font color="#0000FF">@pxref{Xref</font></b><font color="#FF0000">}</font>).  To this end, turn on the Xref Etags minor
<a name="line1915"><font color="#000000">1915:</font></a> mode with <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{M-x xref-etags-mode}}</font>, then invoke <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-.}</font> again.
<a name="line1916"><font color="#000000">1916:</font></a> (For this to work, be sure to run <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> to create the tags
<a name="line1917"><font color="#000000">1917:</font></a> table in the directory tree of the source files, see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Create Tags</font>
<a name="line1918"><font color="#000000">1918:</font></a> <font color="#FF0000">Table</font><font color="#FF0000">}</font>.)
<a name="line1919"><font color="#000000">1919:</font></a> 
<a name="line1920"><font color="#000000">1920:</font></a> <b><font color="#0000FF">@node</font></b> Xref Commands
<a name="line1921"><font color="#000000">1921:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Commands Available in the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> Buffer
<a name="line1922"><font color="#000000">1922:</font></a> <i><font color="#9A1900">@cindex commands in @file{*xref*} buffers</font></i>
<a name="line1923"><font color="#000000">1923:</font></a> <i><font color="#9A1900">@cindex XREF mode</font></i>
<a name="line1924"><font color="#000000">1924:</font></a> 
<a name="line1925"><font color="#000000">1925:</font></a>   The following commands are provided in the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer by
<a name="line1926"><font color="#000000">1926:</font></a> the special XREF mode:
<a name="line1927"><font color="#000000">1927:</font></a> 
<a name="line1928"><font color="#000000">1928:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1929"><font color="#000000">1929:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1930"><font color="#000000">1930:</font></a> <b><font color="#0000FF">@itemx</font></b> mouse-2
<a name="line1931"><font color="#000000">1931:</font></a> Display the reference on the current line.
<a name="line1932"><font color="#000000">1932:</font></a> 
<a name="line1933"><font color="#000000">1933:</font></a> <b><font color="#0000FF">@item</font></b> n
<a name="line1934"><font color="#000000">1934:</font></a> <b><font color="#0000FF">@itemx</font></b> .
<a name="line1935"><font color="#000000">1935:</font></a> <b><font color="#0000FF">@findex</font></b> xref-next-line
<a name="line1936"><font color="#000000">1936:</font></a> Move to the next reference and display it in the other window
<a name="line1937"><font color="#000000">1937:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-next-line</font><font color="#FF0000">}</font>).
<a name="line1938"><font color="#000000">1938:</font></a> 
<a name="line1939"><font color="#000000">1939:</font></a> <b><font color="#0000FF">@item</font></b> p
<a name="line1940"><font color="#000000">1940:</font></a> <b><font color="#0000FF">@itemx</font></b> ,
<a name="line1941"><font color="#000000">1941:</font></a> <b><font color="#0000FF">@findex</font></b> xref-prev-line
<a name="line1942"><font color="#000000">1942:</font></a> Move to the previous reference and display it in the other window
<a name="line1943"><font color="#000000">1943:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-prev-line</font><font color="#FF0000">}</font>).
<a name="line1944"><font color="#000000">1944:</font></a> 
<a name="line1945"><font color="#000000">1945:</font></a> <b><font color="#0000FF">@item</font></b> C-o
<a name="line1946"><font color="#000000">1946:</font></a> <b><font color="#0000FF">@findex</font></b> xref-show-location-at-point
<a name="line1947"><font color="#000000">1947:</font></a> Display the reference on the current line in the other window
<a name="line1948"><font color="#000000">1948:</font></a> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-show-location-at-point</font><font color="#FF0000">}</font>).
<a name="line1949"><font color="#000000">1949:</font></a> 
<a name="line1950"><font color="#000000">1950:</font></a> <b><font color="#0000FF">@item</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line1951"><font color="#000000">1951:</font></a> <b><font color="#0000FF">@findex</font></b> xref-quit-and-goto-xref
<a name="line1952"><font color="#000000">1952:</font></a> Display the reference on the current line and bury the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font>
<a name="line1953"><font color="#000000">1953:</font></a> buffer (<b><font color="#0000FF">@code{xref-quit-and-goto-xref</font></b><font color="#FF0000">}</font>).
<a name="line1954"><font color="#000000">1954:</font></a> 
<a name="line1955"><font color="#000000">1955:</font></a> <b><font color="#0000FF">@item</font></b> r <b><font color="#0000FF">@var</font></b><font color="#009900">{pattern}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{replacement}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1956"><font color="#000000">1956:</font></a> Perform interactive query-replace on references that match
<a name="line1957"><font color="#000000">1957:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{pattern}</font> (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-query-replace-in-results</font><font color="#FF0000">}</font>), replacing
<a name="line1958"><font color="#000000">1958:</font></a> the match with <b><font color="#0000FF">@var</font></b><font color="#009900">{replacement}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Identifier Search</font><font color="#FF0000">}</font>.
<a name="line1959"><font color="#000000">1959:</font></a> 
<a name="line1960"><font color="#000000">1960:</font></a> <b><font color="#0000FF">@findex</font></b> xref-quit
<a name="line1961"><font color="#000000">1961:</font></a> <b><font color="#0000FF">@item</font></b> q
<a name="line1962"><font color="#000000">1962:</font></a> Quit the window showing the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer (<b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-quit</font><font color="#FF0000">}</font>).
<a name="line1963"><font color="#000000">1963:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1964"><font color="#000000">1964:</font></a> 
<a name="line1965"><font color="#000000">1965:</font></a> In addition, the usual navigation commands, such as the arrow keys,
<a name="line1966"><font color="#000000">1966:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-n}</font>, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-p}</font> are available for moving around the buffer
<a name="line1967"><font color="#000000">1967:</font></a> without displaying the references.
<a name="line1968"><font color="#000000">1968:</font></a> 
<a name="line1969"><font color="#000000">1969:</font></a> <b><font color="#0000FF">@node</font></b> Identifier Search
<a name="line1970"><font color="#000000">1970:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Searching and Replacing with Identifiers
<a name="line1971"><font color="#000000">1971:</font></a> <i><font color="#9A1900">@cindex search and replace in multiple source files</font></i>
<a name="line1972"><font color="#000000">1972:</font></a> <i><font color="#9A1900">@cindex multiple source file search and replace</font></i>
<a name="line1973"><font color="#000000">1973:</font></a> 
<a name="line1974"><font color="#000000">1974:</font></a>   The commands in this section perform various search and replace
<a name="line1975"><font color="#000000">1975:</font></a> operations either on identifiers themselves or on files that reference
<a name="line1976"><font color="#000000">1976:</font></a> them.
<a name="line1977"><font color="#000000">1977:</font></a> 
<a name="line1978"><font color="#000000">1978:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1979"><font color="#000000">1979:</font></a> <b><font color="#0000FF">@item</font></b> M-?
<a name="line1980"><font color="#000000">1980:</font></a> Find all the references for the identifier at point.
<a name="line1981"><font color="#000000">1981:</font></a> 
<a name="line1982"><font color="#000000">1982:</font></a> <b><font color="#0000FF">@item</font></b> M-x xref-query-replace-in-results <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{replacement}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1983"><font color="#000000">1983:</font></a> Interactively replace <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> with <b><font color="#0000FF">@var</font></b><font color="#009900">{replacement}</font> in the names
<a name="line1984"><font color="#000000">1984:</font></a> of all the identifiers shown in the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer.
<a name="line1985"><font color="#000000">1985:</font></a> 
<a name="line1986"><font color="#000000">1986:</font></a> <b><font color="#0000FF">@item</font></b> M-x tags-search <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1987"><font color="#000000">1987:</font></a> Search for <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> through the files in the selected tags
<a name="line1988"><font color="#000000">1988:</font></a> table.
<a name="line1989"><font color="#000000">1989:</font></a> 
<a name="line1990"><font color="#000000">1990:</font></a> <b><font color="#0000FF">@item</font></b> M-x tags-query-replace <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{replacement}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1991"><font color="#000000">1991:</font></a> Perform a <b><font color="#0000FF">@code</font></b><font color="#009900">{query-replace-regexp}</font> on each file in the selected tags table.
<a name="line1992"><font color="#000000">1992:</font></a> 
<a name="line1993"><font color="#000000">1993:</font></a> <b><font color="#0000FF">@item</font></b> M-x multifile-continue
<a name="line1994"><font color="#000000">1994:</font></a> Restart one of the last 2 commands above, from the current location of point.
<a name="line1995"><font color="#000000">1995:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1996"><font color="#000000">1996:</font></a> 
<a name="line1997"><font color="#000000">1997:</font></a> <b><font color="#0000FF">@kindex</font></b> M-?
<a name="line1998"><font color="#000000">1998:</font></a> <b><font color="#0000FF">@findex</font></b> xref-find-references
<a name="line1999"><font color="#000000">1999:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-?}</font> finds all the references for the identifier at point,
<a name="line2000"><font color="#000000">2000:</font></a> prompting for the identifier as needed, with completion.  Depending on
<a name="line2001"><font color="#000000">2001:</font></a> the current backend (<b><font color="#0000FF">@pxref{Xref</font></b><font color="#FF0000">}</font>), the command may prompt even if it
<a name="line2002"><font color="#000000">2002:</font></a> finds a valid identifier at point.  When invoked with a prefix
<a name="line2003"><font color="#000000">2003:</font></a> argument, it always prompts for the identifier.  (If you want it to
<a name="line2004"><font color="#000000">2004:</font></a> prompt always, customize the value of the variable
<a name="line2005"><font color="#000000">2005:</font></a> <i><font color="#9A1900">@code{xref-prompt-for-identifier} to @code{t}; or set it to @code{nil}</font></i>
<a name="line2006"><font color="#000000">2006:</font></a> to prompt only if there's no usable identifier at point.)  The command
<a name="line2007"><font color="#000000">2007:</font></a> then presents the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer with all the references to the
<a name="line2008"><font color="#000000">2008:</font></a> identifier, showing the file name and the line where the identifier is
<a name="line2009"><font color="#000000">2009:</font></a> referenced.  The XREF mode commands are available in this buffer, see
<a name="line2010"><font color="#000000">2010:</font></a> <b><font color="#0000FF">@ref{Xref</font></b><font color="#FF0000"> Commands</font><font color="#FF0000">}</font>.
<a name="line2011"><font color="#000000">2011:</font></a> 
<a name="line2012"><font color="#000000">2012:</font></a> <b><font color="#0000FF">@findex</font></b> xref-query-replace-in-results
<a name="line2013"><font color="#000000">2013:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x xref-query-replace-in-results}</font> reads a regexp to match identifier
<a name="line2014"><font color="#000000">2014:</font></a> names and a replacement string, just like ordinary <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2015"><font color="#000000">2015:</font></a> <font color="#009900">query-replace-regexp}</font>.  It then performs the specified replacement in
<a name="line2016"><font color="#000000">2016:</font></a> the names of the matching identifiers in all the places in all the
<a name="line2017"><font color="#000000">2017:</font></a> files where these identifiers are referenced.  This is useful when you
<a name="line2018"><font color="#000000">2018:</font></a> rename your identifiers as part of refactoring.  This command should
<a name="line2019"><font color="#000000">2019:</font></a> be invoked in the <b><font color="#0000FF">@file{*xref</font></b><font color="#FF0000">*</font><font color="#FF0000">}</font> buffer generated by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-?}</font>.
<a name="line2020"><font color="#000000">2020:</font></a> 
<a name="line2021"><font color="#000000">2021:</font></a> <b><font color="#0000FF">@findex</font></b> tags-search
<a name="line2022"><font color="#000000">2022:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x tags-search}</font> reads a regexp using the minibuffer, then
<a name="line2023"><font color="#000000">2023:</font></a> searches for matches in all the files in the selected tags table, one
<a name="line2024"><font color="#000000">2024:</font></a> file at a time.  It displays the name of the file being searched so
<a name="line2025"><font color="#000000">2025:</font></a> you can follow its progress.  As soon as it finds an occurrence,
<a name="line2026"><font color="#000000">2026:</font></a> <i><font color="#9A1900">@code{tags-search} returns.  This command requires tags tables to be</font></i>
<a name="line2027"><font color="#000000">2027:</font></a> available (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Tags Tables</font><font color="#FF0000">}</font>).
<a name="line2028"><font color="#000000">2028:</font></a> 
<a name="line2029"><font color="#000000">2029:</font></a> <b><font color="#0000FF">@findex</font></b> multifile-continue
<a name="line2030"><font color="#000000">2030:</font></a>   Having found one match with <b><font color="#0000FF">@code</font></b><font color="#009900">{tags-search}</font>, you probably want to
<a name="line2031"><font color="#000000">2031:</font></a> find all the rest.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x multifile-continue}</font> resumes the
<a name="line2032"><font color="#000000">2032:</font></a> <i><font color="#9A1900">@code{tags-search}, finding one more match.  This searches the rest of</font></i>
<a name="line2033"><font color="#000000">2033:</font></a> the current buffer, followed by the remaining files of the tags table.
<a name="line2034"><font color="#000000">2034:</font></a> 
<a name="line2035"><font color="#000000">2035:</font></a> <b><font color="#0000FF">@findex</font></b> tags-query-replace
<a name="line2036"><font color="#000000">2036:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x tags-query-replace}</font> performs a single
<a name="line2037"><font color="#000000">2037:</font></a> <i><font color="#9A1900">@code{query-replace-regexp} through all the files in the tags table.  It</font></i>
<a name="line2038"><font color="#000000">2038:</font></a> reads a regexp to search for and a string to replace with, just like
<a name="line2039"><font color="#000000">2039:</font></a> ordinary <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x query-replace-regexp}</font>.  It searches much like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2040"><font color="#000000">2040:</font></a> <font color="#009900">tags-search}</font>, but repeatedly, processing matches according to your
<a name="line2041"><font color="#000000">2041:</font></a> input.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Query Replace</font><font color="#FF0000">}</font>, for more information on query replace.
<a name="line2042"><font color="#000000">2042:</font></a> 
<a name="line2043"><font color="#000000">2043:</font></a> <b><font color="#0000FF">@vindex</font></b> tags-case-fold-search
<a name="line2044"><font color="#000000">2044:</font></a> <i><font color="#9A1900">@cindex case-sensitivity and tags search</font></i>
<a name="line2045"><font color="#000000">2045:</font></a>   You can control the case-sensitivity of tags search commands by
<a name="line2046"><font color="#000000">2046:</font></a> customizing the value of the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{tags-case-fold-search}</font>.  The
<a name="line2047"><font color="#000000">2047:</font></a> default is to use the same setting as the value of
<a name="line2048"><font color="#000000">2048:</font></a> <i><font color="#9A1900">@code{case-fold-search} (@pxref{Lax Search}).</font></i>
<a name="line2049"><font color="#000000">2049:</font></a> 
<a name="line2050"><font color="#000000">2050:</font></a>   It is possible to get through all the files in the tags table with a
<a name="line2051"><font color="#000000">2051:</font></a> single invocation of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x tags-query-replace}</font>.  But often it is
<a name="line2052"><font color="#000000">2052:</font></a> useful to exit temporarily, which you can do with any input event that
<a name="line2053"><font color="#000000">2053:</font></a> has no special query replace meaning.  You can resume the query
<a name="line2054"><font color="#000000">2054:</font></a> replace subsequently by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x multifile-continue}</font>; this
<a name="line2055"><font color="#000000">2055:</font></a> command resumes the last tags search or replace command that you did.
<a name="line2056"><font color="#000000">2056:</font></a> For instance, to skip the rest of the current file, you can type
<a name="line2057"><font color="#000000">2057:</font></a> <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{M-&gt; M-x multifile-continue}}</font>.
<a name="line2058"><font color="#000000">2058:</font></a> 
<a name="line2059"><font color="#000000">2059:</font></a>   Note that the commands described above carry out much broader
<a name="line2060"><font color="#000000">2060:</font></a> searches than the <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">-find-definitions</font><font color="#FF0000">}</font> family.  The
<a name="line2061"><font color="#000000">2061:</font></a> <i><font color="#9A1900">@code{xref-find-definitions} commands search only for definitions of</font></i>
<a name="line2062"><font color="#000000">2062:</font></a> identifiers that match your string or regexp.  The commands
<a name="line2063"><font color="#000000">2063:</font></a> <i><font color="#9A1900">@code{xref-find-references}, @code{tags-search}, and</font></i>
<a name="line2064"><font color="#000000">2064:</font></a> <i><font color="#9A1900">@code{tags-query-replace} find every occurrence of the identifier or</font></i>
<a name="line2065"><font color="#000000">2065:</font></a> regexp, as ordinary search commands and replace commands do in the
<a name="line2066"><font color="#000000">2066:</font></a> current buffer.
<a name="line2067"><font color="#000000">2067:</font></a> 
<a name="line2068"><font color="#000000">2068:</font></a>   As an alternative to <b><font color="#0000FF">@code{xref-find-ref</font></b><font color="#FF0000">erences</font><font color="#FF0000">}</font> and
<a name="line2069"><font color="#000000">2069:</font></a> <i><font color="#9A1900">@code{tags-search}, you can run @command{grep} as a subprocess and</font></i>
<a name="line2070"><font color="#000000">2070:</font></a> have Emacs show you the matching lines one by one.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Grep</font>
<a name="line2071"><font color="#000000">2071:</font></a> <font color="#FF0000">Searching</font><font color="#FF0000">}</font>.
<a name="line2072"><font color="#000000">2072:</font></a> 
<a name="line2073"><font color="#000000">2073:</font></a> <b><font color="#0000FF">@node</font></b> List Identifiers
<a name="line2074"><font color="#000000">2074:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Identifier Inquiries
<a name="line2075"><font color="#000000">2075:</font></a> 
<a name="line2076"><font color="#000000">2076:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line2077"><font color="#000000">2077:</font></a> <b><font color="#0000FF">@item</font></b> C-M-i
<a name="line2078"><font color="#000000">2078:</font></a> <b><font color="#0000FF">@itemx</font></b> M-<b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line2079"><font color="#000000">2079:</font></a> Perform completion on the text around point, possibly using the
<a name="line2080"><font color="#000000">2080:</font></a> selected tags table if one is loaded (<b><font color="#0000FF">@code</font></b><font color="#009900">{completion-at-point}</font>).
<a name="line2081"><font color="#000000">2081:</font></a> 
<a name="line2082"><font color="#000000">2082:</font></a> <b><font color="#0000FF">@item</font></b> M-x xref-find-apropos <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2083"><font color="#000000">2083:</font></a> Display a list of all known identifiers matching <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font>.
<a name="line2084"><font color="#000000">2084:</font></a> 
<a name="line2085"><font color="#000000">2085:</font></a> <b><font color="#0000FF">@item</font></b> M-x list-tags <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{file}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line2086"><font color="#000000">2086:</font></a> Display a list of the identifiers defined in the program file
<a name="line2087"><font color="#000000">2087:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{file}</font>.
<a name="line2088"><font color="#000000">2088:</font></a> 
<a name="line2089"><font color="#000000">2089:</font></a> <b><font color="#0000FF">@item</font></b> M-x tags-next-file
<a name="line2090"><font color="#000000">2090:</font></a> Visit files recorded in the selected tags table.
<a name="line2091"><font color="#000000">2091:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2092"><font color="#000000">2092:</font></a> 
<a name="line2093"><font color="#000000">2093:</font></a>   In most programming language modes, you can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-i}</font> or
<a name="line2094"><font color="#000000">2094:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-@key{TAB}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{completion-at-point}</font>) to complete the symbol
<a name="line2095"><font color="#000000">2095:</font></a> at point.  Some modes provide specialized completion for this command
<a name="line2096"><font color="#000000">2096:</font></a> tailored to the mode; for those that don't, if there is a tags table
<a name="line2097"><font color="#000000">2097:</font></a> loaded, this command can use it to generate completion candidates.
<a name="line2098"><font color="#000000">2098:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Symbol Completion</font><font color="#FF0000">}</font>.
<a name="line2099"><font color="#000000">2099:</font></a> 
<a name="line2100"><font color="#000000">2100:</font></a> <b><font color="#0000FF">@findex</font></b> list-tags
<a name="line2101"><font color="#000000">2101:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-tags}</font> reads the name of one of the files covered by
<a name="line2102"><font color="#000000">2102:</font></a> the selected tags table, and displays a list of tags defined in that
<a name="line2103"><font color="#000000">2103:</font></a> file.  Do not include a directory as part of the file name unless the
<a name="line2104"><font color="#000000">2104:</font></a> file name recorded in the tags table includes a directory.  This
<a name="line2105"><font color="#000000">2105:</font></a> command works only with the etags backend, and requires a tags table
<a name="line2106"><font color="#000000">2106:</font></a> for the project to be available.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Tags Tables</font><font color="#FF0000">}</font>.
<a name="line2107"><font color="#000000">2107:</font></a> 
<a name="line2108"><font color="#000000">2108:</font></a> <i><font color="#9A1900">@c Sadly, the new-and-improved Xref feature doesn't provide anything</font></i>
<a name="line2109"><font color="#000000">2109:</font></a> <i><font color="#9A1900">@c close to the described below features of the now-obsoleted</font></i>
<a name="line2110"><font color="#000000">2110:</font></a> <i><font color="#9A1900">@c tags-apropos.  I'm leaving this here to encourage enhancements to</font></i>
<a name="line2111"><font color="#000000">2111:</font></a> <i><font color="#9A1900">@c xref.el.</font></i>
<a name="line2112"><font color="#000000">2112:</font></a> <b><font color="#0000FF">@ignore</font></b>
<a name="line2113"><font color="#000000">2113:</font></a> <b><font color="#0000FF">@findex</font></b> tags-apropos
<a name="line2114"><font color="#000000">2114:</font></a> <b><font color="#0000FF">@vindex</font></b> tags-apropos-verbose
<a name="line2115"><font color="#000000">2115:</font></a> <b><font color="#0000FF">@vindex</font></b> tags-tag-face
<a name="line2116"><font color="#000000">2116:</font></a> <b><font color="#0000FF">@vindex</font></b> tags-apropos-additional-actions
<a name="line2117"><font color="#000000">2117:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x tags-apropos}</font> is like <b><font color="#0000FF">@code</font></b><font color="#009900">{apropos}</font> for tags
<a name="line2118"><font color="#000000">2118:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Apropos</font><font color="#FF0000">}</font>).  It displays a list of tags in the selected tags
<a name="line2119"><font color="#000000">2119:</font></a> table whose entries match <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font>.  If the variable
<a name="line2120"><font color="#000000">2120:</font></a> <i><font color="#9A1900">@code{tags-apropos-verbose} is non-@code{nil}, it displays the names</font></i>
<a name="line2121"><font color="#000000">2121:</font></a> of the tags files together with the tag names.  You can customize the
<a name="line2122"><font color="#000000">2122:</font></a> appearance of the output by setting the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{tags-tag-face}</font>
<a name="line2123"><font color="#000000">2123:</font></a> to a face.  You can display additional output by customizing the
<a name="line2124"><font color="#000000">2124:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{tags-apropos-additional-actions}</font>; see its documentation
<a name="line2125"><font color="#000000">2125:</font></a> for details.
<a name="line2126"><font color="#000000">2126:</font></a> <b><font color="#0000FF">@end ignore</font></b>
<a name="line2127"><font color="#000000">2127:</font></a> 
<a name="line2128"><font color="#000000">2128:</font></a> <b><font color="#0000FF">@findex</font></b> tags-next-file
<a name="line2129"><font color="#000000">2129:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x tags-next-file}</font> visits files covered by the selected tags table.
<a name="line2130"><font color="#000000">2130:</font></a> The first time it is called, it visits the first file covered by the
<a name="line2131"><font color="#000000">2131:</font></a> table.  Each subsequent call visits the next covered file, unless a
<a name="line2132"><font color="#000000">2132:</font></a> prefix argument is supplied, in which case it returns to the first
<a name="line2133"><font color="#000000">2133:</font></a> file.  This command requires a tags table to be selected.
<a name="line2134"><font color="#000000">2134:</font></a> 
<a name="line2135"><font color="#000000">2135:</font></a> <b><font color="#0000FF">@node</font></b> Tags Tables
<a name="line2136"><font color="#000000">2136:</font></a> <b><font color="#0000FF">@subsection</font></b> Tags Tables
<a name="line2137"><font color="#000000">2137:</font></a> <i><font color="#9A1900">@cindex tags and tag tables</font></i>
<a name="line2138"><font color="#000000">2138:</font></a> 
<a name="line2139"><font color="#000000">2139:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{tags table}</font> records the tags<b><font color="#0000FF">@footnote</font></b><font color="#009900">{</font>
<a name="line2140"><font color="#000000">2140:</font></a> <font color="#009900">A @dfn{tag} is a synonym for identifier reference.  Commands and</font>
<a name="line2141"><font color="#000000">2141:</font></a> <font color="#009900">features based on the @code{etags} package traditionally use ``tag''</font>
<a name="line2142"><font color="#000000">2142:</font></a> <font color="#009900">with this meaning, and this subsection follows that tradition.</font>
<a name="line2143"><font color="#000000">2143:</font></a> <font color="#009900">}</font> extracted by scanning the source code of a certain program or a
<a name="line2144"><font color="#000000">2144:</font></a> certain document.  Tags extracted from generated files reference the
<a name="line2145"><font color="#000000">2145:</font></a> original files, rather than the generated files that were scanned
<a name="line2146"><font color="#000000">2146:</font></a> during tag extraction.  Examples of generated files include C files
<a name="line2147"><font color="#000000">2147:</font></a> generated from Cweb source files, from a Yacc parser, or from Lex
<a name="line2148"><font color="#000000">2148:</font></a> scanner definitions; <b><font color="#0000FF">@file</font></b><font color="#009900">{.i}</font> preprocessed C files; and Fortran files
<a name="line2149"><font color="#000000">2149:</font></a> produced by preprocessing <b><font color="#0000FF">@file</font></b><font color="#009900">{.fpp}</font> source files.
<a name="line2150"><font color="#000000">2150:</font></a> 
<a name="line2151"><font color="#000000">2151:</font></a> <i><font color="#9A1900">@cindex etags</font></i>
<a name="line2152"><font color="#000000">2152:</font></a>   To produce a tags table, you run the <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> shell command
<a name="line2153"><font color="#000000">2153:</font></a> on a document or the source code file.  The <b><font color="#0000FF">@samp</font></b><font color="#009900">{etags}</font> program
<a name="line2154"><font color="#000000">2154:</font></a> writes the tags to a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{tags table file}</font>, or <b><font color="#0000FF">@dfn</font></b><font color="#009900">{tags file}</font> in
<a name="line2155"><font color="#000000">2155:</font></a> short.  The conventional name for a tags file is <b><font color="#0000FF">@file</font></b><font color="#009900">{TAGS}</font><b><font color="#0000FF">@.</font></b>
<a name="line2156"><font color="#000000">2156:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Create Tags Table</font><font color="#FF0000">}</font>.  (It is also possible to create a tags table
<a name="line2157"><font color="#000000">2157:</font></a> by using one of the commands from other packages that can produce such
<a name="line2158"><font color="#000000">2158:</font></a> tables in the same format.)
<a name="line2159"><font color="#000000">2159:</font></a> 
<a name="line2160"><font color="#000000">2160:</font></a>   Emacs uses the tags tables via the <b><font color="#0000FF">@code</font></b><font color="#009900">{etags}</font> package as one of
<a name="line2161"><font color="#000000">2161:</font></a> the supported backends for <b><font color="#0000FF">@code{xref</font></b><font color="#FF0000">}</font>.  Because tags tables are
<a name="line2162"><font color="#000000">2162:</font></a> produced by the <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> command that is part of an Emacs
<a name="line2163"><font color="#000000">2163:</font></a> distribution, we describe tags tables in more detail here.
<a name="line2164"><font color="#000000">2164:</font></a> 
<a name="line2165"><font color="#000000">2165:</font></a> <i><font color="#9A1900">@cindex C++ class browser, tags</font></i>
<a name="line2166"><font color="#000000">2166:</font></a> <i><font color="#9A1900">@cindex tags, C++</font></i>
<a name="line2167"><font color="#000000">2167:</font></a> <i><font color="#9A1900">@cindex class browser, C++</font></i>
<a name="line2168"><font color="#000000">2168:</font></a> <i><font color="#9A1900">@cindex Ebrowse</font></i>
<a name="line2169"><font color="#000000">2169:</font></a>   The Ebrowse facility is similar to <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> but specifically
<a name="line2170"><font color="#000000">2170:</font></a> tailored for C++.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,, Ebrowse, ebrowse, Ebrowse User's</font>
<a name="line2171"><font color="#000000">2171:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>.  The Semantic package provides another way to generate and
<a name="line2172"><font color="#000000">2172:</font></a> use tags, separate from the <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> facility.
<a name="line2173"><font color="#000000">2173:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Semantic</font><font color="#FF0000">}</font>.
<a name="line2174"><font color="#000000">2174:</font></a> 
<a name="line2175"><font color="#000000">2175:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line2176"><font color="#000000">2176:</font></a> <font color="#FF0000">* Tag Syntax::</font>          Tag syntax for various types of code and text files.
<a name="line2177"><font color="#000000">2177:</font></a> <font color="#FF0000">* Create Tags Table::</font>   Creating a tags table with <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>.
<a name="line2178"><font color="#000000">2178:</font></a> <font color="#FF0000">* Etags Regexps::</font>       Create arbitrary tags using regular expressions.
<a name="line2179"><font color="#000000">2179:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line2180"><font color="#000000">2180:</font></a> 
<a name="line2181"><font color="#000000">2181:</font></a> <b><font color="#0000FF">@node</font></b> Tag Syntax
<a name="line2182"><font color="#000000">2182:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Source File Tag Syntax
<a name="line2183"><font color="#000000">2183:</font></a> 
<a name="line2184"><font color="#000000">2184:</font></a>   Here is how tag syntax is defined for the most popular languages:
<a name="line2185"><font color="#000000">2185:</font></a> 
<a name="line2186"><font color="#000000">2186:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line2187"><font color="#000000">2187:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2188"><font color="#000000">2188:</font></a> In C code, any C function or typedef is a tag, and so are definitions of
<a name="line2189"><font color="#000000">2189:</font></a> <i><font color="#9A1900">@code{struct}, @code{union} and @code{enum}.</font></i>
<a name="line2190"><font color="#000000">2190:</font></a> <i><font color="#9A1900">@code{#define} macro definitions, @code{#undef} and @code{enum}</font></i>
<a name="line2191"><font color="#000000">2191:</font></a> constants are also
<a name="line2192"><font color="#000000">2192:</font></a> tags, unless you specify <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-defines}</font> when making the tags table.
<a name="line2193"><font color="#000000">2193:</font></a> Similarly, global variables are tags, unless you specify
<a name="line2194"><font color="#000000">2194:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-globals}</font>, and so are struct members, unless you specify
<a name="line2195"><font color="#000000">2195:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-members}</font>.  Use of <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-globals}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-defines}</font>
<a name="line2196"><font color="#000000">2196:</font></a> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-members}</font> can make the tags table file much smaller.
<a name="line2197"><font color="#000000">2197:</font></a> 
<a name="line2198"><font color="#000000">2198:</font></a> You can tag function declarations and external variables in addition
<a name="line2199"><font color="#000000">2199:</font></a> to function definitions by giving the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--declarations}</font> option to
<a name="line2200"><font color="#000000">2200:</font></a> <i><font color="#9A1900">@command{etags}.</font></i>
<a name="line2201"><font color="#000000">2201:</font></a> 
<a name="line2202"><font color="#000000">2202:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2203"><font color="#000000">2203:</font></a> In C++ code, in addition to all the tag constructs of C code, member
<a name="line2204"><font color="#000000">2204:</font></a> functions are also recognized; member variables are also recognized,
<a name="line2205"><font color="#000000">2205:</font></a> unless you use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-members}</font> option.  <b><font color="#0000FF">@code</font></b><font color="#009900">{operator}</font>
<a name="line2206"><font color="#000000">2206:</font></a> definitions have tag names like <b><font color="#0000FF">@samp</font></b><font color="#009900">{operator+}</font>.  If you specify the
<a name="line2207"><font color="#000000">2207:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--class-qualify}</font> option, tags for variables and functions in
<a name="line2208"><font color="#000000">2208:</font></a> classes are named <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{class}::@var{variable}}</font> and
<a name="line2209"><font color="#000000">2209:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{class}::@var{function}}</font>.  By default, class methods and
<a name="line2210"><font color="#000000">2210:</font></a> members are not class-qualified, which allows to identify their names in
<a name="line2211"><font color="#000000">2211:</font></a> the sources more accurately.
<a name="line2212"><font color="#000000">2212:</font></a> 
<a name="line2213"><font color="#000000">2213:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2214"><font color="#000000">2214:</font></a> In Java code, tags include all the constructs recognized in C++, plus
<a name="line2215"><font color="#000000">2215:</font></a> the <b><font color="#0000FF">@code</font></b><font color="#009900">{interface}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{extends}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{implements}</font> constructs.
<a name="line2216"><font color="#000000">2216:</font></a> Tags for variables and functions in classes are named
<a name="line2217"><font color="#000000">2217:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{class}.@var{variable}}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{class}.@var{function}}</font>.
<a name="line2218"><font color="#000000">2218:</font></a> 
<a name="line2219"><font color="#000000">2219:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2220"><font color="#000000">2220:</font></a> In <b><font color="#0000FF">@LaTeX</font></b><font color="#009900">{}</font> documents, the arguments for <b><font color="#0000FF">@code</font></b><font color="#009900">{\chapter}</font>,
<a name="line2221"><font color="#000000">2221:</font></a> <i><font color="#9A1900">@code{\section}, @code{\subsection}, @code{\subsubsection},</font></i>
<a name="line2222"><font color="#000000">2222:</font></a> <i><font color="#9A1900">@code{\eqno}, @code{\label}, @code{\ref}, @code{\cite},</font></i>
<a name="line2223"><font color="#000000">2223:</font></a> <i><font color="#9A1900">@code{\bibitem}, @code{\part}, @code{\appendix}, @code{\entry},</font></i>
<a name="line2224"><font color="#000000">2224:</font></a> <i><font color="#9A1900">@code{\index}, @code{\def}, @code{\newcommand}, @code{\renewcommand},</font></i>
<a name="line2225"><font color="#000000">2225:</font></a> <i><font color="#9A1900">@code{\newenvironment} and @code{\renewenvironment} are tags.</font></i>
<a name="line2226"><font color="#000000">2226:</font></a> 
<a name="line2227"><font color="#000000">2227:</font></a> Other commands can make tags as well, if you specify them in the
<a name="line2228"><font color="#000000">2228:</font></a> environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{TEXTAGS}</font> before invoking <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>.  The
<a name="line2229"><font color="#000000">2229:</font></a> value of this environment variable should be a colon-separated list of
<a name="line2230"><font color="#000000">2230:</font></a> command names.  For example,
<a name="line2231"><font color="#000000">2231:</font></a> 
<a name="line2232"><font color="#000000">2232:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2233"><font color="#000000">2233:</font></a> TEXTAGS="mycommand:myothercommand"
<a name="line2234"><font color="#000000">2234:</font></a> export TEXTAGS
<a name="line2235"><font color="#000000">2235:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2236"><font color="#000000">2236:</font></a> 
<a name="line2237"><font color="#000000">2237:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2238"><font color="#000000">2238:</font></a> specifies (using Bourne shell syntax) that the commands
<a name="line2239"><font color="#000000">2239:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\mycommand}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{\myothercommand}</font> also define tags.
<a name="line2240"><font color="#000000">2240:</font></a> 
<a name="line2241"><font color="#000000">2241:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2242"><font color="#000000">2242:</font></a> In Lisp code, any function defined with <b><font color="#0000FF">@code</font></b><font color="#009900">{defun}</font>, any variable
<a name="line2243"><font color="#000000">2243:</font></a> defined with <b><font color="#0000FF">@code</font></b><font color="#009900">{defvar}</font> or <b><font color="#0000FF">@code</font></b><font color="#009900">{defconst}</font>, and in general the
<a name="line2244"><font color="#000000">2244:</font></a> first argument of any expression that starts with <b><font color="#0000FF">@samp</font></b><font color="#009900">{(def}</font> in
<a name="line2245"><font color="#000000">2245:</font></a> column zero is a tag.  As an exception, expressions of the form
<a name="line2246"><font color="#000000">2246:</font></a> <i><font color="#9A1900">@code{(defvar @var{foo})} are treated as declarations, and are only</font></i>
<a name="line2247"><font color="#000000">2247:</font></a> tagged if the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--declarations}</font> option is given.
<a name="line2248"><font color="#000000">2248:</font></a> 
<a name="line2249"><font color="#000000">2249:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2250"><font color="#000000">2250:</font></a> In Scheme code, tags include anything defined with <b><font color="#0000FF">@code</font></b><font color="#009900">{def}</font> or with a
<a name="line2251"><font color="#000000">2251:</font></a> construct whose name starts with <b><font color="#0000FF">@samp</font></b><font color="#009900">{def}</font>.  They also include variables
<a name="line2252"><font color="#000000">2252:</font></a> set with <b><font color="#0000FF">@code</font></b><font color="#009900">{set!}</font> at top level in the file.
<a name="line2253"><font color="#000000">2253:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line2254"><font color="#000000">2254:</font></a> 
<a name="line2255"><font color="#000000">2255:</font></a>   Several other languages are also supported:
<a name="line2256"><font color="#000000">2256:</font></a> 
<a name="line2257"><font color="#000000">2257:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line2258"><font color="#000000">2258:</font></a> 
<a name="line2259"><font color="#000000">2259:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2260"><font color="#000000">2260:</font></a> In Ada code, functions, procedures, packages, tasks and types are
<a name="line2261"><font color="#000000">2261:</font></a> tags.  Use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--packages-only}</font> option to create tags for
<a name="line2262"><font color="#000000">2262:</font></a> packages only.
<a name="line2263"><font color="#000000">2263:</font></a> 
<a name="line2264"><font color="#000000">2264:</font></a> In Ada, the same name can be used for different kinds of entity
<a name="line2265"><font color="#000000">2265:</font></a> (e.g., for a procedure and for a function).  Also, for things like
<a name="line2266"><font color="#000000">2266:</font></a> packages, procedures and functions, there is the spec (i.e., the
<a name="line2267"><font color="#000000">2267:</font></a> interface) and the body (i.e., the implementation).  To make it
<a name="line2268"><font color="#000000">2268:</font></a> easier to pick the definition you want, Ada tag names have suffixes
<a name="line2269"><font color="#000000">2269:</font></a> indicating the type of entity:
<a name="line2270"><font color="#000000">2270:</font></a> 
<a name="line2271"><font color="#000000">2271:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@samp</font></b>
<a name="line2272"><font color="#000000">2272:</font></a> <b><font color="#0000FF">@item</font></b> /b
<a name="line2273"><font color="#000000">2273:</font></a> package body.
<a name="line2274"><font color="#000000">2274:</font></a> <b><font color="#0000FF">@item</font></b> /f
<a name="line2275"><font color="#000000">2275:</font></a> function.
<a name="line2276"><font color="#000000">2276:</font></a> <b><font color="#0000FF">@item</font></b> /k
<a name="line2277"><font color="#000000">2277:</font></a> task.
<a name="line2278"><font color="#000000">2278:</font></a> <b><font color="#0000FF">@item</font></b> /p
<a name="line2279"><font color="#000000">2279:</font></a> procedure.
<a name="line2280"><font color="#000000">2280:</font></a> <b><font color="#0000FF">@item</font></b> /s
<a name="line2281"><font color="#000000">2281:</font></a> package spec.
<a name="line2282"><font color="#000000">2282:</font></a> <b><font color="#0000FF">@item</font></b> /t
<a name="line2283"><font color="#000000">2283:</font></a> type.
<a name="line2284"><font color="#000000">2284:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2285"><font color="#000000">2285:</font></a> 
<a name="line2286"><font color="#000000">2286:</font></a>   Thus, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x find-tag @key{RET} bidule/b @key{RET}}</font> will go
<a name="line2287"><font color="#000000">2287:</font></a> directly to the body of the package <b><font color="#0000FF">@code</font></b><font color="#009900">{bidule}</font>, while <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2288"><font color="#000000">2288:</font></a> <font color="#009900">find-tag @key{RET} bidule @key{RET}}</font> will just search for any tag
<a name="line2289"><font color="#000000">2289:</font></a> <i><font color="#9A1900">@code{bidule}.</font></i>
<a name="line2290"><font color="#000000">2290:</font></a> 
<a name="line2291"><font color="#000000">2291:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2292"><font color="#000000">2292:</font></a> In assembler code, labels appearing at the start of a line,
<a name="line2293"><font color="#000000">2293:</font></a> followed by a colon, are tags.
<a name="line2294"><font color="#000000">2294:</font></a> 
<a name="line2295"><font color="#000000">2295:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2296"><font color="#000000">2296:</font></a> In Bison or Yacc input files, each rule defines as a tag the nonterminal
<a name="line2297"><font color="#000000">2297:</font></a> it constructs.  The portions of the file that contain C code are parsed
<a name="line2298"><font color="#000000">2298:</font></a> as C code.
<a name="line2299"><font color="#000000">2299:</font></a> 
<a name="line2300"><font color="#000000">2300:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2301"><font color="#000000">2301:</font></a> In Cobol code, tags are paragraph names; that is, any word starting in
<a name="line2302"><font color="#000000">2302:</font></a> column 8 and followed by a period.
<a name="line2303"><font color="#000000">2303:</font></a> 
<a name="line2304"><font color="#000000">2304:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2305"><font color="#000000">2305:</font></a> In Erlang code, the tags are the functions, records and macros defined
<a name="line2306"><font color="#000000">2306:</font></a> in the file.
<a name="line2307"><font color="#000000">2307:</font></a> 
<a name="line2308"><font color="#000000">2308:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2309"><font color="#000000">2309:</font></a> In Fortran code, functions, subroutines and block data are tags.
<a name="line2310"><font color="#000000">2310:</font></a> 
<a name="line2311"><font color="#000000">2311:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2312"><font color="#000000">2312:</font></a> In Go code, packages, functions, and types are tags.
<a name="line2313"><font color="#000000">2313:</font></a> 
<a name="line2314"><font color="#000000">2314:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2315"><font color="#000000">2315:</font></a> In HTML input files, the tags are the <b><font color="#0000FF">@code</font></b><font color="#009900">{title}</font> and the <b><font color="#0000FF">@code</font></b><font color="#009900">{h1}</font>,
<a name="line2316"><font color="#000000">2316:</font></a> <i><font color="#9A1900">@code{h2}, @code{h3} headers.  Also, tags are @code{name=} in anchors</font></i>
<a name="line2317"><font color="#000000">2317:</font></a> and all occurrences of <b><font color="#0000FF">@code</font></b><font color="#009900">{id=}</font>.
<a name="line2318"><font color="#000000">2318:</font></a> 
<a name="line2319"><font color="#000000">2319:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2320"><font color="#000000">2320:</font></a> In Lua input files, all functions are tags.
<a name="line2321"><font color="#000000">2321:</font></a> 
<a name="line2322"><font color="#000000">2322:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2323"><font color="#000000">2323:</font></a> In makefiles, targets are tags; additionally, variables are tags
<a name="line2324"><font color="#000000">2324:</font></a> unless you specify <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-globals}</font>.
<a name="line2325"><font color="#000000">2325:</font></a> 
<a name="line2326"><font color="#000000">2326:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2327"><font color="#000000">2327:</font></a> In Objective C code, tags include Objective C definitions for classes,
<a name="line2328"><font color="#000000">2328:</font></a> class categories, methods and protocols.  Tags for variables and
<a name="line2329"><font color="#000000">2329:</font></a> functions in classes are named <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{class}::@var{variable}}</font> and
<a name="line2330"><font color="#000000">2330:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{class}::@var{function}}</font>.
<a name="line2331"><font color="#000000">2331:</font></a> 
<a name="line2332"><font color="#000000">2332:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2333"><font color="#000000">2333:</font></a> In Pascal code, the tags are the functions and procedures defined in
<a name="line2334"><font color="#000000">2334:</font></a> the file.
<a name="line2335"><font color="#000000">2335:</font></a> 
<a name="line2336"><font color="#000000">2336:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2337"><font color="#000000">2337:</font></a> In Perl code, the tags are the packages, subroutines and variables
<a name="line2338"><font color="#000000">2338:</font></a> defined by the <b><font color="#0000FF">@code</font></b><font color="#009900">{package}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{sub}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{use constant}</font>,
<a name="line2339"><font color="#000000">2339:</font></a> <i><font color="#9A1900">@code{my}, and @code{local} keywords.  Use @samp{--globals} if you</font></i>
<a name="line2340"><font color="#000000">2340:</font></a> want to tag global variables.  Tags for subroutines are named
<a name="line2341"><font color="#000000">2341:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{package}::@var{sub}}</font>.  The name for subroutines defined in
<a name="line2342"><font color="#000000">2342:</font></a> the default package is <b><font color="#0000FF">@samp</font></b><font color="#009900">{main::@var{sub}}</font>.
<a name="line2343"><font color="#000000">2343:</font></a> 
<a name="line2344"><font color="#000000">2344:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2345"><font color="#000000">2345:</font></a> In PHP code, tags are functions, classes and defines.  Vars are tags
<a name="line2346"><font color="#000000">2346:</font></a> too, unless you use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-members}</font> option.
<a name="line2347"><font color="#000000">2347:</font></a> 
<a name="line2348"><font color="#000000">2348:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2349"><font color="#000000">2349:</font></a> In PostScript code, the tags are the functions.
<a name="line2350"><font color="#000000">2350:</font></a> 
<a name="line2351"><font color="#000000">2351:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2352"><font color="#000000">2352:</font></a> In Prolog code, tags are predicates and rules at the beginning of
<a name="line2353"><font color="#000000">2353:</font></a> line.
<a name="line2354"><font color="#000000">2354:</font></a> 
<a name="line2355"><font color="#000000">2355:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2356"><font color="#000000">2356:</font></a> In Python code, <b><font color="#0000FF">@code</font></b><font color="#009900">{def}</font> or <b><font color="#0000FF">@code</font></b><font color="#009900">{class}</font> at the beginning of a line
<a name="line2357"><font color="#000000">2357:</font></a> generate a tag.
<a name="line2358"><font color="#000000">2358:</font></a> 
<a name="line2359"><font color="#000000">2359:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2360"><font color="#000000">2360:</font></a> In Ruby code, <b><font color="#0000FF">@code</font></b><font color="#009900">{def}</font> or <b><font color="#0000FF">@code</font></b><font color="#009900">{class}</font> or <b><font color="#0000FF">@code</font></b><font color="#009900">{module}</font> at the
<a name="line2361"><font color="#000000">2361:</font></a> beginning of a line generate a tag.  Constants also generate tags.
<a name="line2362"><font color="#000000">2362:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line2363"><font color="#000000">2363:</font></a> 
<a name="line2364"><font color="#000000">2364:</font></a>   You can also generate tags based on regexp matching (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Etags</font>
<a name="line2365"><font color="#000000">2365:</font></a> <font color="#FF0000">Regexps</font><font color="#FF0000">}</font>) to handle other formats and languages.
<a name="line2366"><font color="#000000">2366:</font></a> 
<a name="line2367"><font color="#000000">2367:</font></a> <b><font color="#0000FF">@node</font></b> Create Tags Table
<a name="line2368"><font color="#000000">2368:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Creating Tags Tables
<a name="line2369"><font color="#000000">2369:</font></a> <i><font color="#9A1900">@cindex @command{etags} program</font></i>
<a name="line2370"><font color="#000000">2370:</font></a> 
<a name="line2371"><font color="#000000">2371:</font></a>   The <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> program is used to create a tags table file.  It knows
<a name="line2372"><font color="#000000">2372:</font></a> the syntax of several languages, as described in
<a name="line2373"><font color="#000000">2373:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line2374"><font color="#000000">2374:</font></a> the previous section.
<a name="line2375"><font color="#000000">2375:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line2376"><font color="#000000">2376:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line2377"><font color="#000000">2377:</font></a> <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Tag Syntax</font><font color="#FF0000">}</font>.
<a name="line2378"><font color="#000000">2378:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line2379"><font color="#000000">2379:</font></a> Here is how to run <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>:
<a name="line2380"><font color="#000000">2380:</font></a> 
<a name="line2381"><font color="#000000">2381:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2382"><font color="#000000">2382:</font></a> etags <b><font color="#0000FF">@var</font></b><font color="#009900">{inputfiles}</font><b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font>
<a name="line2383"><font color="#000000">2383:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2384"><font color="#000000">2384:</font></a> 
<a name="line2385"><font color="#000000">2385:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2386"><font color="#000000">2386:</font></a> The <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> program reads the specified files, and writes a tags
<a name="line2387"><font color="#000000">2387:</font></a> table named <b><font color="#0000FF">@file</font></b><font color="#009900">{TAGS}</font> in the current working directory.  You can
<a name="line2388"><font color="#000000">2388:</font></a> optionally specify a different file name for the tags table by using the
<a name="line2389"><font color="#000000">2389:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--output=@var{file}}</font> option; specifying <b><font color="#0000FF">@file</font></b><font color="#009900">{-}</font> as a file name
<a name="line2390"><font color="#000000">2390:</font></a> prints the tags table to standard output.  You can also append the
<a name="line2391"><font color="#000000">2391:</font></a> newly created tags table to an existing file by using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--append}</font>
<a name="line2392"><font color="#000000">2392:</font></a> option.
<a name="line2393"><font color="#000000">2393:</font></a> 
<a name="line2394"><font color="#000000">2394:</font></a>   If the specified files don't exist, <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> looks for
<a name="line2395"><font color="#000000">2395:</font></a> compressed versions of them and uncompresses them to read them.  Under
<a name="line2396"><font color="#000000">2396:</font></a> MS-DOS, <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> also looks for file names like <b><font color="#0000FF">@file</font></b><font color="#009900">{mycode.cgz}</font>
<a name="line2397"><font color="#000000">2397:</font></a> if it is given <b><font color="#0000FF">@samp</font></b><font color="#009900">{mycode.c}</font> on the command line and <b><font color="#0000FF">@file</font></b><font color="#009900">{mycode.c}</font>
<a name="line2398"><font color="#000000">2398:</font></a> does not exist.
<a name="line2399"><font color="#000000">2399:</font></a> 
<a name="line2400"><font color="#000000">2400:</font></a>   If the tags table becomes outdated due to changes in the files
<a name="line2401"><font color="#000000">2401:</font></a> described in it, you can update it by running the <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>
<a name="line2402"><font color="#000000">2402:</font></a> program again.  If the tags table does not record a tag, or records it
<a name="line2403"><font color="#000000">2403:</font></a> for the wrong file, then Emacs will not be able to find that
<a name="line2404"><font color="#000000">2404:</font></a> definition until you update the tags table.  But if the position
<a name="line2405"><font color="#000000">2405:</font></a> recorded in the tags table becomes a little bit wrong (due to other
<a name="line2406"><font color="#000000">2406:</font></a> editing), Emacs will still be able to find the right position, with a
<a name="line2407"><font color="#000000">2407:</font></a> slight delay.
<a name="line2408"><font color="#000000">2408:</font></a> 
<a name="line2409"><font color="#000000">2409:</font></a>    Thus, there is no need to update the tags table after each edit.
<a name="line2410"><font color="#000000">2410:</font></a> You should update a tags table when you define new tags that you want
<a name="line2411"><font color="#000000">2411:</font></a> to have listed, or when you move tag definitions from one file to
<a name="line2412"><font color="#000000">2412:</font></a> another, or when changes become substantial.
<a name="line2413"><font color="#000000">2413:</font></a> 
<a name="line2414"><font color="#000000">2414:</font></a>   You can make a tags table <b><font color="#0000FF">@dfn</font></b><font color="#009900">{include}</font> another tags table, by
<a name="line2415"><font color="#000000">2415:</font></a> passing the <b><font color="#0000FF">@samp</font></b><font color="#009900">{--include=@var{file}}</font> option to <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>.  It
<a name="line2416"><font color="#000000">2416:</font></a> then covers all the files covered by the included tags file, as well
<a name="line2417"><font color="#000000">2417:</font></a> as its own.
<a name="line2418"><font color="#000000">2418:</font></a> 
<a name="line2419"><font color="#000000">2419:</font></a>   If you specify the source files with relative file names when you run
<a name="line2420"><font color="#000000">2420:</font></a> <i><font color="#9A1900">@command{etags}, the tags file will contain file names relative to the</font></i>
<a name="line2421"><font color="#000000">2421:</font></a> directory where the tags file was initially written.  This way, you can
<a name="line2422"><font color="#000000">2422:</font></a> move an entire directory tree containing both the tags file and the
<a name="line2423"><font color="#000000">2423:</font></a> source files, and the tags file will still refer correctly to the source
<a name="line2424"><font color="#000000">2424:</font></a> files.  If the tags file is <b><font color="#0000FF">@file</font></b><font color="#009900">{-}</font> or is in the <b><font color="#0000FF">@file</font></b><font color="#009900">{/dev}</font> directory,
<a name="line2425"><font color="#000000">2425:</font></a> however, the file names are
<a name="line2426"><font color="#000000">2426:</font></a> made relative to the current working directory.  This is useful, for
<a name="line2427"><font color="#000000">2427:</font></a> example, when writing the tags to the standard output.
<a name="line2428"><font color="#000000">2428:</font></a> 
<a name="line2429"><font color="#000000">2429:</font></a>   When using a relative file name, it should not be a symbolic link
<a name="line2430"><font color="#000000">2430:</font></a> pointing to a tags file in a different directory, because this would
<a name="line2431"><font color="#000000">2431:</font></a> generally render the file names invalid.
<a name="line2432"><font color="#000000">2432:</font></a> 
<a name="line2433"><font color="#000000">2433:</font></a>   If you specify absolute file names as arguments to <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>, then
<a name="line2434"><font color="#000000">2434:</font></a> the tags file will contain absolute file names.  This way, the tags file
<a name="line2435"><font color="#000000">2435:</font></a> will still refer to the same files even if you move it, as long as the
<a name="line2436"><font color="#000000">2436:</font></a> source files remain in the same place.  Absolute file names start with
<a name="line2437"><font color="#000000">2437:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{/}</font>, or with <b><font color="#0000FF">@samp</font></b><font color="#009900">{@var{device}:/}</font> on MS-DOS and MS-Windows.
<a name="line2438"><font color="#000000">2438:</font></a> 
<a name="line2439"><font color="#000000">2439:</font></a>    When you want to make a tags table from a great number of files,
<a name="line2440"><font color="#000000">2440:</font></a> you may have problems listing them on the command line, because some
<a name="line2441"><font color="#000000">2441:</font></a> systems have a limit on its length.  You can circumvent this limit by
<a name="line2442"><font color="#000000">2442:</font></a> telling <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> to read the file names from its standard
<a name="line2443"><font color="#000000">2443:</font></a> input, by typing a dash in place of the file names, like this:
<a name="line2444"><font color="#000000">2444:</font></a> 
<a name="line2445"><font color="#000000">2445:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2446"><font color="#000000">2446:</font></a> find . -name "*.[chCH]" -print | etags -
<a name="line2447"><font color="#000000">2447:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2448"><font color="#000000">2448:</font></a> 
<a name="line2449"><font color="#000000">2449:</font></a>   <i><font color="#9A1900">@command{etags} recognizes the language used in an input file based on</font></i>
<a name="line2450"><font color="#000000">2450:</font></a> its file name and contents.  It first tries to match the file's name and
<a name="line2451"><font color="#000000">2451:</font></a> extension to the ones commonly used with certain languages.  Some
<a name="line2452"><font color="#000000">2452:</font></a> languages have interpreters with known names (e.g., <b><font color="#0000FF">@command</font></b><font color="#009900">{perl}</font> for
<a name="line2453"><font color="#000000">2453:</font></a> Perl or <b><font color="#0000FF">@command</font></b><font color="#009900">{pl}</font> for Prolog), so <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> next looks for an
<a name="line2454"><font color="#000000">2454:</font></a> interpreter specification of the form <b><font color="#0000FF">@samp</font></b><font color="#009900">{#!@var{interp}}</font> on the first
<a name="line2455"><font color="#000000">2455:</font></a> line of an input file, and matches that against known interpreters.  If
<a name="line2456"><font color="#000000">2456:</font></a> none of that works, or if you want to override the automatic detection of
<a name="line2457"><font color="#000000">2457:</font></a> the language, you can specify the language explicitly with the
<a name="line2458"><font color="#000000">2458:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--language=@var{name}}</font> option.  You can intermix these options with
<a name="line2459"><font color="#000000">2459:</font></a> file names; each one applies to the file names that follow it.  Specify
<a name="line2460"><font color="#000000">2460:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--language=auto}</font> to tell <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> to resume guessing the
<a name="line2461"><font color="#000000">2461:</font></a> language from the file names and file contents.  Specify
<a name="line2462"><font color="#000000">2462:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--language=none}</font> to turn off language-specific processing entirely;
<a name="line2463"><font color="#000000">2463:</font></a> then <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> recognizes tags by regexp matching alone
<a name="line2464"><font color="#000000">2464:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Etags Regexps</font><font color="#FF0000">}</font>).  This comes in handy when an input file uses a
<a name="line2465"><font color="#000000">2465:</font></a> language not yet supported by <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>, and you want to avoid
<a name="line2466"><font color="#000000">2466:</font></a> having <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> fall back on Fortran and C as the default
<a name="line2467"><font color="#000000">2467:</font></a> languages.
<a name="line2468"><font color="#000000">2468:</font></a> 
<a name="line2469"><font color="#000000">2469:</font></a>   The option <b><font color="#0000FF">@samp</font></b><font color="#009900">{--parse-stdin=@var{file}}</font> is mostly useful when
<a name="line2470"><font color="#000000">2470:</font></a> calling <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> from programs.  It can be used (only once) in
<a name="line2471"><font color="#000000">2471:</font></a> place of a file name on the command line.  <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> will read from
<a name="line2472"><font color="#000000">2472:</font></a> standard input and mark the produced tags as belonging to the file
<a name="line2473"><font color="#000000">2473:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{file}</font>.
<a name="line2474"><font color="#000000">2474:</font></a> 
<a name="line2475"><font color="#000000">2475:</font></a>   <b><font color="#0000FF">@samp</font></b><font color="#009900">{etags --help}</font> outputs the list of the languages <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>
<a name="line2476"><font color="#000000">2476:</font></a> knows, and the file name rules for guessing the language.  It also prints
<a name="line2477"><font color="#000000">2477:</font></a> a list of all the available <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> options, together with a short
<a name="line2478"><font color="#000000">2478:</font></a> explanation.  If followed by one or more <b><font color="#0000FF">@samp</font></b><font color="#009900">{--language=@var{lang}}</font>
<a name="line2479"><font color="#000000">2479:</font></a> options, it outputs detailed information about how tags are generated for
<a name="line2480"><font color="#000000">2480:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{lang}</font>.
<a name="line2481"><font color="#000000">2481:</font></a> 
<a name="line2482"><font color="#000000">2482:</font></a> <b><font color="#0000FF">@node</font></b> Etags Regexps
<a name="line2483"><font color="#000000">2483:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Etags Regexps
<a name="line2484"><font color="#000000">2484:</font></a> 
<a name="line2485"><font color="#000000">2485:</font></a>   The <b><font color="#0000FF">@samp</font></b><font color="#009900">{--regex}</font> option to <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> allows tags to be
<a name="line2486"><font color="#000000">2486:</font></a> recognized by regular expression matching.  You can intermix this
<a name="line2487"><font color="#000000">2487:</font></a> option with file names; each one applies to the source files that
<a name="line2488"><font color="#000000">2488:</font></a> follow it.  If you specify multiple <b><font color="#0000FF">@samp</font></b><font color="#009900">{--regex}</font> options, all of
<a name="line2489"><font color="#000000">2489:</font></a> them are used in parallel.  The syntax is:
<a name="line2490"><font color="#000000">2490:</font></a> 
<a name="line2491"><font color="#000000">2491:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2492"><font color="#000000">2492:</font></a> --regex=[<b><font color="#0000FF">@var</font></b><font color="#009900">{@{language@}}</font>]/<b><font color="#0000FF">@var</font></b><font color="#009900">{tagregexp}</font>/[<b><font color="#0000FF">@var</font></b><font color="#009900">{nameregexp}</font>/]<b><font color="#0000FF">@var</font></b><font color="#009900">{modifiers}</font>
<a name="line2493"><font color="#000000">2493:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2494"><font color="#000000">2494:</font></a> 
<a name="line2495"><font color="#000000">2495:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2496"><font color="#000000">2496:</font></a> The essential part of the option value is <b><font color="#0000FF">@var</font></b><font color="#009900">{tagregexp}</font>, the regexp
<a name="line2497"><font color="#000000">2497:</font></a> for matching tags.  It is always used anchored, that is, it only
<a name="line2498"><font color="#000000">2498:</font></a> matches at the beginning of a line.  If you want to allow indented
<a name="line2499"><font color="#000000">2499:</font></a> tags, use a regexp that matches initial whitespace; start it with
<a name="line2500"><font color="#000000">2500:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[ \t]*}</font>.
<a name="line2501"><font color="#000000">2501:</font></a> 
<a name="line2502"><font color="#000000">2502:</font></a>   In these regular expressions, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font> quotes the next character,
<a name="line2503"><font color="#000000">2503:</font></a> and all the C character escape sequences are supported: <b><font color="#0000FF">@samp</font></b><font color="#009900">{\a}</font> for
<a name="line2504"><font color="#000000">2504:</font></a> bell, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\b}</font> for back space, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\e}</font> for escape, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\f}</font> for
<a name="line2505"><font color="#000000">2505:</font></a> formfeed, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\n}</font> for newline, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\r}</font> for carriage return,
<a name="line2506"><font color="#000000">2506:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\t}</font> for tab, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{\v}</font> for vertical tab.  In addition,
<a name="line2507"><font color="#000000">2507:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\d}</font> stands for the <b><font color="#0000FF">@code</font></b><font color="#009900">{DEL}</font> character.
<a name="line2508"><font color="#000000">2508:</font></a> 
<a name="line2509"><font color="#000000">2509:</font></a>   Ideally, <b><font color="#0000FF">@var</font></b><font color="#009900">{tagregexp}</font> should not match more characters than are
<a name="line2510"><font color="#000000">2510:</font></a> needed to recognize what you want to tag.  If the syntax requires you
<a name="line2511"><font color="#000000">2511:</font></a> to write <b><font color="#0000FF">@var</font></b><font color="#009900">{tagregexp}</font> so it matches more characters beyond the tag
<a name="line2512"><font color="#000000">2512:</font></a> itself, you should add a <b><font color="#0000FF">@var</font></b><font color="#009900">{nameregexp}</font>, to pick out just the tag.
<a name="line2513"><font color="#000000">2513:</font></a> This will enable Emacs to find tags more accurately and to do
<a name="line2514"><font color="#000000">2514:</font></a> completion on tag names more reliably.  In <b><font color="#0000FF">@var</font></b><font color="#009900">{nameregexp}</font>, it is
<a name="line2515"><font color="#000000">2515:</font></a> frequently convenient to use ``back references'' (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexp</font>
<a name="line2516"><font color="#000000">2516:</font></a> <font color="#FF0000">Backslash</font><font color="#FF0000">}</font>) to parenthesized groupings <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{\( @dots{} \)}}</font> in
<a name="line2517"><font color="#000000">2517:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{tagregexp}</font>.  For example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\1}</font> refers to the first such
<a name="line2518"><font color="#000000">2518:</font></a> parenthesized grouping.  You can find some examples of this below.
<a name="line2519"><font color="#000000">2519:</font></a> 
<a name="line2520"><font color="#000000">2520:</font></a>   The <b><font color="#0000FF">@var</font></b><font color="#009900">{modifiers}</font> are a sequence of zero or more characters that
<a name="line2521"><font color="#000000">2521:</font></a> modify the way <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> does the matching.  A regexp with no
<a name="line2522"><font color="#000000">2522:</font></a> modifiers is applied sequentially to each line of the input file, in a
<a name="line2523"><font color="#000000">2523:</font></a> case-sensitive way.  The modifiers and their meanings are:
<a name="line2524"><font color="#000000">2524:</font></a> 
<a name="line2525"><font color="#000000">2525:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@samp</font></b>
<a name="line2526"><font color="#000000">2526:</font></a> <b><font color="#0000FF">@item</font></b> i
<a name="line2527"><font color="#000000">2527:</font></a> Ignore case when matching this regexp.
<a name="line2528"><font color="#000000">2528:</font></a> <b><font color="#0000FF">@item</font></b> m
<a name="line2529"><font color="#000000">2529:</font></a> Match this regular expression against the whole file, so that
<a name="line2530"><font color="#000000">2530:</font></a> multi-line matches are possible.
<a name="line2531"><font color="#000000">2531:</font></a> <b><font color="#0000FF">@item</font></b> s
<a name="line2532"><font color="#000000">2532:</font></a> Match this regular expression against the whole file, and allow
<a name="line2533"><font color="#000000">2533:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{.}</font> in <b><font color="#0000FF">@var</font></b><font color="#009900">{tagregexp}</font> to match newlines.
<a name="line2534"><font color="#000000">2534:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2535"><font color="#000000">2535:</font></a> 
<a name="line2536"><font color="#000000">2536:</font></a>   The <b><font color="#0000FF">@samp</font></b><font color="#009900">{-R}</font> option cancels all the regexps defined by preceding
<a name="line2537"><font color="#000000">2537:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--regex}</font> options.  It too applies to the file names following
<a name="line2538"><font color="#000000">2538:</font></a> it.  Here's an example:
<a name="line2539"><font color="#000000">2539:</font></a> 
<a name="line2540"><font color="#000000">2540:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2541"><font color="#000000">2541:</font></a> etags --regex=/<b><font color="#0000FF">@var</font></b><font color="#009900">{reg1}</font>/i voo.doo --regex=/<b><font color="#0000FF">@var</font></b><font color="#009900">{reg2}</font>/m \
<a name="line2542"><font color="#000000">2542:</font></a>     bar.ber -R --lang=lisp los.er
<a name="line2543"><font color="#000000">2543:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2544"><font color="#000000">2544:</font></a> 
<a name="line2545"><font color="#000000">2545:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2546"><font color="#000000">2546:</font></a> Here <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> chooses the parsing language for <b><font color="#0000FF">@file</font></b><font color="#009900">{voo.doo}</font> and
<a name="line2547"><font color="#000000">2547:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{bar.ber}</font> according to their contents.  <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> also uses
<a name="line2548"><font color="#000000">2548:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{reg1}</font> to recognize additional tags in <b><font color="#0000FF">@file</font></b><font color="#009900">{voo.doo}</font>, and both
<a name="line2549"><font color="#000000">2549:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{reg1}</font> and <b><font color="#0000FF">@var</font></b><font color="#009900">{reg2}</font> to recognize additional tags in
<a name="line2550"><font color="#000000">2550:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{bar.ber}</font>.  <b><font color="#0000FF">@var</font></b><font color="#009900">{reg1}</font> is checked against each line of
<a name="line2551"><font color="#000000">2551:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{voo.doo}</font> and <b><font color="#0000FF">@file</font></b><font color="#009900">{bar.ber}</font>, in a case-insensitive way, while
<a name="line2552"><font color="#000000">2552:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{reg2}</font> is checked against the whole <b><font color="#0000FF">@file</font></b><font color="#009900">{bar.ber}</font> file,
<a name="line2553"><font color="#000000">2553:</font></a> permitting multi-line matches, in a case-sensitive way.  <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font>
<a name="line2554"><font color="#000000">2554:</font></a> uses only the Lisp tags rules, with no user-specified regexp matching,
<a name="line2555"><font color="#000000">2555:</font></a> to recognize tags in <b><font color="#0000FF">@file</font></b><font color="#009900">{los.er}</font>.
<a name="line2556"><font color="#000000">2556:</font></a> 
<a name="line2557"><font color="#000000">2557:</font></a>   You can restrict a <b><font color="#0000FF">@samp</font></b><font color="#009900">{--regex}</font> option to match only files of a
<a name="line2558"><font color="#000000">2558:</font></a> given language by using the optional prefix <b><font color="#0000FF">@var</font></b><font color="#009900">{@{language@}}</font>.
<a name="line2559"><font color="#000000">2559:</font></a> (<b><font color="#0000FF">@samp</font></b><font color="#009900">{etags --help}</font> prints the list of languages recognized by
<a name="line2560"><font color="#000000">2560:</font></a> <i><font color="#9A1900">@command{etags}.)  This is particularly useful when storing many</font></i>
<a name="line2561"><font color="#000000">2561:</font></a> predefined regular expressions for <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> in a file.  The
<a name="line2562"><font color="#000000">2562:</font></a> following example tags the <b><font color="#0000FF">@code</font></b><font color="#009900">{DEFVAR}</font> macros in the Emacs source
<a name="line2563"><font color="#000000">2563:</font></a> files, for the C language only:
<a name="line2564"><font color="#000000">2564:</font></a> 
<a name="line2565"><font color="#000000">2565:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2566"><font color="#000000">2566:</font></a> --regex='@{c@}/[ \t]*DEFVAR_[A-Z_ \t(]+"\([^"]+\)"/\1/'
<a name="line2567"><font color="#000000">2567:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2568"><font color="#000000">2568:</font></a> 
<a name="line2569"><font color="#000000">2569:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2570"><font color="#000000">2570:</font></a> When you have complex regular expressions, you can store the list of
<a name="line2571"><font color="#000000">2571:</font></a> them in a file.  The following option syntax instructs <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> to
<a name="line2572"><font color="#000000">2572:</font></a> read two files of regular expressions.  The regular expressions
<a name="line2573"><font color="#000000">2573:</font></a> contained in the second file are matched without regard to case.
<a name="line2574"><font color="#000000">2574:</font></a> 
<a name="line2575"><font color="#000000">2575:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2576"><font color="#000000">2576:</font></a> --regex=<b><font color="#0000FF">@@@var</font></b><font color="#009900">{case-sensitive-file}</font> --ignore-case-regex=<b><font color="#0000FF">@@@var</font></b><font color="#009900">{ignore-case-file}</font>
<a name="line2577"><font color="#000000">2577:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2578"><font color="#000000">2578:</font></a> 
<a name="line2579"><font color="#000000">2579:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2580"><font color="#000000">2580:</font></a> A regex file for <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> contains one regular expression per
<a name="line2581"><font color="#000000">2581:</font></a> line.  Empty lines, and lines beginning with space or tab are ignored.
<a name="line2582"><font color="#000000">2582:</font></a> When the first character in a line is <b><font color="#0000FF">@samp</font></b><font color="#009900">{@@}</font>, <b><font color="#0000FF">@command</font></b><font color="#009900">{etags}</font> assumes
<a name="line2583"><font color="#000000">2583:</font></a> that the rest of the line is the name of another file of regular
<a name="line2584"><font color="#000000">2584:</font></a> expressions; thus, one such file can include another file.  All the
<a name="line2585"><font color="#000000">2585:</font></a> other lines are taken to be regular expressions.  If the first
<a name="line2586"><font color="#000000">2586:</font></a> non-whitespace text on the line is <b><font color="#0000FF">@samp</font></b><font color="#009900">{--}</font>, that line is a comment.
<a name="line2587"><font color="#000000">2587:</font></a> 
<a name="line2588"><font color="#000000">2588:</font></a>   For example, we can create a file called <b><font color="#0000FF">@samp</font></b><font color="#009900">{emacs.tags}</font> with the
<a name="line2589"><font color="#000000">2589:</font></a> following contents:
<a name="line2590"><font color="#000000">2590:</font></a> 
<a name="line2591"><font color="#000000">2591:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2592"><font color="#000000">2592:</font></a>         -- This is for GNU Emacs C source files
<a name="line2593"><font color="#000000">2593:</font></a> @{c@}/[ \t]*DEFVAR_[A-Z_ \t(]+"\([^"]+\)"/\1/
<a name="line2594"><font color="#000000">2594:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2595"><font color="#000000">2595:</font></a> 
<a name="line2596"><font color="#000000">2596:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2597"><font color="#000000">2597:</font></a> and then use it like this:
<a name="line2598"><font color="#000000">2598:</font></a> 
<a name="line2599"><font color="#000000">2599:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2600"><font color="#000000">2600:</font></a> etags --regex=<b><font color="#0000FF">@@emacs.tags</font></b> *.[ch] */*.[ch]
<a name="line2601"><font color="#000000">2601:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2602"><font color="#000000">2602:</font></a> 
<a name="line2603"><font color="#000000">2603:</font></a>   Here are some more examples.  The regexps are quoted to protect them
<a name="line2604"><font color="#000000">2604:</font></a> from shell interpretation.
<a name="line2605"><font color="#000000">2605:</font></a> 
<a name="line2606"><font color="#000000">2606:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line2607"><font color="#000000">2607:</font></a> 
<a name="line2608"><font color="#000000">2608:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2609"><font color="#000000">2609:</font></a> Tag Octave files:
<a name="line2610"><font color="#000000">2610:</font></a> 
<a name="line2611"><font color="#000000">2611:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2612"><font color="#000000">2612:</font></a> etags --language=none \
<a name="line2613"><font color="#000000">2613:</font></a>       --regex='/[ \t]*function.*=[ \t]*\([^ \t]*\)[ \t]*(/\1/' \
<a name="line2614"><font color="#000000">2614:</font></a>       --regex='/###key \(.*\)/\1/' \
<a name="line2615"><font color="#000000">2615:</font></a>       --regex='/[ \t]*global[ \t].*/' \
<a name="line2616"><font color="#000000">2616:</font></a>       *.m
<a name="line2617"><font color="#000000">2617:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2618"><font color="#000000">2618:</font></a> 
<a name="line2619"><font color="#000000">2619:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2620"><font color="#000000">2620:</font></a> Note that tags are not generated for scripts, so that you have to add
<a name="line2621"><font color="#000000">2621:</font></a> a line by yourself of the form <b><font color="#0000FF">@samp</font></b><font color="#009900">{###key @var{scriptname}}</font> if you
<a name="line2622"><font color="#000000">2622:</font></a> want to jump to it.
<a name="line2623"><font color="#000000">2623:</font></a> 
<a name="line2624"><font color="#000000">2624:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2625"><font color="#000000">2625:</font></a> Tag Tcl files:
<a name="line2626"><font color="#000000">2626:</font></a> 
<a name="line2627"><font color="#000000">2627:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2628"><font color="#000000">2628:</font></a> etags --language=none --regex='/proc[ \t]+\([^ \t]+\)/\1/' *.tcl
<a name="line2629"><font color="#000000">2629:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2630"><font color="#000000">2630:</font></a> 
<a name="line2631"><font color="#000000">2631:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2632"><font color="#000000">2632:</font></a> Tag VHDL files:
<a name="line2633"><font color="#000000">2633:</font></a> 
<a name="line2634"><font color="#000000">2634:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2635"><font color="#000000">2635:</font></a> etags --language=none \
<a name="line2636"><font color="#000000">2636:</font></a>   --regex='/[ \t]*\(ARCHITECTURE\|CONFIGURATION\) +[^ ]* +OF/' \
<a name="line2637"><font color="#000000">2637:</font></a>   --regex='/[ \t]*\(ATTRIBUTE\|ENTITY\|FUNCTION\|PACKAGE\
<a name="line2638"><font color="#000000">2638:</font></a>   \( BODY\)?\|PROCEDURE\|PROCESS\|TYPE\)[ \t]+\([^ \t(]+\)/\3/'
<a name="line2639"><font color="#000000">2639:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2640"><font color="#000000">2640:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line2641"><font color="#000000">2641:</font></a> 
<a name="line2642"><font color="#000000">2642:</font></a> <b><font color="#0000FF">@node</font></b> Select Tags Table
<a name="line2643"><font color="#000000">2643:</font></a> <b><font color="#0000FF">@subsection</font></b> Selecting a Tags Table
<a name="line2644"><font color="#000000">2644:</font></a> 
<a name="line2645"><font color="#000000">2645:</font></a> <b><font color="#0000FF">@findex</font></b> visit-tags-table
<a name="line2646"><font color="#000000">2646:</font></a>   Emacs has at any time at most one <b><font color="#0000FF">@dfn</font></b><font color="#009900">{selected}</font> tags table.  All the
<a name="line2647"><font color="#000000">2647:</font></a> commands for working with tags tables use the selected one.  To select
<a name="line2648"><font color="#000000">2648:</font></a> a tags table, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x visit-tags-table}</font>, which reads the tags
<a name="line2649"><font color="#000000">2649:</font></a> table file name as an argument, with <b><font color="#0000FF">@file</font></b><font color="#009900">{TAGS}</font> in the default
<a name="line2650"><font color="#000000">2650:</font></a> directory as the default.
<a name="line2651"><font color="#000000">2651:</font></a> 
<a name="line2652"><font color="#000000">2652:</font></a> <b><font color="#0000FF">@vindex</font></b> tags-file-name
<a name="line2653"><font color="#000000">2653:</font></a>   Emacs does not actually read in the tags table contents until you
<a name="line2654"><font color="#000000">2654:</font></a> try to use them; all <b><font color="#0000FF">@code</font></b><font color="#009900">{visit-tags-table}</font> does is store the file
<a name="line2655"><font color="#000000">2655:</font></a> name in the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{tags-file-name}</font>, and not much more.  The
<a name="line2656"><font color="#000000">2656:</font></a> variable's initial value is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>; that value tells all the
<a name="line2657"><font color="#000000">2657:</font></a> commands for working with tags tables that they must ask for a tags
<a name="line2658"><font color="#000000">2658:</font></a> table file name to use.
<a name="line2659"><font color="#000000">2659:</font></a> 
<a name="line2660"><font color="#000000">2660:</font></a>   Using <b><font color="#0000FF">@code</font></b><font color="#009900">{visit-tags-table}</font> when a tags table is already loaded
<a name="line2661"><font color="#000000">2661:</font></a> gives you a choice: you can add the new tags table to the current list
<a name="line2662"><font color="#000000">2662:</font></a> of tags tables, or start a new list.  The tags commands use all the tags
<a name="line2663"><font color="#000000">2663:</font></a> tables in the current list.  If you start a new list, the new tags table
<a name="line2664"><font color="#000000">2664:</font></a> is used <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">instead</font></i><font color="#FF0000">}</font> of others.  If you add the new table to the
<a name="line2665"><font color="#000000">2665:</font></a> current list, it is used <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">as well as</font></i><font color="#FF0000">}</font> the others.
<a name="line2666"><font color="#000000">2666:</font></a> 
<a name="line2667"><font color="#000000">2667:</font></a> <b><font color="#0000FF">@vindex</font></b> tags-table-list
<a name="line2668"><font color="#000000">2668:</font></a>   You can specify a precise list of tags tables by setting the variable
<a name="line2669"><font color="#000000">2669:</font></a> <i><font color="#9A1900">@code{tags-table-list} to a list of strings, like this:</font></i>
<a name="line2670"><font color="#000000">2670:</font></a> 
<a name="line2671"><font color="#000000">2671:</font></a> <i><font color="#9A1900">@c keep this on two lines for formatting in smallbook</font></i>
<a name="line2672"><font color="#000000">2672:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2673"><font color="#000000">2673:</font></a> <b><font color="#0000FF">@group</font></b>
<a name="line2674"><font color="#000000">2674:</font></a> (setq tags-table-list
<a name="line2675"><font color="#000000">2675:</font></a>       '("~/.emacs.d" "/usr/local/lib/emacs/src"))
<a name="line2676"><font color="#000000">2676:</font></a> <b><font color="#0000FF">@end group</font></b>
<a name="line2677"><font color="#000000">2677:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2678"><font color="#000000">2678:</font></a> 
<a name="line2679"><font color="#000000">2679:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2680"><font color="#000000">2680:</font></a> This tells the tags commands to look at the <b><font color="#0000FF">@file</font></b><font color="#009900">{TAGS}</font> files in your
<a name="line2681"><font color="#000000">2681:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d}</font> directory and in the <b><font color="#0000FF">@file</font></b><font color="#009900">{/usr/local/lib/emacs/src}</font>
<a name="line2682"><font color="#000000">2682:</font></a> directory.  The order depends on which file you are in and which tags
<a name="line2683"><font color="#000000">2683:</font></a> table mentions that file.
<a name="line2684"><font color="#000000">2684:</font></a> 
<a name="line2685"><font color="#000000">2685:</font></a>   Do not set both <b><font color="#0000FF">@code</font></b><font color="#009900">{tags-file-name}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{tags-table-list}</font>.
<a name="line2686"><font color="#000000">2686:</font></a> 
<a name="line2687"><font color="#000000">2687:</font></a> <b><font color="#0000FF">@node</font></b> EDE
<a name="line2688"><font color="#000000">2688:</font></a> <b><font color="#0000FF">@section</font></b> Emacs Development Environment
<a name="line2689"><font color="#000000">2689:</font></a> <i><font color="#9A1900">@cindex EDE (Emacs Development Environment)</font></i>
<a name="line2690"><font color="#000000">2690:</font></a> <i><font color="#9A1900">@cindex Emacs Development Environment</font></i>
<a name="line2691"><font color="#000000">2691:</font></a> <i><font color="#9A1900">@cindex Integrated development environment</font></i>
<a name="line2692"><font color="#000000">2692:</font></a> 
<a name="line2693"><font color="#000000">2693:</font></a> EDE (<b><font color="#0000FF">@dfn</font></b><font color="#009900">{Emacs Development Environment}</font>) is a package that simplifies
<a name="line2694"><font color="#000000">2694:</font></a> the task of creating, building, and debugging large programs with
<a name="line2695"><font color="#000000">2695:</font></a> Emacs.  It provides some of the features of an IDE, or <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Integrated</font>
<a name="line2696"><font color="#000000">2696:</font></a> <font color="#009900">Development Environment}</font>, in Emacs.
<a name="line2697"><font color="#000000">2697:</font></a> 
<a name="line2698"><font color="#000000">2698:</font></a> This section provides a brief description of EDE usage.
<a name="line2699"><font color="#000000">2699:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line2700"><font color="#000000">2700:</font></a> For full details, see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, EDE,, ede, Emacs Development Environment</font><font color="#FF0000">}</font>.
<a name="line2701"><font color="#000000">2701:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line2702"><font color="#000000">2702:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line2703"><font color="#000000">2703:</font></a> For full details on Ede, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h i}</font> and then select the EDE
<a name="line2704"><font color="#000000">2704:</font></a> manual.
<a name="line2705"><font color="#000000">2705:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line2706"><font color="#000000">2706:</font></a> 
<a name="line2707"><font color="#000000">2707:</font></a>   EDE is implemented as a global minor mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minor Modes</font><font color="#FF0000">}</font>).  To
<a name="line2708"><font color="#000000">2708:</font></a> enable it, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x global-ede-mode}</font> or click on the
<a name="line2709"><font color="#000000">2709:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Project Support (EDE)}</font> item in the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Tools}</font> menu.  You can
<a name="line2710"><font color="#000000">2710:</font></a> also enable EDE each time you start Emacs, by adding the following
<a name="line2711"><font color="#000000">2711:</font></a> line to your initialization file:
<a name="line2712"><font color="#000000">2712:</font></a> 
<a name="line2713"><font color="#000000">2713:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line2714"><font color="#000000">2714:</font></a> (global-ede-mode t)
<a name="line2715"><font color="#000000">2715:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line2716"><font color="#000000">2716:</font></a> 
<a name="line2717"><font color="#000000">2717:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2718"><font color="#000000">2718:</font></a> Activating EDE adds a menu named <b><font color="#0000FF">@samp</font></b><font color="#009900">{Development}</font> to the menu bar.
<a name="line2719"><font color="#000000">2719:</font></a> Many EDE commands, including the ones described below, can be invoked
<a name="line2720"><font color="#000000">2720:</font></a> from this menu.
<a name="line2721"><font color="#000000">2721:</font></a> 
<a name="line2722"><font color="#000000">2722:</font></a>   EDE organizes files into <b><font color="#0000FF">@dfn</font></b><font color="#009900">{projects}</font>, which correspond to
<a name="line2723"><font color="#000000">2723:</font></a> directory trees.  The <b><font color="#0000FF">@dfn</font></b><font color="#009900">{project root}</font> is the topmost directory of a
<a name="line2724"><font color="#000000">2724:</font></a> project.  To define a new project, visit a file in the desired project
<a name="line2725"><font color="#000000">2725:</font></a> root and type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x ede-new}</font>.  This command prompts for a
<a name="line2726"><font color="#000000">2726:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{project type}</font>, which refers to the underlying method that EDE
<a name="line2727"><font color="#000000">2727:</font></a> will use to manage the project (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Creating a project, EDE,, ede,</font>
<a name="line2728"><font color="#000000">2728:</font></a> <font color="#FF0000">Emacs Development Environment</font><font color="#FF0000">}</font>).  The most common project types are
<a name="line2729"><font color="#000000">2729:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Make}</font>, which uses Makefiles, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{Automake}</font>, which uses GNU
<a name="line2730"><font color="#000000">2730:</font></a> Automake (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, Automake,, automake, Automake</font><font color="#FF0000">}</font>).  In both cases,
<a name="line2731"><font color="#000000">2731:</font></a> EDE also creates a file named <b><font color="#0000FF">@file</font></b><font color="#009900">{Project.ede}</font>, which stores
<a name="line2732"><font color="#000000">2732:</font></a> information about the project.
<a name="line2733"><font color="#000000">2733:</font></a> 
<a name="line2734"><font color="#000000">2734:</font></a>   A project may contain one or more <b><font color="#0000FF">@dfn</font></b><font color="#009900">{targets}</font>.  A target can be an
<a name="line2735"><font color="#000000">2735:</font></a> object file, executable program, or some other type of file, which is
<a name="line2736"><font color="#000000">2736:</font></a> built from one or more of the files in the project.
<a name="line2737"><font color="#000000">2737:</font></a> 
<a name="line2738"><font color="#000000">2738:</font></a>   To add a new <b><font color="#0000FF">@dfn</font></b><font color="#009900">{target}</font> to a project, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c . t}</font>
<a name="line2739"><font color="#000000">2739:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{M-x ede-new-target}</font>).  This command also asks if you wish to
<a name="line2740"><font color="#000000">2740:</font></a> add the current file to that target, which means that the target
<a name="line2741"><font color="#000000">2741:</font></a> is to be built from that file.  After you have defined a target, you
<a name="line2742"><font color="#000000">2742:</font></a> can add more files to it by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c . a}</font>
<a name="line2743"><font color="#000000">2743:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{ede-add-file}</font>).
<a name="line2744"><font color="#000000">2744:</font></a> 
<a name="line2745"><font color="#000000">2745:</font></a>   To build a target, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c . c}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{ede-compile-target}</font>).
<a name="line2746"><font color="#000000">2746:</font></a> To build all the targets in the project, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c . C}</font>
<a name="line2747"><font color="#000000">2747:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{ede-compile-project}</font>).  EDE uses the file types to guess how
<a name="line2748"><font color="#000000">2748:</font></a> the target should be built.
<a name="line2749"><font color="#000000">2749:</font></a> 
<a name="line2750"><font color="#000000">2750:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line2751"><font color="#000000">2751:</font></a> <b><font color="#000080">@include</font></b> emerge-xtra.texi
<a name="line2752"><font color="#000000">2752:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line2753"><font color="#000000">2753:</font></a> </tt></pre>
