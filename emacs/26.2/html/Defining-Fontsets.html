<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.2.

Copyright (C) 2016-2019 ayatakesi
<ayanokoji.takesi@gmail.com>
Copyright (C) 1985-1987, 1993-2019
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Manual
(Japanese Translation): Defining Fontsets</title>

<meta name="description" content="GNU Emacs Manual
(Japanese Translation): Defining Fontsets">
<meta name="keywords" content="GNU Emacs Manual
(Japanese Translation): Defining Fontsets">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="International.html#International" rel="up" title="International">
<link href="Modifying-Fontsets.html#Modifying-Fontsets" rel="next" title="Modifying Fontsets">
<link href="Fontsets.html#Fontsets" rel="prev" title="Fontsets">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Defining-Fontsets"></a>
<div class="header">
<p>
Next: <a href="Modifying-Fontsets.html#Modifying-Fontsets" accesskey="n" rel="next">Modifying Fontsets</a>, Previous: <a href="Fontsets.html#Fontsets" accesskey="p" rel="prev">Fontsets</a>, Up: <a href="International.html#International" accesskey="u" rel="up">International</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="huontosetutonoDing-Yi-"></a>
<h3 class="section">22.14 フォントセットの定義</h3>

<a name="index-standard_002dfontset_002dspec"></a>
<a name="index-w32_002dstandard_002dfontset_002dspec"></a>
<a name="index-ns_002dstandard_002dfontset_002dspec"></a>
<a name="index-standard-fontset"></a>
<p>XでEmacsを実行している場合、Emacsは<code>standard-fontset-spec</code>の値により、スタンダードフォントセットを作成します。このフォントセットの名前は、
</p>
<div class="example">
<pre class="example">-*-fixed-medium-r-normal-*-16-*-*-*-*-*-fontset-standard
</pre></div>

<p>または単に短く&lsquo;<samp>fontset-standard</samp>&rsquo;です。
</p>
<p>GNUstep、およびmacOSではスタンダードフォントセットは、<code>ns-standard-fontset-spec</code>の値を使って作成され、MS
Windowsでは<code>w32-standard-fontset-spec</code>の値を使って作成されます。
</p>
<p>スタンダードフォントセットのボールド、イタリック、ボールドイタリックなどの変種も自動的に作成されます。これらの変種の名前には&lsquo;<samp>medium</samp>&rsquo;のかわりに&lsquo;<samp>bold</samp>&rsquo;、または&lsquo;<samp>r</samp>&rsquo;のかわりに&lsquo;<samp>i</samp>&rsquo;、またはその両方が使われます。
</p>
<a name="index-startup-fontset"></a>
<p>Emacsは&lsquo;<samp>Font</samp>&rsquo;リソース、または&lsquo;<samp>-fn</samp>&rsquo;引数で指定した任意のデフォルト<acronym>ASCII</acronym>フォント、またはEmacsが起動時に見つけたデフォルトフォントにもとづいて、フォントセットを自動的に作成します。これが<em>スタートアップフォントセット(startup
fontset)</em>で、名前は<code>fontset-startup</code>です。Emacsは<var>charset_registry</var>フィールドを&lsquo;<samp>fontset</samp>&rsquo;、<var>charset_encoding</var>フィールドを&lsquo;<samp>startup</samp>&rsquo;で置き換えてフォントセットを生成して、その置き換えた文字列をフォントセットの指定に用います。
</p>
<p>たとえば以下の形式でEmacsを起動した場合、
</p>
<div class="example">
<pre class="example">emacs -fn &quot;*courier-medium-r-normal--14-140-*-iso8859-1&quot;
</pre></div>

<p>Emacsは以下のフォントセットを生成して、それをXウィンドウの初期フレームに使用します:
</p>
<div class="example">
<pre class="example">-*-courier-medium-r-normal-*-14-140-*-*-*-*-fontset-startup
</pre></div>

<p>スタートアップフォントセットは、そのフォントでサポートされているすべての文字にたいして指定したフォントか、異なるregistryまたはencodingのフォントを使用し、それ以外の文字は&lsquo;<samp>fontset-default</samp>&rsquo;にフォールバックして表示するでしょう。
</p>
<p>Xリソースの&lsquo;<samp>Emacs.Font</samp>&rsquo;では、フォントセット名を実際のフォント名のように指定できます。しかし&lsquo;<samp>Emacs*Font</samp>&rsquo;のようなワイルドカードを使ったリソースにフォントセット名を指定しないように注意してください
&mdash; ワイルドカードを使った指定は、メニューのようなフォントセットを処理できないものも含めて、 他のさまざまな目的にも適用されます。<a href="X-Resources.html#X-Resources">X Resources</a>を参照してください。
</p>
<p>&lsquo;<samp>Fontset-<var>n</var></samp>&rsquo;という名前のXリソースを使って、追加のフォントセットを指定できます。ここで<var>n</var>は0から始まる整数です。リソースの値はつぎのような形式です:
</p>
<div class="smallexample">
<pre class="smallexample"><var>fontpattern</var>, <span class="roman">[</span><var>charset</var>:<var>font</var><span class="roman">]&hellip;</span>
</pre></div>

<p>ここで<var>fontpattern</var>は、最後の2つのフィールドを除いて、標準のXフォント名の形式です(前のfontset-startupの例を参照)。最後の2つのフィールドは、&lsquo;<samp>fontset-<var>alias</var></samp>&rsquo;の形式をもつべきです。
</p>
<p>すべてのフォントセットには2つの名前、長い名前と短い名前があります。長い名前は<var>fontpattern</var>です。短い名前は&lsquo;<samp>fontset-<var>alias</var></samp>&rsquo;で、これは長い名前の最後の2つのフィールドです(たとえば、スタートアップ時に自動的に作成されるフォントセットは&lsquo;<samp>fontset-startup</samp>&rsquo;)。どちらの名前でもフォントセットを参照できます。
</p>
<p>&lsquo;<samp><var>charset</var>:<var>font</var></samp>&rsquo;という構成は、ある文字セットにたいして、(このフォントセットでは)どのフォントを使用するかを指定します。ここで<var>charset</var>は、文字セットの名前で、<var>font</var>はその文字セットに使用するフォントです。1つのフォントセットの定義の中で、この構成を何度でも使用できます。
</p>
<p>他の文字セットにたいしては、Emacsは<var>fontpattern</var>にもとづいて選択します。これは文字セットを記述する値で&lsquo;<samp>fontset-<var>alias</var></samp>&rsquo;を置き換えます。<acronym>ASCII</acronym>文字フォントにたいしては、&lsquo;<samp>fontset-<var>alias</var></samp>&rsquo;を&lsquo;<samp>ISO8859-1</samp>&rsquo;で置き換えます。
</p>
<p>これに加えて、複数の連続するフィールドがワイルドカードの場合、Emacsはそれらを1つのワイルドカードにまとめます。これは、オートスケールされたフォントの使用を避けるためです。大きいフォントをスケーリングしたフォントは編集に適しておらず、小さいフォントをスケーリングしたフォントも同様です。なぜならEmacsがそうするように、もともと小さなフォントを使うほうがよいからです。
</p>
<p>したがって、<var>fontpattern</var>が以下の場合、
</p>
<div class="example">
<pre class="example">-*-fixed-medium-r-normal-*-24-*-*-*-*-*-fontset-24
</pre></div>

<p><acronym>ASCII</acronym>文字にたいするフォント指定は、以下のようになるでしょう:
</p>
<div class="example">
<pre class="example">-*-fixed-medium-r-normal-*-24-*-ISO8859-1
</pre></div>

<p>そしてChinese GB2312文字にたいするフォント指定は、以下のようになるでしょう:
</p>
<div class="example">
<pre class="example">-*-fixed-medium-r-normal-*-24-*-gb2312*-*
</pre></div>

<p>上記のフォント指定に一致するChineseフォントがないかもしれません。ほとんどのXディストリビューションには、<var>family</var>フィールドが&lsquo;<samp>song
ti</samp>&rsquo;か&lsquo;<samp>fangsong
ti</samp>&rsquo;のChineseフォントだけが含まれています。そのような場合、&lsquo;<samp>Fontset-<var>n</var></samp>&rsquo;をつぎのように指定します:
</p>
<div class="smallexample">
<pre class="smallexample">Emacs.Fontset-0: -*-fixed-medium-r-normal-*-24-*-*-*-*-*-fontset-24,\
        chinese-gb2312:-*-*-medium-r-normal-*-24-*-gb2312*-*
</pre></div>

<p>そうするとChinese GB2312の文字を除くフォント指定では、<var>family</var>フィールドが&lsquo;<samp>fixed</samp>&rsquo;となり、Chinese
GB2312の文字に対するフォント指定では、<var>family</var>フィールドが&lsquo;<samp>*</samp>&rsquo;となります。
</p>
<a name="index-create_002dfontset_002dfrom_002dfontset_002dspec"></a>
<p>フォントセットのリソース値を処理してフォントセットを作る関数は、<code>create-fontset-from-fontset-spec</code>と呼ばれます。フォントセットを作るために、この関数を明示的に呼ぶこともできます。
</p>
<p>フォントの命名についての詳細は、<a href="Fonts.html#Fonts">Fonts</a>を参照してください。
</p>



</body>
</html>
