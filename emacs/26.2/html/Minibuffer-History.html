<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.2.

Copyright (C) 2016-2019 ayatakesi
<ayanokoji.takesi@gmail.com>
Copyright (C) 1985-1987, 1993-2019
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Manual
(Japanese Translation): Minibuffer History</title>

<meta name="description" content="GNU Emacs Manual
(Japanese Translation): Minibuffer History">
<meta name="keywords" content="GNU Emacs Manual
(Japanese Translation): Minibuffer History">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Minibuffer.html#Minibuffer" rel="up" title="Minibuffer">
<link href="Repetition.html#Repetition" rel="next" title="Repetition">
<link href="Completion-Options.html#Completion-Options" rel="prev" title="Completion Options">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Minibuffer-History"></a>
<div class="header">
<p>
Next: <a href="Repetition.html#Repetition" accesskey="n" rel="next">Repetition</a>, Previous: <a href="Completion.html#Completion" accesskey="p" rel="prev">Completion</a>, Up: <a href="Minibuffer.html#Minibuffer" accesskey="u" rel="up">Minibuffer</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="minibatuhuahisutori"></a>
<h3 class="section">8.5 ミニバッファーヒストリー</h3>
<a name="index-minibuffer-history"></a>
<a name="index-history-of-minibuffer-input"></a>

<p>ミニバッファーで入力したすべての引数は、<em>ミニバッファーヒストリーリスト(minibuffer history
list)</em>に保存されているので、簡単に後でまた使うことができます。以下のコマンドにより、前の引数をすばやく探してミニバッファーに呼び出すことができます:
</p>
<dl compact="compact">
<dt><kbd>M-p</kbd></dt>
<dd><p>ミニバッファーヒストリーの前のアイテム、つまり以前のアイテムに移動します(<code>previous-history-element</code>)。
</p></dd>
<dt><kbd>M-n</kbd></dt>
<dd><p>ミニバッファーヒストリーの次のアイテムに移動します(<code>next-history-element</code>)。
</p></dd>
<dt><kbd><span class="key">UP</span></kbd></dt>
<dt><kbd><span class="key">DOWN</span></kbd></dt>
<dd><p><kbd>M-p</kbd>や<kbd>M-n</kbd>と同様ですが、前のヒストリーアイテムに移動する前に、複数行アイテムの前、または次の行に移動します(<code>previous-line-or-history-element</code>、および<code>next-line-or-history-element</code>)。
</p></dd>
<dt><kbd>M-r <var>regexp</var> <span class="key">RET</span></kbd></dt>
<dd><p><var>regexp</var>にマッチする、ミニバッファーヒストリーの以前のアイテムに移動します(<code>previous-matching-history-element</code>)。
</p></dd>
<dt><kbd>M-s <var>regexp</var> <span class="key">RET</span></kbd></dt>
<dd><p><var>regexp</var>にマッチする、ミニバッファーヒストリーの以降のアイテムに移動します(<code>next-matching-history-element</code>)。
</p></dd>
</dl>

<a name="index-M_002dp-_0028minibuffer-history_0029"></a>
<a name="index-M_002dn-_0028minibuffer-history_0029"></a>
<a name="index-next_002dhistory_002delement"></a>
<a name="index-previous_002dhistory_002delement"></a>
<p>ミニバッファーでの<kbd>M-p</kbd>
(<code>previous-history-element</code>)は、ミニバッファーのヒストリーリストのアイテムを1つずつ移動します。<kbd>M-p</kbd>はヒストリーリストの以前のアイテムを取り出して、ミニバッファーの既存の内容を置き換えます。<kbd>M-n</kbd>
(<code>next-history-element</code>)は、ミニバッファーのヒストリーリストを反対方向、つまり以降のエントリーを取り出してミニバッファーの既存の内容を置き換えます。
</p>
<p>ミニバッファーヒストリーに以降のエントリーがないとき(たとえば前に1回も<kbd>M-p</kbd>を入力していないとき)、Emacsはデフォルト引数のリストから、あなたが入力するだろうと思われる値を取り出します。これは&ldquo;未来のヒストリー&rdquo;を移動すると考えることもできます。
</p>
<a name="index-future-history-for-file-names"></a>
<a name="index-minibuffer-defaults-for-file-names"></a>
<a name="index-file_002dname_002dat_002dpoint_002dfunctions"></a>
<p>ファイルにたいする&ldquo;未来のヒストリー(future
history)&rdquo;には、カレントバッファー内のポイント位置にあるファイル名やURLのような、あなたが便利だと思うかもしれないいくつかの候補が含まれます。この場合、&ldquo;未来のヒストリー&rdquo;に配されるデフォルトは、オプション<code>file-name-at-point-functions</code>の値にセットされた関数により制御されます。デフォルトでは、この値は<code>ffap</code>パッケージ((see <a href="FFAP.html#FFAP">FFAP</a>)を参照)を呼び出します。これはポイント周辺のテキストからデフォルトとなるファイルやURLを推測します。この推測を無効にするには、このオプションを<code>nil</code>値にカスタマイズします。これにより&ldquo;未来のヒストリー&rdquo;に含まれるのは、(もしあれば)カレントバッファーでvisitされたファイル、およびデフォルトディレクトリーのファイルだけになります。 
</p>
<a name="index-previous_002dline_002dor_002dhistory_002delement"></a>
<a name="index-next_002dline_002dor_002dhistory_002delement"></a>
<a name="index-UP-_0028minibuffer-history_0029"></a>
<a name="index-DOWN-_0028minibuffer-history_0029"></a>
<p>矢印キーの<kbd><span class="key">UP</span></kbd>と<kbd><span class="key">DOWN</span></kbd>は、<kbd>M-p</kbd>や<kbd>M-n</kbd>のように機能しますが、カレントヒストリーアイテムが複数行の場合には、前(または次)のヒストリーアイテムに移動する前に、前(または次)の行に移動します。
</p>
<p>ミニバッファーコマンドの<kbd>M-p</kbd>または<kbd>M-n</kbd>で挿入されたテキストを編集しても、ヒストリーリストのエントリーは変更されません。かわりに編集された引数が確定されたとき、ヒストリーリストの最後に追加されます。
</p>
<a name="index-previous_002dmatching_002dhistory_002delement"></a>
<a name="index-next_002dmatching_002dhistory_002delement"></a>
<a name="index-M_002dr-_0028minibuffer-history_0029"></a>
<a name="index-M_002ds-_0028minibuffer-history_0029"></a>
<p><kbd>M-r</kbd>
(<code>previous-matching-history-element</code>)でヒストリーリストの古い要素を、<kbd>M-s</kbd>
(<code>next-matching-history-element</code>)で新しいエントリーを探すことができます。これらのコマンドはどちらも引数として<em>正規表現(regular
expression)</em>を要求し、それにマッチした最初のエントリーをミニバッファーに取り出します。正規表現についての説明は、<a href="Regexps.html#Regexps">Regexps</a>を参照してください。数引数<var>n</var>を指定すると、それは<var>n</var>番目に一致したエントリーを取り出すことを意味します。これらのコマンドはミニバッファーから呼び出されたとはいえ、ミニバッファーを使って正規表現を読みとるという点では、変わったコマンドです。正規表現に大文字が含まれていると、大文字小文字を区別する検索(<a href="Lax-Search.html#Lax-Search">Lax Search</a>を参照してください)となります。
</p>
<p>ヒストリーをインクリメンタルサーチすることもできます。<a href="Isearch-Minibuffer.html#Isearch-Minibuffer">Isearch Minibuffer</a>を参照してください。
</p>
<p>Emacsは引数の種類ごとに個別のリストを保持します。たとえばファイル名のリストは、ファイル名を読みとるすべてのコマンドで使われたファイル名、といった具合です。ほかのヒストリーリストとしてはバッファー名やコマンド名(<kbd>M-x</kbd>で使われたもの)、コマンド引数(<code>query-replace</code>のような引数で使われたもの)があります。
</p>
<a name="index-history_002dlength"></a>
<p>変数<code>history-length</code>には、ミニバッファーのヒストリーリストの最大の長さを指定します。リストが長くなりすぎたときは、一番古い要素を削除して新しい要素を追加します。<code>t</code>を指定したときは、長さは無制限になります。
</p>
<a name="index-history_002ddelete_002dduplicates"></a>
<p>変数<code>history-delete-duplicates</code>には、重複したヒストリーを削除するかを指定します。非<code>nil</code>の場合、新しい要素が追加されるとリストからそれと同じ要素がすべて削除されます。デフォルトは<code>nil</code>です。
</p>



</body>
</html>
