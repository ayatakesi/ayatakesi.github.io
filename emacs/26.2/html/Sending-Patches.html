<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.2.

Copyright (C) 2016-2019 ayatakesi
<ayanokoji.takesi@gmail.com>
Copyright (C) 1985-1987, 1993-2019
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Manual
(Japanese Translation): Sending Patches</title>

<meta name="description" content="GNU Emacs Manual
(Japanese Translation): Sending Patches">
<meta name="keywords" content="GNU Emacs Manual
(Japanese Translation): Sending Patches">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Bugs.html#Bugs" rel="up" title="Bugs">
<link href="Contributing.html#Contributing" rel="next" title="Contributing">
<link href="Checklist.html#Checklist" rel="prev" title="Checklist">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Sending-Patches"></a>
<div class="header">
<p>
Previous: <a href="Checklist.html#Checklist" accesskey="p" rel="prev">Checklist</a>, Up: <a href="Bugs.html#Bugs" accesskey="u" rel="up">Bugs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="GNU-EmacshenopatutinoSong-Fu-"></a>
<h3 class="section">52.5 GNU Emacsへのパッチの送付</h3>

<a name="index-sending-patches-for-GNU-Emacs"></a>
<a name="index-patches_002c-sending"></a>
<p>GNU
Emacsを改善するためにバグfixを書きたいなら、それはとても助けになります。変更を送るとき、メンテナーがそれらを使うのが簡単になるように、どうか以下のガイドラインにしたがってください。これらのガイドラインにしたがわない場合でも、あなたの情報はまだ有用でしょうが、それを使用するのに余分な作業が必要になります。GNU
Emacsの保守は最良の状況でも多くの作業を要すので、わたしたちを助けるのにあなたがベストをすくさなければ、わたしたちはそれを維持できないのです。
</p>
<p>各パッチは、わたしたちがそれを正しく評価するために、簡単な情報をもたなければなりません。
</p>
<p>そのような情報がすべてあるなら、それらをメールメッセージにまとめて、開発者に送ってください。推奨される送信先は、<a href="mailto:bug-gnu-emacs@gnu.org">bug-gnu-emacs@gnu.org</a>です(これはバグおよび機能のためのリストです)。なぜなら、このリストにはパッチを簡単に確認するための追跡システム(tracking
system)があるからです。そのパッチが完全ではなく、さらに議論が必要だと思うときは、かわりにそれを<a href="mailto:emacs-devel@gnu.org">emacs-devel@gnu.org</a>に送りたいと思うかもしれません。パッチを改訂したら、それを最初のトピックにたいするfollowupとして送ってください。
</p>
<p>わたしたちはそのパッチをプレーンテキストとして受けとるのを好みます。それはインライン(メールクライアントが行ブレークを変更しないように注意してください)、またはMIMEアタッチメントのどちらでも構いません。
</p>
<ul>
<li> そのパッチがどんな問題をfixするのか、またはどんな改善をもたらすのか、あなたの変更にたいする説明を含めてください。

<ul>
<li> 既存のバグにたいするfixについては、&lsquo;<samp>bug-gnu-emacs</samp>&rsquo;リストの関連するディスカッションか、<a href="https://debbugs.gnu.org">https://debbugs.gnu.org</a>のGNU
Bug Trackerのバグエントリーに返信するのが最善でしょう。その変更が、なぜバグをfixするのか説明してください。

</li><li> 新しい機能については、その機能と実装についての説明を含めてください。

</li><li> 新しいバグにたいしては、あなたがfixしたと思っている問題にたいする、正しいバグレポートを含めてください。それを採用する前に、わたしたちはその変更が正しいと、私たち自身に納得させる必要があります。もしそれが正しくても、問題を再現する方法がない場合、それを理解する妨げになるでしょう。
</li></ul>

</li><li> 将来このソースを読む人の理解を助けとなるように、なぜこの変更が必要なのか、適切なコメントを含めてください。

</li><li> 異なる理由にたいする変更を一緒に混ぜないでください。それらを<em>個別</em>に送ってください。

<p>異なる理由にたいして2つの変更を行なった場合、わたしたちをそれを一緒に採用したいとは思わないでしょう。1つだけを採用したいと思うかもしれません。それらを合わせて1つのdiffにして送った場合、それらを区別するために
&mdash; 変更のどの部分がどの目的のためかを理解するために &mdash;
余計な作業を行なう必要があります。これを行なう時間がない場合、わたしたちは変更全体を無視する必要があるかもしれません。
</p>
<p>1つの変更を記述したら、その変更の説明と一緒にそれをすぐに送れば、2つの変更は混ざることはなくなり、それらを区別する余計な作業なしに、わたしたちはそれぞれを正しく判断することができます。
</p>
</li><li> 1つの変更を終えたら、それをすぐに送ってください。ときどき人は多くの変更を累積して、すべて一緒に送るのがわたしたちの助けとなると考えます。上述したように、それは正にあなたにできる最悪のことです。

<p>変更は個別に送るべきなので、すぐに送ることができるでしょう。これは、その変更が重要なものなら、それをすぐに採用するオプションをわたしたちに与えます。
</p>
</li><li> パッチそのもの

<p>diffを作成するために、&lsquo;<samp>diff
-u</samp>&rsquo;を使用してください。コンテキストなしのdiffは確実に採用が困難です。それ以上に調べるのが難しくなります。わたしたちは変更の採用を望ましいか判断するために、つねにパッチを調べなければなりません。Contextフォーマットはコンテキストなしのdiffより優れていますが、好ましいのはUnifiedフォーマットです。
</p>
<p>GNU diffがある場合、Cコードのdiffの作成には&lsquo;<samp>diff -u -F'^[_a-zA-Z0-9$]\+
*('</samp>&rsquo;を使用してください。これは変更のある関数名を表示します。
</p>
<p>Emacsリポジトリーを使用している場合、あなたのコピーが(たとえば<code>git
pull</code>などにより)最新であることを確認してください。あなたの変更をプライベートのブランチにコミットして、<code>git format-patch
master</code>を使用することにより、マスターバージョンからパッチを生成できます。または変更をコミットせずに、<code>git
diff</code>を使用することもできます。
</p>
</li><li> どちらが古いバージョンで、どちらが新しいバージョンか、あいまいになるのを避けてください。どうかdiffの第1引数に古いバージョン、2番目の引数に新しいバージョンを指定してください。そして一方のバージョンにたいして、それが古いバージョンなのか、変更した新しいバージョンなのかを示す名前をつけてください。

</li><li> あなたの変更にたいする、コミットログのエントリーを記述してください。それにより、わたしたちがそれを記述するために余計な作業をしなくてすみ、あなたが行なった変更をわたしたちが理解する助けにもなります。

<p>変更された場所を示すのが、コミットログの目的です。したがって変更した関数について、具体的である必要があります。大きな関数では、関数のどこを変更したか示すのが、助けになる場合が多々あります。
</p>
<p>それとは逆に、変更箇所を示せば、変更ログで変更目的の説明をする必要はありません。したがって、新しい関数を追加した場合、必要なのはそれが新しいということを示すだけです。変更目的の説明が必要だと感じたら、多分その通りなのでしょう、がコードのコメントにその説明を記述してください。変更目的はそこに記述されているほうが、より有用です。
</p>
<p>どのような種類の情報を記述するかを見るために、最近のコミットにたいするコミットログエントリーを見て、わたしたちが使用しているスタイルを学んでください。他のプロジェクトとは異なり、たとえばTexinfoファイルのような、ドキュメントにたいするコミットログも必要です。<a href="Change-Log.html#Change-Log">Change Log</a>、および
<a href="http://www.gnu.org/prep/standards/html_node/Change-Log-Concepts.html#Change-Log-Concepts">Change Log Concepts</a> in <cite>GNU Coding Standards</cite>を参照してください。
</p>
</li><li> fixを記述するときは、わたしたちが他のシステムを壊すような変更は採用できないということを、念頭に置いてください。あなたの変更が、ほかのタイプのシステムでコンパイルされた場合の影響について、考えてください。

<p>一般的には改善となる<em>かもしれない</em>が、そう確信するのは難しいようなfixを送る人が、ときどきいます。そのような変更を採用するのは、わたしたちがそれをとても慎重に調べなければならないので、難しくなります。もちろん、その変更が正しい理由の説明は、わたしたちを納得させる助けになります。
</p>
<p>一番安全な変更は、特定の機種の設定ファイルにたいする変更です。これらの変更は、新しいバグを他の機種に作成しないので、安全です。
</p>
<p>インストールの安全性が明確な形式でパッチをデザインして、わたしたちの作業量を、良い状態に保つ助けとなってください。
</p></li></ul>




</body>
</html>
