<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.2.

Copyright (C) 2016-2019 ayatakesi
<ayanokoji.takesi@gmail.com>
Copyright (C) 1985-1987, 1993-2019
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Manual
(Japanese Translation): Rectangles</title>

<meta name="description" content="GNU Emacs Manual
(Japanese Translation): Rectangles">
<meta name="keywords" content="GNU Emacs Manual
(Japanese Translation): Rectangles">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Killing.html#Killing" rel="up" title="Killing">
<link href="CUA-Bindings.html#CUA-Bindings" rel="next" title="CUA Bindings">
<link href="Accumulating-Text.html#Accumulating-Text" rel="prev" title="Accumulating Text">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Rectangles"></a>
<div class="header">
<p>
Next: <a href="CUA-Bindings.html#CUA-Bindings" accesskey="n" rel="next">CUA Bindings</a>, Previous: <a href="Accumulating-Text.html#Accumulating-Text" accesskey="p" rel="prev">Accumulating Text</a>, Up: <a href="Killing.html#Killing" accesskey="u" rel="up">Killing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Ju-Xing-Ling-Yu-_0028Rectangles_0029"></a>
<h3 class="section">12.5 矩形領域(Rectangles)</h3>
<a name="index-rectangle"></a>
<a name="index-columns-_0028and-rectangles_0029"></a>
<a name="index-killing-rectangular-areas-of-text"></a>

<p><em>矩形領域(rectangle)</em>コマンドは、テキストの矩形領域を操作します。矩形領域のテキストとは、特定の行範囲内にある、特定の2つの列の間にある文字すべての文字です。Emacsには矩形領域にたいしてkill、yank、クリアー、スペースやテキストでフィル、削除を行うコマンドがあります。矩形領域コマンドは、複数列のテキストを操作したり、テキストをそのように変更したり戻したりする場合に便利です。
</p>
<a name="index-mark-rectangle"></a>
<p>コマンドで操作する矩形領域を指定するには、一方の角にマークを設定し、その対角にポイントを置きます。このように設定した矩形領域を矩形リージョン(region-rectangle)と呼びます。ポイントとマークが同じ列の場合、矩形リージョンは空になります。ポイントとマークが同じ行の場合、矩形リージョンの高さは1行になります。
</p>
<p>矩形リージョンは、リージョンの制御と大体同じ方法で制御できます。しかし、ポイントとマークの組がリージョンとして解釈されるのか、あるいは矩形領域として解釈されるかは、それらを使うコマンドに依存することに注意してください。
</p>
<dl compact="compact">
<dt><kbd>C-x r k</kbd></dt>
<dd><p>矩形リージョンをkillして、最後にkillされた矩形領域として、その内容を保存します(<code>kill-rectangle</code>)。
</p></dd>
<dt><kbd>C-x r M-w</kbd></dt>
<dd><p>矩形リージョンのテキストを、最後にkillされた矩形領域として保存します(<code>copy-rectangle-as-kill</code>)。
</p></dd>
<dt><kbd>C-x r d</kbd></dt>
<dd><p>矩形リージョンのテキストを削除します(<code>delete-rectangle</code>)。
</p></dd>
<dt><kbd>C-x r y</kbd></dt>
<dd><p>最後にkillされた矩形領域の左上隅がポイント位置になるようにyankします(<code>yank-rectangle</code>)。
</p></dd>
<dt><kbd>C-x r o</kbd></dt>
<dd><p>矩形領域にスペースを挿入します(<code>open-rectangle</code>)。これにより矩形リージョンの以前の内容は右にずれます。
</p></dd>
<dt><kbd>C-x r N</kbd></dt>
<dd><p>矩形リージョンの左端に行番号を挿入します(<code>rectangle-number-lines</code>)。これにより矩形リージョンの以前の内容は右にずれます。
</p></dd>
<dt><kbd>C-x r c</kbd></dt>
<dd><p>矩形リージョンの内容をスペースに置き換えてクリアーします(<code>clear-rectangle</code>)。
</p></dd>
<dt><kbd>M-x delete-whitespace-rectangle</kbd></dt>
<dd><p>指定された矩形領域の各行で、矩形領域の左端の列から空白文字を削除します。
</p></dd>
<dt><kbd>C-x r t <var>string</var> <span class="key">RET</span></kbd></dt>
<dd><p>矩形領域の各行にたいして、内容を<var>string</var>に置き換えます(<code>string-rectangle</code>)。
</p></dd>
<dt><kbd>M-x string-insert-rectangle <span class="key">RET</span> <var>string</var> <span class="key">RET</span></kbd></dt>
<dd><p>矩形領域の各行にたいして、<var>string</var>を挿入します。
</p></dd>
<dt><kbd>C-x <span class="key">SPC</span></kbd></dt>
<dd><p>Rectangle
Markモードを切り替えます(<code>rectangle-mark-mode</code>)。このモードがアクティブのとき矩形領域はハイライトされ、拡大・縮小が可能になります。標準のkillおよびyankコマンドは、それにたいして操作を行います。
</p></dd>
</dl>

<p>矩形領域の操作は2種類に分類できます。それは矩形領域を消去または挿入するものと、空の矩形領域を作るものです。
</p>
<a name="index-C_002dx-r-k"></a>
<a name="index-C_002dx-r-d"></a>
<a name="index-kill_002drectangle"></a>
<a name="index-delete_002drectangle"></a>
<p>矩形領域のテキストを消去するには2つの方法があります。<kbd>C-x r d</kbd>
(<code>delete-rectangle</code>)はテキストを無条件に削除します。<kbd>C-x r k</kbd>
(<code>kill-rectangle</code>)はテキストを取り除いて、それを<em>最後にkillされた矩形領域</em>として保存します。両方とも矩形領域の各行の指定したテキストを消去するように、矩形リージョンを消去します。その行の後に続くテキストがある場合、削除による隙間を生めるために後方に移動されます。
</p>
<p>矩形領域のkillは普通のkillとは異なります。矩形領域はkillリングには保存されず、一番最後にkillされた矩形領域だけを記録する、特別な場所に保存されます。矩形領域のyankは線形テキストのyankとは大きく異なるので、異なるyankコマンドが使われるからです。矩形領域にたいしてyankのpopは定義されていません。
</p>
<a name="index-C_002dx-r-M_002dw"></a>
<a name="index-copy_002drectangle_002das_002dkill"></a>
<p><kbd>C-x r M-w</kbd>
(<code>copy-rectangle-as-kill</code>)は矩形領域用の<kbd>M-w</kbd>に相当します。これはバッファーからテキストを削除することなく、最後にkillされた矩形領域として、矩形領域を記録します。
</p>
<a name="index-C_002dx-r-y"></a>
<a name="index-yank_002drectangle"></a>
<p>killされた矩形領域をyankするには、<kbd>C-x r y</kbd>
(<code>yank-rectangle</code>)とタイプします。矩形領域の最初の行はポイント位置に挿入されます。矩形領域の2行目はポイントの1行下の位置に挿入され、以下同様に挿入されていきます。影響を受ける行数は、保存された矩形領域の高さにより決定されます。
</p>
<p>たとえば1列のリスト2つを2列のリストに変換できます。一方の1列リストを矩形領域としてkillしてもう一方の1列リストの隣にyankすればよいのです。
</p>
<p><kbd>C-x r r <var>r</var></kbd>と<kbd>C-x r i
<var>r</var></kbd>で、矩形領域をレジスターにコピーしたり取り出したりできます。<a href="Rectangle-Registers.html#Rectangle-Registers">Rectangle Registers</a>を参照してください。
</p>
<a name="index-C_002dx-r-o"></a>
<a name="index-open_002drectangle"></a>
<a name="index-C_002dx-r-c"></a>
<a name="index-clear_002drectangle"></a>
<p>空の矩形領域を作るために使うことのできるコマンドが2つあります。<kbd>C-x r c</kbd>
(<code>clear-rectangle</code>)は、矩形リージョンの既存のテキストを空白に置き換えます。<kbd>C-x r o</kbd>
(<code>open-rectangle</code>)は空白の矩形領域を挿入します。
</p>
<a name="index-delete_002dwhitespace_002drectangle"></a>
<p><kbd>M-x
delete-whitespace-rectangle</kbd>は、指定した列を起点に水平方向の空白文字を削除します。これは矩形領域の各行に適用され、開始列は矩形領域の左端です。矩形領域の右端はこのコマンドに影響を及ぼしません。
</p>
<a name="index-C_002dx-r-N"></a>
<a name="index-rectangle-1"></a>
<p>コマンド<kbd>C-x r N</kbd>
(<code>rectangle-number-lines</code>)は、矩形領域の左端に行番号を挿入します。通常は矩形領域の最初の行を1として番号が開始されます。プレフィクス引数を指定すると、このコマンドは開始番号と、番号を出力する際の書式文字列(<a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Formatting-Strings.html#Formatting-Strings">Formatting
Strings</a> in <cite>The Emacs Lisp Reference Manual</cite>を参照してください)の入力を求めます。
</p>
<a name="index-C_002dx-r-t"></a>
<a name="index-string_002drectangle"></a>
<p>コマンド<kbd>C-x r t</kbd>
(<code>string-rectangle</code>)は、矩形リージョンの各行を文字列で置き換えます。文字列の幅は矩形領域と同じ幅である必要はありません。矩形領域の後ろのテキストは、文字列の幅が少ないときは左に、文字列の幅が大きいときは右にシフトされます。
</p>
<a name="index-string_002dinsert_002drectangle"></a>
<p>コマンド<kbd>M-x
string-insert-rectangle</kbd>は、<code>string-rectangle</code>と同様ですが、各行に文字列を挿入し、元の文字列は右にシフトされます。
</p>
<a name="index-rectangle_002dmark_002dmode"></a>
<p>コマンド<kbd>C-x <span class="key">SPC</span></kbd>
(<code>rectangle-mark-mode</code>)は、矩形リージョンをハイライトするか、標準のリージョンをハイライトするかを切り替えます(最初にリージョンをアクティブにする必要があります)。このモードが有効な場合、<kbd>C-f</kbd>、<kbd>C-n</kbd>などのコマンドは矩形領域に合ったやり方でリージョンのサイズを変更し、kill、yankは矩形領域を処理します。<a href="Killing.html#Killing">Killing</a>を参照してください。このモードはリージョンがアクティブな間だけ持続します。
</p>
<p>標準のリージョンとは異なり、バッファー終端を越えたり、TABのような伸長された空白スペースの中間のような、通常はポイントを置けない場所にも矩形リージョンのコーナーを置くことができます。
</p>
<a name="index-rectangle_002dexchange_002dpoint_002dand_002dmark"></a>
<a name="index-exchange_002dpoint_002dand_002dmark_002c-in-rectangle_002dmark_002dmode"></a>
<a name="index-C_002dx-C_002dx_002c-in-rectangle_002dmark_002dmode"></a>
<p>そのリージョンがrectangle-mark-modeにある場合、<kbd>C-x
C-x</kbd>は、矩形リージョンの4隅のコーナーを巡回する、コマンド<code>rectangle-exchange-point-and-mark</code>を実行します。これはマークされたテキストにたいする処理を呼び出す前に、矩形リージョンをのサイズを変更したい場合に便利です。
</p>



</body>
</html>
