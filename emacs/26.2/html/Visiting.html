<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.2.

Copyright (C) 2016-2019 ayatakesi
<ayanokoji.takesi@gmail.com>
Copyright (C) 1985-1987, 1993-2019
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GNU Emacs Manual
(Japanese Translation): Visiting</title>

<meta name="description" content="GNU Emacs Manual
(Japanese Translation): Visiting">
<meta name="keywords" content="GNU Emacs Manual
(Japanese Translation): Visiting">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Files.html#Files" rel="up" title="Files">
<link href="Saving.html#Saving" rel="next" title="Saving">
<link href="File-Names.html#File-Names" rel="prev" title="File Names">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Visiting"></a>
<div class="header">
<p>
Next: <a href="Saving.html#Saving" accesskey="n" rel="next">Saving</a>, Previous: <a href="File-Names.html#File-Names" accesskey="p" rel="prev">File Names</a>, Up: <a href="Files.html#Files" accesskey="u" rel="up">Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="huairunovisit_0028Fang-Wen-_0029"></a>
<h3 class="section">18.2 ファイルのvisit(訪問)</h3>
<a name="index-visiting-files"></a>
<a name="index-open-file"></a>

<dl compact="compact">
<dt><kbd>C-x C-f</kbd></dt>
<dd><p>ファイルをvisitします(<code>find-file</code>)。
</p></dd>
<dt><kbd>C-x C-r</kbd></dt>
<dd><p>変更を許さない閲覧用として、ファイルをvisitします(<code>find-file-read-only</code>)。
</p></dd>
<dt><kbd>C-x C-v</kbd></dt>
<dd><p>最後にvisitしたファイルとは異なるファイルを、かわりにvisitします(<code>find-alternate-file</code>)。
</p></dd>
<dt><kbd>C-x 4 f</kbd></dt>
<dd><p>別のウィンドウでファイルをvisitします(<code>find-file-other-window</code>)。選択されたウィンドウに表示されているものは変更しません。
</p></dd>
<dt><kbd>C-x 5 f</kbd></dt>
<dd><p>新しいフレームでファイルをvisitします(<code>find-file-other-frame</code>)。選択されたフレームに表示されているものは変更しません。
</p></dd>
<dt><kbd>M-x find-file-literally</kbd></dt>
<dd><p>内容を変換せずにファイルをvisitします。
</p></dd>
</dl>

<a name="index-files_002c-visiting-and-saving"></a>
<a name="index-saving-files"></a>
<p>ファイルを<em>Visiting(訪問)</em>するとは、そのファイル内容をEmacsのバッファーに読み込むことを意味するので、それを編集することができます。Emacsはvisitするファイルごとに、新しいバッファーを作成します。
</p>
<a name="index-C_002dx-C_002df"></a>
<a name="index-find_002dfile"></a>
<p>ファイルをvisitするには、<kbd>C-x C-f</kbd>
(<code>find-file</code>)とタイプして、visitしたいファイルの名前をミニバッファーで入力します。ミニバッファーでは、<kbd>C-g</kbd>をタイプして、コマンドを中止することができます。ミニバッファーでのファイル名の入力についての詳細は、<a href="File-Names.html#File-Names">File Names</a>を参照してください。
</p>
<p>ファイルは存在するが、システムが読み込みを許さない場合、エコーエリアにエラーメッセージが表示されます(GNUおよびUnixシステムでは、&lsquo;<samp>su</samp>&rsquo;や&lsquo;<samp>sudo</samp>&rsquo;のような方法を使用して、そのようなファイルをvisitできるかもしれない。<a href="Remote-Files.html#Remote-Files">Remote Files</a>を参照されたい。) それ以外の場合、スクリーンに新しいテキストが表示され、モードラインバッファー名が表示されることで、<kbd>C-x
C-f</kbd>が成功したことを知ることができます。通常Emacsは、ファイル名からディレクトリー名を省いて、バッファー名を作ります。たとえば<samp>/usr/rms/emacs.tex</samp>という名前のファイルは、バッファー名&lsquo;<samp>emacs.tex</samp>&rsquo;となります。その名前のバッファーがすでにある場合、Emacsは一意な名前を作ります。通常の方法はディレクトリー名にもとづく接尾辞の追加です(たとえば&lsquo;<samp>&lt;rms&gt;</samp>&rsquo;、&lsquo;<samp>&lt;tmp&gt;</samp>&rsquo;など)が、違う方法を選択することもできます。<a href="Uniquify.html#Uniquify">Uniquify</a>を参照してください。
</p>
<a name="index-creating-files"></a>
<p>新しいファイルを作成するには、同じコマンド<kbd>C-x C-f</kbd>を使ってvisitするだけです。Emacsはエコーエリアに&lsquo;<samp>(New
file)</samp>&rsquo;と表示しますが、他の点では既存の空のファイルをvisitしたのと同じく振る舞います。
</p>
<a name="index-modified-_0028buffer_0029"></a>
<p>ファイルをvisitした後で編集コマンドにより行われた変更は、Emacsのバッファーに反映されます。バッファーを<em>保存(save)</em>するまでは、visitしているファイルに影響はありません。バッファーが保存されていない変更を含むとき、そのバッファーが<em>変更されている(modified)</em>といいます。これはバッファーを保存しなければ、その変更が失われることを意味します。モードラインの左余白の近くに2つのアスタリスクが表示され、バッファーが変更されていることを示します。
</p>
<p>すでにEmacsがvisitしているファイルをvisitした場合、<kbd>C-x
C-f</kbd>は他のコピーを作らず既存のバッファーに切り替えます。切り替えを行う前に、最後にvisitまたは保存した後にファイルが変更されているか確認します。もしファイルが変更されているとき、Emacsはそれの再読み込みを提案します。
</p>
<a name="index-large_002dfile_002dwarning_002dthreshold"></a>
<a name="index-file_002c-warning-when-size-is-large"></a>
<a name="index-size-of-file_002c-warning-when-visiting"></a>
<a name="index-maximum-buffer-size-exceeded_002c-error-message"></a>
<p><code>large-file-warning-threshold</code>
(デフォルトは10000000で、これは約10MB)より大きなファイルのvisitを試みると、Emacsは最初に確認を求めます。<kbd>y</kbd>を応えることにより、ファイルのvisitを続けます。しかしEmacsは、Emacsバッファーの最大サイズ(Emacsが割り当てられるメモリー量の制限と、Emacsが扱える整数により制限されます)を超えるバッファーは、visitできないことに注意してください。この場合、Emacsは最大バッファーサイズを超えた旨を知らせるエラーメッセージを表示します。
</p>
<a name="index-wildcard-characters-in-file-names"></a>
<a name="index-find_002dfile_002dwildcards"></a>
<p>ファイル名にシェル形式のワイルドカード文字が含まれている場合、Emacsはそれにマッチするすべてのファイルをvisitします。(大文字小文字を区別しないファイルシステムでは、Emacsは大文字小文字に関係なくワイルドカードをマッチします)。ワイルドカードには&lsquo;<samp>?</samp>&rsquo;、&lsquo;<samp>*</samp>&rsquo;および&lsquo;<samp>[&hellip;]</samp>&rsquo;シーケンスが含まれます。ミニバッファーでワイルドカード&lsquo;<samp>?</samp>&rsquo;をファイル名に入力するには、<kbd>C-q
?</kbd>とタイプする必要があります。ワイルドカード文字を実際に名前に含むファイルをvisitする方法についての情報は、<a href="Quoted-File-Names.html#Quoted-File-Names">Quoted File Names</a>を参照してください。<code>find-file-wildcards</code>をカスタマイズして、ワイルドカード機能を無効にすることができます。
</p>
<a name="index-C_002dx-C_002dv"></a>
<a name="index-find_002dalternate_002dfile"></a>
<p>無意識に間違ったファイル名をタイプして違うファイルをvisitした場合、<kbd>C-x C-v</kbd>
(<code>find-alternate-file</code>)で実際に望むファイルをvisitできます。<kbd>C-x C-v</kbd>は<kbd>C-x
C-f</kbd>と似ていますが、これは現在のバッファーをkillします(変更されている場合は最初に保存するか確認を求めます)。<kbd>C-x
C-v</kbd>がvisitするファイルの名前を読み取るときは、ミニバッファーにデフォルトのファイル名全体を挿入して、ポイントをディレクトリー名の後に置きます。これは名前を少し間違えた場合などに便利です。
</p>
<a name="index-find_002dfile_002drun_002ddired"></a>
<p>実際はディレクトリーであるファイルをvisitしたとき、EmacsはEmacsのディレクトリーブラウザーのDiredを呼び出します。<a href="Dired.html#Dired">Dired</a>を参照してください。この振る舞いは、変数<code>find-file-run-dired</code>を<code>nil</code>にセットすることにより無効にできます。この場合、ディレクトリーをvisitするとエラーになります。
</p>
<p>実際には他のファイルの集まりであるような<em>アーカイブファイル(file
archives)</em>の場合、アーカイブされたメンバーを操作できる、Diredに似た環境を呼び出す特別なモードでvisitします。これらの機能については、<a href="File-Archives.html#File-Archives">File Archives</a>を参照してください。
</p>
<p>オペレーティングシステムが変更を許していない、または読み取り専用にしているファイルをvisitした場合、Emacsもバッファーを読み取り専用にするので、保存すると問題を起こすような変更を防ぐことができます。<kbd>C-x
C-q</kbd> (<code>read-only-mode</code>)で、バッファーを書き込み可能にできます。<a href="Misc-Buffer.html#Misc-Buffer">Misc Buffer</a>を参照してください。
</p>
<a name="index-C_002dx-C_002dr"></a>
<a name="index-find_002dfile_002dread_002donly"></a>
<p>予期せぬ入力による変更を防ぐために、読み込み専用でファイルをvisitしたい場合は、<kbd>C-x C-f</kbd>のかわりにコマンド<kbd>C-x
C-r</kbd> (<code>find-file-read-only</code>)でvisitします。
</p>
<a name="index-C_002dx-4-f"></a>
<a name="index-find_002dfile_002dother_002dwindow"></a>
<p><kbd>C-x 4 f</kbd> (<code>find-file-other-window</code>)は<kbd>C-x
C-f</kbd>と同様ですが、指定したファイルを含むバッファーは、別のウィンドウで選択されます。<kbd>C-x 4
f</kbd>の前に選択されていたウィンドウは、すでに表示していたのと同じバッファーの表示を続けます。1つのウィンドウしか表示されていないときにこのコマンドを使うと、これはウィンドウを2つに分割し、1つのウィンドウには前に表示されていたのと同じバッファー、別の1つには新しい要求されたファイルを表示します。<a href="Windows.html#Windows">Windows</a>を参照してください。
</p>
<a name="index-C_002dx-5-f"></a>
<a name="index-find_002dfile_002dother_002dframe"></a>
<p><kbd>C-x 5 f</kbd>
(<code>find-file-other-frame</code>)も同様ですが、新しいフレームををオープンするか、指定したファイルをすでに表示している既存のフレームを選択します。<a href="Frames.html#Frames">Frames</a>を参照してください。
</p>
<a name="index-file-selection-dialog"></a>
<p>グラフィカルなディスプレーでは、ファイルをvisitする追加の方法が２つあります。1つ目は、Emacsが適したGUIツールキットによりビルドされているとき、マウスによるコマンドの呼び出し(メニューバーやツールバーのクリックによる)は、ミニバッファーでファイル名の入力を求める代わりに、そのツールキット標準のファイル選択(file
selection)ダイアログを表示します。GNU/LinuxおよびUnixプラットフォームでは、GTK+、LessTif、Motifツールキットとともに構築されていると、Emacsはこれを行います。MS-WindowsとMacでは、GUIバージョンのデフォルトにより行われます。これをカスタマイズする情報については、<a href="Dialog-Boxes.html#Dialog-Boxes">Dialog Boxes</a>を参照してください。
</p>
<p>2つ目は、Emacsはのドラッグアンドドロップ(drag and
drop)サポートで、通常のEmacsウィンドウにファイルをドロップすることにより、そのウィンドウでファイルをvisitします。例外としてDiredバッファーを表示しているウィンドウにファイルをドロップすると、表示されているディレクトリーにファイルを移動またはコピーします。詳細については<a href="Drag-and-Drop.html#Drag-and-Drop">Drag and Drop</a>と<a href="Misc-Dired-Features.html#Misc-Dired-Features">Misc Dired Features</a>を参照してください。
</p>
<p>テキスト端末、およびGUIツールキットなしでビルドされているグラフィカルなディスプレーでは、アイテム&lsquo;<samp>Visit New
File</samp>&rsquo;と&lsquo;<samp>Open File</samp>&rsquo;をもつメニューバーの&lsquo;<samp>File</samp>&rsquo;メニューから、、ファイルをvisitできます。
</p>
<p>文字エンコーディングと使用されている改行規則を検知するために、Emacsは自動的に内容をスキャンします。そして、それらをEmacsの内部エンコーディングとバッファーの改行規則に変換します。バッファーを保存するとき、Emacsは逆の変換を行い、元のエンコーディングと改行規則でファイルをディスクに書き込みます。<a href="Coding-Systems.html#Coding-Systems">Coding Systems</a>を参照してください。
</p>
<a name="index-find_002dfile_002dliterally"></a>
<p>ファイルにたいして特別なエンコーディングや変換を行わずに、非<acronym>ASCII</acronym>文字のシーケンスとして編集したいときは、<kbd>M-x
find-file-literally</kbd>コマンドを使います。これは<kbd>C-x C-f</kbd>と同様ですが、フォーマット変換(<a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Format-Conversion.html#Format-Conversion">Format Conversion</a> in <cite>the Emacs Lisp Reference
Manual</cite>を参照してください)、文字コード変換(<a href="Coding-Systems.html#Coding-Systems">Coding Systems</a>を参照してください)、自動解凍(<a href="Compressed-Files.html#Compressed-Files">Compressed Files</a>を参照してください)を行わず、<code>require-final-newline</code>による最後の改行も追加しません(<a href="Customize-Save.html#Customize-Save">Customize Save</a>を参照してください)。同じファイルをすでに通常(非リテラル)の方法でvisitしている場合、このコマンドはそれをリテラル(そのままの文字の列)としてvisitするかを尋ねます。
</p>
<a name="index-find_002dfile_002dhook"></a>
<a name="index-find_002dfile_002dnot_002dfound_002dfunctions"></a>
<p>2つの特別なフック変数により、ファイルをvisitする操作を変更して拡張することができます。存在しないファイルをvisitすることにより、<code>find-file-not-found-functions</code>の関数が実行されます。この変数は関数のリストを保有し、それらはどれか1つが非<code>nil</code>を返すまで、(引数を指定せずに)1つずつ呼び出されます。これはノーマルフックではないため、その事実を示すために名前の最後が&lsquo;<samp>-hook</samp>&rsquo;ではなく、&lsquo;<samp>-functions</samp>&rsquo;で終わっています。
</p>
<p>ファイルが存在するしないにかかわらず、ファイルをvisitするのに成功すると、引数なしで関数<code>find-file-hook</code>を呼び出します。この変数はノーマルフックです。ファイルが存在しない場合、最初に<code>find-file-not-found-functions</code>を実行します。<a href="Hooks.html#Hooks">Hooks</a>を参照してください。
</p>
<p>ファイルを編集するために自動的にメジャーモードを指定し(<a href="Choosing-Modes.html#Choosing-Modes">Choosing Modes</a>を参照してください)、そのファイルのために特別なローカル変数を定義する方法がいくつかあります(<a href="File-Variables.html#File-Variables">File Variables</a>を参照してください)。
</p>



</body>
</html>
