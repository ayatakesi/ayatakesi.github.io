<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">001:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line2"><font color="#000000">002:</font></a> <i><font color="#9A1900">@c Copyright (C) 1985-1987, 1993-1995, 1997, 2000-2019 Free Software</font></i>
<a name="line3"><font color="#000000">003:</font></a> <i><font color="#9A1900">@c Foundation, Inc.</font></i>
<a name="line4"><font color="#000000">004:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line5"><font color="#000000">005:</font></a> <b><font color="#0000FF">@node</font></b> Packages
<a name="line6"><font color="#000000">006:</font></a> <i><font color="#9A1900">@chapter Emacs Lisp Packages</font></i>
<a name="line7"><font color="#000000">007:</font></a> <i><font color="#9A1900">@cindex Package</font></i>
<a name="line8"><font color="#000000">008:</font></a> <i><font color="#9A1900">@cindex Emacs Lisp package archive</font></i>
<a name="line9"><font color="#000000">009:</font></a> <i><font color="#9A1900">@cindex Package archive</font></i>
<a name="line10"><font color="#000000">010:</font></a> 
<a name="line11"><font color="#000000">011:</font></a> Emacs includes a facility that lets you easily download and install
<a name="line12"><font color="#000000">012:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{packages}</font> that implement additional features.  Each package is a
<a name="line13"><font color="#000000">013:</font></a> separate Emacs Lisp program, sometimes including other components such
<a name="line14"><font color="#000000">014:</font></a> as an Info manual.
<a name="line15"><font color="#000000">015:</font></a> 
<a name="line16"><font color="#000000">016:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-packages}</font> brings up a buffer named <b><font color="#0000FF">@file</font></b><font color="#009900">{*Packages*}</font>
<a name="line17"><font color="#000000">017:</font></a> with a list of all packages.  You can install or uninstall packages
<a name="line18"><font color="#000000">018:</font></a> via this buffer.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Package Menu</font><font color="#FF0000">}</font>.
<a name="line19"><font color="#000000">019:</font></a> 
<a name="line20"><font color="#000000">020:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h P}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-package}</font>) prompts for the
<a name="line21"><font color="#000000">021:</font></a> name of a package, and displays a help buffer describing the
<a name="line22"><font color="#000000">022:</font></a> attributes of the package and the features that it implements.
<a name="line23"><font color="#000000">023:</font></a> 
<a name="line24"><font color="#000000">024:</font></a>   By default, Emacs downloads packages from a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{package archive}</font>
<a name="line25"><font color="#000000">025:</font></a> maintained by the Emacs developers and hosted by the GNU project.
<a name="line26"><font color="#000000">026:</font></a> Optionally, you can also download packages from archives maintained by
<a name="line27"><font color="#000000">027:</font></a> third parties.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Package Installation</font><font color="#FF0000">}</font>.
<a name="line28"><font color="#000000">028:</font></a> 
<a name="line29"><font color="#000000">029:</font></a>   For information about turning an Emacs Lisp program into an
<a name="line30"><font color="#000000">030:</font></a> installable package, <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Packaging,,,elisp, The Emacs Lisp Reference</font>
<a name="line31"><font color="#000000">031:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>.
<a name="line32"><font color="#000000">032:</font></a> 
<a name="line33"><font color="#000000">033:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line34"><font color="#000000">034:</font></a> <font color="#FF0000">* Package Menu::</font>         Buffer for viewing and managing packages.
<a name="line35"><font color="#000000">035:</font></a> <font color="#FF0000">* Package Installation::</font> Options for package installation.
<a name="line36"><font color="#000000">036:</font></a> <font color="#FF0000">* Package Files::</font>        Where packages are installed.
<a name="line37"><font color="#000000">037:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line38"><font color="#000000">038:</font></a> 
<a name="line39"><font color="#000000">039:</font></a> <b><font color="#0000FF">@node</font></b> Package Menu
<a name="line40"><font color="#000000">040:</font></a> <b><font color="#0000FF">@section</font></b> The Package Menu Buffer
<a name="line41"><font color="#000000">041:</font></a> <i><font color="#9A1900">@cindex package menu</font></i>
<a name="line42"><font color="#000000">042:</font></a> <i><font color="#9A1900">@cindex built-in package</font></i>
<a name="line43"><font color="#000000">043:</font></a> <b><font color="#0000FF">@findex</font></b> list-packages
<a name="line44"><font color="#000000">044:</font></a> 
<a name="line45"><font color="#000000">045:</font></a> The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-packages}</font> brings up the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{package menu}</font>.
<a name="line46"><font color="#000000">046:</font></a> This is a buffer listing all the packages that Emacs knows about, one
<a name="line47"><font color="#000000">047:</font></a> on each line, with the following information:
<a name="line48"><font color="#000000">048:</font></a> 
<a name="line49"><font color="#000000">049:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line50"><font color="#000000">050:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line51"><font color="#000000">051:</font></a> The package name (e.g., <b><font color="#0000FF">@samp</font></b><font color="#009900">{auctex}</font>).
<a name="line52"><font color="#000000">052:</font></a> 
<a name="line53"><font color="#000000">053:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line54"><font color="#000000">054:</font></a> The package's version number (e.g., <b><font color="#0000FF">@samp</font></b><font color="#009900">{11.86}</font>).
<a name="line55"><font color="#000000">055:</font></a> 
<a name="line56"><font color="#000000">056:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line57"><font color="#000000">057:</font></a> The package's status---normally one of <b><font color="#0000FF">@samp</font></b><font color="#009900">{available}</font> (can be
<a name="line58"><font color="#000000">058:</font></a> downloaded from the package archive), <b><font color="#0000FF">@samp</font></b><font color="#009900">{installed}</font>,
<a name="line59"><font color="#000000">059:</font></a> <i><font color="#9A1900">@c @samp{unsigned} (installed, but not signed; @pxref{Package Signing}),</font></i>
<a name="line60"><font color="#000000">060:</font></a> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{built-in}</font> (included in Emacs by default).  The status
<a name="line61"><font color="#000000">061:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{external}</font> means the package is not built-in and not from the
<a name="line62"><font color="#000000">062:</font></a> directory specified by <b><font color="#0000FF">@code</font></b><font color="#009900">{package-user-dir}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Package</font>
<a name="line63"><font color="#000000">063:</font></a> <font color="#FF0000">Files</font><font color="#FF0000">}</font>).  External packages are treated much like built-in: they
<a name="line64"><font color="#000000">064:</font></a> cannot be deleted through the package menu, and are not considered for
<a name="line65"><font color="#000000">065:</font></a> upgrading.
<a name="line66"><font color="#000000">066:</font></a> 
<a name="line67"><font color="#000000">067:</font></a> The status can also be <b><font color="#0000FF">@samp</font></b><font color="#009900">{new}</font>.  This is equivalent to
<a name="line68"><font color="#000000">068:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{available}</font>, except that it means the package became newly
<a name="line69"><font color="#000000">069:</font></a> available on the package archive after your last invocation of
<a name="line70"><font color="#000000">070:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x list-packages}</font>.  In other instances, a package may have the
<a name="line71"><font color="#000000">071:</font></a> status <b><font color="#0000FF">@samp</font></b><font color="#009900">{held}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{disabled}</font>, or <b><font color="#0000FF">@samp</font></b><font color="#009900">{obsolete}</font>.
<a name="line72"><font color="#000000">072:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Package Installation</font><font color="#FF0000">}</font>.
<a name="line73"><font color="#000000">073:</font></a> 
<a name="line74"><font color="#000000">074:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line75"><font color="#000000">075:</font></a> A short description of the package.
<a name="line76"><font color="#000000">076:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line77"><font color="#000000">077:</font></a> 
<a name="line78"><font color="#000000">078:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line79"><font color="#000000">079:</font></a> The <b><font color="#0000FF">@code</font></b><font color="#009900">{list-packages}</font> command accesses the network, to retrieve the
<a name="line80"><font color="#000000">080:</font></a> list of available packages from package archive servers.  If the
<a name="line81"><font color="#000000">081:</font></a> network is unavailable, it falls back on the most recently retrieved
<a name="line82"><font color="#000000">082:</font></a> list.
<a name="line83"><font color="#000000">083:</font></a> 
<a name="line84"><font color="#000000">084:</font></a> The following commands are available in the package menu:
<a name="line85"><font color="#000000">085:</font></a> 
<a name="line86"><font color="#000000">086:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line87"><font color="#000000">087:</font></a> <b><font color="#0000FF">@item</font></b> h
<a name="line88"><font color="#000000">088:</font></a> Print a short message summarizing how to use the package menu
<a name="line89"><font color="#000000">089:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-quick-help}</font>).
<a name="line90"><font color="#000000">090:</font></a> 
<a name="line91"><font color="#000000">091:</font></a> <b><font color="#0000FF">@item</font></b> ?
<a name="line92"><font color="#000000">092:</font></a> <b><font color="#0000FF">@itemx</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line93"><font color="#000000">093:</font></a> Display a help buffer for the package on the current line
<a name="line94"><font color="#000000">094:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-describe-package}</font>), similar to the help window
<a name="line95"><font color="#000000">095:</font></a> displayed by the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h P}</font> command (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Packages</font><font color="#FF0000">}</font>).
<a name="line96"><font color="#000000">096:</font></a> 
<a name="line97"><font color="#000000">097:</font></a> <b><font color="#0000FF">@item</font></b> i
<a name="line98"><font color="#000000">098:</font></a> Mark the package on the current line for installation
<a name="line99"><font color="#000000">099:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-mark-install}</font>).  If the package status is
<a name="line100"><font color="#000000">100:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{available}</font>, this adds an <b><font color="#0000FF">@samp</font></b><font color="#009900">{I}</font> character to the start of the
<a name="line101"><font color="#000000">101:</font></a> line; typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{x}</font> (see below) will download and install the
<a name="line102"><font color="#000000">102:</font></a> package.
<a name="line103"><font color="#000000">103:</font></a> 
<a name="line104"><font color="#000000">104:</font></a> <b><font color="#0000FF">@item</font></b> d
<a name="line105"><font color="#000000">105:</font></a> Mark the package on the current line for deletion
<a name="line106"><font color="#000000">106:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-mark-delete}</font>).  If the package status is
<a name="line107"><font color="#000000">107:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{installed}</font>, this adds a <b><font color="#0000FF">@samp</font></b><font color="#009900">{D}</font> character to the start of the
<a name="line108"><font color="#000000">108:</font></a> line; typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{x}</font> (see below) will delete the package.
<a name="line109"><font color="#000000">109:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Package Files</font><font color="#FF0000">}</font>, for information about what package deletion
<a name="line110"><font color="#000000">110:</font></a> entails.
<a name="line111"><font color="#000000">111:</font></a> 
<a name="line112"><font color="#000000">112:</font></a> <b><font color="#0000FF">@item</font></b> ~
<a name="line113"><font color="#000000">113:</font></a> Mark all obsolete packages for deletion
<a name="line114"><font color="#000000">114:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-mark-obsolete-for-deletion}</font>).  This marks for
<a name="line115"><font color="#000000">115:</font></a> deletion all the packages whose status is <b><font color="#0000FF">@samp</font></b><font color="#009900">{obsolete}</font>.
<a name="line116"><font color="#000000">116:</font></a> 
<a name="line117"><font color="#000000">117:</font></a> <b><font color="#0000FF">@item</font></b> u
<a name="line118"><font color="#000000">118:</font></a> <b><font color="#0000FF">@itemx</font></b> <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>
<a name="line119"><font color="#000000">119:</font></a> Remove any installation or deletion mark previously added to the
<a name="line120"><font color="#000000">120:</font></a> current line by an <b><font color="#0000FF">@kbd</font></b><font color="#009900">{i}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{d}</font> command.
<a name="line121"><font color="#000000">121:</font></a> 
<a name="line122"><font color="#000000">122:</font></a> <b><font color="#0000FF">@item</font></b> U
<a name="line123"><font color="#000000">123:</font></a> Mark all package with a newer available version for upgrading
<a name="line124"><font color="#000000">124:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-mark-upgrades}</font>).  This places an installation mark
<a name="line125"><font color="#000000">125:</font></a> on the new available versions, and a deletion mark on the old
<a name="line126"><font color="#000000">126:</font></a> installed versions.
<a name="line127"><font color="#000000">127:</font></a> 
<a name="line128"><font color="#000000">128:</font></a> <b><font color="#0000FF">@item</font></b> x
<a name="line129"><font color="#000000">129:</font></a> <b><font color="#0000FF">@vindex</font></b> package-menu-async
<a name="line130"><font color="#000000">130:</font></a> Download and install all packages marked with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{i}</font>, and their
<a name="line131"><font color="#000000">131:</font></a> dependencies; also, delete all packages marked with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{d}</font>
<a name="line132"><font color="#000000">132:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-execute}</font>).  This also removes the marks.
<a name="line133"><font color="#000000">133:</font></a> 
<a name="line134"><font color="#000000">134:</font></a> <b><font color="#0000FF">@item</font></b> r
<a name="line135"><font color="#000000">135:</font></a> Refresh the package list (<b><font color="#0000FF">@code{package-menu-ref</font></b><font color="#FF0000">resh</font><font color="#FF0000">}</font>).  This fetches
<a name="line136"><font color="#000000">136:</font></a> the list of available packages from the package archive again, and
<a name="line137"><font color="#000000">137:</font></a> recomputes the package list.
<a name="line138"><font color="#000000">138:</font></a> 
<a name="line139"><font color="#000000">139:</font></a> <b><font color="#0000FF">@item</font></b> f
<a name="line140"><font color="#000000">140:</font></a> Filter the package list (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-filter}</font>).  This prompts
<a name="line141"><font color="#000000">141:</font></a> for a keyword (e.g., <b><font color="#0000FF">@samp</font></b><font color="#009900">{games}</font>), then shows only the packages
<a name="line142"><font color="#000000">142:</font></a> that relate to that keyword.  To restore the full package list,
<a name="line143"><font color="#000000">143:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{q}</font>.
<a name="line144"><font color="#000000">144:</font></a> 
<a name="line145"><font color="#000000">145:</font></a> <b><font color="#0000FF">@item</font></b> H
<a name="line146"><font color="#000000">146:</font></a> Permanently hide packages that match a regexp
<a name="line147"><font color="#000000">147:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-hide-package}</font>).
<a name="line148"><font color="#000000">148:</font></a> 
<a name="line149"><font color="#000000">149:</font></a> <b><font color="#0000FF">@item</font></b> (
<a name="line150"><font color="#000000">150:</font></a> Toggle visibility of old versions of packages and also of versions
<a name="line151"><font color="#000000">151:</font></a> from lower-priority archives (<b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-toggle-hiding}</font>).
<a name="line152"><font color="#000000">152:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line153"><font color="#000000">153:</font></a> 
<a name="line154"><font color="#000000">154:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line155"><font color="#000000">155:</font></a> For example, you can install a package by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{i}</font> on the line
<a name="line156"><font color="#000000">156:</font></a> listing that package, followed by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{x}</font>.
<a name="line157"><font color="#000000">157:</font></a> 
<a name="line158"><font color="#000000">158:</font></a> <b><font color="#0000FF">@node</font></b> Package Installation
<a name="line159"><font color="#000000">159:</font></a> <b><font color="#0000FF">@section</font></b> Package Installation
<a name="line160"><font color="#000000">160:</font></a> 
<a name="line161"><font color="#000000">161:</font></a> <b><font color="#0000FF">@findex</font></b> package-install
<a name="line162"><font color="#000000">162:</font></a>   Packages are most conveniently installed using the package menu
<a name="line163"><font color="#000000">163:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Package Menu</font><font color="#FF0000">}</font>), but you can also use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line164"><font color="#000000">164:</font></a> <font color="#009900">package-install}</font>.  This prompts for the name of a package with the
<a name="line165"><font color="#000000">165:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{available}</font> status, then downloads and installs it.
<a name="line166"><font color="#000000">166:</font></a> 
<a name="line167"><font color="#000000">167:</font></a> <i><font color="#9A1900">@cindex package requirements</font></i>
<a name="line168"><font color="#000000">168:</font></a>   A package may <b><font color="#0000FF">@dfn</font></b><font color="#009900">{require}</font> certain other packages to be installed,
<a name="line169"><font color="#000000">169:</font></a> because it relies on functionality provided by them.  When Emacs
<a name="line170"><font color="#000000">170:</font></a> installs such a package, it also automatically downloads and installs
<a name="line171"><font color="#000000">171:</font></a> any required package that is not already installed.  (If a required
<a name="line172"><font color="#000000">172:</font></a> package is somehow unavailable, Emacs signals an error and stops
<a name="line173"><font color="#000000">173:</font></a> installation.)  A package's requirements list is shown in its help
<a name="line174"><font color="#000000">174:</font></a> buffer.
<a name="line175"><font color="#000000">175:</font></a> 
<a name="line176"><font color="#000000">176:</font></a> <b><font color="#0000FF">@vindex</font></b> package-archives
<a name="line177"><font color="#000000">177:</font></a>   By default, packages are downloaded from a single package archive
<a name="line178"><font color="#000000">178:</font></a> maintained by the Emacs developers.  This is controlled by the
<a name="line179"><font color="#000000">179:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{package-archives}</font>, whose value is a list of package
<a name="line180"><font color="#000000">180:</font></a> archives known to Emacs.  Each list element must have the form
<a name="line181"><font color="#000000">181:</font></a> <i><font color="#9A1900">@code{(@var{id} . @var{location})}, where @var{id} is the name of a</font></i>
<a name="line182"><font color="#000000">182:</font></a> package archive and <b><font color="#0000FF">@var</font></b><font color="#009900">{location}</font> is the <b><font color="#0000FF">@acronym</font></b><font color="#009900">{HTTP}</font> address or
<a name="line183"><font color="#000000">183:</font></a> name of the package archive directory.  You can alter this list if you
<a name="line184"><font color="#000000">184:</font></a> wish to use third party package archives---but do so at your own risk,
<a name="line185"><font color="#000000">185:</font></a> and use only third parties that you think you can trust!
<a name="line186"><font color="#000000">186:</font></a> 
<a name="line187"><font color="#000000">187:</font></a> <b><font color="#0000FF">@anchor</font></b><font color="#009900">{Package Signing}</font>
<a name="line188"><font color="#000000">188:</font></a> <i><font color="#9A1900">@cindex package security</font></i>
<a name="line189"><font color="#000000">189:</font></a> <i><font color="#9A1900">@cindex package signing</font></i>
<a name="line190"><font color="#000000">190:</font></a>   The maintainers of package archives can increase the trust that you
<a name="line191"><font color="#000000">191:</font></a> can have in their packages by <b><font color="#0000FF">@dfn</font></b><font color="#009900">{signing}</font> them.  They generate a
<a name="line192"><font color="#000000">192:</font></a> private/public pair of cryptographic keys, and use the private key to
<a name="line193"><font color="#000000">193:</font></a> create a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{signature file}</font> for each package.  With the public key, you
<a name="line194"><font color="#000000">194:</font></a> can use the signature files to verify the package creator and make sure
<a name="line195"><font color="#000000">195:</font></a> the package has not been tampered with.  Signature verification uses
<a name="line196"><font color="#000000">196:</font></a> <b><font color="#0000FF">@uref</font></b><font color="#FF0000">{</font><font color="#FF0000">https://www.gnupg.org/, the GnuPG package</font><font color="#FF0000">}</font> via the EasyPG
<a name="line197"><font color="#000000">197:</font></a> interface (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,, EasyPG, epa, Emacs EasyPG Assistant Manual</font><font color="#FF0000">}</font>).
<a name="line198"><font color="#000000">198:</font></a> A valid signature is not a cast-iron
<a name="line199"><font color="#000000">199:</font></a> guarantee that a package is not malicious, so you should still
<a name="line200"><font color="#000000">200:</font></a> exercise caution.  Package archives should provide instructions
<a name="line201"><font color="#000000">201:</font></a> on how you can obtain their public key.  One way is to download the
<a name="line202"><font color="#000000">202:</font></a> key from a server such as <b><font color="#0000FF">@url</font></b><font color="#FF0000">{</font><u><font color="#0000FF">https://pgp.mit.edu/</font></u><font color="#FF0000">}</font>.
<a name="line203"><font color="#000000">203:</font></a> Use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x package-import-keyring}</font> to import the key into Emacs.
<a name="line204"><font color="#000000">204:</font></a> Emacs stores package keys in the directory specified by the variable
<a name="line205"><font color="#000000">205:</font></a> <i><font color="#9A1900">@code{package-gnupghome-dir}, by default in the @file{gnupg}</font></i>
<a name="line206"><font color="#000000">206:</font></a> subdirectory of <b><font color="#0000FF">@code</font></b><font color="#009900">{package-user-dir}</font>, which causes Emacs to invoke
<a name="line207"><font color="#000000">207:</font></a> GnuPG with the option <b><font color="#0000FF">@samp</font></b><font color="#009900">{--homedir}</font> when verifying signatures.
<a name="line208"><font color="#000000">208:</font></a> If <b><font color="#0000FF">@code</font></b><font color="#009900">{package-gnupghome-dir}</font> is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, GnuPG's option
<a name="line209"><font color="#000000">209:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--homedir}</font> is omitted.
<a name="line210"><font color="#000000">210:</font></a> The public key for the GNU package archive is distributed with Emacs,
<a name="line211"><font color="#000000">211:</font></a> in the <b><font color="#0000FF">@file</font></b><font color="#009900">{etc/package-keyring.gpg}</font>.  Emacs uses it automatically.
<a name="line212"><font color="#000000">212:</font></a> 
<a name="line213"><font color="#000000">213:</font></a> <b><font color="#0000FF">@vindex</font></b> package-check-signature
<a name="line214"><font color="#000000">214:</font></a> <b><font color="#0000FF">@vindex</font></b> package-unsigned-archives
<a name="line215"><font color="#000000">215:</font></a>   If the user option <b><font color="#0000FF">@code</font></b><font color="#009900">{package-check-signature}</font> is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line216"><font color="#000000">216:</font></a> Emacs attempts to verify signatures when you install packages.  If the
<a name="line217"><font color="#000000">217:</font></a> option has the value <b><font color="#0000FF">@code</font></b><font color="#009900">{allow-unsigned}</font>, you can still install a
<a name="line218"><font color="#000000">218:</font></a> package that is not signed.  If you use some archives that do not sign
<a name="line219"><font color="#000000">219:</font></a> their packages, you can add them to the list <b><font color="#0000FF">@code</font></b><font color="#009900">{package-unsigned-archives}</font>.
<a name="line220"><font color="#000000">220:</font></a> 
<a name="line221"><font color="#000000">221:</font></a>   For more information on cryptographic keys and signing,
<a name="line222"><font color="#000000">222:</font></a> <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,, GnuPG, gnupg, The GNU Privacy Guard Manual</font><font color="#FF0000">}</font>.
<a name="line223"><font color="#000000">223:</font></a> Emacs comes with an interface to GNU Privacy Guard,
<a name="line224"><font color="#000000">224:</font></a> <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top,, EasyPG, epa, Emacs EasyPG Assistant Manual</font><font color="#FF0000">}</font>.
<a name="line225"><font color="#000000">225:</font></a> 
<a name="line226"><font color="#000000">226:</font></a> <b><font color="#0000FF">@vindex</font></b> package-pinned-packages
<a name="line227"><font color="#000000">227:</font></a>   If you have more than one package archive enabled, and some of them
<a name="line228"><font color="#000000">228:</font></a> offer different versions of the same package, you may find the option
<a name="line229"><font color="#000000">229:</font></a> <i><font color="#9A1900">@code{package-pinned-packages} useful.  You can add package/archive</font></i>
<a name="line230"><font color="#000000">230:</font></a> pairs to this list, to ensure that the specified package is only ever
<a name="line231"><font color="#000000">231:</font></a> downloaded from the specified archive.
<a name="line232"><font color="#000000">232:</font></a> 
<a name="line233"><font color="#000000">233:</font></a> <b><font color="#0000FF">@vindex</font></b> package-archive-priorities
<a name="line234"><font color="#000000">234:</font></a> <b><font color="#0000FF">@vindex</font></b> package-menu-hide-low-priority
<a name="line235"><font color="#000000">235:</font></a>   Another option that is useful when you have several package archives
<a name="line236"><font color="#000000">236:</font></a> enabled is <b><font color="#0000FF">@code</font></b><font color="#009900">{package-archive-priorities}</font>.  It specifies the
<a name="line237"><font color="#000000">237:</font></a> priority of each archive (higher numbers specify higher priority
<a name="line238"><font color="#000000">238:</font></a> archives).  By default, archives have the priority of zero, unless
<a name="line239"><font color="#000000">239:</font></a> specified otherwise by this option's value.  Packages from
<a name="line240"><font color="#000000">240:</font></a> lower-priority archives will not be shown in the menu, if the same
<a name="line241"><font color="#000000">241:</font></a> package is available from a higher-priority archive.  (This is
<a name="line242"><font color="#000000">242:</font></a> controlled by the value of <b><font color="#0000FF">@code</font></b><font color="#009900">{package-menu-hide-low-priority}</font>.)
<a name="line243"><font color="#000000">243:</font></a> 
<a name="line244"><font color="#000000">244:</font></a>   Once a package is downloaded and installed, it is made available to
<a name="line245"><font color="#000000">245:</font></a> the current Emacs session.  Making a package available adds its
<a name="line246"><font color="#000000">246:</font></a> directory to <b><font color="#0000FF">@code</font></b><font color="#009900">{load-path}</font> and loads its autoloads.  The effect of
<a name="line247"><font color="#000000">247:</font></a> a package's autoloads varies from package to package.  Most packages
<a name="line248"><font color="#000000">248:</font></a> just make some new commands available, while others have more
<a name="line249"><font color="#000000">249:</font></a> wide-ranging effects on the Emacs session.  For such information,
<a name="line250"><font color="#000000">250:</font></a> consult the package's help buffer.
<a name="line251"><font color="#000000">251:</font></a> 
<a name="line252"><font color="#000000">252:</font></a>   After a package is installed, it is automatically made available by
<a name="line253"><font color="#000000">253:</font></a> Emacs in all subsequent sessions.  This happens at startup, before
<a name="line254"><font color="#000000">254:</font></a> processing the init file but after processing the early init file
<a name="line255"><font color="#000000">255:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Early Init File</font><font color="#FF0000">}</font>).  As an exception, Emacs does not make
<a name="line256"><font color="#000000">256:</font></a> packages available at startup if invoked with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-q}</font> or
<a name="line257"><font color="#000000">257:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-init-file}</font> options (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>).
<a name="line258"><font color="#000000">258:</font></a> 
<a name="line259"><font color="#000000">259:</font></a> <b><font color="#0000FF">@vindex</font></b> package-enable-at-startup
<a name="line260"><font color="#000000">260:</font></a>   To keep Emacs from automatically making packages available at
<a name="line261"><font color="#000000">261:</font></a> startup, change the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{package-enable-at-startup}</font> to
<a name="line262"><font color="#000000">262:</font></a> <i><font color="#9A1900">@code{nil}.  You must do this in the early init file, as the variable</font></i>
<a name="line263"><font color="#000000">263:</font></a> is read before loading the regular init file.  Currently this variable
<a name="line264"><font color="#000000">264:</font></a> cannot be set via Customize.
<a name="line265"><font color="#000000">265:</font></a> 
<a name="line266"><font color="#000000">266:</font></a> <b><font color="#0000FF">@findex</font></b> package-activate-all
<a name="line267"><font color="#000000">267:</font></a>   If you have set <b><font color="#0000FF">@code</font></b><font color="#009900">{package-enable-at-startup}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, you
<a name="line268"><font color="#000000">268:</font></a> can still make packages available either during or after startup.  To
<a name="line269"><font color="#000000">269:</font></a> make installed packages available during startup, call the function
<a name="line270"><font color="#000000">270:</font></a> <i><font color="#9A1900">@code{package-activate-all} in your init file.  To make installed</font></i>
<a name="line271"><font color="#000000">271:</font></a> packages available after startup, invoke the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-:</font>
<a name="line272"><font color="#000000">272:</font></a> <font color="#009900">(package-activate-all) RET}</font>.
<a name="line273"><font color="#000000">273:</font></a> 
<a name="line274"><font color="#000000">274:</font></a> <b><font color="#0000FF">@vindex</font></b> package-load-list
<a name="line275"><font color="#000000">275:</font></a>   For finer control over which packages are made available at startup,
<a name="line276"><font color="#000000">276:</font></a> you can use the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{package-load-list}</font>.  Its value should
<a name="line277"><font color="#000000">277:</font></a> be a list.  A list element of the form <b><font color="#0000FF">@w</font></b><font color="#009900">{@code{(@var{name}</font>
<a name="line278"><font color="#000000">278:</font></a> <font color="#009900">@var{version})}}</font> tells Emacs to make available version <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font> of
<a name="line279"><font color="#000000">279:</font></a> the package named <b><font color="#0000FF">@var</font></b><font color="#009900">{name}</font>.  Here, <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font> should be a version
<a name="line280"><font color="#000000">280:</font></a> string (corresponding to a specific version of the package), or
<a name="line281"><font color="#000000">281:</font></a> <i><font color="#9A1900">@code{t} (which means to make available any installed version), or</font></i>
<a name="line282"><font color="#000000">282:</font></a> <i><font color="#9A1900">@code{nil} (which means no version; this disables the package,</font></i>
<a name="line283"><font color="#000000">283:</font></a> preventing it from being made available).  A list element can also be
<a name="line284"><font color="#000000">284:</font></a> the symbol <b><font color="#0000FF">@code</font></b><font color="#009900">{all}</font>, which means to make available the latest
<a name="line285"><font color="#000000">285:</font></a> installed version of any package not named by the other list elements.
<a name="line286"><font color="#000000">286:</font></a> The default value is just <b><font color="#0000FF">@code</font></b><font color="#009900">{'(all)}</font>.
<a name="line287"><font color="#000000">287:</font></a> 
<a name="line288"><font color="#000000">288:</font></a>   For example, if you set <b><font color="#0000FF">@code</font></b><font color="#009900">{package-load-list}</font> to <b><font color="#0000FF">@w</font></b><font color="#009900">{@code{'((muse</font>
<a name="line289"><font color="#000000">289:</font></a> <font color="#009900">"3.20") all)}}</font>, then Emacs only makes available version 3.20 of the
<a name="line290"><font color="#000000">290:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{muse}</font> package, plus any installed version of packages other than
<a name="line291"><font color="#000000">291:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{muse}</font>.  Any other version of <b><font color="#0000FF">@samp</font></b><font color="#009900">{muse}</font> that happens to be
<a name="line292"><font color="#000000">292:</font></a> installed will be ignored.  The <b><font color="#0000FF">@samp</font></b><font color="#009900">{muse}</font> package will be listed in
<a name="line293"><font color="#000000">293:</font></a> the package menu with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{held}</font> status.
<a name="line294"><font color="#000000">294:</font></a> 
<a name="line295"><font color="#000000">295:</font></a> <b><font color="#0000FF">@node</font></b> Package Files
<a name="line296"><font color="#000000">296:</font></a> <b><font color="#0000FF">@section</font></b> Package Files and Directory Layout
<a name="line297"><font color="#000000">297:</font></a> <i><font color="#9A1900">@cindex package directory</font></i>
<a name="line298"><font color="#000000">298:</font></a> 
<a name="line299"><font color="#000000">299:</font></a> <i><font color="#9A1900">@cindex package file</font></i>
<a name="line300"><font color="#000000">300:</font></a> <b><font color="#0000FF">@findex</font></b> package-install-file
<a name="line301"><font color="#000000">301:</font></a>   Each package is downloaded from the package archive in the form of a
<a name="line302"><font color="#000000">302:</font></a> single <b><font color="#0000FF">@dfn</font></b><font color="#009900">{package file}</font>---either an Emacs Lisp source file, or a tar
<a name="line303"><font color="#000000">303:</font></a> file containing multiple Emacs Lisp source and other files.  Package
<a name="line304"><font color="#000000">304:</font></a> files are automatically retrieved, processed, and disposed of by the
<a name="line305"><font color="#000000">305:</font></a> Emacs commands that install packages.  Normally, you will not need to
<a name="line306"><font color="#000000">306:</font></a> deal directly with them, unless you are making a package
<a name="line307"><font color="#000000">307:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Packaging,,,elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>).  Should
<a name="line308"><font color="#000000">308:</font></a> you ever need to install a package directly from a package file, use
<a name="line309"><font color="#000000">309:</font></a> the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x package-install-file}</font>.
<a name="line310"><font color="#000000">310:</font></a> 
<a name="line311"><font color="#000000">311:</font></a> <b><font color="#0000FF">@vindex</font></b> package-user-dir
<a name="line312"><font color="#000000">312:</font></a>   Once installed, the contents of a package are placed in a
<a name="line313"><font color="#000000">313:</font></a> subdirectory of <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/elpa/}</font> (you can change the name of
<a name="line314"><font color="#000000">314:</font></a> that directory by changing the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{package-user-dir}</font>).  The
<a name="line315"><font color="#000000">315:</font></a> package subdirectory is named <b><font color="#0000FF">@file</font></b><font color="#009900">{@var{name}-@var{version}}</font>, where
<a name="line316"><font color="#000000">316:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{name}</font> is the package name and <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font> is its version
<a name="line317"><font color="#000000">317:</font></a> string.
<a name="line318"><font color="#000000">318:</font></a> 
<a name="line319"><font color="#000000">319:</font></a> <i><font color="#9A1900">@cindex system-wide packages</font></i>
<a name="line320"><font color="#000000">320:</font></a> <b><font color="#0000FF">@vindex</font></b> package-directory-list
<a name="line321"><font color="#000000">321:</font></a>   In addition to <b><font color="#0000FF">@code</font></b><font color="#009900">{package-user-dir}</font>, Emacs looks for installed
<a name="line322"><font color="#000000">322:</font></a> packages in the directories listed in <b><font color="#0000FF">@code</font></b><font color="#009900">{package-directory-list}</font>.
<a name="line323"><font color="#000000">323:</font></a> These directories are meant for system administrators to make Emacs
<a name="line324"><font color="#000000">324:</font></a> packages available system-wide; Emacs itself never installs packages
<a name="line325"><font color="#000000">325:</font></a> there.  The package subdirectories for <b><font color="#0000FF">@code</font></b><font color="#009900">{package-directory-list}</font>
<a name="line326"><font color="#000000">326:</font></a> are laid out in the same way as in <b><font color="#0000FF">@code</font></b><font color="#009900">{package-user-dir}</font>.
<a name="line327"><font color="#000000">327:</font></a> 
<a name="line328"><font color="#000000">328:</font></a>   Deleting a package (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Package Menu</font><font color="#FF0000">}</font>) involves deleting the
<a name="line329"><font color="#000000">329:</font></a> corresponding package subdirectory.  This only works for packages
<a name="line330"><font color="#000000">330:</font></a> installed in <b><font color="#0000FF">@code</font></b><font color="#009900">{package-user-dir}</font>; if told to act on a package in a
<a name="line331"><font color="#000000">331:</font></a> system-wide package directory, the deletion command signals an error.
<a name="line332"><font color="#000000">332:</font></a> </tt></pre>
