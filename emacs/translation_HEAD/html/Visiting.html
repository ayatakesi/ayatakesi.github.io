<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 29.3.

Copyright (C) 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Visiting (GNU Emacs Manual
(Japanese Translation))</title>

<meta name="description" content="Visiting (GNU Emacs Manual
(Japanese Translation))">
<meta name="keywords" content="Visiting (GNU Emacs Manual
(Japanese Translation))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="April 29, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Files.html" rel="up" title="Files">
<link href="Saving.html" rel="next" title="Saving">
<link href="File-Names.html" rel="prev" title="File Names">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Visiting">
<div class="header">
<p>
Next: <a href="Saving.html" accesskey="n" rel="next">ファイルの保存</a>, Previous: <a href="File-Names.html" accesskey="p" rel="prev">ファイルの名前</a>, Up: <a href="Files.html" accesskey="u" rel="up">ファイルの処理</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="huairunovisit_0028Fang-Wen-_0029"></span><h3 class="section">19.2 ファイルのvisit(訪問)</h3>
<span id="index-visiting-files"></span>
<span id="index-open-file"></span>

<dl compact="compact">
<dt><span><kbd>C-x C-f</kbd></span></dt>
<dd><p>Visit a file (<code>find-file</code>).
</p></dd>
<dt><span><kbd>C-x C-r</kbd></span></dt>
<dd><p>Visit a file for viewing, without allowing changes to it
(<code>find-file-read-only</code>).
</p></dd>
<dt><span><kbd>C-x C-v</kbd></span></dt>
<dd><p>Visit a different file instead of the one visited last
(<code>find-alternate-file</code>).
</p></dd>
<dt><span><kbd>C-x 4 f</kbd></span></dt>
<dd><p>Visit a file, in another window (<code>find-file-other-window</code>).  Don&rsquo;t
alter what is displayed in the selected window.
</p></dd>
<dt><span><kbd>C-x 5 f</kbd></span></dt>
<dd><p>Visit a file, in a new frame (<code>find-file-other-frame</code>).  Don&rsquo;t alter
what is displayed in the selected frame.
</p></dd>
<dt><span><kbd>M-x find-file-literally</kbd></span></dt>
<dd><p>Visit a file with no conversion of the contents.
</p></dd>
</dl>

<span id="index-files_002c-visiting-and-saving"></span>
<span id="index-saving-files"></span>
<p><em>Visiting</em> a file means reading its contents into an Emacs buffer so you
can edit them.  Emacs makes a new buffer for each file that you visit.
</p>
<span id="index-C_002dx-C_002df"></span>
<span id="index-find_002dfile"></span>
<p>To visit a file, type <kbd>C-x C-f</kbd> (<code>find-file</code>) and use the
minibuffer to enter the name of the desired file.  While in the minibuffer,
you can abort the command by typing <kbd>C-g</kbd>.  See <a href="File-Names.html">ファイルの名前</a>, for
details about entering file names into minibuffers.
</p>
<p>If the specified file exists but the system does not allow you to read it,
an error message is displayed in the echo area (on GNU and Unix systems you
might be able to visit such a file using the &lsquo;<samp>su</samp>&rsquo; or &lsquo;<samp>sudo</samp>&rsquo;
methods; see <a href="Remote-Files.html">リモートファイル</a>).  Otherwise, you can tell that <kbd>C-x C-f</kbd>
has completed successfully by the appearance of new text on the screen, and
by the buffer name shown in the mode line (see <a href="Mode-Line.html">モードライン</a>).  Emacs
normally constructs the buffer name from the file name, omitting the
directory name.  For example, a file named <samp>/usr/rms/emacs.tex</samp> is
visited in a buffer named &lsquo;<samp>emacs.tex</samp>&rsquo;.  If there is already a buffer
with that name, Emacs constructs a unique name; the normal method is to add
a suffix based on the directory name (e.g., &lsquo;<samp>&lt;rms&gt;</samp>&rsquo;, &lsquo;<samp>&lt;tmp&gt;</samp>&rsquo;, and
so on), but you can select other methods.  See <a href="Uniquify.html">バッファー名を一意にする</a>.
</p>
<span id="index-creating-files"></span>
<p>To create a new file, just visit it using the same command, <kbd>C-x C-f</kbd>.
Emacs displays &lsquo;<samp>(New file)</samp>&rsquo; in the echo area, but in other respects
behaves as if you had visited an existing empty file.
</p>
<span id="index-modified-_0028buffer_0029"></span>
<p>After visiting a file, the changes you make with editing commands are made
in the Emacs buffer.  They do not take effect in the visited file, until you
<em>save</em> the buffer (see <a href="Saving.html">ファイルの保存</a>).  If a buffer contains changes that
have not been saved, we say the buffer is <em>modified</em>.  This implies that
some changes will be lost if the buffer is not saved.  The mode line
displays two stars near the left margin to indicate that the buffer is
modified.
</p>
<p>If you visit a file that is already in Emacs, <kbd>C-x C-f</kbd> switches to the
existing buffer instead of making another copy.  Before doing so, it checks
whether the file has changed since you last visited or saved it.  If the
file has changed, Emacs offers to reread it.
</p>
<span id="index-large_002dfile_002dwarning_002dthreshold"></span>
<span id="index-file_002c-warning-when-size-is-large"></span>
<span id="index-size-of-file_002c-warning-when-visiting"></span>
<span id="index-maximum-buffer-size-exceeded_002c-error-message"></span>
<p>If you try to visit a file larger than <code>large-file-warning-threshold</code>
(the default is 10000000, which is about 10 megabytes), Emacs asks you for
confirmation first.  You can answer <kbd>y</kbd> to proceed with visiting the
file or <kbd>l</kbd> to visit the file literally (see below).  Visiting large
files literally speeds up navigation and editing of such files, because
various potentially-expensive features are turned off.  Note, however, that
Emacs cannot visit files that are larger than the maximum Emacs buffer size,
which is limited by the amount of memory Emacs can allocate and by the
integers that Emacs can represent (see <a href="Buffers.html">複数バッファーの使用</a>).  If you try, Emacs
displays an error message saying that the maximum buffer size has been
exceeded.
</p>
<span id="index-treesit_002dmax_002dbuffer_002dsize"></span>
<p>If you try to visit a file whose major mode (see <a href="Major-Modes.html">メジャーモード</a>)  uses the
tree-sitter parsing library, Emacs will display a warning if the file&rsquo;s size
in bytes is larger than the value of the variable
<code>treesit-max-buffer-size</code>.  The default value is 40 megabytes for
64-bit Emacs and 15 megabytes for 32-bit Emacs.  This avoids the danger of
having Emacs run out of memory by preventing the activation of major modes
based on tree-sitter in such large buffers, because a typical tree-sitter
parser needs about 10 times as much memory as the text it parses.
</p>
<span id="index-wildcard-characters-in-file-names"></span>
<span id="index-find_002dfile_002dwildcards"></span>
<p>If the file name you specify contains shell-style wildcard characters, Emacs
visits all the files that match it.  (On case-insensitive filesystems, Emacs
matches the wildcards disregarding the letter case.)  Wildcards include
&lsquo;<samp>?</samp>&rsquo;, &lsquo;<samp>*</samp>&rsquo;, and &lsquo;<samp>[&hellip;]</samp>&rsquo; sequences.  To enter the wild card
&lsquo;<samp>?</samp>&rsquo; in a file name in the minibuffer, you need to type <kbd>C-q ?</kbd>.
See <a href="Quoted-File-Names.html">ファイル名のクォート</a>, for information on how to visit a file whose name
actually contains wildcard characters.  You can disable the wildcard feature
by customizing <code>find-file-wildcards</code>.
</p>
<span id="index-query_002dabout_002dchanged_002dfile"></span>
<p>If you&rsquo;re asking to visit a file that&rsquo;s already visited in a buffer, but the
file has changed externally, Emacs normally asks you whether you want to
re-read the file from disk.  But if you set <code>query-about-changed-file</code>
to <code>nil</code>, Emacs won&rsquo;t query you, but will instead just display the
buffer&rsquo;s contents before the changes, and show an echo-area message telling
you how to revert the buffer from the file.
</p>
<span id="index-C_002dx-C_002dv"></span>
<span id="index-find_002dalternate_002dfile"></span>
<p>If you visit the wrong file unintentionally by typing its name incorrectly,
type <kbd>C-x C-v</kbd> (<code>find-alternate-file</code>) to visit the file you really
wanted.  <kbd>C-x C-v</kbd> is similar to <kbd>C-x C-f</kbd>, but it kills the current
buffer (after first offering to save it if it is modified).  When <kbd>C-x
C-v</kbd> reads the file name to visit, it inserts the entire default file name
in the buffer, with point just after the directory part; this is convenient
if you made a slight error in typing the name.
</p>
<span id="index-find_002dfile_002drun_002ddired"></span>
<p>If you visit a file that is actually a directory, Emacs invokes Dired, the
Emacs directory browser.  See <a href="Dired.html">Dired (ディレクトリーエディター)</a>.  You can disable this behavior by
setting the variable <code>find-file-run-dired</code> to <code>nil</code>; in that case,
it is an error to try to visit a directory.
</p>
<p>Files which are actually collections of other files, or <em>file archives</em>,
are visited in special modes which invoke a Dired-like environment to allow
operations on archive members.  See <a href="File-Archives.html">ファイルアーカイブ</a>, for more about these
features.
</p>
<p>If you visit a file that the operating system won&rsquo;t let you modify, or that
is marked read-only, Emacs makes the buffer read-only too, so that you won&rsquo;t
go ahead and make changes that you&rsquo;ll have trouble saving afterward.  You
can make the buffer writable with <kbd>C-x C-q</kbd> (<code>read-only-mode</code>).
See <a href="Misc-Buffer.html">その他のバッファー操作</a>.
</p>
<span id="index-C_002dx-C_002dr"></span>
<span id="index-find_002dfile_002dread_002donly"></span>
<p>If you want to visit a file as read-only in order to protect yourself from
entering changes accidentally, visit it with the command <kbd>C-x C-r</kbd>
(<code>find-file-read-only</code>) instead of <kbd>C-x C-f</kbd>.
</p>
<span id="index-C_002dx-4-f"></span>
<span id="index-find_002dfile_002dother_002dwindow"></span>
<p><kbd>C-x 4 f</kbd> (<code>find-file-other-window</code>) is like <kbd>C-x C-f</kbd> except
that the buffer containing the specified file is selected in another
window.  The window that was selected before <kbd>C-x 4 f</kbd> continues to show
the same buffer it was already showing.  If this command is used when only
one window is being displayed, that window is split in two, with one window
showing the same buffer as before, and the other one showing the newly
requested file.  See <a href="Windows.html">複数ウィンドウ</a>.
</p>
<span id="index-C_002dx-5-f"></span>
<span id="index-find_002dfile_002dother_002dframe"></span>
<p><kbd>C-x 5 f</kbd> (<code>find-file-other-frame</code>) is similar, but opens a new
frame, or selects any existing frame showing the specified file.
See <a href="Frames.html">フレームとグラフィカルなディスプレイ</a>.
</p>
<span id="index-file-selection-dialog"></span>
<p>On graphical displays, there are two additional methods for visiting files.
Firstly, when Emacs is built with a suitable GUI toolkit, commands invoked
with the mouse (by clicking on the menu bar or tool bar) use the toolkit&rsquo;s
standard file selection dialog instead of prompting for the file name in the
minibuffer.  On GNU/Linux and Unix platforms, Emacs does this when built
with GTK+, LessTif, and Motif toolkits; on MS-Windows and Mac, the GUI
version does that by default.  For information on how to customize this, see
<a href="Dialog-Boxes.html">ダイアログボックスの使用</a>.
</p>
<p>Secondly, Emacs supports drag and drop: dropping a file into an ordinary
Emacs window visits the file using that window.  As an exception, dropping a
file into a window displaying a Dired buffer moves or copies the file into
the displayed directory.  For details, see <a href="Drag-and-Drop.html">ドラッグアンドドロップ</a>, and
<a href="Misc-Dired-Features.html">その他のDiredの機能</a>.
</p>
<p>On text-mode terminals and on graphical displays when Emacs was built
without a GUI toolkit, you can visit files via the menu-bar &lsquo;<samp>File</samp>&rsquo;
menu, which has the &lsquo;<samp>Visit New File</samp>&rsquo; and the &lsquo;<samp>Open File</samp>&rsquo; items.
</p>
<p>Each time you visit a file, Emacs automatically scans its contents to detect
what character encoding and end-of-line convention it uses, and converts
these to Emacs&rsquo;s internal encoding and end-of-line convention within the
buffer.  When you save the buffer, Emacs performs the inverse conversion,
writing the file to disk with its original encoding and end-of-line
convention.  See <a href="Coding-Systems.html">コーディングシステム</a>.
</p>
<span id="index-find_002dfile_002dliterally"></span>
<p>If you wish to edit a file as a sequence of <acronym>ASCII</acronym> characters with
no special encoding or conversion, use the <kbd>M-x find-file-literally</kbd>
command.  This visits a file, like <kbd>C-x C-f</kbd>, but does not do format
conversion (see <a data-manual="elisp" href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Format-Conversion.html#Format-Conversion">Format Conversion</a> in <cite>the Emacs
Lisp Reference Manual</cite>), character code conversion (see <a href="Coding-Systems.html">コーディングシステム</a>),
or automatic uncompression (see <a href="Compressed-Files.html">圧縮ファイルへのアクセス</a>), and does not add a
final newline because of <code>require-final-newline</code> (see <a href="Customize-Save.html">ファイル保存のカスタマイズ</a>).  If you have already visited the same file in the usual
(non-literal) manner, this command asks you whether to visit it literally
instead.
</p>
<span id="index-find_002dsibling_002dfile"></span>
<span id="index-find_002dsibling_002drules"></span>
<p>Files are sometimes (loosely) tied to other files, and you could call these
files <em>sibling files</em>.  For instance, when editing C files, if you have
a file called &lsquo;<samp>&quot;foo.c&quot;</samp>&rsquo;, you often also have a file called
&lsquo;<samp>&quot;foo.h&quot;</samp>&rsquo;, and that could be its sibling file.  Or you may have
different versions of a file, for instance
&lsquo;<samp>&quot;src/emacs/emacs-27/lisp/allout.el&quot;</samp>&rsquo; and
&lsquo;<samp>&quot;src/emacs/emacs-28/lisp/allout.el&quot;</samp>&rsquo; might be considered siblings.
Emacs provides the <code>find-sibling-file</code> command to jump between sibling
files, but it&rsquo;s impossible to guess at which files a user might want to be
considered siblings, so Emacs lets you configure this freely by altering the
<code>find-sibling-rules</code> user option.  This is a list of match/expansion
elements.
</p>
<p>For instance, to do the &lsquo;<samp>&quot;.c&quot;</samp>&rsquo; to &lsquo;<samp>&quot;.h&quot;</samp>&rsquo; mapping, you could say:
</p>
<div class="example lisp">
<pre class="lisp">(setq find-sibling-rules
      '((&quot;\\([^/]+\\)\\.c\\'&quot; &quot;\\1.h&quot;)))
</pre></div>

<p>(<code>ff-find-related-file</code> offers similar functionality especially geared
towards C files, see <a href="Other-C-Commands.html">Cモードのその他のコマンド</a>.)
</p>
<p>Or, if you want to consider all files under &lsquo;<samp>&quot;src/emacs/DIR/file-name&quot;</samp>&rsquo;
to be siblings of other <var>dir</var>s, you could say:
</p>
<div class="example lisp">
<pre class="lisp">(setq find-sibling-rules
      '((&quot;src/emacs/[^/]+/\\(.*\\)\\'&quot; &quot;src/emacs/.*/\\1&quot;)))
</pre></div>

<p>As you can see, this is a list of <var>(MATCH EXPANSION...)</var> elements.  The
<var>match</var> is a regular expression that matches the visited file name, and
each <var>expansion</var> may refer to match groups by using &lsquo;<samp>\\1</samp>&rsquo; and so
on.  The resulting expansion string is then applied to the file system to
see if any files match this expansion (interpreted as a regexp).
</p>
<span id="index-find_002dfile_002dhook"></span>
<span id="index-find_002dfile_002dnot_002dfound_002dfunctions"></span>
<p>Two special hook variables allow extensions to modify the operation of
visiting files.  Visiting a file that does not exist runs the functions in
<code>find-file-not-found-functions</code>; this variable holds a list of
functions, which are called one by one (with no arguments)  until one of
them returns non-<code>nil</code>.  This is not a normal hook, and the name ends
in &lsquo;<samp>-functions</samp>&rsquo; rather than &lsquo;<samp>-hook</samp>&rsquo; to indicate that fact.
</p>
<p>Successful visiting of any file, whether existing or not, calls the
functions in <code>find-file-hook</code>, with no arguments.  This variable is a
normal hook.  In the case of a nonexistent file, the
<code>find-file-not-found-functions</code> are run first.  See <a href="Hooks.html">フック</a>.
</p>
<p>There are several ways to specify automatically the major mode for editing
the file (see <a href="Choosing-Modes.html">ファイルのモードを選択する</a>), and to specify local variables defined
for that file (see <a href="File-Variables.html">ファイル内のローカル変数</a>).
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Saving.html">ファイルの保存</a>, Previous: <a href="File-Names.html">ファイルの名前</a>, Up: <a href="Files.html">ファイルの処理</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-29_d8687fd6cd807db1c76084a5e2bb214f9b6c9a49, commit:dbe487dc98c12a8b683ddcf6b90e5c551ae0e2de to check Japanese translation.
</body>
</html>
