<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 29.3.

Copyright (C) 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Save Commands (GNU Emacs Manual
(Japanese Translation))</title>

<meta name="description" content="Save Commands (GNU Emacs Manual
(Japanese Translation))">
<meta name="keywords" content="Save Commands (GNU Emacs Manual
(Japanese Translation))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="April 29, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Saving.html" rel="up" title="Saving">
<link href="Backup.html" rel="next" title="Backup">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="subsection" id="Save-Commands">
<div class="header">
<p>
Next: <a href="Backup.html" accesskey="n" rel="next">バックアップファイル</a>, Up: <a href="Saving.html" accesskey="u" rel="up">ファイルの保存</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="huairuwoBao-Cun-surukomando"></span><h4 class="subsection">19.3.1 ファイルを保存するコマンド</h4>

<p>These are the commands that relate to saving and writing files.
</p>
<dl compact="compact">
<dt><span><kbd>C-x C-s</kbd></span></dt>
<dd><p>Save the current buffer to its file (<code>save-buffer</code>).
</p></dd>
<dt><span><kbd>C-x s</kbd></span></dt>
<dd><p>Save any or all buffers to their files (<code>save-some-buffers</code>).
</p></dd>
<dt><span><kbd>M-~</kbd></span></dt>
<dd><p>Forget that the current buffer has been changed (<code>not-modified</code>).  With
prefix argument (<kbd>C-u</kbd>), mark the current buffer as changed.
</p></dd>
<dt><span><kbd>C-x C-w</kbd></span></dt>
<dd><p>Save the current buffer with a specified file name (<code>write-file</code>).
</p></dd>
<dt><span><kbd>M-x set-visited-file-name</kbd></span></dt>
<dd><p>Change the file name under which the current buffer will be saved.
</p></dd>
<dt><span><kbd>M-x rename-visited-file</kbd></span></dt>
<dd><p>The same as <kbd>M-x set-visited-file-name</kbd>, but also rename the file the
buffer is visiting (if any).
</p></dd>
</dl>

<span id="index-C_002dx-C_002ds"></span>
<span id="index-save_002dbuffer"></span>
<p>When you wish to save the file and make your changes permanent, type
<kbd>C-x C-s</kbd> (<code>save-buffer</code>).  After saving is finished, <kbd>C-x C-s</kbd>
displays a message like this:
</p>
<div class="example">
<pre class="example">Wrote /u/rms/gnu/gnu.tasks
</pre></div>

<p>If the current buffer is not modified (no changes have been made in it since
the buffer was created or last saved), saving is not really done, because it
would have no effect.  Instead, <kbd>C-x C-s</kbd> displays a message like this
in the echo area:
</p>
<div class="example">
<pre class="example">(No changes need to be saved)
</pre></div>

<p>With a prefix argument, <kbd>C-u C-x C-s</kbd>, Emacs also marks the buffer to be
backed up when the next save is done.  See <a href="Backup.html">バックアップファイル</a>.
</p>
<span id="index-C_002dx-s"></span>
<span id="index-save_002dsome_002dbuffers"></span>
<p>The command <kbd>C-x s</kbd> (<code>save-some-buffers</code>) offers to save any or all
modified buffers.  It asks you what to do with each buffer.  The possible
responses are analogous to those of <code>query-replace</code>:
</p>
<dl compact="compact">
<dt><span><kbd>y</kbd></span></dt>
<dt><span><kbd><span class="key">SPC</span></kbd></span></dt>
<dd><p>Save this buffer and ask about the rest of the buffers.
</p></dd>
<dt><span><kbd>n</kbd></span></dt>
<dt><span><kbd><span class="key">DEL</span></kbd></span></dt>
<dd><p>Don&rsquo;t save this buffer, but ask about the rest of the buffers.
</p></dd>
<dt><span><kbd>!</kbd></span></dt>
<dd><p>Save this buffer and all the rest with no more questions.
</p></dd>
<dt><span><kbd>q</kbd></span></dt>
<dt><span><kbd><span class="key">RET</span></kbd></span></dt>
<dd><p>Terminate <code>save-some-buffers</code> without any more saving.
</p></dd>
<dt><span><kbd>.</kbd></span></dt>
<dd><p>Save this buffer, then exit <code>save-some-buffers</code> without even asking
about other buffers.
</p></dd>
<dt><span><kbd>C-r</kbd></span></dt>
<dd><p>View the buffer that you are currently being asked about.  When you exit
View mode, you get back to <code>save-some-buffers</code>, which asks the question
again.
</p></dd>
<dt><span><kbd>C-f</kbd></span></dt>
<dd><p>Exit <code>save-some-buffers</code> and visit the buffer that you are currently
being asked about.
</p></dd>
<dt><span><kbd>d</kbd></span></dt>
<dd><p>Diff the buffer against its corresponding file, so you can see what changes
you would be saving.  This calls the command <code>diff-buffer-with-file</code>
(see <a href="Comparing-Files.html">ファイルの比較</a>).
</p></dd>
<dt><span><kbd>C-h</kbd></span></dt>
<dd><p>Display a help message about these options.
</p></dd>
</dl>

<p><span id="index-save_002dsome_002dbuffers_002ddefault_002dpredicate"></span>
You can customize the value of <code>save-some-buffers-default-predicate</code> to
control which buffers Emacs will ask about.
</p>
<p><kbd>C-x C-c</kbd>, the key sequence to exit Emacs, invokes
<code>save-some-buffers</code> and therefore asks the same questions.
</p>
<span id="index-M_002d_007e"></span>
<span id="index-not_002dmodified"></span>
<p>If you have changed a buffer but do not wish to save the changes, you should
take some action to prevent it.  Otherwise, each time you use <kbd>C-x s</kbd> or
<kbd>C-x C-c</kbd>, you are liable to save this buffer by mistake.  One thing you
can do is type <kbd>M-~</kbd> (<code>not-modified</code>), which clears out the
indication that the buffer is modified.  If you do this, none of the save
commands will believe that the buffer needs to be saved.  (&lsquo;<samp>~</samp>&rsquo; is often
used as a mathematical symbol for &ldquo;not&rdquo;; thus <kbd>M-~</kbd> is &ldquo;not&rdquo;,
metafied.)  Alternatively, you can cancel all the changes made since the
file was visited or saved, by reading the text from the file again.  This is
called <em>reverting</em>.  See <a href="Reverting.html">バッファーのリバート</a>.  (You could also undo all the
changes by repeating the undo command <kbd>C-x u</kbd> until you have undone all
the changes; but reverting is easier.)
</p>
<span id="index-set_002dvisited_002dfile_002dname"></span>
<p><kbd>M-x set-visited-file-name</kbd> alters the name of the file that the current
buffer is visiting.  It reads the new file name using the minibuffer.  Then
it marks the buffer as visiting that file name, and changes the buffer name
correspondingly.  <code>set-visited-file-name</code> does not save the buffer in
the newly visited file; it just alters the records inside Emacs in case you
do save later.  It also marks the buffer as modified so that <kbd>C-x C-s</kbd>
in that buffer <em>will</em> save.
</p>
<span id="index-C_002dx-C_002dw"></span>
<span id="index-write_002dfile"></span>
<p>If you wish to mark the buffer as visiting a different file and save it
right away, use <kbd>C-x C-w</kbd> (<code>write-file</code>).  This is equivalent to
<code>set-visited-file-name</code> followed by <kbd>C-x C-s</kbd>, except that <kbd>C-x
C-w</kbd> asks for confirmation if the file exists.  <kbd>C-x C-s</kbd> used on a
buffer that is not visiting a file has the same effect as <kbd>C-x C-w</kbd>;
that is, it reads a file name, marks the buffer as visiting that file, and
saves it there.  The default file name in a buffer that is not visiting a
file is made by combining the buffer name with the buffer&rsquo;s default
directory (see <a href="File-Names.html">ファイルの名前</a>).
</p>
<p>If the new file name implies a major mode, then <kbd>C-x C-w</kbd> switches to
that major mode, in most cases.  The command <code>set-visited-file-name</code>
also does this.  See <a href="Choosing-Modes.html">ファイルのモードを選択する</a>.
</p>
<p>If you wish to save the current buffer to a different file without visiting
that file, use <code>mark-whole-buffer</code> (<kbd>C-x h</kbd>), then <kbd><span class="nolinebreak">M-x</span>&nbsp;<span class="nolinebreak">write-region</span></kbd><!-- /@w --> (see <a href="Misc-File-Ops.html">その他のファイル操作</a>).
</p>
<p>If Emacs is about to save a file and sees that the date of the latest
version on disk does not match what Emacs last read or wrote, Emacs notifies
you of this fact, because it probably indicates a problem caused by
simultaneous editing and requires your immediate attention.
See <a href="Interlocking.html">Simultaneous Editing</a>.
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Backup.html">バックアップファイル</a>, Up: <a href="Saving.html">ファイルの保存</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-29_d8687fd6cd807db1c76084a5e2bb214f9b6c9a49, commit:dbe487dc98c12a8b683ddcf6b90e5c551ae0e2de to check Japanese translation.
</body>
</html>
