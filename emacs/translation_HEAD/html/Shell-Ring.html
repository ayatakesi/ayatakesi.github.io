<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 30.0.91.

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Shell Ring (GNU Emacs Manual
(Japanese Translation))</title>

<meta name="description" content="Shell Ring (GNU Emacs Manual
(Japanese Translation))">
<meta name="keywords" content="Shell Ring (GNU Emacs Manual
(Japanese Translation))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="October 6, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Shell-History.html" rel="up" title="Shell History">
<link href="Shell-History-Copying.html" rel="next" title="Shell History Copying">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="Shell-Ring">
<div class="nav-panel">
<p>
Next: <a href="Shell-History-Copying.html" accesskey="n" rel="next">Shellヒストリーのコピー</a>, Up: <a href="Shell-History.html" accesskey="u" rel="up">Shellコマンドヒストリー</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection subsubsection-level-set-subsection" id="Shellhisutoriringu"><span>40.5.1 Shellヒストリーリング<a class="copiable-link" href="#Shellhisutoriringu"> &para;</a></span></h4>

<dl class="table">
<dt><a class="index-entry-id" id="index-M_002dp-_0028Shell-mode_0029"></a>
<a id="index-comint_002dprevious_002dinput"></a><span><kbd class="kbd">M-p</kbd><a class="copiable-link" href="#index-comint_002dprevious_002dinput"> &para;</a></span></dt>
<dt><kbd class="kbd">C-<kbd class="key">UP</kbd></kbd></dt>
<dd><p>以前のシェルコマンドから、次に古いコマンドを取り出します(<code class="code">comint-previous-input</code>)。
</p>
</dd>
<dt><a class="index-entry-id" id="index-comint_002dnext_002dinput"></a>
<a id="index-M_002dn-_0028Shell-mode_0029"></a><span><kbd class="kbd">M-n</kbd><a class="copiable-link" href="#index-M_002dn-_0028Shell-mode_0029"> &para;</a></span></dt>
<dt><kbd class="kbd">C-<kbd class="key">DOWN</kbd></kbd></dt>
<dd><p>以前のシェルコマンドから、次に新しいコマンドを取り出します(<code class="code">comint-next-input</code>)。
</p>
</dd>
<dt><a class="index-entry-id" id="index-comint_002dhistory_002disearch_002dbackward_002dregexp"></a>
<a id="index-M_002dr-_0028Shell-mode_0029"></a><span><kbd class="kbd">M-r</kbd><a class="copiable-link" href="#index-M_002dr-_0028Shell-mode_0029"> &para;</a></span></dt>
<dd><p>以前のシェルコマンドにたいして、インクリメンタルregexp検索を開始します(<code class="code">comint-history-isearch-backward-regexp</code>)。
</p>
</dd>
<dt><a class="index-entry-id" id="index-comint_002dget_002dnext_002dfrom_002dhistory"></a>
<a id="index-C_002dc-C_002dx-_0028Shell-mode_0029"></a><span><kbd class="kbd">C-c C-x</kbd><a class="copiable-link" href="#index-C_002dc-C_002dx-_0028Shell-mode_0029"> &para;</a></span></dt>
<dd><p>ヒストリーから次のコマンドを取り出します(<code class="code">comint-get-next-from-history</code>)。
</p>
</dd>
<dt><a class="index-entry-id" id="index-comint_002dinsert_002dprevious_002dargument"></a>
<a id="index-C_002dc-_002e-_0028Shell-mode_0029"></a><span><kbd class="kbd">C-c .</kbd><a class="copiable-link" href="#index-C_002dc-_002e-_0028Shell-mode_0029"> &para;</a></span></dt>
<dd><p>以前のシェルコマンドから引数を1つ取り出します(<code class="code">comint-input-previous-argument</code>)。
</p>
</dd>
<dt><a class="index-entry-id" id="index-comint_002ddynamic_002dlist_002dinput_002dring"></a>
<a id="index-C_002dc-C_002dl-_0028Shell-mode_0029"></a><span><kbd class="kbd">C-c C-l</kbd><a class="copiable-link" href="#index-C_002dc-C_002dl-_0028Shell-mode_0029"> &para;</a></span></dt>
<dd><p>そのバッファーのシェルコマンドのヒストリーを、別のウィンドウに表示します(<code class="code">comint-dynamic-list-input-ring</code>)。
</p></dd>
</dl>

<p>Shellバッファーは、以前に入力したシェルコマンドのヒストリーを提供します。ヒストリーからシェルコマンドを再利用するには、編集コマンド<kbd class="kbd">M-p</kbd>、<kbd class="kbd">M-n</kbd>、<kbd class="kbd">M-r</kbd>を使用します。これらは、ミニバッファーではなくShellバッファーを操作する点を除き、ミニバッファーヒストリーコマンド(<a class="ref" href="Minibuffer-History.html">ミニバッファーヒストリー</a>を参照してください)と同じように機能します。またShellバッファー内での<code class="code">M-r</code>は、シェルコマンドヒストリーにたいするインクリメンタル検索を呼び出します。
</p>
<p><kbd class="kbd">M-p</kbd>は、シェルバッファーの最後から以前のシェルコマンドを取り出します。連続して<kbd class="kbd">M-p</kbd>を使用すると、古いシェルコマンドを連続して取り出し、その度にシェル入力の候補として表示されているテキストを置き換えます。<kbd class="kbd">M-n</kbd>も同様に機能しますが、これはバッファーから、より新しいシェルコマンドを連続して探します。<kbd class="kbd">C-<kbd class="key">UP</kbd></kbd>は<kbd class="kbd">M-p</kbd>と同様に機能し、<kbd class="kbd">C-<kbd class="key">DOWN</kbd></kbd>は<kbd class="kbd">M-n</kbd>と同様に機能します。
</p>
<p>ヒストリー検索コマンド<kbd class="kbd">M-r</kbd>は、以前のシェルコマンドにたいしてインクリメンタル正規表現検索を開始します。<kbd class="kbd">M-r</kbd>とタイプした後に、検索したい文字列か正規表現のタイプを開始します。するとマッチする最後のシェルコマンドがカレント行に表示されます。インクリメンタル検索コマンドは通常の効果をもちます
&mdash; たとえば<kbd class="kbd">C-s</kbd>および<kbd class="kbd">C-r</kbd>は前方または後方に、次のマッチを検索します(<a class="ref" href="Incremental-Search.html">インクリメンタル検索</a>を参照してください)。探している入力が見つかったら、検索を終了するために<kbd class="key">RET</kbd>をタイプします。これにより、入力がコマンドラインに配されます。ヒストリーリストを操作する前にタイプしていた入力の一部は、ヒストリーリングの先頭または最後に達したときに復元されます。
</p>
<p>以前に実行した一連のシェルコマンドを、同じ順番で再実行できたら便利なこともあります。これを行なうには、最初に順番に再実行する1番目のコマンドを検索します。その後<kbd class="kbd">C-c
C-x</kbd>とタイプします。これは次のコマンド &mdash;
つまり再実行したコマンドの次のコマンドを取り出します。それから<kbd class="key">RET</kbd>でそのコマンドを実行します。<kbd class="kbd">C-c C-x
<kbd class="key">RET</kbd></kbd>を繰り返しタイプすることにより、連続する複数のコマンドを再実行することができます。
</p>
<p>コマンド<kbd class="kbd">C-c .</kbd>
(<code class="code">comint-insert-previous-argument</code>)は、Bashの<kbd class="kbd"><kbd class="key">ESC</kbd>
.</kbd>のように、以前のコマンドから個別に引数をコピーします。一番簡単な使い方は、以前のシェルコマンドから最後の引数をコピーする方法です。プレフィクス引数<var class="var">n</var>を指定すると、<var class="var">n</var>番目の引数をコピーします。繰り返し<kbd class="kbd">C-c
.</kbd>とタイプすることにより、さらに古いシェルコマンドからコピーします。この場合、常に同じ<var class="var">n</var>の値を使用します(<kbd class="kbd">C-c
.</kbd>を繰り返すときは、プレフィクス引数を与えないでください)。
</p>
<a class="index-entry-id" id="index-comint_002dinsert_002dprevious_002dargument_002dfrom_002dend"></a>
<p><code class="code">comint-insert-previous-argument-from-end</code>を非<code class="code">nil</code>値にセットすると、<kbd class="kbd">C-c
.</kbd>はかわりに最後から数えて<var class="var">n</var>番目の引数をコピーします。これは<code class="command">zsh</code>の<kbd class="kbd"><kbd class="key">ESC</kbd>
.</kbd>をエミュレートしたものです。
</p>
<p>これらのコマンドは、以前のシェルコマンドのテキストを、シェルバッファー自身からではなく、特別なヒストリーリストから取得します。したがってシェルバッファーを編集したり、広い範囲をkillしても、これらのコマンドがアクセスするヒストリーに影響はありません。
</p>
<a class="index-entry-id" id="index-comint_002dinput_002dring_002dfile_002dname"></a>
<a class="index-entry-id" id="index-shell_002dhistory_002dfile_002dname"></a>
<a class="index-entry-id" id="index-HISTFILE-environment-variable"></a>
<p>Some shells store their command histories in files so that you can refer to
commands from previous shell sessions.  Emacs reads the command history file
for your chosen shell, to initialize its own command history.  The history
file name is the string specified in <code class="code">shell-history-file-name</code>.  If
that user option is <code class="code">t</code>, the command history is not read.  If the value
is <code class="code">nil</code>, the command history is read from the file specified in
environment variable <code class="env">HISTFILE</code>, or from <samp class="file">~/.bash_history</samp> for
bash, <samp class="file">~/.sh_history</samp> for ksh, <samp class="file">~/.zsh_history&quot;</samp> for zsh, or
<samp class="file">~/.history</samp> for other shells.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Shell-History-Copying.html">Shellヒストリーのコピー</a>, Up: <a href="Shell-History.html">Shellコマンドヒストリー</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-30_11e7ae3964e192b0e4bcc437a04278ee727e720b, commit:8ccfc363d196d14e91ef7a20a1243e9f3c36585b to check Japanese translation.
</body>
</html>
