<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 30.0.91.

Copyright (C) 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Android Windowing (GNU Emacs Manual
(Japanese Translation))</title>

<meta name="description" content="Android Windowing (GNU Emacs Manual
(Japanese Translation))">
<meta name="keywords" content="Android Windowing (GNU Emacs Manual
(Japanese Translation))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="October 27, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Android.html" rel="up" title="Android">
<link href="Android-Fonts.html" rel="next" title="Android Fonts">
<link href="Android-Environment.html" rel="prev" title="Android Environment">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Android-Windowing">
<div class="header">
<p>
Next: <a href="Android-Fonts.html" accesskey="n" rel="next">Androidにおけるフォントバックエンドと選択</a>, Previous: <a href="Android-Environment.html" accesskey="p" rel="prev">AndroidでのEmacsの実行</a>, Up: <a href="Android.html" accesskey="u" rel="up">EmacstとAndroid</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Androidnouindousisutemu"></span><h3 class="section">H.6 Androidのウィンドウシステム</h3>

<p>Androidのウィンドウシステムはすべてのウィンドウが最大化あるいはフルスクリーンとしてアプリケーションに報告され、一般的には一度に1つのウィンドウだけが表示できる特殊なシステムです。より大画面のデバイスではシステムが許容すれば画面に同時に4つまでのウィンドウをタイル表示できますが、エミュレータや&ldquo;デスクトップ&rdquo;システム向けのインストール構成では他のウィンドウマネージャーが行うように自由にリサイズ可能なウィンドウを重ねることができます。
</p>
<p>ウィンドウ(システムの命名法にしたがえばアクティビティ)は作成された後に無限に存在する訳ではありません。ユーザーがタスク切り替えからそのウィンドウを選択した際にリストアするために、プログラムはコンテンツをディスクに保存しているという仮定の下に、メモリーを節約のためにシステムが不可視のウィンドウの一時停止を選択するかもしれないからです。さらにEmacsの起動時にオペレーティングシステムによって特別な処理が施されたウィンドウが作成されて、Emacsはそのウィンドウを採用することを期待されるのです。
</p>
<p>EmacsはXウィンドウズのような通常のウィンドウシステム上のフレームと、Lispに公開されているフレームとの間にある挙動の違いを最小限にするという一般的な目的の下にウィンドウ管理に取り組んでいます。この目標にたいする実際の達成度合いは、インストールされているAndroidのバージョンにおけるウィンドウ管理機能の可用性、および非アクティブなウィンドウにたいするオペレーティングシステムのポリシーによって大きく異なります。そのようなポリシーにたいして譲歩せざるを得ないのなら、そのようなフレームが初期フレーム、つまり起動時に作成されたアクティビティが表示した、Emacsが実行されているかぎりはオープンして識別が可能なフレームである場合を除き、表示するアクティビティをもたないフレームの維持よりも、フレームの破棄を選びます。
</p>
<span id="index-frames-and-windows_002c-Android-5_002e0"></span>
<p>Android
5.0以降ではフレームとフレームが表示中のアクティビティとの間で1対1の関連を保持するウィンドウ管理の正確な実装がサポートされており、タスク切り替えによるアクティビティの削除によって関連するフレームに直接効果を及ぼしたり、その逆も可能です。例外は2つだけです:
</p>
<ul>
<li> 非アクティブな状態でタスク切り替えに残ったアクティビティへの応答としてシステムがアクティビティを一時停止した後に、非アクティブな状態のままタスク切り替えからアクティビティを削除しても、そのような状況下ではEmacsがアクティビティの削除を通知されないので内部のフレームは削除されません。そのフレームは生きたウィンドウのリスト検査をうながす、次回のウィンドウ管理操作において削除されます。同様にフレームを表示中の非アクティブなアクティビティがフレームと一緒に即座に削除されることはありませんが、ウィンドウリストから選択されたり別の機会にウィンドウリストが検査されたタイミングで削除されます。

</li><li> 初期フレーム以外のすべてのフレームは、バックグラウンドで非アクティブになると4時間から6時間後に、タスク切り替えが行う過剰でおそらくは不要なタスクの&ldquo;トリミング&rdquo;において、システムから削除されるかもしれません。初期フレームはタスク切り替え以外からふたたびオープンできるのでこの処理からは除外されますが、このメカニズムによる削除はタスク切り替えからアクティビティを削除するというユーザーの正当なアクションと区別不可能なので、最後のアクティビティから4時間経過後はこれも初期フレームによって無視されます。
</li></ul>

<span id="index-frames-and-windows_002c-Android-4_002e4"></span>
<span id="index-frames-and-windows_002c-Android-2_002e2"></span>
<p>Android
4.4以前ではウィンドウ管理の完全な実装には不十分な、かなり劣ったインターフェイスが提供されています。そのようなシステムでは代用として、アクティビティが一時停止されると初期フレーム以外のすべてのフレームが削除される、同時に可視になれるのは(起動時に作成されたアクティビティを除いて)ただ1つのアクティビティのみ、アタッチされていないフレームは利用可能な最初の空きアクティビティに表示されるという、かなり原始的なメカニズムをEmacsは使用します。
</p>
<span id="index-windowing-limitations_002c-android"></span>
<span id="index-frame-parameters_002c-android"></span>
<p>AndroidでEmacsがサポートするGUI機能は、以下のように限定されたサブセットだけです:
</p>
<ul>
<li> Androidデバイスではほとんど役に立たないので、スクロールバーはサポートしない。

</li><li> The <code>alpha</code>, <code>alpha-background</code>, <code>z-group</code>,
<code>override-redirect</code>, <code>mouse-color</code>, <code>title</code>,
<code>wait-for-wm</code>, <code>sticky</code>, and <code>undecorated</code> frame parameters
(see <a data-manual="elisp" href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Frame-Parameters.html#Frame-Parameters">Frame Parameters</a> in <cite>the Emacs Lisp Reference Manual</cite>) are
unsupported.

</li><li> Android 4.0以前ではトップレベルのフレームのフレームパラメーター<code>fullscreen</code>は常に<code>maximized</code>
(それより後のAndroidでは<code>fullscreen</code>も可)。
</li></ul>

<span id="index-selections_002c-android"></span>
<span id="index-android-clipboard"></span>
<p>EmacsはAndroid上のXウィンドウシステムでサポートされている選択(selection)に関連する機能すべてを実装していません。たとえばサポートされているのは<code>CLIPBOARD</code>および<code>PRIMARY</code>という選択だけであり(<a href="Cut-and-Paste.html">グラフィカルなディスプレイでのカットアンドペースト</a>を参照)、Emacsが選択をセットできるのは平文テキストにたいしてだけです。
</p>
<p>それに加えてAndroidシステム自体がEmacsにアクセス可能な選択データに以下のように特定の制限を設けています:
</p>
<ul>
<li> Android
2.3以前では、クリップボード選択にたいして関数<code>gui-selection-owner-p</code>は常に<code>nil</code>をリターンする。

</li><li> Android 3.0からAndroid
9.0では、Emacsが望めばいつでもクリップボードにアクセスでき、<code>gui-selection-owner-p</code>は常に正しい結果をリターンする。

</li><li> Android
10.0以降では、Emacsのいずれかのフレームが入力フォーカスもつ際のみクリップボードのデータにアクセスでき、クリップボード選択にたいして<code>gui-selection-owner-p</code>は常に<code>nil</code>をリターンする。
</li></ul>

<p>Androidシステム自体にプライマリー選択という概念が存在しないので、かわりにEmacsがエミュレーションを提供しています。これはカットアンドペーストを通じてプライマリー選択の内容を他のアプリケーションに送信する手段が存在しないことを意味しています。
</p>
<span id="index-android_002dpass_002dmultimedia_002dbuttons_002dto_002dsystem"></span>
<span id="index-volume_002fmultimedia-buttons_002c-Android"></span>
<p>ボリュームキーは通常はEmacsにより予約済みであり、物理キーボード(<a href="On_002dScreen-Keyboards.html">Emacsでの仮想キーボードの使用</a>を参照)なしでEmacsを終了する機能を提供するために使用されています。しかし音量調節に使いたい場合には、変数<code>android-pass-multimedia-buttons-to-system</code>に非<code>nil</code>値をセットしてください。この場合にはボリュームキーを用いてEmacsを終了できなくなること、そして音量ボタンを押す間はEmacsから一時的にフォーカスを奪う通知シェードや他のインターフェイスをアクティブにするほうが一般的には容易だということに注意してください。
</p>
<span id="index-dialog-boxes_002c-android"></span>
<p>Android 6.0以降では入力フォーカスがEmacsにない間は、ダイアログボックス(<a href="Dialog-Boxes.html">ダイアログボックスの使用</a>を参照)を表示できません。この点があなたにとって重要なら、他のプログラム上に表示できる権限をEmacsに付与して、この機能を復元できます。ほとんどのシステムでは以下の設定メニューからこれを行うことができます:
</p>
<div class="example">
<pre class="example">System -&gt; Apps -&gt; Emacs -&gt; More -&gt; Display over other apps
</pre></div>

<span id="index-keyboard-modifiers_002c-android"></span>
<p>物理的な修飾キーととキーイベントにより報告されるEmacsの修飾子には直接的な関係があります。1つ例外がありキーボードで<tt class="key">Alt</tt>キーが押下されるとEmacsにその箇所で<tt class="key">Meta</tt>修飾子が報告されます(逆も成り立つ)。これはほとんどのキーボードには特に<tt class="key">Meta</tt>キーがなく、Emacsでは<tt class="key">Alt</tt>修飾子がほとんど使用されていないことに由来する不規則性です。
</p>
<p>Androidは<tt class="key">Super</tt>修飾子にたいして違う名前を用いることに留意してください。これはAndroidキーボードやキーマップ設定メニューでは<tt class="key">SYM</tt>と呼ばれています。
</p>
<span id="index-android_002dintercept_002dcontrol_002dspace"></span>
<span id="index-C_002dSPC-interception_002c-android"></span>
<p>Androidの入力メソッドにはイベントのフィルタリング処理中に<kbd>C-SPC</kbd>を含むキーシーケンスを使用するような現実のアプリケーションを通常はもたないにも関わらず、そのようなキーシーケンスを暗黙理に破棄するというイライラさせられる傾向があります。デフォルトでは入力メソッドによってこれらのキーシーケンスがフィルターされる前に、Emacsがキーシーケンスを横取りします。
</p>
<p>これが望ましくないと判明した場合(たとえば入力メソッドが言語切り替えのショートカットとして<kbd>C-SPC</kbd>を扱う場合には、変数<code>android-intercept-control-space</code>を<code>nil</code>にセットしてこれを無効にできます。
</p>
<span id="index-android_002dkeyboard_002dbell_002dduration"></span>
<span id="index-keyboard-bell_002c-android"></span>
<p>Androidにインストールされているキーボードベルは、ベルを鳴動させる場面では数ミリ秒間アクティブになる振動要素という形式を採用しています。この振動時間は変数<code>android-keyboard-bell-duration</code>を<code>10</code>から<code>1000</code>の値に変更してカスタマイズできます。
</p>
<span id="index-android_002ddisplay_002dplanes"></span>
<span id="index-visual-class_002c-Android"></span>
<span id="index-display-color-space_002c-Android"></span>
<p>Androidではディスプレイのカラー関連の特性は自動検知できないので、グレースケールやモノクロディスプレイにおいて、Emacsが天然色の視覚属性と矛盾しない方法でフェイスやイメージを実現するためには、変数<code>android-display-planes</code>を適切な値に設定する必要があります。グレースケールなら<code>8</code>、モノクロディスプレイなら<code>1</code>と設定することにより、すべてのカラーを256グレーまたはモノクロで描画するよう強制できます。この変数はディスプレイ接続の確立時に処理されるので、<code>early-init.el</code>
(<a href="Early-Init-File.html">早期初期化ファイル</a>を参照)から処理しなければカスタマイズの効果はありません。
</p>
<p>この変数の値はフォントドライバーのアンチエイリアスには影響しませんが、それにも関わらずアンチエイリアスされたテキストの提供をEmacsに期待するモノクロディスプレイでは、ディスプレイドライバーがビットマップデータに処理した後に受信します。
</p>
</div>


This page has generated for branch:work/emacs-30_11e7ae3964e192b0e4bcc437a04278ee727e720b, commit:7ab30246ef4a4b15bbb714ed407bb08f0ee89bcc to check Japanese translation.
</body>
</html>
