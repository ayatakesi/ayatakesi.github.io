<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 27.2.50.

Copyright (C) 1985-1987, 1993-2022 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Save Keyboard Macro (GNU Emacs Manual
(Japanese Translation))</title>

<meta name="description" content="Save Keyboard Macro (GNU Emacs Manual
(Japanese Translation))">
<meta name="keywords" content="Save Keyboard Macro (GNU Emacs Manual
(Japanese Translation))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="August 20, 2023">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Keyboard-Macros.html" rel="up" title="Keyboard Macros">
<link href="Edit-Keyboard-Macro.html" rel="next" title="Edit Keyboard Macro">
<link href="Keyboard-Macro-Query.html" rel="prev" title="Keyboard Macro Query">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Save-Keyboard-Macro">
<div class="header">
<p>
Next: <a href="Edit-Keyboard-Macro.html" accesskey="n" rel="next">キーボードマクロの編集</a>, Previous: <a href="Keyboard-Macro-Query.html" accesskey="p" rel="prev">変化のあるマクロの実行</a>, Up: <a href="Keyboard-Macros.html" accesskey="u" rel="up">キーボードマクロ</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="kibodomakuronoMing-Ming-toBao-Cun-"></span><h3 class="section">18.5 キーボードマクロの命名と保存</h3>

<dl compact="compact">
<dt><span><kbd>C-x C-k n</kbd></span></dt>
<dd><p>一番最近定義したキーボードマクロに、名前(持続期間はEmacsセッション中)を与えます(<code>kmacro-name-last-macro</code>)。
</p></dd>
<dt><span><kbd>C-x C-k b</kbd></span></dt>
<dd><p>一番最近定義したキーボードマクロを、キーにバインド(持続期間はEmacsセッション中)します(<code>kmacro-bind-to-key</code>)。
</p></dd>
<dt><span><kbd>M-x insert-kbd-macro</kbd></span></dt>
<dd><p>キーボードマクロの定義を、Lispコードとしてバッファーに挿入します。
</p></dd>
</dl>

<span id="index-saving-keyboard-macros"></span>
<span id="index-kmacro_002dname_002dlast_002dmacro"></span>
<span id="index-C_002dx-C_002dk-n"></span>
<p>If you wish to save a keyboard macro for later use, you can give it a name
using <kbd>C-x C-k n</kbd> (<code>kmacro-name-last-macro</code>).  This reads a name as
an argument using the minibuffer and defines that name to execute the last
keyboard macro, in its current form.  (If you later add to the definition of
this macro, that does not alter the name&rsquo;s definition as a macro.)  The
macro name is a Lisp symbol, and defining it in this way makes it a valid
command name for calling with <kbd>M-x</kbd> or for binding a key to with
<code>keymap-global-set</code> (see <a href="Keymaps.html">キーマップ</a>).  If you specify a name that has
a prior definition other than a keyboard macro, an error message is shown
and nothing is changed.
</p>
<span id="index-binding-keyboard-macros"></span>
<span id="index-kmacro_002dbind_002dto_002dkey"></span>
<span id="index-C_002dx-C_002dk-b"></span>
<p><kbd>C-x C-k b</kbd>
(<code>kmacro-bind-to-key</code>)の後に、バインドしたいキーシーケンスを続けることにより、最後のキーボードマクロ(の現在の定義)をキーにバインドすることもできます。グローバルキーマップ(global
keymap)の任意のキーシーケンスにバインドできますが、大部分のキーシーケンスはすでに他のバインドをもっているので、キーシーケンスの選択は慎重に行う必要があります。任意のキーマップで既存のバインドをもつキーシーケンスにバインドしようとすると、既存のバインドを置き換える前に確認を求めます。
</p>
<p>既存のバインドの上書きに起因する問題を避けるには、キーシーケンス<kbd>C-x C-k 0</kbd>から<kbd>C-x C-k 9</kbd>と、<kbd>C-x
C-k A</kbd>から<kbd>C-x C-k
Z</kbd>を使います。これらのキーシーケンスは、キーボードマクロのバインド用に予約されています。これらのキーシーケンスにバインドするには、キーシーケンス全体ではなく数字か文字だけをタイプすればバインドできます。たとえば、
</p>
<div class="example">
<pre class="example">C-x C-k b 4
</pre></div>

<p>これは最後のキーボードマクロをキーシーケンス<kbd>C-x C-k 4</kbd>にバインドします。
</p>
<span id="index-insert_002dkbd_002dmacro"></span>
<p>1度マクロにコマンド名をつければ、その定義をファイルに保存できます。それは他の編集セッションでも使用できます。最初に定義を保存したいファイルをvisitします。次に以下のコマンドを使います:
</p>
<div class="example">
<pre class="example">M-x insert-kbd-macro <span class="key">RET</span> <var>macroname</var> <span class="key">RET</span>
</pre></div>

<p>これは後で実行するとき、今と同じ定義のマクロとなるLispコードをバッファーに挿入します(これを行うためにLispコードを理解する必要はありません。なぜならあなたのかわりに<code>insert-kbd-macro</code>がLispコードを記述するからです)。それからファイルを保存します。後でそのファイルを<code>load-file</code>
(<a href="Lisp-Libraries.html">EmacsのためのLispコードによるライブラリー</a>を参照してください)でロードできます。initファイル<samp>~/.emacs</samp> (<a href="Init-File.html">Emacs初期化ファイル</a>を参照してください)に保存すれば、そのマクロはEmacsを実行する度に定義されます。
</p>
<p><code>insert-kbd-macro</code>にプレフィクス引数を与えると、(もしあれば)<var>macroname</var>にバインドしたキーを記録するためのLispコードが追加されるので、ファイルをロードしたとき同じキーにマクロが割り当てられます。
</p>
</div>


This page has generated for branch:master, commit:47816d594dabfff4d95d57c02433848c16aaa60f to check Japanese translation.
</body>
</html>
