<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 29.3.

Copyright (C) 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Image Mode (GNU Emacs Manual
(Japanese Translation))</title>

<meta name="description" content="Image Mode (GNU Emacs Manual
(Japanese Translation))">
<meta name="keywords" content="Image Mode (GNU Emacs Manual
(Japanese Translation))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="April 29, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Files.html" rel="up" title="Files">
<link href="Filesets.html" rel="next" title="Filesets">
<link href="File-Conveniences.html" rel="prev" title="File Conveniences">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Image-Mode">
<div class="header">
<p>
Next: <a href="Filesets.html" accesskey="n" rel="next">ファイルセット</a>, Previous: <a href="File-Conveniences.html" accesskey="p" rel="prev">ファイル検索の便利な機能</a>, Up: <a href="Files.html" accesskey="u" rel="up">ファイルの処理</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="imezihuairunovisit"></span><h3 class="section">19.19 イメージファイルのvisit</h3>

<span id="index-image_002dmode"></span>
<span id="index-image_002dtoggle_002ddisplay"></span>
<span id="index-images_002c-viewing"></span>
<p>Visiting image files automatically selects Image mode.  In this major mode,
you can type <kbd>C-c C-c</kbd> (<code>image-toggle-display</code>)  to toggle between
displaying the file as an image in the Emacs buffer, and displaying its
underlying text (or raw byte) representation.  Additionally you can type
<kbd>C-c C-x</kbd> (<code>image-toggle-hex-display</code>)  to toggle between
displaying the file as an image in the Emacs buffer, and displaying it in
hex representation.  Displaying the file as an image works only if Emacs is
compiled with support for displaying such images.
</p>
<span id="index-image_002dauto_002dresize"></span>
<span id="index-image_002dauto_002dresize_002don_002dwindow_002dresize"></span>
<p>If the displayed image is wider or taller than the window in which it is
displayed, the usual point motion keys (<kbd>C-f</kbd>, <kbd>C-p</kbd>, and so forth)
cause different parts of the image to be displayed.  However, by default
images are resized automatically to fit the window, so this is only
necessary if you customize the default behavior by using the options
<code>image-auto-resize</code> and <code>image-auto-resize-on-window-resize</code>.
</p>
<span id="index-image_002dtransform_002dfit_002dto_002dwindow"></span>
<span id="index-s-w-_0028Image-mode_0029"></span>
<span id="index-image_002dtransform_002dset_002dpercent"></span>
<span id="index-s-p-_0028Image-mode_0029"></span>
<span id="index-image_002dtransform_002dset_002dscale"></span>
<span id="index-s-s-_0028Image-mode_0029"></span>
<span id="index-image_002dtransform_002dreset_002dto_002dinitial"></span>
<span id="index-s-0-_0028Image-mode_0029"></span>
<span id="index-image_002dtransform_002dreset_002dto_002doriginal"></span>
<span id="index-s-o-_0028Image-mode_0029"></span>
<p>To resize the image manually you can use the command
<code>image-transform-fit-to-window</code> bound to <kbd>s w</kbd> that fits the image
to both the window height and width.  To scale the image to a percentage of
its original size, use the command <code>image-transform-set-percent</code> bound
to <kbd>s p</kbd>.  To scale the image specifying a scale factor, use the command
<code>image-transform-set-scale</code> bound to <kbd>s s</kbd>.  To reset all
transformations to the initial state, use
<code>image-transform-reset-to-initial</code> bound to <kbd>s 0</kbd>, or
<code>image-transform-reset-to-original</code> bound to <kbd>s o</kbd>.
</p>
<span id="index-image_002dnext_002dfile"></span>
<span id="index-image_002dprevious_002dfile"></span>
<p>You can press <kbd>n</kbd> (<code>image-next-file</code>) and <kbd>p</kbd>
(<code>image-previous-file</code>) to visit the next image file and the previous
image file in the same directory, respectively.  These commands will consult
the &ldquo;parent&rdquo; dired buffer to determine what the next/previous image file
is.  These commands also work when opening a file from archive files (like
zip or tar files), and will then instead consult the archive mode buffer.
If neither an archive nor a dired &ldquo;parent&rdquo; buffer can be found, a dired
buffer is opened.
</p>
<span id="index-image_002dmode_002dmark_002dfile"></span>
<span id="index-image_002dmode_002dunmark_002dfile"></span>
<span id="index-image_002dmode_002dcopy_002dfile_002dname_002das_002dkill"></span>
<p>When looking through images, it&rsquo;s sometimes convenient to be able to mark
the files for later processing (for instance, if you want to select a group
of images to copy somewhere else).  The <kbd>m</kbd>
(<code>image-mode-mark-file</code>) command will mark the current file in any
Dired buffer(s) that display the current file&rsquo;s directory.  If no such
buffer is open, the directory is opened in a new buffer.  To unmark files,
use the <kbd>u</kbd> (<code>image-mode-mark-file</code>) command.  Finally, if you just
want to copy the current buffers file name to the kill ring, you can use the
<kbd>w</kbd> (<code>image-mode-copy-file-name-as-kill</code>) command.
</p>
<span id="index-image_002dtoggle_002danimation"></span>
<span id="index-image_002dnext_002dframe"></span>
<span id="index-image_002dprevious_002dframe"></span>
<span id="index-image_002dgoto_002dframe"></span>
<span id="index-image_002dincrease_002dspeed"></span>
<span id="index-image_002ddecrease_002dspeed"></span>
<span id="index-image_002dreset_002dspeed"></span>
<span id="index-image_002dreverse_002dspeed"></span>
<span id="index-image_002danimate_002dloop"></span>
<span id="index-image-animation"></span>
<span id="index-animated-images"></span>
<p>If the image can be animated, the command <tt class="key">RET</tt>
(<code>image-toggle-animation</code>) starts or stops the animation.  Animation
plays once, unless the option <code>image-animate-loop</code> is non-<code>nil</code>.
With <kbd>f</kbd> (<code>image-next-frame</code>) and <kbd>b</kbd>
(<code>image-previous-frame</code>) you can step through the individual frames.
Both commands accept a numeric prefix to step through several frames at
once.  You can go to a specific frame with <kbd>F</kbd>
(<code>image-goto-frame</code>).  Frames are indexed from 1.  Typing <kbd>a +</kbd>
(<code>image-increase-speed</code>) increases the speed of the animation, <kbd>a
-</kbd> (<code>image-decrease-speed</code>) decreases it, and <kbd>a r</kbd>
(<code>image-reverse-speed</code>) reverses it.  The command <kbd>a 0</kbd>
(<code>image-reset-speed</code>) resets the speed to the original value.
</p>
<p>In addition to the above key bindings, which are specific to Image mode,
images shown in any Emacs buffer have special key bindings when point is at
or inside the image:
</p>
<dl compact="compact">
<dd><span id="index-resize-images"></span>
<span id="index-image-resize"></span>
<span id="index-image_002dincrease_002dsize"></span>
<span id="index-i-_002b-_0028Image-mode_0029"></span>
</dd>
<dt><span><kbd>i +</kbd></span></dt>
<dd><p>Increase the image size (<code>image-increase-size</code>) by 20%.  Prefix numeric
argument controls the increment; the value of <var>n</var> means to multiply the
size by the factor of <code>1&nbsp;+&nbsp;<var>n</var>&nbsp;/&nbsp;10</code><!-- /@w -->, so <kbd><span class="nolinebreak">C-u</span>&nbsp;5&nbsp;i&nbsp;+</kbd><!-- /@w -->
means to increase the size by 50%.
</p>
<span id="index-image_002ddecrease_002dsize"></span>
<span id="index-i-_002d-_0028Image-mode_0029"></span>
</dd>
<dt><span><kbd>i -</kbd></span></dt>
<dd><p>Decrease the image size (<code>image-decrease-size</code>) by 20%.  Prefix numeric
argument controls the decrement; the value of <var>n</var> means to multiply the
size by the factor of <code>1&nbsp;<span class="nolinebreak">-</span>&nbsp;<var>n</var>&nbsp;/&nbsp;10</code><!-- /@w -->, so <kbd><span class="nolinebreak">C-u</span>&nbsp;3&nbsp;i&nbsp;<span class="nolinebreak">-</span></kbd><!-- /@w -->
means to decrease the size by 30%.
</p>
<span id="index-rotating-images"></span>
<span id="index-image-rotation"></span>
<span id="index-image_002drotate"></span>
<span id="index-i-r-_0028Image-mode_0029"></span>
</dd>
<dt><span><kbd>i r</kbd></span></dt>
<dd><p>Rotate the image by 90 degrees clockwise (<code>image-rotate</code>).  With the
prefix argument, rotate by 90 degrees counter-clockwise instead.  Note that
this command is not available for sliced images.
</p>
<span id="index-image_002dflip_002dhorizontally"></span>
<span id="index-i-h-_0028Image-mode_0029"></span>
</dd>
<dt><span><kbd>i h</kbd></span></dt>
<dd><p>Flip the image horizontally (<code>image-flip-horizontally</code>).  This presents
the image as if reflected in a vertical mirror.  Note that this command is
not available for sliced images.
</p>
<span id="index-image_002dflip_002dvertically"></span>
<span id="index-i-v-_0028Image-mode_0029"></span>
</dd>
<dt><span><kbd>i v</kbd></span></dt>
<dd><p>Flip the image vertically (<code>image-flip-vertically</code>).  This presents the
image as if reflected in a horizontal mirror.  Note that this command is not
available for sliced images.
</p>
<span id="index-image_002dsave"></span>
<span id="index-i-o-_0028Image-mode_0029"></span>
</dd>
<dt><span><kbd>i o</kbd></span></dt>
<dd><p>Save the image to a file (<code>image-save</code>).  This command prompts you for
the name of the file to save the image.
</p>
<span id="index-cropping-images"></span>
<span id="index-image_002dcrop_002dcrop_002dcommand"></span>
<span id="index-image_002dcrop"></span>
<span id="index-i-c-_0028Image-mode_0029"></span>
</dd>
<dt><span><kbd>i c</kbd></span></dt>
<dd><p>Crop the image (<code>image-crop</code>).  This command is available only if your
system has an external program installed that can be used for cropping and
cutting of images; the user option <code>image-crop-crop-command</code> determines
what program to use, and defaults to the ImageMagick&rsquo;s <code>convert</code>
program.  The command displays the image with a rectangular frame
superimposed on it, and lets you use the mouse to move and resize the
frame.  Type <kbd>m</kbd> to cause mouse movements to move the frame instead of
resizing it; type <kbd>s</kbd> to move a square frame instead.  When you are
satisfied with the position and size of the cropping frame, type
<kbd><span class="key">RET</span></kbd> to actually crop the part under the frame; or type <kbd>q</kbd>
to exit without cropping.  You can then save the cropped image using
<kbd>i&nbsp;o</kbd><!-- /@w --> or <kbd><span class="nolinebreak">M-x</span>&nbsp;<span class="nolinebreak">image-save</span></kbd><!-- /@w -->.
</p>
<span id="index-image_002dcut"></span>
<span id="index-i-x-_0028Image-mode_0029"></span>
<span id="index-image_002dcut_002dcolor"></span>
<span id="index-image_002dcrop_002dcut_002dcommand"></span>
</dd>
<dt><span><kbd>i x</kbd></span></dt>
<dd><p>Cut a rectangle from the image (<code>image-cut</code>).  This works the same as
<code>image-crop</code> (and also requires an external program, defined by the
variable <code>image-crop-cut-command</code>, to perform the image cut), but
instead of cropping the image, it removes the part inside the frame and
fills that part with the color specified by <code>image-cut-color</code>.  With
prefix argument, the command prompts for the color to use.
</p></dd>
</dl>

<p>The size and rotation commands are &ldquo;repeating&rdquo;, which means that you can
continue adjusting the image without using the <kbd>i</kbd> prefix.
</p>
<span id="index-ImageMagick-support"></span>
<span id="index-imagemagick_002denabled_002dtypes"></span>
<span id="index-imagemagick_002dtypes_002dinhibit"></span>
<p>If Emacs was compiled with support for the ImageMagick library, it can use
ImageMagick to render a wide variety of images.  The variable
<code>imagemagick-enabled-types</code> lists the image types that Emacs may render
using ImageMagick; each element in the list should be an internal
ImageMagick name for an image type, as a symbol or an equivalent string
(e.g., <code>BMP</code> for <samp>.bmp</samp> images).  To enable ImageMagick for all
possible image types, change <code>imagemagick-enabled-types</code> to <code>t</code>.
The variable <code>imagemagick-types-inhibit</code> lists the image types which
should never be rendered using ImageMagick, regardless of the value of
<code>imagemagick-enabled-types</code> (the default list includes types like
<code>C</code> and <code>HTML</code>, which ImageMagick can render as an image but Emacs
should not).  To disable ImageMagick entirely, change
<code>imagemagick-types-inhibit</code> to <code>t</code>.
</p>
<span id="index-image_002duse_002dexternal_002dconverter"></span>
<p>If Emacs doesn&rsquo;t have native support for the image format in question, and
<code>image-use-external-converter</code> is non-<code>nil</code>, Emacs will try to
determine whether there are external utilities that can be used to transform
the image in question to <acronym>PNG</acronym> before displaying.  GraphicsMagick,
ImageMagick and <code>ffmpeg</code> are currently supported for image
conversions.
</p>
<span id="index-image_002dconverter_002dadd_002dhandler"></span>
<p>In addition, you may wish to add special handlers for certain image
formats.  These can be added with the <code>image-converter-add-handler</code>
function.  For instance, to allow viewing Krita files as simple images, you
could say something like:
</p>
<div class="example lisp">
<pre class="lisp">(image-converter-add-handler
 &quot;kra&quot;
 (lambda (file data-p)
   (if data-p
       (error &quot;Can't decode non-files&quot;)
     (call-process &quot;unzip&quot; nil t nil
                   &quot;-qq&quot; &quot;-c&quot; &quot;-x&quot; file &quot;mergedimage.png&quot;))))
</pre></div>

<p>The function takes two parameters, where the first is a file name suffix,
and the second is a function to do the &ldquo;conversion&rdquo;.  This function takes
two parameters, where the first is the file name or a string with the data,
and the second says whether the first parameter is data or not, and should
output an image in <code>image-convert-to-format</code> format in the current
buffer.
</p>
<span id="index-thumbs_002dmode"></span>
<span id="index-mode_002c-Thumbs"></span>
<p>The Image-Dired package can also be used to view images as thumbnails.
See <a href="Image_002dDired.html">Diredでのイメージとサムネイルの閲覧</a>.
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Filesets.html">ファイルセット</a>, Previous: <a href="File-Conveniences.html">ファイル検索の便利な機能</a>, Up: <a href="Files.html">ファイルの処理</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-29_d8687fd6cd807db1c76084a5e2bb214f9b6c9a49, commit:dbe487dc98c12a8b683ddcf6b90e5c551ae0e2de to check Japanese translation.
</body>
</html>
