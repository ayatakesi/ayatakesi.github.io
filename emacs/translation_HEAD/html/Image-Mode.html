<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 30.0.92.

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with the Invariant
Sections being "The GNU Manifesto," "Distribution" and "GNU GENERAL
PUBLIC LICENSE," with the Front-Cover Texts being "A GNU Manual," and
with the Back-Cover Texts as in (a) below.  A copy of the license is
included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and modify
this GNU manual.  Buying copies from the FSF supports it in developing GNU
and promoting software freedom." -->
<title>Image Mode (GNU Emacs Manual
(Japanese Translation))</title>

<meta name="description" content="Image Mode (GNU Emacs Manual
(Japanese Translation))">
<meta name="keywords" content="Image Mode (GNU Emacs Manual
(Japanese Translation))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="date" content="December 27, 2024">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Files.html" rel="up" title="Files">
<link href="Filesets.html" rel="next" title="Filesets">
<link href="File-Conveniences.html" rel="prev" title="File Conveniences">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Image-Mode">
<div class="nav-panel">
<p>
Next: <a href="Filesets.html" accesskey="n" rel="next">ファイルセット</a>, Previous: <a href="File-Conveniences.html" accesskey="p" rel="prev">ファイル検索の便利な機能</a>, Up: <a href="Files.html" accesskey="u" rel="up">ファイルの処理</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="imezihuairunovisit"><span>20.19 イメージファイルのvisit<a class="copiable-link" href="#imezihuairunovisit"> &para;</a></span></h3>

<a class="index-entry-id" id="index-image_002dmode"></a>
<a class="index-entry-id" id="index-image_002dtoggle_002ddisplay"></a>
<a class="index-entry-id" id="index-images_002c-viewing"></a>
<p>イメージファイルをvisitすることによりImageモードが選択されます。このメジャーモードでは<kbd class="kbd">C-c C-c</kbd>
(<code class="code">image-toggle-display</code>)とタイプすることにより、Emacsバッファーでファイルのイメージ表示とイメージの元となるテキスト(またはraw
byte)表示を切り替えることができます。さらに<kbd class="kbd">C-c C-x</kbd>
(<code class="code">image-toggle-hex-display</code>)とタイプすると、Emacsバッファー内でイメージとしてファイルを表示、または16進表記で表示を切り替えることができます。ファイルのイメージ表示は、Emacsがそのようなイメージの表示をサポートするようにコンパイルされているときだけ機能します。
</p>
<a class="index-entry-id" id="index-image_002dauto_002dresize"></a>
<a class="index-entry-id" id="index-image_002dauto_002dresize_002don_002dwindow_002dresize"></a>
<p>イメージを表示するウィンドウよりイメージの幅または高さが大きければ、通常のポイント移動キー(<kbd class="kbd">C-f</kbd>、<kbd class="kbd">C-p</kbd>、...)によりイメージの他の部分が表示されます。しかしデフォルトではイメージはウィンドウにフィットするように自動的にリサイズされるので、これはオプション<code class="code">image-auto-resize</code>と<code class="code">image-auto-resize</code>を使用してデフォルトの挙動をカスタマイズしている場合だけ必要になります。
</p>
<a class="index-entry-id" id="index-image_002dtransform_002dfit_002dto_002dwindow"></a>
<a class="index-entry-id" id="index-s-w-_0028Image-mode_0029"></a>
<a class="index-entry-id" id="index-image_002dtransform_002dset_002dpercent"></a>
<a class="index-entry-id" id="index-s-p-_0028Image-mode_0029"></a>
<a class="index-entry-id" id="index-image_002dtransform_002dset_002dscale"></a>
<a class="index-entry-id" id="index-s-s-_0028Image-mode_0029"></a>
<a class="index-entry-id" id="index-image_002dtransform_002dreset_002dto_002dinitial"></a>
<a class="index-entry-id" id="index-s-0-_0028Image-mode_0029"></a>
<a class="index-entry-id" id="index-image_002dtransform_002dreset_002dto_002doriginal"></a>
<a class="index-entry-id" id="index-s-o-_0028Image-mode_0029"></a>
<p>コマンド<code class="code">image-transform-fit-to-window</code>によって、手動でイメージをリサイズできます。これはイメージをウィンドウの高さと幅の両方にフィットさせるコマンドで、<kbd class="kbd">s
w</kbd>にバインドされています。イメージを元サイズのパーセントでスケーリングするために使うコマンドは、<kbd class="kbd">s
p</kbd>にバインドされている<code class="code">image-transform-set-percent</code>です。スケール因子(scale
factor)を指定してイメージをスケーリングにするコマンドは、<kbd class="kbd">s
s</kbd>にバインドされている<code class="code">image-transform-set-scale</code>、すべてをの変換を初期状態にリセットするコマンドは、<kbd class="kbd">s
0</kbd>にバインドされている<code class="code">image-transform-reset-to-initial</code>、あるいは<kbd class="kbd">s
o</kbd>にバインドされている<code class="code">image-transform-reset-to-original</code>を使用してください。
</p>
<a class="index-entry-id" id="index-image_002dnext_002dfile"></a>
<a class="index-entry-id" id="index-image_002dprevious_002dfile"></a>
<p><kbd class="kbd">n</kbd> (<code class="code">image-next-file</code>)および<kbd class="kbd">p</kbd>
(<code class="code">image-previous-file</code>)を押下することにより、同一ディレクトリー内の次または前のイメージをvisitできます。これらのコマンドは次/前のイメージファイルがどれかを判断するために、&ldquo;親&rdquo;となるDiredバッファーを調べます。これらのコマンドはアーカイブファイルからのファイルオープン時にも機能し、その場合にはかわりにarchiveモードのバッファーを調べます。archiveバッファーやdiredの&ldquo;親&rdquo;バッファーが見つからなければ、Diredバッファーがオープンします。
</p>
<a class="index-entry-id" id="index-image_002dmode_002dmark_002dfile"></a>
<a class="index-entry-id" id="index-image_002dmode_002dunmark_002dfile"></a>
<a class="index-entry-id" id="index-image_002dmode_002dcopy_002dfile_002dname_002das_002dkill"></a>
<p>イメージの閲覧時に、後で処理するために(たとえば別の場所へコピーするために一群のイメージを選択したいとき)ファイルをマークできると便利なことがあります。<kbd class="kbd">m</kbd>
(<code class="code">image-mode-mark-file</code>)コマンドは、カレントファイルのディレクトリーを表示中のすべてのDiredバッファーのカレントファイルをマークします。そのようなバッファーがオープンされていなければ、新たなバッファーにディレクトリーがオープンされます。ファイルのマークをオフにするにはコマンド<kbd class="kbd">u</kbd>
(<code class="code">image-mode-mark-file</code>)を使用します。最後にカレントバッファーのファイル名だけをkillリングにコピーしたければ、コマンド<kbd class="kbd">w</kbd>
(<code class="code">image-mode-copy-file-name-as-kill</code>)を使用できます。
</p>
<a class="index-entry-id" id="index-image_002dtoggle_002danimation"></a>
<a class="index-entry-id" id="index-image_002dnext_002dframe"></a>
<a class="index-entry-id" id="index-image_002dprevious_002dframe"></a>
<a class="index-entry-id" id="index-image_002dgoto_002dframe"></a>
<a class="index-entry-id" id="index-image_002dincrease_002dspeed"></a>
<a class="index-entry-id" id="index-image_002ddecrease_002dspeed"></a>
<a class="index-entry-id" id="index-image_002dreset_002dspeed"></a>
<a class="index-entry-id" id="index-image_002dreverse_002dspeed"></a>
<a class="index-entry-id" id="index-image_002danimate_002dloop"></a>
<a class="index-entry-id" id="index-image-animation"></a>
<a class="index-entry-id" id="index-animated-images"></a>
<p>アニメーションが可能なイメージの場合、コマンド<kbd class="key">RET</kbd>
(<code class="code">image-toggle-animation</code>)で、アニメーションの開始と停止ができます。オプション<code class="code">image-animate-loop</code>が非<code class="code">nil</code>でなければ、アニメーションの再生は1回です。<kbd class="kbd">f</kbd>
(<code class="code">image-next-frame</code>)と<kbd class="kbd">b</kbd>
(<code class="code">image-previous-frame</code>)により、アニメーションの各フレームを切り替えることができます。これらのコマンドは数引数を指定することにより、指定した数の分だけ先のフレームを表示できます。<kbd class="kbd">F</kbd>
(<code class="code">image-goto-frame</code>)により、特定のフレームを指定することができます。フレームは1からインデックスがつきます。<kbd class="kbd">a
+</kbd> (<code class="code">image-increase-speed</code>)とタイプすると、アニメーションのスピードが早くなり、<kbd class="kbd">a -</kbd>
(<code class="code">image-decrease-speed</code>)で遅くなります。また<kbd class="kbd">a r</kbd>
(<code class="code">image-reverse-speed</code>)で逆再生されます。コマンド<kbd class="kbd">a 0</kbd>
(<code class="code">image-reset-speed</code>)は、スピードを元の値にリセットします。
</p>
<p>上述したImageモード固有のキーバインディングの他にも、任意のEmacsバッファーに表示されているイメージには、イメージやイメージ内ににポイントがある際の特別なキーバインディングが存在します。
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-image-resize"></a>
<a class="index-entry-id" id="index-image_002dincrease_002dsize"></a>
<a class="index-entry-id" id="index-i-_002b-_0028Image-mode_0029"></a>
<a id="index-resize-images"></a><span><kbd class="kbd">i +</kbd><a class="copiable-link" href="#index-resize-images"> &para;</a></span></dt>
<dd><p>イメージサイズを20%拡大します(<code class="code">image-increase-size</code>)。拡大率はプレフィックス数引数で制御します。値を<var class="var">n</var>にするとサイズに<code class="code">1&nbsp;+&nbsp;<var class="var">n</var>&nbsp;/&nbsp;10</code><!-- /@w -->という因子を乗ずる意味となるので、<kbd class="kbd">C-u&nbsp;5&nbsp;i&nbsp;+</kbd><!-- /@w -->ならサイズを50%拡大する意味になります。
</p>
</dd>
<dt><a class="index-entry-id" id="index-i-_002d-_0028Image-mode_0029"></a>
<a id="index-image_002ddecrease_002dsize"></a><span><kbd class="kbd">i -</kbd><a class="copiable-link" href="#index-image_002ddecrease_002dsize"> &para;</a></span></dt>
<dd><p>イメージサイズを20%縮小します(<code class="code">image-increase-size</code>)。縮小率はプレフィックス数引数で制御します。値を<var class="var">n</var>にするとサイズに<code class="code">1&nbsp;-&nbsp;<var class="var">n</var>&nbsp;/&nbsp;10</code><!-- /@w -->という因子を乗ずる意味となるので、<kbd class="kbd">C-u&nbsp;3&nbsp;i&nbsp;+</kbd><!-- /@w -->ならサイズを30%縮小する意味になります。
</p>
</dd>
<dt><a class="index-entry-id" id="index-image-rotation"></a>
<a class="index-entry-id" id="index-image_002drotate"></a>
<a class="index-entry-id" id="index-i-r-_0028Image-mode_0029"></a>
<a id="index-rotating-images"></a><span><kbd class="kbd">i r</kbd><a class="copiable-link" href="#index-rotating-images"> &para;</a></span></dt>
<dd><p>イメージを時計回りに90度回転します(<code class="code">image-rotate</code>)。プレフィックス引数を指定すると、反時計回りに90度回転します。このコマンドはスライス(slice:
特定の領域を選択されたイメージ)では利用できないことに注意してください。
</p>
</dd>
<dt><a class="index-entry-id" id="index-i-h-_0028Image-mode_0029"></a>
<a id="index-image_002dflip_002dhorizontally"></a><span><kbd class="kbd">i h</kbd><a class="copiable-link" href="#index-image_002dflip_002dhorizontally"> &para;</a></span></dt>
<dd><p>イメージを水平方向にフリップ(flip:
反転)します(<code class="code">image-flip-horizontally</code>)。これによりイメージはあたかも垂直な鏡で反射したかのように表示されます。このコマンドはスライスでは利用できないことに注意してください。
</p>
</dd>
<dt><a class="index-entry-id" id="index-i-v-_0028Image-mode_0029"></a>
<a id="index-image_002dflip_002dvertically"></a><span><kbd class="kbd">i v</kbd><a class="copiable-link" href="#index-image_002dflip_002dvertically"> &para;</a></span></dt>
<dd><p>イメージを垂直方向にフリップ(flip:
反転)します(<code class="code">image-flip-vertically</code>)。これによりイメージはあたかも水平な鏡で反射したかのように表示されます。このコマンドはスライスでは利用できないことに注意してください。
</p>
</dd>
<dt><a class="index-entry-id" id="index-i-o-_0028Image-mode_0029"></a>
<a id="index-image_002dsave"></a><span><kbd class="kbd">i o</kbd><a class="copiable-link" href="#index-image_002dsave"> &para;</a></span></dt>
<dd><p>イメージをファイルに保存します(<code class="code">image-save</code>)。このコマンドはイメージを保存するファイル名の入力を求めます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-image_002dcrop_002dcrop_002dcommand"></a>
<a class="index-entry-id" id="index-image_002dcrop"></a>
<a class="index-entry-id" id="index-i-c-_0028Image-mode_0029"></a>
<a id="index-cropping-images"></a><span><kbd class="kbd">i c</kbd><a class="copiable-link" href="#index-cropping-images"> &para;</a></span></dt>
<dd><p>イメージをクロップ(crop:
イメージの切り取りや抜き出しの意)します(<code class="code">image-crop</code>)。このコマンドは、システムにイメージのクロップやカットに使用できる外部プログラムがインストールされている場合のみ利用できます。どのプログラムを使用するかはユーザーオプション<code class="code">image-crop-crop-command</code>により決定されます。デフォルトはImageMagick&rsquo;sの<code class="command">convert</code>プログラムです。このコマンドは、イメージの上にマウスで移動やリサイズできる重ね合わせられた長方形フレームを表示します。<kbd class="kbd">m</kbd>をタイプするとリサイズではなくマウスでフレームを移動、<kbd class="kbd">s</kbd>なら正方形のフレームを移動します。クロップするフレームの位置やサイズが決まったら、<kbd class="kbd"><kbd class="key">RET</kbd></kbd>とタイプしてフレームの下にある部分を実際にクロップします。クロップせずにexitするには<kbd class="kbd">q</kbd>をタイプしてください。クロップしたイメージは<kbd class="kbd">i&nbsp;o</kbd><!-- /@w -->、または<kbd class="kbd">M-x&nbsp;image-save</kbd><!-- /@w -->で保存できます。
</p>
</dd>
<dt><a class="index-entry-id" id="index-i-x-_0028Image-mode_0029"></a>
<a class="index-entry-id" id="index-image_002dcut_002dcolor"></a>
<a class="index-entry-id" id="index-image_002dcrop_002dcut_002dcommand"></a>
<a id="index-image_002dcut"></a><span><kbd class="kbd">i x</kbd><a class="copiable-link" href="#index-image_002dcut"> &para;</a></span></dt>
<dd><p>イメージから矩形(rectangle)をカットします(<code class="code">image-cut</code>)。<code class="code">image-crop</code>(変数<code class="code">image-crop-cut-command</code>でイメージのカットを行う外部プログラムの定義も必要)と同じように機能しますが、このコマンドはクロップするのではなくフレーム内部分を削除して、その部分を<code class="code">image-cut-color</code>で指定したカラーで塗りつぶします。プレフィックス引数を指定した場合には、使用するカラーの入力を求めます。
</p></dd>
</dl>

<p>サイズや回転は&ldquo;繰り返す(repeat)&rdquo;ことができるコマンドです。これはプレフィックスとして<kbd class="kbd">i</kbd>を使うことなくイメージの調整を継続できることを意味します。
</p>
<a class="index-entry-id" id="index-ImageMagick-support"></a>
<a class="index-entry-id" id="index-imagemagick_002denabled_002dtypes"></a>
<a class="index-entry-id" id="index-imagemagick_002dtypes_002dinhibit"></a>
<p>EmacsがImageMagickのサポートつきでコンパイルされている場合、さまざまなイメージを描画するのに、ImageMagickを使うことができます。変数<code class="code">imagemagick-enabled-types</code>は、EmacsがImageMagickを使って描画できるイメージの種類のリストです。リストの各要素は、ImageMagick内部でのイメージ種類にたいする名前で、シンボルまたは等価な文字列で指定します(たとえば<code class="code">BMP</code>は<samp class="file">.bmp</samp>イメージです)。利用可能なイメージの種類にたいしてImageMagickを有効にするには、<code class="code">imagemagick-enabled-types</code>を<code class="code">t</code>に変更します。変数<code class="code">imagemagick-types-inhibit</code>は、変数<code class="code">imagemagick-enabled-types</code>の値にかかわらずmImageMagickを使わずに描画するイメージ種類のリストです(リストのデフォルトには<code class="code">C</code>および<code class="code">HTML</code>などが含まれ、これらはImageMagickはイメージとして描画できるが、Emacsはイメージとして描画しないものです)。ImageMagickを完全に無効にするには、<code class="code">imagemagick-types-inhibit</code>を<code class="code">t</code>に変更してください。
</p>
<a class="index-entry-id" id="index-image_002duse_002dexternal_002dconverter"></a>
<p>要求されるイメージフォーマットにたいするネイティブサポートをEmacsがもたず、かつ<code class="code">image-use-external-converter</code>が非<code class="code">nil</code>なら、Emacsは表示の前に要求されるイメージを<abbr class="acronym">PNG</abbr>に変換するために使用可能な外部ユーティリティーの存在有無の判定を試みます。このイメージ変換には現在のところGraphicsMagick、ImageMagick、<code class="command">ffmpeg</code>がサポートされています。
</p>
<a class="index-entry-id" id="index-image_002dconverter_002dadd_002dhandler"></a>
<p>加えて、特定のイメージフォーマットにたいして特別なハンドラーを追加したい場合もあるかもしれません。これらのハンドラーは<code class="code">image-converter-add-handler</code>関数によって追加できます。たとえばKritaファイルを単純なイメージとして閲覧したければ、以下のように記述することができます:
</p>
<div class="example lisp">
<pre class="lisp-preformatted">(image-converter-add-handler
 &quot;kra&quot;
 (lambda (file data-p)
   (if data-p
       (error &quot;Can't decode non-files&quot;)
     (call-process &quot;unzip&quot; nil t nil
                   &quot;-qq&quot; &quot;-c&quot; &quot;-x&quot; file &quot;mergedimage.png&quot;))))
</pre></div>

<p>この関数は2つのパラメーターを受け取ります。1つ目はファイル名のサフィックス、2つ目は&ldquo;変換&rdquo;を行う関数です。変換を行う関数が受け取るパラメーターも2つで、1つ目はファイル名かデータが格納されている文字列、2つ目は1つ目のパラメーターがデータかどうかを示すパラメーターです。またこの変換関数はフォーマット<code class="code">image-convert-to-format</code>でイメージをカレントバッファーに出力する必要があります。
</p>
<a class="index-entry-id" id="index-thumbs_002dmode"></a>
<a class="index-entry-id" id="index-mode_002c-Thumbs"></a>
<p>Image-Diredパッケージはイメージをサムネールとして表示するのにも使用されます。<a class="ref" href="Image_002dDired.html">Diredでのイメージとサムネイルの閲覧</a>を参照してください。
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Filesets.html">ファイルセット</a>, Previous: <a href="File-Conveniences.html">ファイル検索の便利な機能</a>, Up: <a href="Files.html">ファイルの処理</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>


This page has generated for branch:work/emacs-30_69b16e5c63840479270d32f58daea923fe725b90, commit:1cba0d61cfd506e92b231bec5bc6389730ce66fe to check Japanese translation.
</body>
</html>
