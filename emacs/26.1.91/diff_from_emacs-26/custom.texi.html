<!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><font color="#000000">0001:</font></a> <i><font color="#9A1900">@c -*- coding: utf-8 -*-</font></i>
<a name="line2"><font color="#000000">0002:</font></a> <i><font color="#9A1900">@c This is part of the Emacs manual.</font></i>
<a name="line3"><font color="#000000">0003:</font></a> <i><font color="#9A1900">@c Copyright (C) 1985-1987, 1993-1995, 1997, 2000-2019 Free Software</font></i>
<a name="line4"><font color="#000000">0004:</font></a> <i><font color="#9A1900">@c Foundation, Inc.</font></i>
<a name="line5"><font color="#000000">0005:</font></a> <i><font color="#9A1900">@c See file emacs.texi for copying conditions.</font></i>
<a name="line6"><font color="#000000">0006:</font></a> <b><font color="#0000FF">@node</font></b> Customization
<a name="line7"><font color="#000000">0007:</font></a> <i><font color="#9A1900">@chapter Customization</font></i>
<a name="line8"><font color="#000000">0008:</font></a> <i><font color="#9A1900">@cindex customization</font></i>
<a name="line9"><font color="#000000">0009:</font></a> 
<a name="line10"><font color="#000000">0010:</font></a>   This chapter describes some simple methods to customize the behavior
<a name="line11"><font color="#000000">0011:</font></a> of Emacs.
<a name="line12"><font color="#000000">0012:</font></a> 
<a name="line13"><font color="#000000">0013:</font></a>   Apart from the methods described here, see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">X Resources</font><font color="#FF0000">}</font> for
<a name="line14"><font color="#000000">0014:</font></a> information about using X resources to customize Emacs, and see
<a name="line15"><font color="#000000">0015:</font></a> <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Keyboard Macros</font><font color="#FF0000">}</font> for information about recording and replaying
<a name="line16"><font color="#000000">0016:</font></a> keyboard macros.  Making more far-reaching and open-ended changes
<a name="line17"><font color="#000000">0017:</font></a> involves writing Emacs Lisp code; see
<a name="line18"><font color="#000000">0018:</font></a> <b><font color="#0000FF">@iftex</font></b>
<a name="line19"><font color="#000000">0019:</font></a> <i><font color="#9A1900">@cite{The Emacs Lisp Reference Manual}.</font></i>
<a name="line20"><font color="#000000">0020:</font></a> <b><font color="#0000FF">@end iftex</font></b>
<a name="line21"><font color="#000000">0021:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line22"><font color="#000000">0022:</font></a> <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, Emacs Lisp, Emacs Lisp, elisp, The Emacs Lisp</font>
<a name="line23"><font color="#000000">0023:</font></a> <font color="#FF0000">Reference Manual</font><font color="#FF0000">}</font>.
<a name="line24"><font color="#000000">0024:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line25"><font color="#000000">0025:</font></a> 
<a name="line26"><font color="#000000">0026:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line27"><font color="#000000">0027:</font></a> <font color="#FF0000">* Easy Customization::</font>  Convenient way to browse and change settings.
<a name="line28"><font color="#000000">0028:</font></a> <font color="#FF0000">* Variables::</font>           Many Emacs commands examine Emacs variables
<a name="line29"><font color="#000000">0029:</font></a>                           to decide what to do; by setting variables,
<a name="line30"><font color="#000000">0030:</font></a>                           you can control their functioning.
<a name="line31"><font color="#000000">0031:</font></a> <font color="#FF0000">* Key Bindings::</font>        The keymaps say what command each key runs.
<a name="line32"><font color="#000000">0032:</font></a>                           By changing them, you can redefine keys.
<a name="line33"><font color="#000000">0033:</font></a> <font color="#FF0000">* Init File::</font>           How to write common customizations in the
<a name="line34"><font color="#000000">0034:</font></a>                           initialization file.
<a name="line35"><font color="#000000">0035:</font></a> <font color="#FF0000">* Authentication::</font>      Keeping persistent authentication information.
<a name="line36"><font color="#000000">0036:</font></a> 
<a name="line37"><font color="#000000">0037:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line38"><font color="#000000">0038:</font></a> 
<a name="line39"><font color="#000000">0039:</font></a> <b><font color="#0000FF">@node</font></b> Easy Customization
<a name="line40"><font color="#000000">0040:</font></a> <b><font color="#0000FF">@section</font></b> Easy Customization Interface
<a name="line41"><font color="#000000">0041:</font></a> 
<a name="line42"><font color="#000000">0042:</font></a> <i><font color="#9A1900">@cindex settings</font></i>
<a name="line43"><font color="#000000">0043:</font></a> <i><font color="#9A1900">@cindex user option</font></i>
<a name="line44"><font color="#000000">0044:</font></a> <i><font color="#9A1900">@cindex customizable variable</font></i>
<a name="line45"><font color="#000000">0045:</font></a>   Emacs has many <b><font color="#0000FF">@dfn</font></b><font color="#009900">{settings}</font> which you can change.  Most settings
<a name="line46"><font color="#000000">0046:</font></a> are <b><font color="#0000FF">@dfn</font></b><font color="#009900">{customizable variables}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Variables</font><font color="#FF0000">}</font>), which are also
<a name="line47"><font color="#000000">0047:</font></a> called <b><font color="#0000FF">@dfn</font></b><font color="#009900">{user options}</font>.  There is a huge number of customizable
<a name="line48"><font color="#000000">0048:</font></a> variables, controlling numerous aspects of Emacs behavior; the
<a name="line49"><font color="#000000">0049:</font></a> variables documented in this manual are listed in <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Variable</font>
<a name="line50"><font color="#000000">0050:</font></a> <font color="#FF0000">Index</font><font color="#FF0000">}</font>.  A separate class of settings are the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{faces}</font>, which
<a name="line51"><font color="#000000">0051:</font></a> determine the fonts, colors, and other attributes of text
<a name="line52"><font color="#000000">0052:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces</font><font color="#FF0000">}</font>).
<a name="line53"><font color="#000000">0053:</font></a> 
<a name="line54"><font color="#000000">0054:</font></a> <b><font color="#0000FF">@findex</font></b> customize
<a name="line55"><font color="#000000">0055:</font></a> <i><font color="#9A1900">@cindex customization buffer</font></i>
<a name="line56"><font color="#000000">0056:</font></a>   To browse and alter settings (both variables and faces), type
<a name="line57"><font color="#000000">0057:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize}</font>.  This creates a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{customization buffer}</font>, which
<a name="line58"><font color="#000000">0058:</font></a> lets you navigate through a logically organized list of settings, edit
<a name="line59"><font color="#000000">0059:</font></a> and set their values, and save them permanently.
<a name="line60"><font color="#000000">0060:</font></a> 
<a name="line61"><font color="#000000">0061:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line62"><font color="#000000">0062:</font></a> <font color="#FF0000">* Customization Groups::</font>     How settings are classified.
<a name="line63"><font color="#000000">0063:</font></a> <font color="#FF0000">* Browsing Custom::</font>          Browsing and searching for settings.
<a name="line64"><font color="#000000">0064:</font></a> <font color="#FF0000">* Changing a Variable::</font>      How to edit an option's value and set the option.
<a name="line65"><font color="#000000">0065:</font></a> <font color="#FF0000">* Saving Customizations::</font>    Saving customizations for future Emacs sessions.
<a name="line66"><font color="#000000">0066:</font></a> <font color="#FF0000">* Face Customization::</font>       How to edit the attributes of a face.
<a name="line67"><font color="#000000">0067:</font></a> <font color="#FF0000">* Specific Customization::</font>   Customizing specific settings or groups.
<a name="line68"><font color="#000000">0068:</font></a> <font color="#FF0000">* Custom Themes::</font>            Collections of customization settings.
<a name="line69"><font color="#000000">0069:</font></a> <font color="#FF0000">* Creating Custom Themes::</font>   How to create a new custom theme.
<a name="line70"><font color="#000000">0070:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line71"><font color="#000000">0071:</font></a> 
<a name="line72"><font color="#000000">0072:</font></a> <b><font color="#0000FF">@node</font></b> Customization Groups
<a name="line73"><font color="#000000">0073:</font></a> <b><font color="#0000FF">@subsection</font></b> Customization Groups
<a name="line74"><font color="#000000">0074:</font></a> <i><font color="#9A1900">@cindex customization groups</font></i>
<a name="line75"><font color="#000000">0075:</font></a> 
<a name="line76"><font color="#000000">0076:</font></a>   Customization settings are organized into <b><font color="#0000FF">@dfn</font></b><font color="#009900">{customization</font>
<a name="line77"><font color="#000000">0077:</font></a> <font color="#009900">groups}</font>.  These groups are collected into bigger groups, all the way
<a name="line78"><font color="#000000">0078:</font></a> up to a master group called <b><font color="#0000FF">@code</font></b><font color="#009900">{Emacs}</font>.
<a name="line79"><font color="#000000">0079:</font></a> 
<a name="line80"><font color="#000000">0080:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize}</font> creates a customization buffer that shows the
<a name="line81"><font color="#000000">0081:</font></a> top-level <b><font color="#0000FF">@code</font></b><font color="#009900">{Emacs}</font> group.  It looks like this, in part:
<a name="line82"><font color="#000000">0082:</font></a> 
<a name="line83"><font color="#000000">0083:</font></a> <i><font color="#9A1900">@c we want the buffer example to all be on one page, but unfortunately</font></i>
<a name="line84"><font color="#000000">0084:</font></a> <i><font color="#9A1900">@c that's quite a bit of text, so force all space to the bottom.</font></i>
<a name="line85"><font color="#000000">0085:</font></a> <i><font color="#9A1900">@c @page</font></i>
<a name="line86"><font color="#000000">0086:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line87"><font color="#000000">0087:</font></a> <b><font color="#0000FF">@group</font></b>
<a name="line88"><font color="#000000">0088:</font></a> For help using this buffer, see [Easy Customization] in the [Emacs manual].
<a name="line89"><font color="#000000">0089:</font></a> 
<a name="line90"><font color="#000000">0090:</font></a> ________________________________________ [ Search ]
<a name="line91"><font color="#000000">0091:</font></a> 
<a name="line92"><font color="#000000">0092:</font></a>  Operate on all settings in this buffer:
<a name="line93"><font color="#000000">0093:</font></a>  [ Revert... ] [ Apply ] [ Apply and Save ]
<a name="line94"><font color="#000000">0094:</font></a> 
<a name="line95"><font color="#000000">0095:</font></a> 
<a name="line96"><font color="#000000">0096:</font></a> Emacs group: Customization of the One True Editor.
<a name="line97"><font color="#000000">0097:</font></a>       [State]: visible group members are all at standard values.
<a name="line98"><font color="#000000">0098:</font></a>       See also [Manual].
<a name="line99"><font color="#000000">0099:</font></a> 
<a name="line100"><font color="#000000">0100:</font></a> [Editing]      Basic text editing facilities.
<a name="line101"><font color="#000000">0101:</font></a> [Convenience]  Convenience features for faster editing.
<a name="line102"><font color="#000000">0102:</font></a> 
<a name="line103"><font color="#000000">0103:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{...more second-level groups...}</font>
<a name="line104"><font color="#000000">0104:</font></a> <b><font color="#0000FF">@end group</font></b>
<a name="line105"><font color="#000000">0105:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line106"><font color="#000000">0106:</font></a> 
<a name="line107"><font color="#000000">0107:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line108"><font color="#000000">0108:</font></a> The main part of this buffer shows the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Emacs}</font> customization
<a name="line109"><font color="#000000">0109:</font></a> group, which contains several other groups (<b><font color="#0000FF">@samp</font></b><font color="#009900">{Editing}</font>,
<a name="line110"><font color="#000000">0110:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Convenience}</font>, etc.).  The contents of those groups are not
<a name="line111"><font color="#000000">0111:</font></a> listed here, only one line of documentation each.
<a name="line112"><font color="#000000">0112:</font></a> 
<a name="line113"><font color="#000000">0113:</font></a>   The <b><font color="#0000FF">@dfn</font></b><font color="#009900">{state}</font> of the group indicates whether setting in that group
<a name="line114"><font color="#000000">0114:</font></a> has been edited, set, or saved.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Changing a Variable</font><font color="#FF0000">}</font>.
<a name="line115"><font color="#000000">0115:</font></a> 
<a name="line116"><font color="#000000">0116:</font></a> <i><font color="#9A1900">@cindex editable fields (customization buffer)</font></i>
<a name="line117"><font color="#000000">0117:</font></a> <i><font color="#9A1900">@cindex buttons (customization buffer)</font></i>
<a name="line118"><font color="#000000">0118:</font></a> <i><font color="#9A1900">@cindex links (customization buffer)</font></i>
<a name="line119"><font color="#000000">0119:</font></a>   Most of the customization buffer is read-only, but it includes some
<a name="line120"><font color="#000000">0120:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{editable fields}</font> that you can edit.  For example, at the top of
<a name="line121"><font color="#000000">0121:</font></a> the customization buffer is an editable field for searching for
<a name="line122"><font color="#000000">0122:</font></a> settings (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Browsing Custom</font><font color="#FF0000">}</font>).  There are also <b><font color="#0000FF">@dfn</font></b><font color="#009900">{buttons}</font> and
<a name="line123"><font color="#000000">0123:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{links}</font>, which you can activate by either clicking with the mouse,
<a name="line124"><font color="#000000">0124:</font></a> or moving point there and typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RET}}</font>.  For example, the group
<a name="line125"><font color="#000000">0125:</font></a> names like <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Editing]}</font> are links; activating one of these links
<a name="line126"><font color="#000000">0126:</font></a> brings up the customization buffer for that group.
<a name="line127"><font color="#000000">0127:</font></a> 
<a name="line128"><font color="#000000">0128:</font></a> <b><font color="#0000FF">@kindex</font></b> TAB <b><font color="#0000FF">@r</font></b><font color="#009900">{(customization buffer)}</font>
<a name="line129"><font color="#000000">0129:</font></a> <b><font color="#0000FF">@kindex</font></b> S-TAB <b><font color="#0000FF">@r</font></b><font color="#009900">{(customization buffer)}</font>
<a name="line130"><font color="#000000">0130:</font></a> <b><font color="#0000FF">@findex</font></b> widget-forward
<a name="line131"><font color="#000000">0131:</font></a> <b><font color="#0000FF">@findex</font></b> widget-backward
<a name="line132"><font color="#000000">0132:</font></a>   In the customization buffer, you can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{TAB}}</font>
<a name="line133"><font color="#000000">0133:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{widget-forward}</font>) to move forward to the next button or editable
<a name="line134"><font color="#000000">0134:</font></a> field.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{S-@key{TAB}}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{widget-backward}</font>) moves back to the
<a name="line135"><font color="#000000">0135:</font></a> previous button or editable field.
<a name="line136"><font color="#000000">0136:</font></a> 
<a name="line137"><font color="#000000">0137:</font></a> <b><font color="#0000FF">@node</font></b> Browsing Custom
<a name="line138"><font color="#000000">0138:</font></a> <b><font color="#0000FF">@subsection</font></b> Browsing and Searching for Settings
<a name="line139"><font color="#000000">0139:</font></a> <b><font color="#0000FF">@findex</font></b> customize-browse
<a name="line140"><font color="#000000">0140:</font></a> 
<a name="line141"><font color="#000000">0141:</font></a>   From the top-level customization buffer created by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line142"><font color="#000000">0142:</font></a> <font color="#009900">customize}</font>, you can follow the links to the subgroups of the
<a name="line143"><font color="#000000">0143:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Emacs}</font> customization group.  These subgroups may contain
<a name="line144"><font color="#000000">0144:</font></a> settings for you to customize; they may also contain further subgroups,
<a name="line145"><font color="#000000">0145:</font></a> dealing with yet more specialized subsystems of Emacs.  As you
<a name="line146"><font color="#000000">0146:</font></a> navigate the hierarchy of customization groups, you should find some
<a name="line147"><font color="#000000">0147:</font></a> settings that you want to customize.
<a name="line148"><font color="#000000">0148:</font></a> 
<a name="line149"><font color="#000000">0149:</font></a>   If you are interested in customizing a particular setting or
<a name="line150"><font color="#000000">0150:</font></a> customization group, you can go straight there with the commands
<a name="line151"><font color="#000000">0151:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-option}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-face}</font>, or <b><font color="#0000FF">@w</font></b><font color="#009900">{@kbd{M-x</font>
<a name="line152"><font color="#000000">0152:</font></a> <font color="#009900">customize-group}}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Specific Customization</font><font color="#FF0000">}</font>.
<a name="line153"><font color="#000000">0153:</font></a> 
<a name="line154"><font color="#000000">0154:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-search-field
<a name="line155"><font color="#000000">0155:</font></a>   If you don't know exactly what groups or settings you want to
<a name="line156"><font color="#000000">0156:</font></a> customize, you can search for them using the editable search field at
<a name="line157"><font color="#000000">0157:</font></a> the top of each customization buffer.  Here, you can type in a search
<a name="line158"><font color="#000000">0158:</font></a> term---either one or more words separated by spaces, or a regular
<a name="line159"><font color="#000000">0159:</font></a> expression (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Regexps</font><font color="#FF0000">}</font>).  Then type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RET}}</font> in the field,
<a name="line160"><font color="#000000">0160:</font></a> or activate the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Search}</font> button next to it, to switch to a
<a name="line161"><font color="#000000">0161:</font></a> customization buffer containing groups and settings that match those
<a name="line162"><font color="#000000">0162:</font></a> terms.  Note, however, that this feature only finds groups and
<a name="line163"><font color="#000000">0163:</font></a> settings that are loaded in the current Emacs session.
<a name="line164"><font color="#000000">0164:</font></a> 
<a name="line165"><font color="#000000">0165:</font></a>   If you don't want customization buffers to show the search field,
<a name="line166"><font color="#000000">0166:</font></a> change the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{custom-search-field}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>.
<a name="line167"><font color="#000000">0167:</font></a> 
<a name="line168"><font color="#000000">0168:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-apropos}</font> is similar to using the
<a name="line169"><font color="#000000">0169:</font></a> search field, except that it reads the search term(s) using the
<a name="line170"><font color="#000000">0170:</font></a> minibuffer.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Specific Customization</font><font color="#FF0000">}</font>.
<a name="line171"><font color="#000000">0171:</font></a> 
<a name="line172"><font color="#000000">0172:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-browse}</font> is another way to browse the available
<a name="line173"><font color="#000000">0173:</font></a> settings.  This command creates a special customization buffer, which
<a name="line174"><font color="#000000">0174:</font></a> shows only the names of groups and settings, in a structured layout.
<a name="line175"><font color="#000000">0175:</font></a> You can show the contents of a group, in the same buffer, by invoking
<a name="line176"><font color="#000000">0176:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[+]}</font> button next to the group name.  When the group contents
<a name="line177"><font color="#000000">0177:</font></a> are shown, the button changes to <b><font color="#0000FF">@samp</font></b><font color="#009900">{[-]}</font>; invoking that hides the
<a name="line178"><font color="#000000">0178:</font></a> group contents again.  Each group or setting in this buffer has a link
<a name="line179"><font color="#000000">0179:</font></a> which says <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Group]}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Option]}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Face]}</font>.  Invoking
<a name="line180"><font color="#000000">0180:</font></a> this link creates an ordinary customization buffer showing just that
<a name="line181"><font color="#000000">0181:</font></a> group, option, or face; this is the way to change settings that you
<a name="line182"><font color="#000000">0182:</font></a> find with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-browse}</font>.
<a name="line183"><font color="#000000">0183:</font></a> 
<a name="line184"><font color="#000000">0184:</font></a> <b><font color="#0000FF">@node</font></b> Changing a Variable
<a name="line185"><font color="#000000">0185:</font></a> <b><font color="#0000FF">@subsection</font></b> Changing a Variable
<a name="line186"><font color="#000000">0186:</font></a> 
<a name="line187"><font color="#000000">0187:</font></a>   Here is an example of what a variable, or user option, looks like in
<a name="line188"><font color="#000000">0188:</font></a> the customization buffer:
<a name="line189"><font color="#000000">0189:</font></a> 
<a name="line190"><font color="#000000">0190:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line191"><font color="#000000">0191:</font></a> [Hide] Kill Ring Max: 60
<a name="line192"><font color="#000000">0192:</font></a>    [State]: STANDARD.
<a name="line193"><font color="#000000">0193:</font></a>    Maximum length of kill ring before oldest elements are thrown away.
<a name="line194"><font color="#000000">0194:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line195"><font color="#000000">0195:</font></a> 
<a name="line196"><font color="#000000">0196:</font></a>   The first line shows that the variable is named
<a name="line197"><font color="#000000">0197:</font></a> <i><font color="#9A1900">@code{kill-ring-max}, formatted as @samp{Kill Ring Max} for easier</font></i>
<a name="line198"><font color="#000000">0198:</font></a> viewing.  Its value is <b><font color="#0000FF">@samp</font></b><font color="#009900">{60}</font>.  The button labeled <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Hide]}</font>,
<a name="line199"><font color="#000000">0199:</font></a> if activated, hides the variable's value and state; this is useful to
<a name="line200"><font color="#000000">0200:</font></a> avoid cluttering up the customization buffer with very long values
<a name="line201"><font color="#000000">0201:</font></a> (for this reason, variables that have very long values may start out
<a name="line202"><font color="#000000">0202:</font></a> hidden).  If you use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Hide]}</font> button, it changes to
<a name="line203"><font color="#000000">0203:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Show Value]}</font>, which you can activate to reveal the value and
<a name="line204"><font color="#000000">0204:</font></a> state.  On a graphical display, the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Hide]}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Show</font>
<a name="line205"><font color="#000000">0205:</font></a> <font color="#009900">Value]}</font> buttons are replaced with graphical triangles pointing
<a name="line206"><font color="#000000">0206:</font></a> downwards and rightwards respectively.
<a name="line207"><font color="#000000">0207:</font></a> 
<a name="line208"><font color="#000000">0208:</font></a>   The line after the variable name indicates the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{customization</font>
<a name="line209"><font color="#000000">0209:</font></a> <font color="#009900">state}</font> of the variable: in this example, <b><font color="#0000FF">@samp</font></b><font color="#009900">{STANDARD}</font> means you
<a name="line210"><font color="#000000">0210:</font></a> have not changed the variable, so its value is the default one.  The
<a name="line211"><font color="#000000">0211:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font> button gives a menu of operations for customizing the
<a name="line212"><font color="#000000">0212:</font></a> variable.
<a name="line213"><font color="#000000">0213:</font></a> 
<a name="line214"><font color="#000000">0214:</font></a>   Below the customization state is the documentation for the variable.
<a name="line215"><font color="#000000">0215:</font></a> This is the same documentation that would be shown by the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h v}</font>
<a name="line216"><font color="#000000">0216:</font></a> command (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Examining</font><font color="#FF0000">}</font>).  If the documentation is more than one
<a name="line217"><font color="#000000">0217:</font></a> line long, only one line may be shown.  If so, that line ends with a
<a name="line218"><font color="#000000">0218:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[More]}</font> button; activate this to see the full documentation.
<a name="line219"><font color="#000000">0219:</font></a> 
<a name="line220"><font color="#000000">0220:</font></a> <i><font color="#9A1900">@cindex user options, changing</font></i>
<a name="line221"><font color="#000000">0221:</font></a> <i><font color="#9A1900">@cindex customizing variables</font></i>
<a name="line222"><font color="#000000">0222:</font></a> <i><font color="#9A1900">@cindex variables, changing</font></i>
<a name="line223"><font color="#000000">0223:</font></a>   To enter a new value for <b><font color="#0000FF">@samp</font></b><font color="#009900">{Kill Ring Max}</font>, just move point to
<a name="line224"><font color="#000000">0224:</font></a> the value and edit it.  For example, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-d}</font> to delete the
<a name="line225"><font color="#000000">0225:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{60}</font> and type in another number.  As you begin to alter the text,
<a name="line226"><font color="#000000">0226:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font> line will change:
<a name="line227"><font color="#000000">0227:</font></a> 
<a name="line228"><font color="#000000">0228:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line229"><font color="#000000">0229:</font></a> [State]: EDITED, shown value does not take effect until you
<a name="line230"><font color="#000000">0230:</font></a>          set or save it.
<a name="line231"><font color="#000000">0231:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line232"><font color="#000000">0232:</font></a> 
<a name="line233"><font color="#000000">0233:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line234"><font color="#000000">0234:</font></a> Editing the value does not make it take effect right away.  To do
<a name="line235"><font color="#000000">0235:</font></a> that, you must <b><font color="#0000FF">@dfn</font></b><font color="#009900">{set}</font> the variable by activating the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font>
<a name="line236"><font color="#000000">0236:</font></a> button and choosing <b><font color="#0000FF">@samp</font></b><font color="#009900">{Set for Current Session}</font>.  Then the
<a name="line237"><font color="#000000">0237:</font></a> variable's state becomes:
<a name="line238"><font color="#000000">0238:</font></a> 
<a name="line239"><font color="#000000">0239:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line240"><font color="#000000">0240:</font></a> [State]: SET for current session only.
<a name="line241"><font color="#000000">0241:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line242"><font color="#000000">0242:</font></a> 
<a name="line243"><font color="#000000">0243:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line244"><font color="#000000">0244:</font></a> You don't have to worry about specifying a value that is not valid;
<a name="line245"><font color="#000000">0245:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Set for Current Session}</font> operation checks for validity and
<a name="line246"><font color="#000000">0246:</font></a> will not install an unacceptable value.
<a name="line247"><font color="#000000">0247:</font></a> 
<a name="line248"><font color="#000000">0248:</font></a> <b><font color="#0000FF">@kindex</font></b> M-TAB <b><font color="#0000FF">@r</font></b><font color="#009900">{(customization buffer)}</font>
<a name="line249"><font color="#000000">0249:</font></a> <b><font color="#0000FF">@kindex</font></b> C-M-i <b><font color="#0000FF">@r</font></b><font color="#009900">{(customization buffer)}</font>
<a name="line250"><font color="#000000">0250:</font></a> <b><font color="#0000FF">@findex</font></b> widget-complete
<a name="line251"><font color="#000000">0251:</font></a>   While editing certain kinds of values, such as file names, directory
<a name="line252"><font color="#000000">0252:</font></a> names, and Emacs command names, you can perform completion with
<a name="line253"><font color="#000000">0253:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-M-i}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{widget-complete}</font>), or the equivalent keys
<a name="line254"><font color="#000000">0254:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-@key{TAB}}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{ESC} @key{TAB}}</font>.  This behaves much
<a name="line255"><font color="#000000">0255:</font></a> like minibuffer completion (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Completion</font><font color="#FF0000">}</font>).
<a name="line256"><font color="#000000">0256:</font></a> 
<a name="line257"><font color="#000000">0257:</font></a>   Typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RET}}</font> on an editable value field moves point
<a name="line258"><font color="#000000">0258:</font></a> forward to the next field or button, like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{TAB}}</font>.  You can
<a name="line259"><font color="#000000">0259:</font></a> thus type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RET}}</font> when you are finished editing a field, to
<a name="line260"><font color="#000000">0260:</font></a> move on to the next button or field.  To insert a newline within an
<a name="line261"><font color="#000000">0261:</font></a> editable field, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-o}</font> or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-q C-j}</font>.
<a name="line262"><font color="#000000">0262:</font></a> 
<a name="line263"><font color="#000000">0263:</font></a>   For some variables, there is only a fixed set of legitimate values,
<a name="line264"><font color="#000000">0264:</font></a> and you are not allowed to edit the value directly.  Instead, a
<a name="line265"><font color="#000000">0265:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Value Menu]}</font> button appears before the value; activating this
<a name="line266"><font color="#000000">0266:</font></a> button presents a choice of values.  For a boolean ``on or off''
<a name="line267"><font color="#000000">0267:</font></a> value, the button says <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Toggle]}</font>, and flips the value.  After
<a name="line268"><font color="#000000">0268:</font></a> using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Value Menu]}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Toggle]}</font> button, you must
<a name="line269"><font color="#000000">0269:</font></a> again set the variable to make the chosen value take effect.
<a name="line270"><font color="#000000">0270:</font></a> 
<a name="line271"><font color="#000000">0271:</font></a>   Some variables have values with complex structure.  For example, the
<a name="line272"><font color="#000000">0272:</font></a> value of <b><font color="#0000FF">@code</font></b><font color="#009900">{minibuffer-frame-alist}</font> is an association list.  Here
<a name="line273"><font color="#000000">0273:</font></a> is how it appears in the customization buffer:
<a name="line274"><font color="#000000">0274:</font></a> 
<a name="line275"><font color="#000000">0275:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line276"><font color="#000000">0276:</font></a> [Hide] Minibuffer Frame Alist:
<a name="line277"><font color="#000000">0277:</font></a> [INS] [DEL] Parameter: width
<a name="line278"><font color="#000000">0278:</font></a>             Value: 80
<a name="line279"><font color="#000000">0279:</font></a> [INS] [DEL] Parameter: height
<a name="line280"><font color="#000000">0280:</font></a>             Value: 2
<a name="line281"><font color="#000000">0281:</font></a> [INS]
<a name="line282"><font color="#000000">0282:</font></a>    [ State ]: STANDARD.
<a name="line283"><font color="#000000">0283:</font></a>    Alist of parameters for the initial minibuffer frame. [Hide]
<a name="line284"><font color="#000000">0284:</font></a>    <b><font color="#0000FF">@r</font></b><font color="#009900">{[@dots{}more lines of documentation@dots{}]}</font>
<a name="line285"><font color="#000000">0285:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line286"><font color="#000000">0286:</font></a> 
<a name="line287"><font color="#000000">0287:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line288"><font color="#000000">0288:</font></a> In this case, each association in the list consists of two items, one
<a name="line289"><font color="#000000">0289:</font></a> labeled <b><font color="#0000FF">@samp</font></b><font color="#009900">{Parameter}</font> and one labeled <b><font color="#0000FF">@samp</font></b><font color="#009900">{Value}</font>; both are
<a name="line290"><font color="#000000">0290:</font></a> editable fields.  You can delete an association from the list with the
<a name="line291"><font color="#000000">0291:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[DEL]}</font> button next to it.  To add an association, use the
<a name="line292"><font color="#000000">0292:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[INS]}</font> button at the position where you want to insert it; the
<a name="line293"><font color="#000000">0293:</font></a> very last <b><font color="#0000FF">@samp</font></b><font color="#009900">{[INS]}</font> button inserts at the end of the list.
<a name="line294"><font color="#000000">0294:</font></a> 
<a name="line295"><font color="#000000">0295:</font></a> <i><font color="#9A1900">@cindex saving a setting</font></i>
<a name="line296"><font color="#000000">0296:</font></a> <i><font color="#9A1900">@cindex settings, how to save</font></i>
<a name="line297"><font color="#000000">0297:</font></a>   When you set a variable, the new value takes effect only in the
<a name="line298"><font color="#000000">0298:</font></a> current Emacs session.  To <b><font color="#0000FF">@dfn</font></b><font color="#009900">{save}</font> the value for future sessions,
<a name="line299"><font color="#000000">0299:</font></a> use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font> button and select the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Save for Future</font>
<a name="line300"><font color="#000000">0300:</font></a> <font color="#009900">Sessions}</font> operation.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Saving Customizations</font><font color="#FF0000">}</font>.
<a name="line301"><font color="#000000">0301:</font></a> 
<a name="line302"><font color="#000000">0302:</font></a>   You can also restore the variable to its standard value by using the
<a name="line303"><font color="#000000">0303:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font> button and selecting the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Erase Customization}</font>
<a name="line304"><font color="#000000">0304:</font></a> operation.  There are actually four reset operations:
<a name="line305"><font color="#000000">0305:</font></a> 
<a name="line306"><font color="#000000">0306:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@samp</font></b>
<a name="line307"><font color="#000000">0307:</font></a> <b><font color="#0000FF">@item</font></b> Undo Edits
<a name="line308"><font color="#000000">0308:</font></a> If you have modified but not yet set the variable, this restores the
<a name="line309"><font color="#000000">0309:</font></a> text in the customization buffer to match the actual value.
<a name="line310"><font color="#000000">0310:</font></a> 
<a name="line311"><font color="#000000">0311:</font></a> <b><font color="#0000FF">@item</font></b> Revert This Session's Customizations
<a name="line312"><font color="#000000">0312:</font></a> This restores the value of the variable to the last saved value, if
<a name="line313"><font color="#000000">0313:</font></a> there was one.  Otherwise it restores the standard value.  It updates
<a name="line314"><font color="#000000">0314:</font></a> the text accordingly.
<a name="line315"><font color="#000000">0315:</font></a> 
<a name="line316"><font color="#000000">0316:</font></a> <b><font color="#0000FF">@item</font></b> Erase Customization
<a name="line317"><font color="#000000">0317:</font></a> This sets the variable to its standard value.  Any saved value that
<a name="line318"><font color="#000000">0318:</font></a> you have is also eliminated.
<a name="line319"><font color="#000000">0319:</font></a> 
<a name="line320"><font color="#000000">0320:</font></a> <b><font color="#0000FF">@item</font></b> Set to Backup Value
<a name="line321"><font color="#000000">0321:</font></a> This sets the variable to a previous value that was set in the
<a name="line322"><font color="#000000">0322:</font></a> customization buffer in this session.  If you customize a variable
<a name="line323"><font color="#000000">0323:</font></a> and then reset it, which discards the customized value,
<a name="line324"><font color="#000000">0324:</font></a> you can get the discarded value back again with this operation.
<a name="line325"><font color="#000000">0325:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line326"><font color="#000000">0326:</font></a> 
<a name="line327"><font color="#000000">0327:</font></a> <i><font color="#9A1900">@cindex comments on customized settings</font></i>
<a name="line328"><font color="#000000">0328:</font></a>   Sometimes it is useful to record a comment about a specific
<a name="line329"><font color="#000000">0329:</font></a> customization.  Use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Add Comment}</font> item from the
<a name="line330"><font color="#000000">0330:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font> menu to create a field for entering the comment.
<a name="line331"><font color="#000000">0331:</font></a> 
<a name="line332"><font color="#000000">0332:</font></a>   Near the top of the customization buffer are two lines of buttons:
<a name="line333"><font color="#000000">0333:</font></a> 
<a name="line334"><font color="#000000">0334:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line335"><font color="#000000">0335:</font></a>  Operate on all settings in this buffer:
<a name="line336"><font color="#000000">0336:</font></a>  [Revert...] [Apply] [Apply and Save]
<a name="line337"><font color="#000000">0337:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line338"><font color="#000000">0338:</font></a> 
<a name="line339"><font color="#000000">0339:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line340"><font color="#000000">0340:</font></a> The <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Revert...]}</font> button drops a menu with the first 3 reset
<a name="line341"><font color="#000000">0341:</font></a> operations described above.  The <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Apply]}</font> button applies the
<a name="line342"><font color="#000000">0342:</font></a> settings for the current session.  The <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Apply and Save]}</font> button
<a name="line343"><font color="#000000">0343:</font></a> applies the settings and saves them for future sessions; this button
<a name="line344"><font color="#000000">0344:</font></a> does not appear if Emacs was started with the <b><font color="#0000FF">@option</font></b><font color="#009900">{-q}</font> or
<a name="line345"><font color="#000000">0345:</font></a> <b><font color="#0000FF">@option</font></b><font color="#009900">{-Q}</font> option (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>).
<a name="line346"><font color="#000000">0346:</font></a> 
<a name="line347"><font color="#000000">0347:</font></a> <b><font color="#0000FF">@kindex</font></b> C-c C-c <b><font color="#0000FF">@r</font></b><font color="#009900">{(customization buffer)}</font>
<a name="line348"><font color="#000000">0348:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x C-c <b><font color="#0000FF">@r</font></b><font color="#009900">{(customization buffer)}</font>
<a name="line349"><font color="#000000">0349:</font></a> <b><font color="#0000FF">@findex</font></b> Custom-set
<a name="line350"><font color="#000000">0350:</font></a> <b><font color="#0000FF">@findex</font></b> Custom-save
<a name="line351"><font color="#000000">0351:</font></a>   The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-c}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{Custom-set}</font>) is equivalent to using
<a name="line352"><font color="#000000">0352:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Set for Current Session]}</font> button.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x</font>
<a name="line353"><font color="#000000">0353:</font></a> <font color="#009900">C-s}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{Custom-save}</font>) is like using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Save for Future</font>
<a name="line354"><font color="#000000">0354:</font></a> <font color="#009900">Sessions]}</font> button.
<a name="line355"><font color="#000000">0355:</font></a> 
<a name="line356"><font color="#000000">0356:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-buffer-done-kill
<a name="line357"><font color="#000000">0357:</font></a>   The <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Exit]}</font> button switches out of the customization buffer,
<a name="line358"><font color="#000000">0358:</font></a> and buries the buffer at the bottom of the buffer list.  To make it
<a name="line359"><font color="#000000">0359:</font></a> kill the customization buffer instead, change the variable
<a name="line360"><font color="#000000">0360:</font></a> <i><font color="#9A1900">@code{custom-buffer-done-kill} to @code{t}.</font></i>
<a name="line361"><font color="#000000">0361:</font></a> 
<a name="line362"><font color="#000000">0362:</font></a> <b><font color="#0000FF">@node</font></b> Saving Customizations
<a name="line363"><font color="#000000">0363:</font></a> <b><font color="#0000FF">@subsection</font></b> Saving Customizations
<a name="line364"><font color="#000000">0364:</font></a> 
<a name="line365"><font color="#000000">0365:</font></a>   In the customization buffer, you can <b><font color="#0000FF">@dfn</font></b><font color="#009900">{save}</font> a customization
<a name="line366"><font color="#000000">0366:</font></a> setting by choosing the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Save for Future Sessions}</font> choice from
<a name="line367"><font color="#000000">0367:</font></a> its <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font> button.  The <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-s}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{Custom-save}</font>)
<a name="line368"><font color="#000000">0368:</font></a> command, or the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Apply and Save]}</font> button at the top of the
<a name="line369"><font color="#000000">0369:</font></a> customization buffer, saves all applicable settings in the buffer.
<a name="line370"><font color="#000000">0370:</font></a> 
<a name="line371"><font color="#000000">0371:</font></a>   Saving works by writing code to a file, usually your initialization
<a name="line372"><font color="#000000">0372:</font></a> file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>).  Future Emacs sessions automatically read
<a name="line373"><font color="#000000">0373:</font></a> this file at startup, which sets up the customizations again.
<a name="line374"><font color="#000000">0374:</font></a> 
<a name="line375"><font color="#000000">0375:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-file
<a name="line376"><font color="#000000">0376:</font></a>   You can choose to save customizations somewhere other than your
<a name="line377"><font color="#000000">0377:</font></a> initialization file.  To make this work, you must add a couple of
<a name="line378"><font color="#000000">0378:</font></a> lines of code to your initialization file, to set the variable
<a name="line379"><font color="#000000">0379:</font></a> <i><font color="#9A1900">@code{custom-file} to the name of the desired file, and to load that</font></i>
<a name="line380"><font color="#000000">0380:</font></a> file.  For example:
<a name="line381"><font color="#000000">0381:</font></a> 
<a name="line382"><font color="#000000">0382:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line383"><font color="#000000">0383:</font></a> (setq custom-file "~/.emacs-custom.el")
<a name="line384"><font color="#000000">0384:</font></a> (load custom-file)
<a name="line385"><font color="#000000">0385:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line386"><font color="#000000">0386:</font></a> 
<a name="line387"><font color="#000000">0387:</font></a>   You can even specify different customization files for different
<a name="line388"><font color="#000000">0388:</font></a> Emacs versions, like this:
<a name="line389"><font color="#000000">0389:</font></a> 
<a name="line390"><font color="#000000">0390:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line391"><font color="#000000">0391:</font></a> (cond ((&lt; emacs-major-version 22)
<a name="line392"><font color="#000000">0392:</font></a>        ;; <b><font color="#0000FF">@r</font></b><font color="#009900">{Emacs 21 customization.}</font>
<a name="line393"><font color="#000000">0393:</font></a>        (setq custom-file "~/.custom-21.el"))
<a name="line394"><font color="#000000">0394:</font></a>       ((and (= emacs-major-version 22)
<a name="line395"><font color="#000000">0395:</font></a>             (&lt; emacs-minor-version 3))
<a name="line396"><font color="#000000">0396:</font></a>        ;; <b><font color="#0000FF">@r</font></b><font color="#009900">{Emacs 22 customization, before version 22.3.}</font>
<a name="line397"><font color="#000000">0397:</font></a>        (setq custom-file "~/.custom-22.el"))
<a name="line398"><font color="#000000">0398:</font></a>       (t
<a name="line399"><font color="#000000">0399:</font></a>        ;; <b><font color="#0000FF">@r</font></b><font color="#009900">{Emacs version 22.3 or later.}</font>
<a name="line400"><font color="#000000">0400:</font></a>        (setq custom-file "~/.emacs-custom.el")))
<a name="line401"><font color="#000000">0401:</font></a> 
<a name="line402"><font color="#000000">0402:</font></a> (load custom-file)
<a name="line403"><font color="#000000">0403:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line404"><font color="#000000">0404:</font></a> 
<a name="line405"><font color="#000000">0405:</font></a>   If Emacs was invoked with the <b><font color="#0000FF">@option</font></b><font color="#009900">{-q}</font> or <b><font color="#0000FF">@option</font></b><font color="#009900">{--no-init-file}</font>
<a name="line406"><font color="#000000">0406:</font></a> options (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>), it will not let you save your
<a name="line407"><font color="#000000">0407:</font></a> customizations in your initialization file.  This is because saving
<a name="line408"><font color="#000000">0408:</font></a> customizations from such a session would wipe out all the other
<a name="line409"><font color="#000000">0409:</font></a> customizations you might have on your initialization file.
<a name="line410"><font color="#000000">0410:</font></a> 
<a name="line411"><font color="#000000">0411:</font></a> <i><font color="#9A1900">@cindex unsaved customizations, reminder to save</font></i>
<a name="line412"><font color="#000000">0412:</font></a> <b><font color="#0000FF">@findex</font></b> custom-prompt-customize-unsaved-options
<a name="line413"><font color="#000000">0413:</font></a>   Please note that any customizations you have not chosen to save for
<a name="line414"><font color="#000000">0414:</font></a> future sessions will be lost when you terminate Emacs.  If you'd like
<a name="line415"><font color="#000000">0415:</font></a> to be prompted about unsaved customizations at termination time, add
<a name="line416"><font color="#000000">0416:</font></a> the following to your initialization file:
<a name="line417"><font color="#000000">0417:</font></a> 
<a name="line418"><font color="#000000">0418:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line419"><font color="#000000">0419:</font></a> (add-hook 'kill-emacs-query-functions
<a name="line420"><font color="#000000">0420:</font></a>           'custom-prompt-customize-unsaved-options)
<a name="line421"><font color="#000000">0421:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line422"><font color="#000000">0422:</font></a> 
<a name="line423"><font color="#000000">0423:</font></a> <b><font color="#0000FF">@node</font></b> Face Customization
<a name="line424"><font color="#000000">0424:</font></a> <b><font color="#0000FF">@subsection</font></b> Customizing Faces
<a name="line425"><font color="#000000">0425:</font></a> <i><font color="#9A1900">@cindex customizing faces</font></i>
<a name="line426"><font color="#000000">0426:</font></a> <i><font color="#9A1900">@cindex faces, customizing</font></i>
<a name="line427"><font color="#000000">0427:</font></a> <i><font color="#9A1900">@cindex fonts and faces</font></i>
<a name="line428"><font color="#000000">0428:</font></a> 
<a name="line429"><font color="#000000">0429:</font></a>   You can customize faces (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Faces</font><font color="#FF0000">}</font>), which determine how Emacs
<a name="line430"><font color="#000000">0430:</font></a> displays different types of text.  Customization groups can contain
<a name="line431"><font color="#000000">0431:</font></a> both variables and faces.
<a name="line432"><font color="#000000">0432:</font></a> 
<a name="line433"><font color="#000000">0433:</font></a>   For example, in programming language modes, source code comments are
<a name="line434"><font color="#000000">0434:</font></a> shown with <b><font color="#0000FF">@code</font></b><font color="#009900">{font-lock-comment-face}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Font Lock</font><font color="#FF0000">}</font>).  In a
<a name="line435"><font color="#000000">0435:</font></a> customization buffer, that face appears like this, after you click on
<a name="line436"><font color="#000000">0436:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Show All Attributes]}</font> link:
<a name="line437"><font color="#000000">0437:</font></a> 
<a name="line438"><font color="#000000">0438:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line439"><font color="#000000">0439:</font></a> [Hide] Font Lock Comment Face:[sample]
<a name="line440"><font color="#000000">0440:</font></a>    [State] : STANDARD.
<a name="line441"><font color="#000000">0441:</font></a>    Font Lock mode face used to highlight comments.
<a name="line442"><font color="#000000">0442:</font></a>    [ ] Font Family: --
<a name="line443"><font color="#000000">0443:</font></a>    [ ] Font Foundry: --
<a name="line444"><font color="#000000">0444:</font></a>    [ ] Width: --
<a name="line445"><font color="#000000">0445:</font></a>    [ ] Height: --
<a name="line446"><font color="#000000">0446:</font></a>    [ ] Weight: --
<a name="line447"><font color="#000000">0447:</font></a>    [ ] Slant: --
<a name="line448"><font color="#000000">0448:</font></a>    [ ] Underline: --
<a name="line449"><font color="#000000">0449:</font></a>    [ ] Overline: --
<a name="line450"><font color="#000000">0450:</font></a>    [ ] Strike-through: --
<a name="line451"><font color="#000000">0451:</font></a>    [ ] Box around text: --
<a name="line452"><font color="#000000">0452:</font></a>    [ ] Inverse-video: --
<a name="line453"><font color="#000000">0453:</font></a>    [X] Foreground: Firebrick     [Choose]  (sample)
<a name="line454"><font color="#000000">0454:</font></a>    [ ] Background: --
<a name="line455"><font color="#000000">0455:</font></a>    [ ] Stipple: --
<a name="line456"><font color="#000000">0456:</font></a>    [ ] Inherit: --
<a name="line457"><font color="#000000">0457:</font></a>    [Hide Unused Attributes]
<a name="line458"><font color="#000000">0458:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line459"><font color="#000000">0459:</font></a> 
<a name="line460"><font color="#000000">0460:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line461"><font color="#000000">0461:</font></a> The first three lines show the name, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font> button, and
<a name="line462"><font color="#000000">0462:</font></a> documentation for the face.  Below that is a list of <b><font color="#0000FF">@dfn</font></b><font color="#009900">{face</font>
<a name="line463"><font color="#000000">0463:</font></a> <font color="#009900">attributes}</font>.  In front of each attribute is a checkbox.  A filled
<a name="line464"><font color="#000000">0464:</font></a> checkbox, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[X]}</font>, means that the face specifies a value for this
<a name="line465"><font color="#000000">0465:</font></a> attribute; an empty checkbox, <b><font color="#0000FF">@samp</font></b><font color="#009900">{[ ]}</font>, means that the face does not
<a name="line466"><font color="#000000">0466:</font></a> specify any special value for the attribute.  You can activate a
<a name="line467"><font color="#000000">0467:</font></a> checkbox to specify or unspecify its attribute.
<a name="line468"><font color="#000000">0468:</font></a> 
<a name="line469"><font color="#000000">0469:</font></a>   A face does not have to specify every single attribute; in fact,
<a name="line470"><font color="#000000">0470:</font></a> most faces only specify a few attributes.  In the above example,
<a name="line471"><font color="#000000">0471:</font></a> <i><font color="#9A1900">@code{font-lock-comment-face} only specifies the foreground color.</font></i>
<a name="line472"><font color="#000000">0472:</font></a> Any unspecified attribute is taken from the special face named
<a name="line473"><font color="#000000">0473:</font></a> <i><font color="#9A1900">@code{default}, whose attributes are all specified.  The</font></i>
<a name="line474"><font color="#000000">0474:</font></a> <i><font color="#9A1900">@code{default} face is the face used to display any text that does not</font></i>
<a name="line475"><font color="#000000">0475:</font></a> have an explicitly-assigned face; furthermore, its background color
<a name="line476"><font color="#000000">0476:</font></a> attribute serves as the background color of the frame.
<a name="line477"><font color="#000000">0477:</font></a> 
<a name="line478"><font color="#000000">0478:</font></a>   The <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Hide Unused Attributes]}</font> button, at the end of the
<a name="line479"><font color="#000000">0479:</font></a> attribute list, hides the unspecified attributes of the face.  When
<a name="line480"><font color="#000000">0480:</font></a> attributes are being hidden, the button changes to <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Show All</font>
<a name="line481"><font color="#000000">0481:</font></a> <font color="#009900">Attributes]}</font>, which reveals the entire attribute list.  The
<a name="line482"><font color="#000000">0482:</font></a> customization buffer may start out with unspecified attributes hidden,
<a name="line483"><font color="#000000">0483:</font></a> to avoid cluttering the interface.
<a name="line484"><font color="#000000">0484:</font></a> 
<a name="line485"><font color="#000000">0485:</font></a>   When an attribute is specified, you can change its value in the
<a name="line486"><font color="#000000">0486:</font></a> usual ways.
<a name="line487"><font color="#000000">0487:</font></a> 
<a name="line488"><font color="#000000">0488:</font></a>   Foreground and background colors can be specified using either color
<a name="line489"><font color="#000000">0489:</font></a> names or RGB triplets (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Colors</font><font color="#FF0000">}</font>).  You can also use the
<a name="line490"><font color="#000000">0490:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Choose]}</font> button to switch to a list of color names; select a
<a name="line491"><font color="#000000">0491:</font></a> color with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{RET}}</font> in that buffer to put the color name in the
<a name="line492"><font color="#000000">0492:</font></a> value field.
<a name="line493"><font color="#000000">0493:</font></a> 
<a name="line494"><font color="#000000">0494:</font></a>   Setting, saving and resetting a face work like the same operations for
<a name="line495"><font color="#000000">0495:</font></a> variables (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Changing a Variable</font><font color="#FF0000">}</font>).
<a name="line496"><font color="#000000">0496:</font></a> 
<a name="line497"><font color="#000000">0497:</font></a>   A face can specify different appearances for different types of
<a name="line498"><font color="#000000">0498:</font></a> displays.  For example, a face can make text red on a color display,
<a name="line499"><font color="#000000">0499:</font></a> but use a bold font on a monochrome display.  To specify multiple
<a name="line500"><font color="#000000">0500:</font></a> appearances for a face, select <b><font color="#0000FF">@samp</font></b><font color="#009900">{For All Kinds of Displays}</font> in the
<a name="line501"><font color="#000000">0501:</font></a> menu you get from invoking <b><font color="#0000FF">@samp</font></b><font color="#009900">{[State]}</font>.
<a name="line502"><font color="#000000">0502:</font></a> 
<a name="line503"><font color="#000000">0503:</font></a> <b><font color="#0000FF">@node</font></b> Specific Customization
<a name="line504"><font color="#000000">0504:</font></a> <b><font color="#0000FF">@subsection</font></b> Customizing Specific Items
<a name="line505"><font color="#000000">0505:</font></a> 
<a name="line506"><font color="#000000">0506:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line507"><font color="#000000">0507:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-option <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{option}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line508"><font color="#000000">0508:</font></a> <b><font color="#0000FF">@itemx</font></b> M-x customize-variable <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{option}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line509"><font color="#000000">0509:</font></a> Set up a customization buffer for just one user option, <b><font color="#0000FF">@var</font></b><font color="#009900">{option}</font>.
<a name="line510"><font color="#000000">0510:</font></a> 
<a name="line511"><font color="#000000">0511:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-face <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{face}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line512"><font color="#000000">0512:</font></a> Set up a customization buffer for just one face, <b><font color="#0000FF">@var</font></b><font color="#009900">{face}</font>.
<a name="line513"><font color="#000000">0513:</font></a> 
<a name="line514"><font color="#000000">0514:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-group <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{group}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line515"><font color="#000000">0515:</font></a> Set up a customization buffer for just one group, <b><font color="#0000FF">@var</font></b><font color="#009900">{group}</font>.
<a name="line516"><font color="#000000">0516:</font></a> 
<a name="line517"><font color="#000000">0517:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-apropos <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line518"><font color="#000000">0518:</font></a> Set up a customization buffer for all the settings and groups that
<a name="line519"><font color="#000000">0519:</font></a> match <b><font color="#0000FF">@var</font></b><font color="#009900">{regexp}</font>.
<a name="line520"><font color="#000000">0520:</font></a> 
<a name="line521"><font color="#000000">0521:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-changed <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line522"><font color="#000000">0522:</font></a> Set up a customization buffer with all the settings and groups
<a name="line523"><font color="#000000">0523:</font></a> whose meaning has changed since Emacs version <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font>.
<a name="line524"><font color="#000000">0524:</font></a> 
<a name="line525"><font color="#000000">0525:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-changed-options <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line526"><font color="#000000">0526:</font></a> Set up a customization buffer with all the options whose meaning or
<a name="line527"><font color="#000000">0527:</font></a> default values have changed since Emacs version <b><font color="#0000FF">@var</font></b><font color="#009900">{version}</font>.
<a name="line528"><font color="#000000">0528:</font></a> 
<a name="line529"><font color="#000000">0529:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-saved
<a name="line530"><font color="#000000">0530:</font></a> Set up a customization buffer containing all settings that you
<a name="line531"><font color="#000000">0531:</font></a> have saved with customization buffers.
<a name="line532"><font color="#000000">0532:</font></a> 
<a name="line533"><font color="#000000">0533:</font></a> <b><font color="#0000FF">@item</font></b> M-x customize-unsaved
<a name="line534"><font color="#000000">0534:</font></a> Set up a customization buffer containing all settings that you have
<a name="line535"><font color="#000000">0535:</font></a> set but not saved.
<a name="line536"><font color="#000000">0536:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line537"><font color="#000000">0537:</font></a> 
<a name="line538"><font color="#000000">0538:</font></a> <b><font color="#0000FF">@findex</font></b> customize-option
<a name="line539"><font color="#000000">0539:</font></a>   If you want to customize a particular user option, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line540"><font color="#000000">0540:</font></a> <font color="#009900">customize-option}</font>.  This reads the variable name, and sets up the
<a name="line541"><font color="#000000">0541:</font></a> customization buffer with just that one user option.  When entering
<a name="line542"><font color="#000000">0542:</font></a> the variable name into the minibuffer, completion is available, but
<a name="line543"><font color="#000000">0543:</font></a> only for the names of variables that have been loaded into Emacs.
<a name="line544"><font color="#000000">0544:</font></a> 
<a name="line545"><font color="#000000">0545:</font></a> <b><font color="#0000FF">@findex</font></b> customize-face
<a name="line546"><font color="#000000">0546:</font></a> <b><font color="#0000FF">@findex</font></b> customize-group
<a name="line547"><font color="#000000">0547:</font></a>   Likewise, you can customize a specific face using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line548"><font color="#000000">0548:</font></a> <font color="#009900">customize-face}</font>.  You can set up a customization buffer for a specific
<a name="line549"><font color="#000000">0549:</font></a> customization group using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-group}</font>.
<a name="line550"><font color="#000000">0550:</font></a> 
<a name="line551"><font color="#000000">0551:</font></a> <b><font color="#0000FF">@findex</font></b> customize-apropos
<a name="line552"><font color="#000000">0552:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-apropos}</font> prompts for a search term---either one
<a name="line553"><font color="#000000">0553:</font></a> or more words separated by spaces, or a regular expression---and sets
<a name="line554"><font color="#000000">0554:</font></a> up a customization buffer for all <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">loaded</font></i><font color="#FF0000">}</font> settings and groups
<a name="line555"><font color="#000000">0555:</font></a> with matching names.  This is like using the search field at the top
<a name="line556"><font color="#000000">0556:</font></a> of the customization buffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Customization Groups</font><font color="#FF0000">}</font>).
<a name="line557"><font color="#000000">0557:</font></a> 
<a name="line558"><font color="#000000">0558:</font></a> <b><font color="#0000FF">@findex</font></b> customize-changed
<a name="line559"><font color="#000000">0559:</font></a>   When you upgrade to a new Emacs version, you might want to consider
<a name="line560"><font color="#000000">0560:</font></a> customizing new settings, and settings whose meanings or default
<a name="line561"><font color="#000000">0561:</font></a> values have changed.  To do this, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-changed}</font> and
<a name="line562"><font color="#000000">0562:</font></a> specify a previous Emacs version number using the minibuffer.  It
<a name="line563"><font color="#000000">0563:</font></a> creates a customization buffer which shows all the settings and groups
<a name="line564"><font color="#000000">0564:</font></a> whose definitions have been changed since the specified version,
<a name="line565"><font color="#000000">0565:</font></a> loading them if necessary.
<a name="line566"><font color="#000000">0566:</font></a> 
<a name="line567"><font color="#000000">0567:</font></a> <b><font color="#0000FF">@findex</font></b> customize-saved
<a name="line568"><font color="#000000">0568:</font></a> <b><font color="#0000FF">@findex</font></b> customize-unsaved
<a name="line569"><font color="#000000">0569:</font></a>   If you change settings and then decide the change was a mistake, you
<a name="line570"><font color="#000000">0570:</font></a> can use two commands to revisit your changes.  Use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line571"><font color="#000000">0571:</font></a> <font color="#009900">customize-saved}</font> to customize settings that you have saved.  Use
<a name="line572"><font color="#000000">0572:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-unsaved}</font> to customize settings that you have set
<a name="line573"><font color="#000000">0573:</font></a> but not saved.
<a name="line574"><font color="#000000">0574:</font></a> 
<a name="line575"><font color="#000000">0575:</font></a> <b><font color="#0000FF">@node</font></b> Custom Themes
<a name="line576"><font color="#000000">0576:</font></a> <b><font color="#0000FF">@subsection</font></b> Custom Themes
<a name="line577"><font color="#000000">0577:</font></a> <i><font color="#9A1900">@cindex custom themes</font></i>
<a name="line578"><font color="#000000">0578:</font></a> 
<a name="line579"><font color="#000000">0579:</font></a>   <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Custom themes}</font> are collections of settings that can be enabled
<a name="line580"><font color="#000000">0580:</font></a> or disabled as a unit.  You can use Custom themes to switch easily
<a name="line581"><font color="#000000">0581:</font></a> between various collections of settings, and to transfer such
<a name="line582"><font color="#000000">0582:</font></a> collections from one computer to another.
<a name="line583"><font color="#000000">0583:</font></a> 
<a name="line584"><font color="#000000">0584:</font></a>   A Custom theme is stored as an Emacs Lisp source file.  If the name of
<a name="line585"><font color="#000000">0585:</font></a> the Custom theme is <b><font color="#0000FF">@var</font></b><font color="#009900">{name}</font>, the theme file is named
<a name="line586"><font color="#000000">0586:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{@var{name}-theme.el}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Creating Custom Themes</font><font color="#FF0000">}</font>, for the
<a name="line587"><font color="#000000">0587:</font></a> format of a theme file and how to make one.
<a name="line588"><font color="#000000">0588:</font></a> 
<a name="line589"><font color="#000000">0589:</font></a> <b><font color="#0000FF">@findex</font></b> customize-themes
<a name="line590"><font color="#000000">0590:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-theme-directory
<a name="line591"><font color="#000000">0591:</font></a> <i><font color="#9A1900">@cindex color scheme</font></i>
<a name="line592"><font color="#000000">0592:</font></a>   Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-themes}</font> to switch to a buffer named
<a name="line593"><font color="#000000">0593:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Themes*}</font>, which lists the Custom themes that Emacs knows
<a name="line594"><font color="#000000">0594:</font></a> about.  By default, Emacs looks for theme files in two locations: the
<a name="line595"><font color="#000000">0595:</font></a> directory specified by the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{custom-theme-directory}</font>
<a name="line596"><font color="#000000">0596:</font></a> (which defaults to <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/}</font>), and a directory named
<a name="line597"><font color="#000000">0597:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{etc/themes}</font> in your Emacs installation (see the variable
<a name="line598"><font color="#000000">0598:</font></a> <i><font color="#9A1900">@code{data-directory}).  The latter contains several Custom themes</font></i>
<a name="line599"><font color="#000000">0599:</font></a> distributed with Emacs that customize Emacs's faces to fit
<a name="line600"><font color="#000000">0600:</font></a> various color schemes.  (Note, however, that Custom themes need not be
<a name="line601"><font color="#000000">0601:</font></a> restricted to this purpose; they can be used to customize variables
<a name="line602"><font color="#000000">0602:</font></a> too.)
<a name="line603"><font color="#000000">0603:</font></a> 
<a name="line604"><font color="#000000">0604:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-theme-load-path
<a name="line605"><font color="#000000">0605:</font></a>   If you want Emacs to look for Custom themes in some other directory,
<a name="line606"><font color="#000000">0606:</font></a> add the directory to the list variable
<a name="line607"><font color="#000000">0607:</font></a> <i><font color="#9A1900">@code{custom-theme-load-path}.  Its default value is</font></i>
<a name="line608"><font color="#000000">0608:</font></a> <i><font color="#9A1900">@code{(custom-theme-directory t)}; here, the symbol</font></i>
<a name="line609"><font color="#000000">0609:</font></a> <i><font color="#9A1900">@code{custom-theme-directory} has the special meaning of the value of</font></i>
<a name="line610"><font color="#000000">0610:</font></a> the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{custom-theme-directory}</font>, while <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> stands for
<a name="line611"><font color="#000000">0611:</font></a> the built-in theme directory <b><font color="#0000FF">@file</font></b><font color="#009900">{etc/themes}</font>.  The themes listed in
<a name="line612"><font color="#000000">0612:</font></a> the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Themes*}</font> buffer are those found in the directories
<a name="line613"><font color="#000000">0613:</font></a> specified by <b><font color="#0000FF">@code</font></b><font color="#009900">{custom-theme-load-path}</font>.
<a name="line614"><font color="#000000">0614:</font></a> 
<a name="line615"><font color="#000000">0615:</font></a> <b><font color="#0000FF">@kindex</font></b> C-x C-s <b><font color="#0000FF">@r</font></b><font color="#009900">{(Custom Themes buffer)}</font>
<a name="line616"><font color="#000000">0616:</font></a>   In the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Themes*}</font> buffer, you can activate the checkbox
<a name="line617"><font color="#000000">0617:</font></a> next to a Custom theme to enable or disable the theme for the current
<a name="line618"><font color="#000000">0618:</font></a> Emacs session.  When a Custom theme is enabled, all of its settings
<a name="line619"><font color="#000000">0619:</font></a> (variables and faces) take effect in the Emacs session.  To apply the
<a name="line620"><font color="#000000">0620:</font></a> choice of theme(s) to future Emacs sessions, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-s}</font>
<a name="line621"><font color="#000000">0621:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{custom-theme-save}</font>) or use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Save Theme Settings]}</font>
<a name="line622"><font color="#000000">0622:</font></a> button.
<a name="line623"><font color="#000000">0623:</font></a> 
<a name="line624"><font color="#000000">0624:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-safe-themes
<a name="line625"><font color="#000000">0625:</font></a>   When you first enable a Custom theme, Emacs displays the contents of
<a name="line626"><font color="#000000">0626:</font></a> the theme file and asks if you really want to load it.  Because
<a name="line627"><font color="#000000">0627:</font></a> loading a Custom theme can execute arbitrary Lisp code, you should
<a name="line628"><font color="#000000">0628:</font></a> only say yes if you know that the theme is safe; in that case, Emacs
<a name="line629"><font color="#000000">0629:</font></a> offers to remember in the future that the theme is safe (this is done
<a name="line630"><font color="#000000">0630:</font></a> by saving the theme file's SHA-256 hash to the variable
<a name="line631"><font color="#000000">0631:</font></a> <i><font color="#9A1900">@code{custom-safe-themes}; if you want to treat all themes as safe,</font></i>
<a name="line632"><font color="#000000">0632:</font></a> change its value to <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>).  Themes that come with Emacs (in the
<a name="line633"><font color="#000000">0633:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{etc/themes}</font> directory) are exempt from this check, and are
<a name="line634"><font color="#000000">0634:</font></a> always considered safe.
<a name="line635"><font color="#000000">0635:</font></a> 
<a name="line636"><font color="#000000">0636:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-enabled-themes
<a name="line637"><font color="#000000">0637:</font></a>   Setting or saving Custom themes actually works by customizing the
<a name="line638"><font color="#000000">0638:</font></a> variable <b><font color="#0000FF">@code</font></b><font color="#009900">{custom-enabled-themes}</font>.  The value of this variable is
<a name="line639"><font color="#000000">0639:</font></a> a list of Custom theme names (as Lisp symbols, e.g., <b><font color="#0000FF">@code</font></b><font color="#009900">{tango}</font>).
<a name="line640"><font color="#000000">0640:</font></a> Instead of using the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Themes*}</font> buffer to set
<a name="line641"><font color="#000000">0641:</font></a> <i><font color="#9A1900">@code{custom-enabled-themes}, you can customize the variable using the</font></i>
<a name="line642"><font color="#000000">0642:</font></a> usual customization interface, e.g., with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-option}</font>.
<a name="line643"><font color="#000000">0643:</font></a> Note that Custom themes are not allowed to set
<a name="line644"><font color="#000000">0644:</font></a> <i><font color="#9A1900">@code{custom-enabled-themes} themselves.</font></i>
<a name="line645"><font color="#000000">0645:</font></a> 
<a name="line646"><font color="#000000">0646:</font></a>   Any customizations that you make through the customization buffer
<a name="line647"><font color="#000000">0647:</font></a> take precedence over theme settings.  This lets you easily override
<a name="line648"><font color="#000000">0648:</font></a> individual theme settings that you disagree with.  If settings from
<a name="line649"><font color="#000000">0649:</font></a> two different themes overlap, the theme occurring earlier in
<a name="line650"><font color="#000000">0650:</font></a> <i><font color="#9A1900">@code{custom-enabled-themes} takes precedence.  In the customization</font></i>
<a name="line651"><font color="#000000">0651:</font></a> buffer, if a setting has been changed from its default by a Custom
<a name="line652"><font color="#000000">0652:</font></a> theme, its <b><font color="#0000FF">@samp</font></b><font color="#009900">{State}</font> display shows <b><font color="#0000FF">@samp</font></b><font color="#009900">{THEMED}</font> instead of
<a name="line653"><font color="#000000">0653:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{STANDARD}</font>.
<a name="line654"><font color="#000000">0654:</font></a> 
<a name="line655"><font color="#000000">0655:</font></a> <b><font color="#0000FF">@findex</font></b> load-theme
<a name="line656"><font color="#000000">0656:</font></a> <b><font color="#0000FF">@findex</font></b> enable-theme
<a name="line657"><font color="#000000">0657:</font></a> <b><font color="#0000FF">@findex</font></b> disable-theme
<a name="line658"><font color="#000000">0658:</font></a>   You can enable a specific Custom theme in the current Emacs session
<a name="line659"><font color="#000000">0659:</font></a> by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x load-theme}</font>.  This prompts for a theme name, loads
<a name="line660"><font color="#000000">0660:</font></a> the theme from the theme file, and enables it.  If a theme file
<a name="line661"><font color="#000000">0661:</font></a> has been loaded before, you can enable the theme without loading its
<a name="line662"><font color="#000000">0662:</font></a> file by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x enable-theme}</font>.  To disable a Custom theme,
<a name="line663"><font color="#000000">0663:</font></a> type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x disable-theme}</font>.
<a name="line664"><font color="#000000">0664:</font></a> 
<a name="line665"><font color="#000000">0665:</font></a> <b><font color="#0000FF">@findex</font></b> describe-theme
<a name="line666"><font color="#000000">0666:</font></a>   To see a description of a Custom theme, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{?}</font> on its line in
<a name="line667"><font color="#000000">0667:</font></a> the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Themes*}</font> buffer; or type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x describe-theme}</font>
<a name="line668"><font color="#000000">0668:</font></a> anywhere in Emacs and enter the theme name.
<a name="line669"><font color="#000000">0669:</font></a> 
<a name="line670"><font color="#000000">0670:</font></a> <b><font color="#0000FF">@node</font></b> Creating Custom Themes
<a name="line671"><font color="#000000">0671:</font></a> <b><font color="#0000FF">@subsection</font></b> Creating Custom Themes
<a name="line672"><font color="#000000">0672:</font></a> <i><font color="#9A1900">@cindex custom themes, creating</font></i>
<a name="line673"><font color="#000000">0673:</font></a> 
<a name="line674"><font color="#000000">0674:</font></a> <b><font color="#0000FF">@findex</font></b> customize-create-theme
<a name="line675"><font color="#000000">0675:</font></a>   You can define a Custom theme using an interface similar to the
<a name="line676"><font color="#000000">0676:</font></a> customization buffer, by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-create-theme}</font>.
<a name="line677"><font color="#000000">0677:</font></a> This switches to a buffer named <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Theme*}</font>.  It also offers
<a name="line678"><font color="#000000">0678:</font></a> to insert some common Emacs faces into the theme (a convenience, since
<a name="line679"><font color="#000000">0679:</font></a> Custom themes are often used to customize faces).  If you answer no,
<a name="line680"><font color="#000000">0680:</font></a> the theme will initially contain no settings.
<a name="line681"><font color="#000000">0681:</font></a> 
<a name="line682"><font color="#000000">0682:</font></a>   Near the top of the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Theme*}</font> buffer, there are editable fields
<a name="line683"><font color="#000000">0683:</font></a> where you can enter the theme's name and description.  The name can be
<a name="line684"><font color="#000000">0684:</font></a> anything except <b><font color="#0000FF">@samp</font></b><font color="#009900">{user}</font>.  The description is the one that will be
<a name="line685"><font color="#000000">0685:</font></a> shown when you invoke <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x describe-theme}</font> for the theme.  Its
<a name="line686"><font color="#000000">0686:</font></a> first line should be a brief one-sentence summary; in the buffer made
<a name="line687"><font color="#000000">0687:</font></a> by <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x customize-themes}</font>, this sentence is displayed next to the
<a name="line688"><font color="#000000">0688:</font></a> theme name.
<a name="line689"><font color="#000000">0689:</font></a> 
<a name="line690"><font color="#000000">0690:</font></a>   To add a new setting to the theme, use the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Insert Additional</font>
<a name="line691"><font color="#000000">0691:</font></a> <font color="#009900">Face]}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Insert Additional Variable]}</font> buttons.  Each button
<a name="line692"><font color="#000000">0692:</font></a> reads a face or variable name using the minibuffer, with completion,
<a name="line693"><font color="#000000">0693:</font></a> and inserts a customization entry for the face or variable.  You can
<a name="line694"><font color="#000000">0694:</font></a> edit the variable values or face attributes in the same way as in a
<a name="line695"><font color="#000000">0695:</font></a> normal customization buffer.  To remove a face or variable from the
<a name="line696"><font color="#000000">0696:</font></a> theme, uncheck the checkbox next to its name.
<a name="line697"><font color="#000000">0697:</font></a> 
<a name="line698"><font color="#000000">0698:</font></a> <b><font color="#0000FF">@vindex</font></b> custom-theme-directory<b><font color="#0000FF">@r</font></b><font color="#009900">{, saving theme files}</font>
<a name="line699"><font color="#000000">0699:</font></a>   After specifying the Custom theme's faces and variables, type
<a name="line700"><font color="#000000">0700:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-s}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{custom-theme-write}</font>) or use the buffer's
<a name="line701"><font color="#000000">0701:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Save Theme]}</font> button.  This saves the theme file, named
<a name="line702"><font color="#000000">0702:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{@var{name}-theme.el}</font> where <b><font color="#0000FF">@var</font></b><font color="#009900">{name}</font> is the theme name, in the
<a name="line703"><font color="#000000">0703:</font></a> directory named by <b><font color="#0000FF">@code</font></b><font color="#009900">{custom-theme-directory}</font>.
<a name="line704"><font color="#000000">0704:</font></a> 
<a name="line705"><font color="#000000">0705:</font></a>   From the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Theme*}</font> buffer, you can view and edit an
<a name="line706"><font color="#000000">0706:</font></a> existing Custom theme by activating the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Visit Theme]}</font> button
<a name="line707"><font color="#000000">0707:</font></a> and specifying the theme name.  You can also add the settings of
<a name="line708"><font color="#000000">0708:</font></a> another theme into the buffer, using the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Merge Theme]}</font> button.
<a name="line709"><font color="#000000">0709:</font></a> You can import your non-theme settings into a Custom theme by using
<a name="line710"><font color="#000000">0710:</font></a> the <b><font color="#0000FF">@samp</font></b><font color="#009900">{[Merge Theme]}</font> button and specifying the special theme named
<a name="line711"><font color="#000000">0711:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{user}</font>.
<a name="line712"><font color="#000000">0712:</font></a> 
<a name="line713"><font color="#000000">0713:</font></a>   A theme file is simply an Emacs Lisp source file, and loading the
<a name="line714"><font color="#000000">0714:</font></a> Custom theme works by loading the Lisp file.  Therefore, you can edit
<a name="line715"><font color="#000000">0715:</font></a> a theme file directly instead of using the <b><font color="#0000FF">@file</font></b><font color="#009900">{*Custom Theme*}</font>
<a name="line716"><font color="#000000">0716:</font></a> buffer.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Custom Themes,,, elisp, The Emacs Lisp Reference</font>
<a name="line717"><font color="#000000">0717:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>, for details.
<a name="line718"><font color="#000000">0718:</font></a> 
<a name="line719"><font color="#000000">0719:</font></a> <b><font color="#0000FF">@node</font></b> Variables
<a name="line720"><font color="#000000">0720:</font></a> <b><font color="#0000FF">@section</font></b> Variables
<a name="line721"><font color="#000000">0721:</font></a> <i><font color="#9A1900">@cindex variable</font></i>
<a name="line722"><font color="#000000">0722:</font></a> 
<a name="line723"><font color="#000000">0723:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{variable}</font> is a Lisp symbol which has a value.  The symbol's
<a name="line724"><font color="#000000">0724:</font></a> name is also called the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{variable name}</font>.  A variable name can
<a name="line725"><font color="#000000">0725:</font></a> contain any characters that can appear in a file, but most variable
<a name="line726"><font color="#000000">0726:</font></a> names consist of ordinary words separated by hyphens.
<a name="line727"><font color="#000000">0727:</font></a> 
<a name="line728"><font color="#000000">0728:</font></a>   The name of the variable serves as a compact description of its
<a name="line729"><font color="#000000">0729:</font></a> role.  Most variables also have a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{documentation string}</font>, which
<a name="line730"><font color="#000000">0730:</font></a> describes what the variable's purpose is, what kind of value it should
<a name="line731"><font color="#000000">0731:</font></a> have, and how the value will be used.  You can view this documentation
<a name="line732"><font color="#000000">0732:</font></a> using the help command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h v}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-variable}</font>).
<a name="line733"><font color="#000000">0733:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Examining</font><font color="#FF0000">}</font>.
<a name="line734"><font color="#000000">0734:</font></a> 
<a name="line735"><font color="#000000">0735:</font></a>   Emacs uses many Lisp variables for internal record keeping, but the
<a name="line736"><font color="#000000">0736:</font></a> most interesting variables for a non-programmer user are those meant
<a name="line737"><font color="#000000">0737:</font></a> for users to change---these are called <b><font color="#0000FF">@dfn</font></b><font color="#009900">{customizable variables}</font> or
<a name="line738"><font color="#000000">0738:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{user options}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Easy Customization</font><font color="#FF0000">}</font>).  In the following
<a name="line739"><font color="#000000">0739:</font></a> sections, we will describe other aspects of Emacs variables, such as
<a name="line740"><font color="#000000">0740:</font></a> how to set them outside Customize.
<a name="line741"><font color="#000000">0741:</font></a> 
<a name="line742"><font color="#000000">0742:</font></a>   Emacs Lisp allows any variable (with a few exceptions) to have any
<a name="line743"><font color="#000000">0743:</font></a> kind of value.  However, many variables are meaningful only if
<a name="line744"><font color="#000000">0744:</font></a> assigned values of a certain type.  For example, only numbers are
<a name="line745"><font color="#000000">0745:</font></a> meaningful values for <b><font color="#0000FF">@code</font></b><font color="#009900">{kill-ring-max}</font>, which specifies the
<a name="line746"><font color="#000000">0746:</font></a> maximum length of the kill ring (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Earlier Kills</font><font color="#FF0000">}</font>); if you give
<a name="line747"><font color="#000000">0747:</font></a> <i><font color="#9A1900">@code{kill-ring-max} a string value, commands such as @kbd{C-y}</font></i>
<a name="line748"><font color="#000000">0748:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{yank}</font>) will signal an error.  On the other hand, some variables
<a name="line749"><font color="#000000">0749:</font></a> don't care about type; for instance, if a variable has one effect for
<a name="line750"><font color="#000000">0750:</font></a> <i><font color="#9A1900">@code{nil} values and another effect for non-@code{nil} values,</font></i>
<a name="line751"><font color="#000000">0751:</font></a> then any value that is not the symbol <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> induces the second
<a name="line752"><font color="#000000">0752:</font></a> effect, regardless of its type (by convention, we usually use the
<a name="line753"><font color="#000000">0753:</font></a> value <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>---a symbol which stands for ``true''---to specify a
<a name="line754"><font color="#000000">0754:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value).  If you set a variable using the customization
<a name="line755"><font color="#000000">0755:</font></a> buffer, you need not worry about giving it an invalid type: the
<a name="line756"><font color="#000000">0756:</font></a> customization buffer usually only allows you to enter meaningful
<a name="line757"><font color="#000000">0757:</font></a> values.  When in doubt, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h v}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-variable}</font>) to
<a name="line758"><font color="#000000">0758:</font></a> check the variable's documentation string to see kind of value it
<a name="line759"><font color="#000000">0759:</font></a> expects (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Examining</font><font color="#FF0000">}</font>).
<a name="line760"><font color="#000000">0760:</font></a> 
<a name="line761"><font color="#000000">0761:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line762"><font color="#000000">0762:</font></a> <font color="#FF0000">* Examining::</font>           Examining or setting one variable's value.
<a name="line763"><font color="#000000">0763:</font></a> <font color="#FF0000">* Hooks::</font>               Hook variables let you specify programs for parts
<a name="line764"><font color="#000000">0764:</font></a>                           of Emacs to run on particular occasions.
<a name="line765"><font color="#000000">0765:</font></a> <font color="#FF0000">* Locals::</font>              Per-buffer values of variables.
<a name="line766"><font color="#000000">0766:</font></a> <font color="#FF0000">* File Variables::</font>      How files can specify variable values.
<a name="line767"><font color="#000000">0767:</font></a> <font color="#FF0000">* Directory Variables::</font> How variable values can be specified by directory.
<a name="line768"><font color="#000000">0768:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line769"><font color="#000000">0769:</font></a> 
<a name="line770"><font color="#000000">0770:</font></a> <b><font color="#0000FF">@node</font></b> Examining
<a name="line771"><font color="#000000">0771:</font></a> <b><font color="#0000FF">@subsection</font></b> Examining and Setting Variables
<a name="line772"><font color="#000000">0772:</font></a> <i><font color="#9A1900">@cindex setting variables</font></i>
<a name="line773"><font color="#000000">0773:</font></a> 
<a name="line774"><font color="#000000">0774:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line775"><font color="#000000">0775:</font></a> <b><font color="#0000FF">@item</font></b> C-h v <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line776"><font color="#000000">0776:</font></a> Display the value and documentation of variable <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font>
<a name="line777"><font color="#000000">0777:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-variable}</font>).
<a name="line778"><font color="#000000">0778:</font></a> 
<a name="line779"><font color="#000000">0779:</font></a> <b><font color="#0000FF">@item</font></b> M-x set-variable <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{value}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line780"><font color="#000000">0780:</font></a> Change the value of variable <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> to <b><font color="#0000FF">@var</font></b><font color="#009900">{value}</font>.
<a name="line781"><font color="#000000">0781:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line782"><font color="#000000">0782:</font></a> 
<a name="line783"><font color="#000000">0783:</font></a>   To examine the value of a variable, use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h v}</font>
<a name="line784"><font color="#000000">0784:</font></a> (<b><font color="#0000FF">@code</font></b><font color="#009900">{describe-variable}</font>).  This reads a variable name using the
<a name="line785"><font color="#000000">0785:</font></a> minibuffer, with completion, and displays both the value and the
<a name="line786"><font color="#000000">0786:</font></a> documentation of the variable.  For example,
<a name="line787"><font color="#000000">0787:</font></a> 
<a name="line788"><font color="#000000">0788:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line789"><font color="#000000">0789:</font></a> C-h v fill-column <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line790"><font color="#000000">0790:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line791"><font color="#000000">0791:</font></a> 
<a name="line792"><font color="#000000">0792:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line793"><font color="#000000">0793:</font></a> displays something like this:
<a name="line794"><font color="#000000">0794:</font></a> 
<a name="line795"><font color="#000000">0795:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line796"><font color="#000000">0796:</font></a> fill-column is a variable defined in C source code.
<a name="line797"><font color="#000000">0797:</font></a> Its value is 70
<a name="line798"><font color="#000000">0798:</font></a> 
<a name="line799"><font color="#000000">0799:</font></a>   Automatically becomes buffer-local when set.
<a name="line800"><font color="#000000">0800:</font></a>   This variable is safe as a file local variable if its value
<a name="line801"><font color="#000000">0801:</font></a>   satisfies the predicate integerp.
<a name="line802"><font color="#000000">0802:</font></a> 
<a name="line803"><font color="#000000">0803:</font></a> Documentation:
<a name="line804"><font color="#000000">0804:</font></a> Column beyond which automatic line-wrapping should happen.
<a name="line805"><font color="#000000">0805:</font></a> Interactively, you can set the buffer local value using C-x f.
<a name="line806"><font color="#000000">0806:</font></a> 
<a name="line807"><font color="#000000">0807:</font></a> You can customize this variable.
<a name="line808"><font color="#000000">0808:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line809"><font color="#000000">0809:</font></a> 
<a name="line810"><font color="#000000">0810:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line811"><font color="#000000">0811:</font></a> The line that says <b><font color="#0000FF">@samp</font></b><font color="#009900">{You can customize the variable}</font> indicates that
<a name="line812"><font color="#000000">0812:</font></a> this variable is a user option.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h v}</font> is not restricted to user
<a name="line813"><font color="#000000">0813:</font></a> options; it allows non-customizable variables too.
<a name="line814"><font color="#000000">0814:</font></a> 
<a name="line815"><font color="#000000">0815:</font></a> <b><font color="#0000FF">@findex</font></b> set-variable
<a name="line816"><font color="#000000">0816:</font></a>   The most convenient way to set a specific customizable variable is
<a name="line817"><font color="#000000">0817:</font></a> with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x set-variable}</font>.  This reads the variable name with the
<a name="line818"><font color="#000000">0818:</font></a> minibuffer (with completion), and then reads a Lisp expression for the
<a name="line819"><font color="#000000">0819:</font></a> new value using the minibuffer a second time (you can insert the old
<a name="line820"><font color="#000000">0820:</font></a> value into the minibuffer for editing via <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-n}</font>).  For example,
<a name="line821"><font color="#000000">0821:</font></a> 
<a name="line822"><font color="#000000">0822:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line823"><font color="#000000">0823:</font></a> M-x set-variable <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> fill-column <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> 75 <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line824"><font color="#000000">0824:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line825"><font color="#000000">0825:</font></a> 
<a name="line826"><font color="#000000">0826:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line827"><font color="#000000">0827:</font></a> sets <b><font color="#0000FF">@code</font></b><font color="#009900">{fill-column}</font> to 75.
<a name="line828"><font color="#000000">0828:</font></a> 
<a name="line829"><font color="#000000">0829:</font></a>  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x set-variable}</font> is limited to customizable variables, but you
<a name="line830"><font color="#000000">0830:</font></a> can set any variable with a Lisp expression like this:
<a name="line831"><font color="#000000">0831:</font></a> 
<a name="line832"><font color="#000000">0832:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line833"><font color="#000000">0833:</font></a> (setq fill-column 75)
<a name="line834"><font color="#000000">0834:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line835"><font color="#000000">0835:</font></a> 
<a name="line836"><font color="#000000">0836:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line837"><font color="#000000">0837:</font></a> To execute such an expression, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-:}</font> (<b><font color="#0000FF">@code</font></b><font color="#009900">{eval-expression}</font>)
<a name="line838"><font color="#000000">0838:</font></a> and enter the expression in the minibuffer (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lisp Eval</font><font color="#FF0000">}</font>).
<a name="line839"><font color="#000000">0839:</font></a> Alternatively, go to the <b><font color="#0000FF">@file</font></b><font color="#009900">{*scratch*}</font> buffer, type in the
<a name="line840"><font color="#000000">0840:</font></a> expression, and then type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-j}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lisp Interaction</font><font color="#FF0000">}</font>).
<a name="line841"><font color="#000000">0841:</font></a> 
<a name="line842"><font color="#000000">0842:</font></a>   Setting variables, like all means of customizing Emacs except where
<a name="line843"><font color="#000000">0843:</font></a> otherwise stated, affects only the current Emacs session.  The only
<a name="line844"><font color="#000000">0844:</font></a> way to alter the variable in future sessions is to put something in
<a name="line845"><font color="#000000">0845:</font></a> your initialization file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>).
<a name="line846"><font color="#000000">0846:</font></a> 
<a name="line847"><font color="#000000">0847:</font></a> <b><font color="#0000FF">@node</font></b> Hooks
<a name="line848"><font color="#000000">0848:</font></a> <b><font color="#0000FF">@subsection</font></b> Hooks
<a name="line849"><font color="#000000">0849:</font></a> <i><font color="#9A1900">@cindex hook</font></i>
<a name="line850"><font color="#000000">0850:</font></a> <i><font color="#9A1900">@cindex running a hook</font></i>
<a name="line851"><font color="#000000">0851:</font></a> 
<a name="line852"><font color="#000000">0852:</font></a>   <b><font color="#0000FF">@dfn</font></b><font color="#009900">{Hooks}</font> are an important mechanism for customizing Emacs.  A
<a name="line853"><font color="#000000">0853:</font></a> hook is a Lisp variable which holds a list of functions, to be called
<a name="line854"><font color="#000000">0854:</font></a> on some well-defined occasion.  (This is called <b><font color="#0000FF">@dfn</font></b><font color="#009900">{running the</font>
<a name="line855"><font color="#000000">0855:</font></a> <font color="#009900">hook}</font>.)  The individual functions in the list are called the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{hook</font>
<a name="line856"><font color="#000000">0856:</font></a> <font color="#009900">functions}</font> of the hook.  For example, the hook <b><font color="#0000FF">@code</font></b><font color="#009900">{kill-emacs-hook}</font>
<a name="line857"><font color="#000000">0857:</font></a> runs just before exiting Emacs (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Exiting</font><font color="#FF0000">}</font>).
<a name="line858"><font color="#000000">0858:</font></a> 
<a name="line859"><font color="#000000">0859:</font></a> <i><font color="#9A1900">@cindex normal hook</font></i>
<a name="line860"><font color="#000000">0860:</font></a>   Most hooks are <b><font color="#0000FF">@dfn</font></b><font color="#009900">{normal hooks}</font>.  This means that when Emacs runs
<a name="line861"><font color="#000000">0861:</font></a> the hook, it calls each hook function in turn, with no arguments.  We
<a name="line862"><font color="#000000">0862:</font></a> have made an effort to keep most hooks normal, so that you can use
<a name="line863"><font color="#000000">0863:</font></a> them in a uniform way.  Every variable whose name ends in <b><font color="#0000FF">@samp</font></b><font color="#009900">{-hook}</font>
<a name="line864"><font color="#000000">0864:</font></a> is a normal hook.
<a name="line865"><font color="#000000">0865:</font></a> 
<a name="line866"><font color="#000000">0866:</font></a> <i><font color="#9A1900">@cindex abnormal hook</font></i>
<a name="line867"><font color="#000000">0867:</font></a>   A few hooks are <b><font color="#0000FF">@dfn</font></b><font color="#009900">{abnormal hooks}</font>.  Their names end in
<a name="line868"><font color="#000000">0868:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{-functions}</font>, instead of <b><font color="#0000FF">@samp</font></b><font color="#009900">{-hook}</font> (some old code may also use
<a name="line869"><font color="#000000">0869:</font></a> the deprecated suffix <b><font color="#0000FF">@samp</font></b><font color="#009900">{-hooks}</font>).  What
<a name="line870"><font color="#000000">0870:</font></a> makes these hooks abnormal is the way its functions are
<a name="line871"><font color="#000000">0871:</font></a> called---perhaps they are given arguments, or perhaps the values they
<a name="line872"><font color="#000000">0872:</font></a> return are used in some way.  For example,
<a name="line873"><font color="#000000">0873:</font></a> <i><font color="#9A1900">@code{find-file-not-found-functions} is abnormal because as soon as</font></i>
<a name="line874"><font color="#000000">0874:</font></a> one hook function returns a non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> value, the rest are not
<a name="line875"><font color="#000000">0875:</font></a> called at all (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Visiting</font><font color="#FF0000">}</font>).  The documentation of each abnormal
<a name="line876"><font color="#000000">0876:</font></a> hook variable explains how its functions are used.
<a name="line877"><font color="#000000">0877:</font></a> 
<a name="line878"><font color="#000000">0878:</font></a> <b><font color="#0000FF">@findex</font></b> add-hook
<a name="line879"><font color="#000000">0879:</font></a>   You can set a hook variable with <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font> like any other Lisp
<a name="line880"><font color="#000000">0880:</font></a> variable, but the recommended way to add a function to a hook (either
<a name="line881"><font color="#000000">0881:</font></a> normal or abnormal) is to use <b><font color="#0000FF">@code</font></b><font color="#009900">{add-hook}</font>, as shown by the
<a name="line882"><font color="#000000">0882:</font></a> following examples.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks,,, elisp, The Emacs Lisp Reference</font>
<a name="line883"><font color="#000000">0883:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>, for details.
<a name="line884"><font color="#000000">0884:</font></a> 
<a name="line885"><font color="#000000">0885:</font></a>   Most major modes run one or more <b><font color="#0000FF">@dfn</font></b><font color="#009900">{mode hooks}</font> as the last step
<a name="line886"><font color="#000000">0886:</font></a> of initialization.  Mode hooks are a convenient way to customize the
<a name="line887"><font color="#000000">0887:</font></a> behavior of individual modes; they are always normal.  For example,
<a name="line888"><font color="#000000">0888:</font></a> here's how to set up a hook to turn on Auto Fill mode in Text mode and
<a name="line889"><font color="#000000">0889:</font></a> other modes based on Text mode:
<a name="line890"><font color="#000000">0890:</font></a> 
<a name="line891"><font color="#000000">0891:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line892"><font color="#000000">0892:</font></a> (add-hook 'text-mode-hook 'auto-fill-mode)
<a name="line893"><font color="#000000">0893:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line894"><font color="#000000">0894:</font></a> 
<a name="line895"><font color="#000000">0895:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line896"><font color="#000000">0896:</font></a> This works by calling <b><font color="#0000FF">@code</font></b><font color="#009900">{auto-fill-mode}</font>, which enables the minor
<a name="line897"><font color="#000000">0897:</font></a> mode when no argument is supplied (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minor Modes</font><font color="#FF0000">}</font>).  Next,
<a name="line898"><font color="#000000">0898:</font></a> suppose you don't want Auto Fill mode turned on in <b><font color="#0000FF">@LaTeX</font></b><font color="#009900">{}</font> mode,
<a name="line899"><font color="#000000">0899:</font></a> which is one of the modes based on Text mode.  You can do this with
<a name="line900"><font color="#000000">0900:</font></a> the following additional line:
<a name="line901"><font color="#000000">0901:</font></a> 
<a name="line902"><font color="#000000">0902:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line903"><font color="#000000">0903:</font></a> (add-hook 'latex-mode-hook (lambda () (auto-fill-mode -1)))
<a name="line904"><font color="#000000">0904:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line905"><font color="#000000">0905:</font></a> 
<a name="line906"><font color="#000000">0906:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line907"><font color="#000000">0907:</font></a> Here we have used the special macro <b><font color="#0000FF">@code</font></b><font color="#009900">{lambda}</font> to construct an
<a name="line908"><font color="#000000">0908:</font></a> anonymous function (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lambda Expressions,,, elisp, The Emacs Lisp</font>
<a name="line909"><font color="#000000">0909:</font></a> <font color="#FF0000">Reference Manual</font><font color="#FF0000">}</font>), which calls <b><font color="#0000FF">@code</font></b><font color="#009900">{auto-fill-mode}</font> with an argument
<a name="line910"><font color="#000000">0910:</font></a> of <b><font color="#0000FF">@code</font></b><font color="#009900">{-1}</font> to disable the minor mode.  Because <b><font color="#0000FF">@LaTeX</font></b><font color="#009900">{}</font> mode runs
<a name="line911"><font color="#000000">0911:</font></a> <i><font color="#9A1900">@code{latex-mode-hook} after running @code{text-mode-hook}, the result</font></i>
<a name="line912"><font color="#000000">0912:</font></a> leaves Auto Fill mode disabled.
<a name="line913"><font color="#000000">0913:</font></a> 
<a name="line914"><font color="#000000">0914:</font></a>   Here is a more complex example, showing how to use a hook to
<a name="line915"><font color="#000000">0915:</font></a> customize the indentation of C code:
<a name="line916"><font color="#000000">0916:</font></a> 
<a name="line917"><font color="#000000">0917:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line918"><font color="#000000">0918:</font></a> <b><font color="#0000FF">@group</font></b>
<a name="line919"><font color="#000000">0919:</font></a> (setq my-c-style
<a name="line920"><font color="#000000">0920:</font></a>   '((c-comment-only-line-offset . 4)
<a name="line921"><font color="#000000">0921:</font></a> <b><font color="#0000FF">@end group</font></b>
<a name="line922"><font color="#000000">0922:</font></a> <b><font color="#0000FF">@group</font></b>
<a name="line923"><font color="#000000">0923:</font></a>     (c-cleanup-list . (scope-operator
<a name="line924"><font color="#000000">0924:</font></a>                        empty-defun-braces
<a name="line925"><font color="#000000">0925:</font></a>                        defun-close-semi))))
<a name="line926"><font color="#000000">0926:</font></a> <b><font color="#0000FF">@end group</font></b>
<a name="line927"><font color="#000000">0927:</font></a> 
<a name="line928"><font color="#000000">0928:</font></a> <b><font color="#0000FF">@group</font></b>
<a name="line929"><font color="#000000">0929:</font></a> (add-hook 'c-mode-common-hook
<a name="line930"><font color="#000000">0930:</font></a>   (lambda () (c-add-style "my-style" my-c-style t)))
<a name="line931"><font color="#000000">0931:</font></a> <b><font color="#0000FF">@end group</font></b>
<a name="line932"><font color="#000000">0932:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line933"><font color="#000000">0933:</font></a> 
<a name="line934"><font color="#000000">0934:</font></a> <i><font color="#9A1900">@cindex Prog mode</font></i>
<a name="line935"><font color="#000000">0935:</font></a> <i><font color="#9A1900">@cindex modes for editing programs</font></i>
<a name="line936"><font color="#000000">0936:</font></a>   Major mode hooks also apply to other major modes <b><font color="#0000FF">@dfn</font></b><font color="#009900">{derived}</font> from
<a name="line937"><font color="#000000">0937:</font></a> the original mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Derived Modes,,, elisp, The Emacs Lisp</font>
<a name="line938"><font color="#000000">0938:</font></a> <font color="#FF0000">Reference Manual</font><font color="#FF0000">}</font>).  For instance, HTML mode is derived from Text mode
<a name="line939"><font color="#000000">0939:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">HTML Mode</font><font color="#FF0000">}</font>); when HTML mode is enabled, it runs
<a name="line940"><font color="#000000">0940:</font></a> <i><font color="#9A1900">@code{text-mode-hook} before running @code{html-mode-hook}.  This</font></i>
<a name="line941"><font color="#000000">0941:</font></a> provides a convenient way to use a single hook to affect several
<a name="line942"><font color="#000000">0942:</font></a> related modes.  In particular, if you want to apply a hook function to
<a name="line943"><font color="#000000">0943:</font></a> any programming language mode, add it to <b><font color="#0000FF">@code</font></b><font color="#009900">{prog-mode-hook}</font>; Prog
<a name="line944"><font color="#000000">0944:</font></a> mode is a major mode that does little else than to let other major
<a name="line945"><font color="#000000">0945:</font></a> modes inherit from it, exactly for this purpose.
<a name="line946"><font color="#000000">0946:</font></a> 
<a name="line947"><font color="#000000">0947:</font></a>   It is best to design your hook functions so that the order in which
<a name="line948"><font color="#000000">0948:</font></a> they are executed does not matter.  Any dependence on the order is
<a name="line949"><font color="#000000">0949:</font></a> asking for trouble.  However, the order is predictable: the hook
<a name="line950"><font color="#000000">0950:</font></a> functions are executed in the order they appear in the hook.
<a name="line951"><font color="#000000">0951:</font></a> 
<a name="line952"><font color="#000000">0952:</font></a> <b><font color="#0000FF">@findex</font></b> remove-hook
<a name="line953"><font color="#000000">0953:</font></a>   If you play with adding various different versions of a hook
<a name="line954"><font color="#000000">0954:</font></a> function by calling <b><font color="#0000FF">@code</font></b><font color="#009900">{add-hook}</font> over and over, remember that all
<a name="line955"><font color="#000000">0955:</font></a> the versions you added will remain in the hook variable together.  You
<a name="line956"><font color="#000000">0956:</font></a> can clear out individual functions by calling <b><font color="#0000FF">@code</font></b><font color="#009900">{remove-hook}</font>, or
<a name="line957"><font color="#000000">0957:</font></a> do <b><font color="#0000FF">@code</font></b><font color="#009900">{(setq @var{hook-variable} nil)}</font> to remove everything.
<a name="line958"><font color="#000000">0958:</font></a> 
<a name="line959"><font color="#000000">0959:</font></a> <i><font color="#9A1900">@cindex buffer-local hooks</font></i>
<a name="line960"><font color="#000000">0960:</font></a>   If the hook variable is buffer-local, the buffer-local variable will
<a name="line961"><font color="#000000">0961:</font></a> be used instead of the global variable.  However, if the buffer-local
<a name="line962"><font color="#000000">0962:</font></a> variable contains the element <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>, the global hook variable will
<a name="line963"><font color="#000000">0963:</font></a> be run as well.
<a name="line964"><font color="#000000">0964:</font></a> 
<a name="line965"><font color="#000000">0965:</font></a> <b><font color="#0000FF">@node</font></b> Locals
<a name="line966"><font color="#000000">0966:</font></a> <b><font color="#0000FF">@subsection</font></b> Local Variables
<a name="line967"><font color="#000000">0967:</font></a> 
<a name="line968"><font color="#000000">0968:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line969"><font color="#000000">0969:</font></a> <b><font color="#0000FF">@item</font></b> M-x make-local-variable <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line970"><font color="#000000">0970:</font></a> Make variable <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> have a local value in the current buffer.
<a name="line971"><font color="#000000">0971:</font></a> 
<a name="line972"><font color="#000000">0972:</font></a> <b><font color="#0000FF">@item</font></b> M-x kill-local-variable <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line973"><font color="#000000">0973:</font></a> Make variable <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> use its global value in the current buffer.
<a name="line974"><font color="#000000">0974:</font></a> 
<a name="line975"><font color="#000000">0975:</font></a> <b><font color="#0000FF">@item</font></b> M-x make-variable-buffer-local <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line976"><font color="#000000">0976:</font></a> Mark variable <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font> so that setting it will make it local to the
<a name="line977"><font color="#000000">0977:</font></a> buffer that is current at that time.
<a name="line978"><font color="#000000">0978:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line979"><font color="#000000">0979:</font></a> 
<a name="line980"><font color="#000000">0980:</font></a> <i><font color="#9A1900">@cindex local variables</font></i>
<a name="line981"><font color="#000000">0981:</font></a>   Almost any variable can be made <b><font color="#0000FF">@dfn</font></b><font color="#009900">{local}</font> to a specific Emacs
<a name="line982"><font color="#000000">0982:</font></a> buffer.  This means that its value in that buffer is independent of its
<a name="line983"><font color="#000000">0983:</font></a> value in other buffers.  A few variables are always local in every
<a name="line984"><font color="#000000">0984:</font></a> buffer.  Every other Emacs variable has a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{global}</font> value which is in
<a name="line985"><font color="#000000">0985:</font></a> effect in all buffers that have not made the variable local.
<a name="line986"><font color="#000000">0986:</font></a> 
<a name="line987"><font color="#000000">0987:</font></a> <b><font color="#0000FF">@findex</font></b> make-local-variable
<a name="line988"><font color="#000000">0988:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x make-local-variable}</font> reads the name of a variable and makes
<a name="line989"><font color="#000000">0989:</font></a> it local to the current buffer.  Changing its value subsequently in
<a name="line990"><font color="#000000">0990:</font></a> this buffer will not affect others, and changes in its global value
<a name="line991"><font color="#000000">0991:</font></a> will not affect this buffer.
<a name="line992"><font color="#000000">0992:</font></a> 
<a name="line993"><font color="#000000">0993:</font></a> <b><font color="#0000FF">@findex</font></b> make-variable-buffer-local
<a name="line994"><font color="#000000">0994:</font></a> <i><font color="#9A1900">@cindex per-buffer variables</font></i>
<a name="line995"><font color="#000000">0995:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x make-variable-buffer-local}</font> marks a variable so it will
<a name="line996"><font color="#000000">0996:</font></a> become local automatically whenever it is set.  More precisely, once a
<a name="line997"><font color="#000000">0997:</font></a> variable has been marked in this way, the usual ways of setting the
<a name="line998"><font color="#000000">0998:</font></a> variable automatically do <b><font color="#0000FF">@code</font></b><font color="#009900">{make-local-variable}</font> first.  We call
<a name="line999"><font color="#000000">0999:</font></a> such variables <b><font color="#0000FF">@dfn</font></b><font color="#009900">{per-buffer}</font> variables.  Many variables in Emacs
<a name="line1000"><font color="#000000">1000:</font></a> are normally per-buffer; the variable's document string tells you when
<a name="line1001"><font color="#000000">1001:</font></a> this is so.  A per-buffer variable's global value is normally never
<a name="line1002"><font color="#000000">1002:</font></a> effective in any buffer, but it still has a meaning: it is the initial
<a name="line1003"><font color="#000000">1003:</font></a> value of the variable for each new buffer.
<a name="line1004"><font color="#000000">1004:</font></a> 
<a name="line1005"><font color="#000000">1005:</font></a>   Major modes (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Major Modes</font><font color="#FF0000">}</font>) always make variables local to the
<a name="line1006"><font color="#000000">1006:</font></a> buffer before setting the variables.  This is why changing major modes
<a name="line1007"><font color="#000000">1007:</font></a> in one buffer has no effect on other buffers.  Minor modes also work
<a name="line1008"><font color="#000000">1008:</font></a> by setting variables---normally, each minor mode has one controlling
<a name="line1009"><font color="#000000">1009:</font></a> variable which is non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> when the mode is enabled
<a name="line1010"><font color="#000000">1010:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minor Modes</font><font color="#FF0000">}</font>).  For many minor modes, the controlling variable
<a name="line1011"><font color="#000000">1011:</font></a> is per buffer, and thus always buffer-local.  Otherwise, you can make
<a name="line1012"><font color="#000000">1012:</font></a> it local in a specific buffer like any other variable.
<a name="line1013"><font color="#000000">1013:</font></a> 
<a name="line1014"><font color="#000000">1014:</font></a>   A few variables cannot be local to a buffer because they are always
<a name="line1015"><font color="#000000">1015:</font></a> local to each display instead (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Multiple Displays</font><font color="#FF0000">}</font>).  If you try to
<a name="line1016"><font color="#000000">1016:</font></a> make one of these variables buffer-local, you'll get an error message.
<a name="line1017"><font color="#000000">1017:</font></a> 
<a name="line1018"><font color="#000000">1018:</font></a> <b><font color="#0000FF">@findex</font></b> kill-local-variable
<a name="line1019"><font color="#000000">1019:</font></a>   <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x kill-local-variable}</font> makes a specified variable cease to be
<a name="line1020"><font color="#000000">1020:</font></a> local to the current buffer.  The global value of the variable
<a name="line1021"><font color="#000000">1021:</font></a> henceforth is in effect in this buffer.  Setting the major mode kills
<a name="line1022"><font color="#000000">1022:</font></a> all the local variables of the buffer except for a few variables
<a name="line1023"><font color="#000000">1023:</font></a> specially marked as <b><font color="#0000FF">@dfn</font></b><font color="#009900">{permanent locals}</font>.
<a name="line1024"><font color="#000000">1024:</font></a> 
<a name="line1025"><font color="#000000">1025:</font></a> <b><font color="#0000FF">@findex</font></b> setq-default
<a name="line1026"><font color="#000000">1026:</font></a>   To set the global value of a variable, regardless of whether the
<a name="line1027"><font color="#000000">1027:</font></a> variable has a local value in the current buffer, you can use the Lisp
<a name="line1028"><font color="#000000">1028:</font></a> construct <b><font color="#0000FF">@code</font></b><font color="#009900">{setq-default}</font>.  This construct is used just like
<a name="line1029"><font color="#000000">1029:</font></a> <i><font color="#9A1900">@code{setq}, but it sets variables' global values instead of their local</font></i>
<a name="line1030"><font color="#000000">1030:</font></a> values (if any).  When the current buffer does have a local value, the
<a name="line1031"><font color="#000000">1031:</font></a> new global value may not be visible until you switch to another buffer.
<a name="line1032"><font color="#000000">1032:</font></a> Here is an example:
<a name="line1033"><font color="#000000">1033:</font></a> 
<a name="line1034"><font color="#000000">1034:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1035"><font color="#000000">1035:</font></a> (setq-default fill-column 75)
<a name="line1036"><font color="#000000">1036:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1037"><font color="#000000">1037:</font></a> 
<a name="line1038"><font color="#000000">1038:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1039"><font color="#000000">1039:</font></a> <i><font color="#9A1900">@code{setq-default} is the only way to set the global value of a variable</font></i>
<a name="line1040"><font color="#000000">1040:</font></a> that has been marked with <b><font color="#0000FF">@code</font></b><font color="#009900">{make-variable-buffer-local}</font>.
<a name="line1041"><font color="#000000">1041:</font></a> 
<a name="line1042"><font color="#000000">1042:</font></a> <b><font color="#0000FF">@findex</font></b> default-value
<a name="line1043"><font color="#000000">1043:</font></a>   Lisp programs can use <b><font color="#0000FF">@code</font></b><font color="#009900">{default-value}</font> to look at a variable's
<a name="line1044"><font color="#000000">1044:</font></a> default value.  This function takes a symbol as argument and returns its
<a name="line1045"><font color="#000000">1045:</font></a> default value.  The argument is evaluated; usually you must quote it
<a name="line1046"><font color="#000000">1046:</font></a> explicitly.  For example, here's how to obtain the default value of
<a name="line1047"><font color="#000000">1047:</font></a> <i><font color="#9A1900">@code{fill-column}:</font></i>
<a name="line1048"><font color="#000000">1048:</font></a> 
<a name="line1049"><font color="#000000">1049:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1050"><font color="#000000">1050:</font></a> (default-value 'fill-column)
<a name="line1051"><font color="#000000">1051:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1052"><font color="#000000">1052:</font></a> 
<a name="line1053"><font color="#000000">1053:</font></a> <b><font color="#0000FF">@node</font></b> File Variables
<a name="line1054"><font color="#000000">1054:</font></a> <b><font color="#0000FF">@subsection</font></b> Local Variables in Files
<a name="line1055"><font color="#000000">1055:</font></a> <i><font color="#9A1900">@cindex local variables in files</font></i>
<a name="line1056"><font color="#000000">1056:</font></a> <i><font color="#9A1900">@cindex file local variables</font></i>
<a name="line1057"><font color="#000000">1057:</font></a> 
<a name="line1058"><font color="#000000">1058:</font></a>   A file can specify local variable values to use when editing the
<a name="line1059"><font color="#000000">1059:</font></a> file with Emacs.  Visiting the file or setting a major mode checks for
<a name="line1060"><font color="#000000">1060:</font></a> local variable specifications; it automatically makes these variables
<a name="line1061"><font color="#000000">1061:</font></a> local to the buffer, and sets them to the values specified in the
<a name="line1062"><font color="#000000">1062:</font></a> file.
<a name="line1063"><font color="#000000">1063:</font></a> 
<a name="line1064"><font color="#000000">1064:</font></a>   File local variables override directory local variables
<a name="line1065"><font color="#000000">1065:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Directory Variables</font><font color="#FF0000">}</font>), if any are specified for a file's
<a name="line1066"><font color="#000000">1066:</font></a> directory.
<a name="line1067"><font color="#000000">1067:</font></a> 
<a name="line1068"><font color="#000000">1068:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1069"><font color="#000000">1069:</font></a> <font color="#FF0000">* Specifying File Variables::</font> Specifying file local variables.
<a name="line1070"><font color="#000000">1070:</font></a> <font color="#FF0000">* Safe File Variables::</font>       Making sure file local variables are safe.
<a name="line1071"><font color="#000000">1071:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1072"><font color="#000000">1072:</font></a> 
<a name="line1073"><font color="#000000">1073:</font></a> <b><font color="#0000FF">@node</font></b> Specifying File Variables
<a name="line1074"><font color="#000000">1074:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Specifying File Variables
<a name="line1075"><font color="#000000">1075:</font></a> 
<a name="line1076"><font color="#000000">1076:</font></a>   There are two ways to specify file local variable values: in the first
<a name="line1077"><font color="#000000">1077:</font></a> line, or with a local variables list.  Here's how to specify them in the
<a name="line1078"><font color="#000000">1078:</font></a> first line:
<a name="line1079"><font color="#000000">1079:</font></a> 
<a name="line1080"><font color="#000000">1080:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1081"><font color="#000000">1081:</font></a> -*- mode: <b><font color="#0000FF">@var</font></b><font color="#009900">{modename}</font>; <b><font color="#0000FF">@var</font></b><font color="#009900">{var}</font>: <b><font color="#0000FF">@var</font></b><font color="#009900">{value}</font>; <b><font color="#0000FF">@dots</font></b><font color="#009900">{}</font> -*-
<a name="line1082"><font color="#000000">1082:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1083"><font color="#000000">1083:</font></a> 
<a name="line1084"><font color="#000000">1084:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1085"><font color="#000000">1085:</font></a> You can specify any number of variable/value pairs in this way, each
<a name="line1086"><font color="#000000">1086:</font></a> pair with a colon and semicolon.  The special variable/value pair
<a name="line1087"><font color="#000000">1087:</font></a> <i><font color="#9A1900">@code{mode: @var{modename};}, if present, specifies a major mode.  The</font></i>
<a name="line1088"><font color="#000000">1088:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{value}</font>s are used literally, and not evaluated.
<a name="line1089"><font color="#000000">1089:</font></a> 
<a name="line1090"><font color="#000000">1090:</font></a> <b><font color="#0000FF">@findex</font></b> add-file-local-variable-prop-line
<a name="line1091"><font color="#000000">1091:</font></a> <b><font color="#0000FF">@findex</font></b> delete-file-local-variable-prop-line
<a name="line1092"><font color="#000000">1092:</font></a> <b><font color="#0000FF">@findex</font></b> copy-dir-locals-to-file-locals-prop-line
<a name="line1093"><font color="#000000">1093:</font></a>   You can use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x add-file-local-variable-prop-line}</font> instead of
<a name="line1094"><font color="#000000">1094:</font></a> adding entries by hand.  This command prompts for a variable and
<a name="line1095"><font color="#000000">1095:</font></a> value, and adds them to the first line in the appropriate way.
<a name="line1096"><font color="#000000">1096:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x delete-file-local-variable-prop-line}</font> prompts for a variable,
<a name="line1097"><font color="#000000">1097:</font></a> and deletes its entry from the line.  The command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line1098"><font color="#000000">1098:</font></a> <font color="#009900">copy-dir-locals-to-file-locals-prop-line}</font> copies the current
<a name="line1099"><font color="#000000">1099:</font></a> directory-local variables to the first line (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Directory</font>
<a name="line1100"><font color="#000000">1100:</font></a> <font color="#FF0000">Variables</font><font color="#FF0000">}</font>).
<a name="line1101"><font color="#000000">1101:</font></a> 
<a name="line1102"><font color="#000000">1102:</font></a>   Here is an example first line that specifies Lisp mode and sets two
<a name="line1103"><font color="#000000">1103:</font></a> variables with numeric values:
<a name="line1104"><font color="#000000">1104:</font></a> 
<a name="line1105"><font color="#000000">1105:</font></a> <b><font color="#0000FF">@smallexample</font></b>
<a name="line1106"><font color="#000000">1106:</font></a> ;; -*- mode: Lisp; fill-column: 75; comment-column: 50; -*-
<a name="line1107"><font color="#000000">1107:</font></a> <b><font color="#0000FF">@end smallexample</font></b>
<a name="line1108"><font color="#000000">1108:</font></a> 
<a name="line1109"><font color="#000000">1109:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1110"><font color="#000000">1110:</font></a> Aside from <b><font color="#0000FF">@code</font></b><font color="#009900">{mode}</font>, other keywords that have special meanings as
<a name="line1111"><font color="#000000">1111:</font></a> file variables are <b><font color="#0000FF">@code</font></b><font color="#009900">{coding}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{unibyte}</font>, and <b><font color="#0000FF">@code</font></b><font color="#009900">{eval}</font>.
<a name="line1112"><font color="#000000">1112:</font></a> These are described below.
<a name="line1113"><font color="#000000">1113:</font></a> 
<a name="line1114"><font color="#000000">1114:</font></a> <i><font color="#9A1900">@cindex shell scripts, and local file variables</font></i>
<a name="line1115"><font color="#000000">1115:</font></a> <i><font color="#9A1900">@cindex man pages, and local file variables</font></i>
<a name="line1116"><font color="#000000">1116:</font></a>   In shell scripts, the first line is used to identify the script
<a name="line1117"><font color="#000000">1117:</font></a> interpreter, so you cannot put any local variables there.  To
<a name="line1118"><font color="#000000">1118:</font></a> accommodate this, Emacs looks for local variable specifications in the
<a name="line1119"><font color="#000000">1119:</font></a> <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">second</font></i><font color="#FF0000">}</font> line if the first line specifies an interpreter.  The
<a name="line1120"><font color="#000000">1120:</font></a> same is true for man pages which start with the magic string
<a name="line1121"><font color="#000000">1121:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{'\"}</font> to specify a list of troff preprocessors (not all do,
<a name="line1122"><font color="#000000">1122:</font></a> however).
<a name="line1123"><font color="#000000">1123:</font></a> 
<a name="line1124"><font color="#000000">1124:</font></a>   Apart from using a <b><font color="#0000FF">@samp</font></b><font color="#009900">{-*-}</font> line, you can define file local
<a name="line1125"><font color="#000000">1125:</font></a> variables using a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{local variables list}</font> near the end of the file.
<a name="line1126"><font color="#000000">1126:</font></a> The start of the local variables list should be no more than 3000
<a name="line1127"><font color="#000000">1127:</font></a> characters from the end of the file, and must be on the last page if
<a name="line1128"><font color="#000000">1128:</font></a> the file is divided into pages.
<a name="line1129"><font color="#000000">1129:</font></a> 
<a name="line1130"><font color="#000000">1130:</font></a>   If a file has both a local variables list and a <b><font color="#0000FF">@samp</font></b><font color="#009900">{-*-}</font> line,
<a name="line1131"><font color="#000000">1131:</font></a> Emacs processes <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">everything</font></i><font color="#FF0000">}</font> in the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-*-}</font> line first, and
<a name="line1132"><font color="#000000">1132:</font></a> <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">everything</font></i><font color="#FF0000">}</font> in the local variables list afterward.  The exception
<a name="line1133"><font color="#000000">1133:</font></a> to this is a major mode specification.  Emacs applies this first,
<a name="line1134"><font color="#000000">1134:</font></a> wherever it appears, since most major modes kill all local variables as
<a name="line1135"><font color="#000000">1135:</font></a> part of their initialization.
<a name="line1136"><font color="#000000">1136:</font></a> 
<a name="line1137"><font color="#000000">1137:</font></a>   A local variables list starts with a line containing the string
<a name="line1138"><font color="#000000">1138:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{Local Variables:}</font>, and ends with a line containing the string
<a name="line1139"><font color="#000000">1139:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{End:}</font>.  In between come the variable names and values, one set
<a name="line1140"><font color="#000000">1140:</font></a> per line, like this:
<a name="line1141"><font color="#000000">1141:</font></a> 
<a name="line1142"><font color="#000000">1142:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1143"><font color="#000000">1143:</font></a> /* Local Variables:  */
<a name="line1144"><font color="#000000">1144:</font></a> /* mode: c           */
<a name="line1145"><font color="#000000">1145:</font></a> /* comment-column: 0 */
<a name="line1146"><font color="#000000">1146:</font></a> /* End:              */
<a name="line1147"><font color="#000000">1147:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1148"><font color="#000000">1148:</font></a> 
<a name="line1149"><font color="#000000">1149:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1150"><font color="#000000">1150:</font></a> In this example, each line starts with the prefix <b><font color="#0000FF">@samp</font></b><font color="#009900">{/*}</font> and ends
<a name="line1151"><font color="#000000">1151:</font></a> with the suffix <b><font color="#0000FF">@samp</font></b><font color="#009900">{*/}</font>.  Emacs recognizes the prefix and suffix by
<a name="line1152"><font color="#000000">1152:</font></a> finding them surrounding the magic string <b><font color="#0000FF">@samp</font></b><font color="#009900">{Local Variables:}</font>, on
<a name="line1153"><font color="#000000">1153:</font></a> the first line of the list; it then automatically discards them from
<a name="line1154"><font color="#000000">1154:</font></a> the other lines of the list.  The usual reason for using a prefix
<a name="line1155"><font color="#000000">1155:</font></a> and/or suffix is to embed the local variables list in a comment, so it
<a name="line1156"><font color="#000000">1156:</font></a> won't confuse other programs that the file is intended for.  The
<a name="line1157"><font color="#000000">1157:</font></a> example above is for the C programming language, where comments start
<a name="line1158"><font color="#000000">1158:</font></a> with <b><font color="#0000FF">@samp</font></b><font color="#009900">{/*}</font> and end with <b><font color="#0000FF">@samp</font></b><font color="#009900">{*/}</font>.
<a name="line1159"><font color="#000000">1159:</font></a> 
<a name="line1160"><font color="#000000">1160:</font></a> If some unrelated text might look to Emacs as a local variables list,
<a name="line1161"><font color="#000000">1161:</font></a> you can countermand that by inserting a form-feed character (a page
<a name="line1162"><font color="#000000">1162:</font></a> delimiter, <b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Pages</font><font color="#FF0000">}</font>) after that text.  Emacs only looks for
<a name="line1163"><font color="#000000">1163:</font></a> file-local variables in the last page of a file, after the last page
<a name="line1164"><font color="#000000">1164:</font></a> delimiter.
<a name="line1165"><font color="#000000">1165:</font></a> 
<a name="line1166"><font color="#000000">1166:</font></a> <b><font color="#0000FF">@findex</font></b> add-file-local-variable
<a name="line1167"><font color="#000000">1167:</font></a> <b><font color="#0000FF">@findex</font></b> delete-file-local-variable
<a name="line1168"><font color="#000000">1168:</font></a> <b><font color="#0000FF">@findex</font></b> copy-dir-locals-to-file-locals
<a name="line1169"><font color="#000000">1169:</font></a>   Instead of typing in the local variables list directly, you can use
<a name="line1170"><font color="#000000">1170:</font></a> the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x add-file-local-variable}</font>.  This prompts for a
<a name="line1171"><font color="#000000">1171:</font></a> variable and value, and adds them to the list, adding the <b><font color="#0000FF">@samp</font></b><font color="#009900">{Local</font>
<a name="line1172"><font color="#000000">1172:</font></a> <font color="#009900">Variables:}</font> string and start and end markers as necessary.  The
<a name="line1173"><font color="#000000">1173:</font></a> command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x delete-file-local-variable}</font> deletes a variable from
<a name="line1174"><font color="#000000">1174:</font></a> the list.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x copy-dir-locals-to-file-locals}</font> copies
<a name="line1175"><font color="#000000">1175:</font></a> directory-local variables to the list (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Directory Variables</font><font color="#FF0000">}</font>).
<a name="line1176"><font color="#000000">1176:</font></a> 
<a name="line1177"><font color="#000000">1177:</font></a>   As with the <b><font color="#0000FF">@samp</font></b><font color="#009900">{-*-}</font> line, the variables in a local variables list
<a name="line1178"><font color="#000000">1178:</font></a> are used literally, and are not evaluated first.  If you want to split
<a name="line1179"><font color="#000000">1179:</font></a> a long string value across multiple lines of the file, you can use
<a name="line1180"><font color="#000000">1180:</font></a> backslash-newline, which is ignored in Lisp string constants; you
<a name="line1181"><font color="#000000">1181:</font></a> should put the prefix and suffix on each line, even lines that start
<a name="line1182"><font color="#000000">1182:</font></a> or end within the string, as they will be stripped off when processing
<a name="line1183"><font color="#000000">1183:</font></a> the list.  Here is an example:
<a name="line1184"><font color="#000000">1184:</font></a> 
<a name="line1185"><font color="#000000">1185:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1186"><font color="#000000">1186:</font></a> # Local Variables:
<a name="line1187"><font color="#000000">1187:</font></a> # compile-command: "cc foo.c -Dfoo=bar -Dhack=whatever \
<a name="line1188"><font color="#000000">1188:</font></a> #   -Dmumble=blaah"
<a name="line1189"><font color="#000000">1189:</font></a> # End:
<a name="line1190"><font color="#000000">1190:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1191"><font color="#000000">1191:</font></a> 
<a name="line1192"><font color="#000000">1192:</font></a>   Some names have special meanings in a local variables
<a name="line1193"><font color="#000000">1193:</font></a> list:
<a name="line1194"><font color="#000000">1194:</font></a> 
<a name="line1195"><font color="#000000">1195:</font></a> <b><font color="#0000FF">@itemize</font></b>
<a name="line1196"><font color="#000000">1196:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1197"><font color="#000000">1197:</font></a> <i><font color="#9A1900">@code{mode} enables the specified major mode.</font></i>
<a name="line1198"><font color="#000000">1198:</font></a> 
<a name="line1199"><font color="#000000">1199:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1200"><font color="#000000">1200:</font></a> <i><font color="#9A1900">@code{eval} evaluates the specified Lisp expression (the value</font></i>
<a name="line1201"><font color="#000000">1201:</font></a> returned by that expression is ignored).
<a name="line1202"><font color="#000000">1202:</font></a> 
<a name="line1203"><font color="#000000">1203:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1204"><font color="#000000">1204:</font></a> <i><font color="#9A1900">@code{coding} specifies the coding system for character code</font></i>
<a name="line1205"><font color="#000000">1205:</font></a> conversion of this file.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Coding Systems</font><font color="#FF0000">}</font>.
<a name="line1206"><font color="#000000">1206:</font></a> 
<a name="line1207"><font color="#000000">1207:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1208"><font color="#000000">1208:</font></a> <i><font color="#9A1900">@code{unibyte} says to load or compile a file of Emacs Lisp in unibyte</font></i>
<a name="line1209"><font color="#000000">1209:</font></a> mode, if the value is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Disabling Multibyte, ,</font>
<a name="line1210"><font color="#000000">1210:</font></a> <font color="#FF0000">Disabling Multibyte Characters, elisp, GNU Emacs Lisp Reference</font>
<a name="line1211"><font color="#000000">1211:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>.
<a name="line1212"><font color="#000000">1212:</font></a> 
<a name="line1213"><font color="#000000">1213:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line1214"><font color="#000000">1214:</font></a> 
<a name="line1215"><font color="#000000">1215:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1216"><font color="#000000">1216:</font></a> These four keywords are not really variables; setting them in any
<a name="line1217"><font color="#000000">1217:</font></a> other context has no special meaning.
<a name="line1218"><font color="#000000">1218:</font></a> 
<a name="line1219"><font color="#000000">1219:</font></a>   Do not use the <b><font color="#0000FF">@code</font></b><font color="#009900">{mode}</font> keyword for minor modes.  To enable or
<a name="line1220"><font color="#000000">1220:</font></a> disable a minor mode in a local variables list, use the <b><font color="#0000FF">@code</font></b><font color="#009900">{eval}</font>
<a name="line1221"><font color="#000000">1221:</font></a> keyword with a Lisp expression that runs the mode command
<a name="line1222"><font color="#000000">1222:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Minor Modes</font><font color="#FF0000">}</font>).  For example, the following local variables
<a name="line1223"><font color="#000000">1223:</font></a> list enables Eldoc mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lisp Doc</font><font color="#FF0000">}</font>) by calling
<a name="line1224"><font color="#000000">1224:</font></a> <i><font color="#9A1900">@code{eldoc-mode} with no argument (calling it with an argument of 1</font></i>
<a name="line1225"><font color="#000000">1225:</font></a> would do the same), and disables Font Lock mode (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Font Lock</font><font color="#FF0000">}</font>) by
<a name="line1226"><font color="#000000">1226:</font></a> calling <b><font color="#0000FF">@code</font></b><font color="#009900">{font-lock-mode}</font> with an argument of <b><font color="#0000FF">@minus</font></b><font color="#009900">{}</font>1.
<a name="line1227"><font color="#000000">1227:</font></a> 
<a name="line1228"><font color="#000000">1228:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1229"><font color="#000000">1229:</font></a> ;; Local Variables:
<a name="line1230"><font color="#000000">1230:</font></a> ;; eval: (eldoc-mode)
<a name="line1231"><font color="#000000">1231:</font></a> ;; eval: (font-lock-mode -1)
<a name="line1232"><font color="#000000">1232:</font></a> ;; End:
<a name="line1233"><font color="#000000">1233:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1234"><font color="#000000">1234:</font></a> 
<a name="line1235"><font color="#000000">1235:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1236"><font color="#000000">1236:</font></a> Note, however, that it is often a mistake to specify minor modes this
<a name="line1237"><font color="#000000">1237:</font></a> way.  Minor modes represent individual user preferences, and it may be
<a name="line1238"><font color="#000000">1238:</font></a> inappropriate to impose your preferences on another user who might
<a name="line1239"><font color="#000000">1239:</font></a> edit the file.  If you wish to automatically enable or disable a minor
<a name="line1240"><font color="#000000">1240:</font></a> mode in a situation-dependent way, it is often better to do it in a
<a name="line1241"><font color="#000000">1241:</font></a> major mode hook (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>).
<a name="line1242"><font color="#000000">1242:</font></a> 
<a name="line1243"><font color="#000000">1243:</font></a>   Use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x normal-mode}</font> to reset the local variables
<a name="line1244"><font color="#000000">1244:</font></a> and major mode of a buffer according to the file name and contents,
<a name="line1245"><font color="#000000">1245:</font></a> including the local variables list if any.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Choosing Modes</font><font color="#FF0000">}</font>.
<a name="line1246"><font color="#000000">1246:</font></a> 
<a name="line1247"><font color="#000000">1247:</font></a> <b><font color="#0000FF">@node</font></b> Safe File Variables
<a name="line1248"><font color="#000000">1248:</font></a> <b><font color="#0000FF">@subsubsection</font></b> Safety of File Variables
<a name="line1249"><font color="#000000">1249:</font></a> 
<a name="line1250"><font color="#000000">1250:</font></a>   File-local variables can be dangerous; when you visit someone else's
<a name="line1251"><font color="#000000">1251:</font></a> file, there's no telling what its local variables list could do to
<a name="line1252"><font color="#000000">1252:</font></a> your Emacs.  Improper values of the <b><font color="#0000FF">@code</font></b><font color="#009900">{eval}</font> ``variable'', and
<a name="line1253"><font color="#000000">1253:</font></a> other variables such as <b><font color="#0000FF">@code</font></b><font color="#009900">{load-path}</font>, could execute Lisp code you
<a name="line1254"><font color="#000000">1254:</font></a> didn't intend to run.
<a name="line1255"><font color="#000000">1255:</font></a> 
<a name="line1256"><font color="#000000">1256:</font></a>   Therefore, whenever Emacs encounters file local variable values that
<a name="line1257"><font color="#000000">1257:</font></a> are not known to be safe, it displays the file's entire local
<a name="line1258"><font color="#000000">1258:</font></a> variables list, and asks you for confirmation before setting them.
<a name="line1259"><font color="#000000">1259:</font></a> You can type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{y}</font> or <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font> to put the local variables list into
<a name="line1260"><font color="#000000">1260:</font></a> effect, or <b><font color="#0000FF">@kbd</font></b><font color="#009900">{n}</font> to ignore it.  When Emacs is run in batch mode
<a name="line1261"><font color="#000000">1261:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>), it can't really ask you, so it assumes the
<a name="line1262"><font color="#000000">1262:</font></a> answer <b><font color="#0000FF">@kbd</font></b><font color="#009900">{n}</font>.
<a name="line1263"><font color="#000000">1263:</font></a> 
<a name="line1264"><font color="#000000">1264:</font></a>   Emacs normally recognizes certain variable/value pairs as safe.
<a name="line1265"><font color="#000000">1265:</font></a> For instance, it is safe to give <b><font color="#0000FF">@code</font></b><font color="#009900">{comment-column}</font> or
<a name="line1266"><font color="#000000">1266:</font></a> <i><font color="#9A1900">@code{fill-column} any integer value.  If a file specifies only</font></i>
<a name="line1267"><font color="#000000">1267:</font></a> known-safe variable/value pairs, Emacs does not ask for confirmation
<a name="line1268"><font color="#000000">1268:</font></a> before setting them.  Otherwise, you can tell Emacs to record all the
<a name="line1269"><font color="#000000">1269:</font></a> variable/value pairs in this file as safe, by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{!}</font> at the
<a name="line1270"><font color="#000000">1270:</font></a> confirmation prompt.  When Emacs encounters these variable/value pairs
<a name="line1271"><font color="#000000">1271:</font></a> subsequently, in the same file or others, it will assume they are
<a name="line1272"><font color="#000000">1272:</font></a> safe.
<a name="line1273"><font color="#000000">1273:</font></a> 
<a name="line1274"><font color="#000000">1274:</font></a> <b><font color="#0000FF">@vindex</font></b> safe-local-variable-values
<a name="line1275"><font color="#000000">1275:</font></a> <i><font color="#9A1900">@cindex risky variable</font></i>
<a name="line1276"><font color="#000000">1276:</font></a>   Some variables, such as <b><font color="#0000FF">@code</font></b><font color="#009900">{load-path}</font>, are considered
<a name="line1277"><font color="#000000">1277:</font></a> particularly <b><font color="#0000FF">@dfn</font></b><font color="#009900">{risky}</font>: there is seldom any reason to specify them
<a name="line1278"><font color="#000000">1278:</font></a> as local variables, and changing them can be dangerous.  If a file
<a name="line1279"><font color="#000000">1279:</font></a> contains only risky local variables, Emacs neither offers nor accepts
<a name="line1280"><font color="#000000">1280:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{!}</font> as input at the confirmation prompt.  If some of the local
<a name="line1281"><font color="#000000">1281:</font></a> variables in a file are risky, and some are only potentially unsafe, you
<a name="line1282"><font color="#000000">1282:</font></a> can enter <b><font color="#0000FF">@kbd</font></b><font color="#009900">{!}</font> at the prompt.  It applies all the variables, but only
<a name="line1283"><font color="#000000">1283:</font></a> marks the non-risky ones as safe for the future.  If you really want to
<a name="line1284"><font color="#000000">1284:</font></a> record safe values for risky variables, do it directly by customizing
<a name="line1285"><font color="#000000">1285:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{safe-local-variable-values}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Easy Customization</font><font color="#FF0000">}</font>).
<a name="line1286"><font color="#000000">1286:</font></a> 
<a name="line1287"><font color="#000000">1287:</font></a> <b><font color="#0000FF">@vindex</font></b> enable-local-variables
<a name="line1288"><font color="#000000">1288:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{enable-local-variables}</font> allows you to change the
<a name="line1289"><font color="#000000">1289:</font></a> way Emacs processes local variables.  Its default value is <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>,
<a name="line1290"><font color="#000000">1290:</font></a> which specifies the behavior described above.  If it is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>,
<a name="line1291"><font color="#000000">1291:</font></a> Emacs simply ignores all file local variables.  <b><font color="#0000FF">@code</font></b><font color="#009900">{:safe}</font> means use
<a name="line1292"><font color="#000000">1292:</font></a> only the safe values and ignore the rest.  Any other value says to
<a name="line1293"><font color="#000000">1293:</font></a> query you about each file that has local variables, without trying to
<a name="line1294"><font color="#000000">1294:</font></a> determine whether the values are known to be safe.
<a name="line1295"><font color="#000000">1295:</font></a> 
<a name="line1296"><font color="#000000">1296:</font></a> <b><font color="#0000FF">@vindex</font></b> enable-local-eval
<a name="line1297"><font color="#000000">1297:</font></a> <b><font color="#0000FF">@vindex</font></b> safe-local-eval-forms
<a name="line1298"><font color="#000000">1298:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{enable-local-eval}</font> controls whether Emacs
<a name="line1299"><font color="#000000">1299:</font></a> processes <b><font color="#0000FF">@code</font></b><font color="#009900">{eval}</font> variables.  The three possibilities for the
<a name="line1300"><font color="#000000">1300:</font></a> variable's value are <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, and anything else, just as
<a name="line1301"><font color="#000000">1301:</font></a> for <b><font color="#0000FF">@code</font></b><font color="#009900">{enable-local-variables}</font>.  The default is <b><font color="#0000FF">@code</font></b><font color="#009900">{maybe}</font>, which
<a name="line1302"><font color="#000000">1302:</font></a> is neither <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> nor <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font>, so normally Emacs does ask for
<a name="line1303"><font color="#000000">1303:</font></a> confirmation about processing <b><font color="#0000FF">@code</font></b><font color="#009900">{eval}</font> variables.
<a name="line1304"><font color="#000000">1304:</font></a> 
<a name="line1305"><font color="#000000">1305:</font></a>   As an exception, Emacs never asks for confirmation to evaluate any
<a name="line1306"><font color="#000000">1306:</font></a> <i><font color="#9A1900">@code{eval} form if that form occurs within the variable</font></i>
<a name="line1307"><font color="#000000">1307:</font></a> <i><font color="#9A1900">@code{safe-local-eval-forms}.</font></i>
<a name="line1308"><font color="#000000">1308:</font></a> 
<a name="line1309"><font color="#000000">1309:</font></a> <b><font color="#0000FF">@node</font></b> Directory Variables
<a name="line1310"><font color="#000000">1310:</font></a> <b><font color="#0000FF">@subsection</font></b> Per-Directory Local Variables
<a name="line1311"><font color="#000000">1311:</font></a> <i><font color="#9A1900">@cindex local variables, for all files in a directory</font></i>
<a name="line1312"><font color="#000000">1312:</font></a> <i><font color="#9A1900">@cindex directory-local variables</font></i>
<a name="line1313"><font color="#000000">1313:</font></a> <i><font color="#9A1900">@cindex per-directory local variables</font></i>
<a name="line1314"><font color="#000000">1314:</font></a> 
<a name="line1315"><font color="#000000">1315:</font></a>   Sometimes, you may wish to define the same set of local variables to
<a name="line1316"><font color="#000000">1316:</font></a> all the files in a certain directory and its subdirectories, such as
<a name="line1317"><font color="#000000">1317:</font></a> the directory tree of a large software project.  This can be
<a name="line1318"><font color="#000000">1318:</font></a> accomplished with <b><font color="#0000FF">@dfn</font></b><font color="#009900">{directory-local variables}</font>.  File local
<a name="line1319"><font color="#000000">1319:</font></a> variables override directory local variables, so if some of the files
<a name="line1320"><font color="#000000">1320:</font></a> in a directory need specialized settings, you can specify the settings
<a name="line1321"><font color="#000000">1321:</font></a> for the majority of the directory's files in directory variables, and
<a name="line1322"><font color="#000000">1322:</font></a> then define file local variables in a few files which need the general
<a name="line1323"><font color="#000000">1323:</font></a> settings overridden.
<a name="line1324"><font color="#000000">1324:</font></a> 
<a name="line1325"><font color="#000000">1325:</font></a> <i><font color="#9A1900">@cindex @file{.dir-locals.el} file</font></i>
<a name="line1326"><font color="#000000">1326:</font></a>   The usual way to define directory-local variables is to put a file
<a name="line1327"><font color="#000000">1327:</font></a> named <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font><b><font color="#0000FF">@footnote</font></b><font color="#009900">{</font>
<a name="line1328"><font color="#000000">1328:</font></a> <font color="#009900">On MS-DOS, the name of this file should be @file{_dir-locals.el}, due</font>
<a name="line1329"><font color="#000000">1329:</font></a> <font color="#009900">to limitations of the DOS filesystems.  If the filesystem is limited</font>
<a name="line1330"><font color="#000000">1330:</font></a> <font color="#009900">to 8+3 file names, the name of the file will be truncated by the OS to</font>
<a name="line1331"><font color="#000000">1331:</font></a> <font color="#009900">@file{_dir-loc.el}.</font>
<a name="line1332"><font color="#000000">1332:</font></a> <font color="#009900">}</font>in a directory.  Whenever Emacs visits any file in that directory or
<a name="line1333"><font color="#000000">1333:</font></a> any of its subdirectories, it will apply the directory-local variables
<a name="line1334"><font color="#000000">1334:</font></a> specified in <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font>, as though they had been defined as
<a name="line1335"><font color="#000000">1335:</font></a> file-local variables for that file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">File Variables</font><font color="#FF0000">}</font>).  Emacs
<a name="line1336"><font color="#000000">1336:</font></a> searches for <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font> starting in the directory of the
<a name="line1337"><font color="#000000">1337:</font></a> visited file, and moving up the directory tree.  To avoid slowdown,
<a name="line1338"><font color="#000000">1338:</font></a> this search is skipped for remote files.  If needed, the search can be
<a name="line1339"><font color="#000000">1339:</font></a> extended for remote files by setting the variable
<a name="line1340"><font color="#000000">1340:</font></a> <i><font color="#9A1900">@code{enable-remote-dir-locals} to @code{t}.</font></i>
<a name="line1341"><font color="#000000">1341:</font></a> 
<a name="line1342"><font color="#000000">1342:</font></a>   You can also use <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals-2.el}</font>; if found, Emacs loads it
<a name="line1343"><font color="#000000">1343:</font></a> in addition to <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font>.  This is useful when
<a name="line1344"><font color="#000000">1344:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font> is under version control in a shared repository
<a name="line1345"><font color="#000000">1345:</font></a> and can't be used for personal customizations.
<a name="line1346"><font color="#000000">1346:</font></a> 
<a name="line1347"><font color="#000000">1347:</font></a>   The <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font> file should hold a specially-constructed
<a name="line1348"><font color="#000000">1348:</font></a> list, which maps major mode names (symbols) to alists
<a name="line1349"><font color="#000000">1349:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Association Lists,,, elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>).
<a name="line1350"><font color="#000000">1350:</font></a> Each alist entry consists of a variable name and the directory-local
<a name="line1351"><font color="#000000">1351:</font></a> value to assign to that variable, when the specified major mode is
<a name="line1352"><font color="#000000">1352:</font></a> enabled.  Instead of a mode name, you can specify <b><font color="#0000FF">@samp</font></b><font color="#009900">{nil}</font>, which
<a name="line1353"><font color="#000000">1353:</font></a> means that the alist applies to any mode; or you can specify a
<a name="line1354"><font color="#000000">1354:</font></a> subdirectory (a string), in which case the alist applies to all
<a name="line1355"><font color="#000000">1355:</font></a> files in that subdirectory.
<a name="line1356"><font color="#000000">1356:</font></a> 
<a name="line1357"><font color="#000000">1357:</font></a>   Here's an example of a <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font> file:
<a name="line1358"><font color="#000000">1358:</font></a> 
<a name="line1359"><font color="#000000">1359:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1360"><font color="#000000">1360:</font></a> ((nil . ((indent-tabs-mode . t)
<a name="line1361"><font color="#000000">1361:</font></a>          (fill-column . 80)))
<a name="line1362"><font color="#000000">1362:</font></a>  (c-mode . ((c-file-style . "BSD")
<a name="line1363"><font color="#000000">1363:</font></a>             (subdirs . nil)))
<a name="line1364"><font color="#000000">1364:</font></a>  ("src/imported"
<a name="line1365"><font color="#000000">1365:</font></a>   . ((nil . ((change-log-default-name
<a name="line1366"><font color="#000000">1366:</font></a>               . "ChangeLog.local"))))))
<a name="line1367"><font color="#000000">1367:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1368"><font color="#000000">1368:</font></a> 
<a name="line1369"><font color="#000000">1369:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1370"><font color="#000000">1370:</font></a> This sets <b><font color="#0000FF">@samp</font></b><font color="#009900">{indent-tabs-mode}</font> and <b><font color="#0000FF">@code</font></b><font color="#009900">{fill-column}</font> for any file
<a name="line1371"><font color="#000000">1371:</font></a> in the directory tree, and the indentation style for any C source
<a name="line1372"><font color="#000000">1372:</font></a> file.  The special <b><font color="#0000FF">@code</font></b><font color="#009900">{subdirs}</font> element is not a variable, but a
<a name="line1373"><font color="#000000">1373:</font></a> special keyword which indicates that the C mode settings are only to
<a name="line1374"><font color="#000000">1374:</font></a> be applied in the current directory, not in any subdirectories.
<a name="line1375"><font color="#000000">1375:</font></a> Finally, it specifies a different <b><font color="#0000FF">@file</font></b><font color="#009900">{ChangeLog}</font> file name for any
<a name="line1376"><font color="#000000">1376:</font></a> file in the <b><font color="#0000FF">@file</font></b><font color="#009900">{src/imported}</font> subdirectory.
<a name="line1377"><font color="#000000">1377:</font></a> 
<a name="line1378"><font color="#000000">1378:</font></a> You can specify the variables <b><font color="#0000FF">@code</font></b><font color="#009900">{mode}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{eval}</font>, and
<a name="line1379"><font color="#000000">1379:</font></a> <i><font color="#9A1900">@code{unibyte} in your @file{.dir-locals.el}, and they have the same</font></i>
<a name="line1380"><font color="#000000">1380:</font></a> meanings as they would have in file local variables.  <b><font color="#0000FF">@code</font></b><font color="#009900">{coding}</font>
<a name="line1381"><font color="#000000">1381:</font></a> cannot be specified as a directory local variable.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">File</font>
<a name="line1382"><font color="#000000">1382:</font></a> <font color="#FF0000">Variables</font><font color="#FF0000">}</font>.
<a name="line1383"><font color="#000000">1383:</font></a> 
<a name="line1384"><font color="#000000">1384:</font></a> <b><font color="#0000FF">@findex</font></b> add-dir-local-variable
<a name="line1385"><font color="#000000">1385:</font></a> <b><font color="#0000FF">@findex</font></b> delete-dir-local-variable
<a name="line1386"><font color="#000000">1386:</font></a> <b><font color="#0000FF">@findex</font></b> copy-file-locals-to-dir-locals
<a name="line1387"><font color="#000000">1387:</font></a>   Instead of editing the <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font> file by hand, you can
<a name="line1388"><font color="#000000">1388:</font></a> use the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x add-dir-local-variable}</font>.  This prompts for a
<a name="line1389"><font color="#000000">1389:</font></a> mode or subdirectory, and for variable and value, and adds the
<a name="line1390"><font color="#000000">1390:</font></a> entry defining the directory-local variable.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line1391"><font color="#000000">1391:</font></a> <font color="#009900">delete-dir-local-variable}</font> deletes an entry.  <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line1392"><font color="#000000">1392:</font></a> <font color="#009900">copy-file-locals-to-dir-locals}</font> copies the file-local variables in the
<a name="line1393"><font color="#000000">1393:</font></a> current file into <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font>.
<a name="line1394"><font color="#000000">1394:</font></a> 
<a name="line1395"><font color="#000000">1395:</font></a> <b><font color="#0000FF">@findex</font></b> dir-locals-set-class-variables
<a name="line1396"><font color="#000000">1396:</font></a> <b><font color="#0000FF">@findex</font></b> dir-locals-set-directory-class
<a name="line1397"><font color="#000000">1397:</font></a>   Another method of specifying directory-local variables is to define
<a name="line1398"><font color="#000000">1398:</font></a> a group of variables/value pairs in a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{directory class}</font>, using the
<a name="line1399"><font color="#000000">1399:</font></a> <i><font color="#9A1900">@code{dir-locals-set-class-variables} function; then, tell Emacs which</font></i>
<a name="line1400"><font color="#000000">1400:</font></a> directories correspond to the class by using the
<a name="line1401"><font color="#000000">1401:</font></a> <i><font color="#9A1900">@code{dir-locals-set-directory-class} function.  These function calls</font></i>
<a name="line1402"><font color="#000000">1402:</font></a> normally go in your initialization file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>).  This
<a name="line1403"><font color="#000000">1403:</font></a> method is useful when you can't put <b><font color="#0000FF">@file</font></b><font color="#009900">{.dir-locals.el}</font> in a
<a name="line1404"><font color="#000000">1404:</font></a> directory for some reason.  For example, you could apply settings to
<a name="line1405"><font color="#000000">1405:</font></a> an unwritable directory this way:
<a name="line1406"><font color="#000000">1406:</font></a> 
<a name="line1407"><font color="#000000">1407:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1408"><font color="#000000">1408:</font></a> (dir-locals-set-class-variables 'unwritable-directory
<a name="line1409"><font color="#000000">1409:</font></a>    '((nil . ((some-useful-setting . value)))))
<a name="line1410"><font color="#000000">1410:</font></a> 
<a name="line1411"><font color="#000000">1411:</font></a> (dir-locals-set-directory-class
<a name="line1412"><font color="#000000">1412:</font></a>    "/usr/include/" 'unwritable-directory)
<a name="line1413"><font color="#000000">1413:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1414"><font color="#000000">1414:</font></a> 
<a name="line1415"><font color="#000000">1415:</font></a>   If a variable has both a directory-local and file-local value
<a name="line1416"><font color="#000000">1416:</font></a> specified, the file-local value takes effect.  Unsafe directory-local
<a name="line1417"><font color="#000000">1417:</font></a> variables are handled in the same way as unsafe file-local variables
<a name="line1418"><font color="#000000">1418:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Safe File Variables</font><font color="#FF0000">}</font>).
<a name="line1419"><font color="#000000">1419:</font></a> 
<a name="line1420"><font color="#000000">1420:</font></a>   Directory-local variables also take effect in certain buffers that
<a name="line1421"><font color="#000000">1421:</font></a> do not visit a file directly but perform work within a directory, such
<a name="line1422"><font color="#000000">1422:</font></a> as Dired buffers (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Dired</font><font color="#FF0000">}</font>).
<a name="line1423"><font color="#000000">1423:</font></a> 
<a name="line1424"><font color="#000000">1424:</font></a> <b><font color="#0000FF">@node</font></b> Key Bindings
<a name="line1425"><font color="#000000">1425:</font></a> <b><font color="#0000FF">@section</font></b> Customizing Key Bindings
<a name="line1426"><font color="#000000">1426:</font></a> <i><font color="#9A1900">@cindex key bindings</font></i>
<a name="line1427"><font color="#000000">1427:</font></a> 
<a name="line1428"><font color="#000000">1428:</font></a>   This section describes <b><font color="#0000FF">@dfn</font></b><font color="#009900">{key bindings}</font>, which map keys to
<a name="line1429"><font color="#000000">1429:</font></a> commands, and <b><font color="#0000FF">@dfn</font></b><font color="#009900">{keymaps}</font>, which record key bindings.  It also
<a name="line1430"><font color="#000000">1430:</font></a> explains how to customize key bindings, which is done by editing your
<a name="line1431"><font color="#000000">1431:</font></a> init file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Rebinding</font><font color="#FF0000">}</font>).
<a name="line1432"><font color="#000000">1432:</font></a> 
<a name="line1433"><font color="#000000">1433:</font></a> <i><font color="#9A1900">@cindex reserved key bindings</font></i>
<a name="line1434"><font color="#000000">1434:</font></a> <i><font color="#9A1900">@cindex keys, reserved</font></i>
<a name="line1435"><font color="#000000">1435:</font></a>   Since most modes define their own key bindings, activating a mode
<a name="line1436"><font color="#000000">1436:</font></a> might override your custom key bindings.  A small number of keys are
<a name="line1437"><font color="#000000">1437:</font></a> reserved for user-defined bindings, and should not be used by modes,
<a name="line1438"><font color="#000000">1438:</font></a> so key bindings using those keys are safer in this regard.  The
<a name="line1439"><font color="#000000">1439:</font></a> reserved key sequences are those consisting of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> followed by a
<a name="line1440"><font color="#000000">1440:</font></a> letter (either upper or lower case), and function keys <b><font color="#0000FF">@key</font></b><font color="#009900">{F5}</font>
<a name="line1441"><font color="#000000">1441:</font></a> through <b><font color="#0000FF">@key</font></b><font color="#009900">{F9}</font> without modifiers (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Modifier Keys</font><font color="#FF0000">}</font>).
<a name="line1442"><font color="#000000">1442:</font></a> 
<a name="line1443"><font color="#000000">1443:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line1444"><font color="#000000">1444:</font></a> <font color="#FF0000">* Keymaps::</font>             Generalities.  The global keymap.
<a name="line1445"><font color="#000000">1445:</font></a> <font color="#FF0000">* Prefix Keymaps::</font>      Keymaps for prefix keys.
<a name="line1446"><font color="#000000">1446:</font></a> <font color="#FF0000">* Local Keymaps::</font>       Major and minor modes have their own keymaps.
<a name="line1447"><font color="#000000">1447:</font></a> <font color="#FF0000">* Minibuffer Maps::</font>     The minibuffer uses its own local keymaps.
<a name="line1448"><font color="#000000">1448:</font></a> <font color="#FF0000">* Rebinding::</font>           How to redefine one key's meaning conveniently.
<a name="line1449"><font color="#000000">1449:</font></a> <font color="#FF0000">* Init Rebinding::</font>      Rebinding keys with your initialization file.
<a name="line1450"><font color="#000000">1450:</font></a> <font color="#FF0000">* Modifier Keys::</font>       Using modifier keys.
<a name="line1451"><font color="#000000">1451:</font></a> <font color="#FF0000">* Function Keys::</font>       Rebinding terminal function keys.
<a name="line1452"><font color="#000000">1452:</font></a> <font color="#FF0000">* Named ASCII Chars::</font>   Distinguishing <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> from <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-i}</font>, and so on.
<a name="line1453"><font color="#000000">1453:</font></a> <font color="#FF0000">* Mouse Buttons::</font>       Rebinding mouse buttons in Emacs.
<a name="line1454"><font color="#000000">1454:</font></a> <font color="#FF0000">* Disabling::</font>           Disabling a command means confirmation is required
<a name="line1455"><font color="#000000">1455:</font></a>                           before it can be executed.  This is done to protect
<a name="line1456"><font color="#000000">1456:</font></a>                           beginners from surprises.
<a name="line1457"><font color="#000000">1457:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line1458"><font color="#000000">1458:</font></a> 
<a name="line1459"><font color="#000000">1459:</font></a> <b><font color="#0000FF">@node</font></b> Keymaps
<a name="line1460"><font color="#000000">1460:</font></a> <b><font color="#0000FF">@subsection</font></b> Keymaps
<a name="line1461"><font color="#000000">1461:</font></a> <i><font color="#9A1900">@cindex keymap</font></i>
<a name="line1462"><font color="#000000">1462:</font></a> 
<a name="line1463"><font color="#000000">1463:</font></a>   As described in <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Commands</font><font color="#FF0000">}</font>, each Emacs command is a Lisp
<a name="line1464"><font color="#000000">1464:</font></a> function whose definition provides for interactive use.  Like every
<a name="line1465"><font color="#000000">1465:</font></a> Lisp function, a command has a function name, which usually consists
<a name="line1466"><font color="#000000">1466:</font></a> of lower-case letters and hyphens.
<a name="line1467"><font color="#000000">1467:</font></a> 
<a name="line1468"><font color="#000000">1468:</font></a>   A <b><font color="#0000FF">@dfn</font></b><font color="#009900">{key sequence}</font> (<b><font color="#0000FF">@dfn</font></b><font color="#009900">{key}</font>, for short) is a sequence of
<a name="line1469"><font color="#000000">1469:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{input events}</font> that have a meaning as a unit.  Input events
<a name="line1470"><font color="#000000">1470:</font></a> include characters, function keys, and mouse buttons---all the inputs
<a name="line1471"><font color="#000000">1471:</font></a> that you can send to the computer.  A key sequence gets its meaning
<a name="line1472"><font color="#000000">1472:</font></a> from its <b><font color="#0000FF">@dfn</font></b><font color="#009900">{binding}</font>, which says what command it runs.
<a name="line1473"><font color="#000000">1473:</font></a> 
<a name="line1474"><font color="#000000">1474:</font></a>   The bindings between key sequences and command functions are
<a name="line1475"><font color="#000000">1475:</font></a> recorded in data structures called <b><font color="#0000FF">@dfn</font></b><font color="#009900">{keymaps}</font>.  Emacs has many of
<a name="line1476"><font color="#000000">1476:</font></a> these, each used on particular occasions.
<a name="line1477"><font color="#000000">1477:</font></a> 
<a name="line1478"><font color="#000000">1478:</font></a> <i><font color="#9A1900">@cindex global keymap</font></i>
<a name="line1479"><font color="#000000">1479:</font></a>   The <b><font color="#0000FF">@dfn</font></b><font color="#009900">{global}</font> keymap is the most important keymap because it is
<a name="line1480"><font color="#000000">1480:</font></a> always in effect.  The global keymap defines keys for Fundamental mode
<a name="line1481"><font color="#000000">1481:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Major Modes</font><font color="#FF0000">}</font>); most of these definitions are common to most or
<a name="line1482"><font color="#000000">1482:</font></a> all major modes.  Each major or minor mode can have its own keymap
<a name="line1483"><font color="#000000">1483:</font></a> which overrides the global definitions of some keys.
<a name="line1484"><font color="#000000">1484:</font></a> 
<a name="line1485"><font color="#000000">1485:</font></a>   For example, a self-inserting character such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{g}</font> is
<a name="line1486"><font color="#000000">1486:</font></a> self-inserting because the global keymap binds it to the command
<a name="line1487"><font color="#000000">1487:</font></a> <i><font color="#9A1900">@code{self-insert-command}.  The standard Emacs editing characters</font></i>
<a name="line1488"><font color="#000000">1488:</font></a> such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-a}</font> also get their standard meanings from the global
<a name="line1489"><font color="#000000">1489:</font></a> keymap.  Commands to rebind keys, such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x global-set-key}</font>,
<a name="line1490"><font color="#000000">1490:</font></a> work by storing the new binding in the proper place in the global map
<a name="line1491"><font color="#000000">1491:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Rebinding</font><font color="#FF0000">}</font>).
<a name="line1492"><font color="#000000">1492:</font></a> 
<a name="line1493"><font color="#000000">1493:</font></a> <i><font color="#9A1900">@cindex function key</font></i>
<a name="line1494"><font color="#000000">1494:</font></a>   Most modern keyboards have function keys as well as character keys.
<a name="line1495"><font color="#000000">1495:</font></a> Function keys send input events just as character keys do, and keymaps
<a name="line1496"><font color="#000000">1496:</font></a> can have bindings for them.  Key sequences can mix function keys and
<a name="line1497"><font color="#000000">1497:</font></a> characters.  For example, if your keyboard has a <b><font color="#0000FF">@key</font></b><font color="#009900">{Home}</font> function
<a name="line1498"><font color="#000000">1498:</font></a> key, Emacs can recognize key sequences like <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{Home}}</font>.  You
<a name="line1499"><font color="#000000">1499:</font></a> can even mix mouse events with keyboard events, such as
<a name="line1500"><font color="#000000">1500:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{S-down-mouse-1}</font>.
<a name="line1501"><font color="#000000">1501:</font></a> 
<a name="line1502"><font color="#000000">1502:</font></a>   On text terminals, typing a function key actually sends the computer
<a name="line1503"><font color="#000000">1503:</font></a> a sequence of characters; the precise details of the sequence depend
<a name="line1504"><font color="#000000">1504:</font></a> on the function key and on the terminal type.  (Often the sequence
<a name="line1505"><font color="#000000">1505:</font></a> starts with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{ESC} [}</font>.)  If Emacs understands your terminal
<a name="line1506"><font color="#000000">1506:</font></a> type properly, it automatically handles such sequences as single input
<a name="line1507"><font color="#000000">1507:</font></a> events.
<a name="line1508"><font color="#000000">1508:</font></a> 
<a name="line1509"><font color="#000000">1509:</font></a> <b><font color="#0000FF">@node</font></b> Prefix Keymaps
<a name="line1510"><font color="#000000">1510:</font></a> <b><font color="#0000FF">@subsection</font></b> Prefix Keymaps
<a name="line1511"><font color="#000000">1511:</font></a> 
<a name="line1512"><font color="#000000">1512:</font></a>   Internally, Emacs records only single events in each keymap.
<a name="line1513"><font color="#000000">1513:</font></a> Interpreting a key sequence of multiple events involves a chain of
<a name="line1514"><font color="#000000">1514:</font></a> keymaps: the first keymap gives a definition for the first event,
<a name="line1515"><font color="#000000">1515:</font></a> which is another keymap, which is used to look up the second event in
<a name="line1516"><font color="#000000">1516:</font></a> the sequence, and so on.  Thus, a prefix key such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x}</font> or
<a name="line1517"><font color="#000000">1517:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font> has its own keymap, which holds the definition for the event
<a name="line1518"><font color="#000000">1518:</font></a> that immediately follows that prefix.
<a name="line1519"><font color="#000000">1519:</font></a> 
<a name="line1520"><font color="#000000">1520:</font></a>   The definition of a prefix key is usually the keymap to use for
<a name="line1521"><font color="#000000">1521:</font></a> looking up the following event.  The definition can also be a Lisp
<a name="line1522"><font color="#000000">1522:</font></a> symbol whose function definition is the following keymap; the effect is
<a name="line1523"><font color="#000000">1523:</font></a> the same, but it provides a command name for the prefix key that can be
<a name="line1524"><font color="#000000">1524:</font></a> used as a description of what the prefix key is for.  Thus, the binding
<a name="line1525"><font color="#000000">1525:</font></a> of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x}</font> is the symbol <b><font color="#0000FF">@code{Control-X-pref</font></b><font color="#FF0000">ix</font><font color="#FF0000">}</font>, whose function
<a name="line1526"><font color="#000000">1526:</font></a> definition is the keymap for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x}</font> commands.  The definitions of
<a name="line1527"><font color="#000000">1527:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x}</font>, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h}</font>, and <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font> as prefix keys appear in
<a name="line1528"><font color="#000000">1528:</font></a> the global map, so these prefix keys are always available.
<a name="line1529"><font color="#000000">1529:</font></a> 
<a name="line1530"><font color="#000000">1530:</font></a>   Aside from ordinary prefix keys, there is a fictitious ``prefix key''
<a name="line1531"><font color="#000000">1531:</font></a> which represents the menu bar; see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Menu Bar,,,elisp, The Emacs Lisp</font>
<a name="line1532"><font color="#000000">1532:</font></a> <font color="#FF0000">Reference Manual</font><font color="#FF0000">}</font>, for special information about menu bar key bindings.
<a name="line1533"><font color="#000000">1533:</font></a> Mouse button events that invoke pop-up menus are also prefix keys; see
<a name="line1534"><font color="#000000">1534:</font></a> <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Menu Keymaps,,,elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>, for more
<a name="line1535"><font color="#000000">1535:</font></a> details.
<a name="line1536"><font color="#000000">1536:</font></a> 
<a name="line1537"><font color="#000000">1537:</font></a>   Some prefix keymaps are stored in variables with names:
<a name="line1538"><font color="#000000">1538:</font></a> 
<a name="line1539"><font color="#000000">1539:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line1540"><font color="#000000">1540:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1541"><font color="#000000">1541:</font></a> <b><font color="#0000FF">@vindex</font></b> ctl-x-map
<a name="line1542"><font color="#000000">1542:</font></a> <i><font color="#9A1900">@code{ctl-x-map} is the variable name for the map used for characters that</font></i>
<a name="line1543"><font color="#000000">1543:</font></a> follow <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x}</font>.
<a name="line1544"><font color="#000000">1544:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1545"><font color="#000000">1545:</font></a> <b><font color="#0000FF">@vindex</font></b> help-map
<a name="line1546"><font color="#000000">1546:</font></a> <i><font color="#9A1900">@code{help-map} is for characters that follow @kbd{C-h}.</font></i>
<a name="line1547"><font color="#000000">1547:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1548"><font color="#000000">1548:</font></a> <b><font color="#0000FF">@vindex</font></b> esc-map
<a name="line1549"><font color="#000000">1549:</font></a> <i><font color="#9A1900">@code{esc-map} is for characters that follow @key{ESC}.  Thus, all Meta</font></i>
<a name="line1550"><font color="#000000">1550:</font></a> characters are actually defined by this map.
<a name="line1551"><font color="#000000">1551:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1552"><font color="#000000">1552:</font></a> <b><font color="#0000FF">@vindex</font></b> ctl-x-4-map
<a name="line1553"><font color="#000000">1553:</font></a> <i><font color="#9A1900">@code{ctl-x-4-map} is for characters that follow @kbd{C-x 4}.</font></i>
<a name="line1554"><font color="#000000">1554:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1555"><font color="#000000">1555:</font></a> <b><font color="#0000FF">@vindex</font></b> mode-specific-map
<a name="line1556"><font color="#000000">1556:</font></a> <i><font color="#9A1900">@code{mode-specific-map} is for characters that follow @kbd{C-c}.</font></i>
<a name="line1557"><font color="#000000">1557:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line1558"><font color="#000000">1558:</font></a> 
<a name="line1559"><font color="#000000">1559:</font></a> <b><font color="#0000FF">@node</font></b> Local Keymaps
<a name="line1560"><font color="#000000">1560:</font></a> <b><font color="#0000FF">@subsection</font></b> Local Keymaps
<a name="line1561"><font color="#000000">1561:</font></a> 
<a name="line1562"><font color="#000000">1562:</font></a> <i><font color="#9A1900">@cindex local keymap</font></i>
<a name="line1563"><font color="#000000">1563:</font></a> <i><font color="#9A1900">@cindex minor mode keymap</font></i>
<a name="line1564"><font color="#000000">1564:</font></a>   So far, we have explained the ins and outs of the global map.  Major
<a name="line1565"><font color="#000000">1565:</font></a> modes customize Emacs by providing their own key bindings in
<a name="line1566"><font color="#000000">1566:</font></a> <b><font color="#0000FF">@dfn</font></b><font color="#009900">{local keymaps}</font>.  For example, C mode overrides <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> to make
<a name="line1567"><font color="#000000">1567:</font></a> it indent the current line for C code.  Minor modes can also have
<a name="line1568"><font color="#000000">1568:</font></a> local keymaps; whenever a minor mode is in effect, the definitions in
<a name="line1569"><font color="#000000">1569:</font></a> its keymap override both the major mode's local keymap and the global
<a name="line1570"><font color="#000000">1570:</font></a> keymap.  In addition, portions of text in the buffer can specify their
<a name="line1571"><font color="#000000">1571:</font></a> own keymaps, which override all other keymaps.
<a name="line1572"><font color="#000000">1572:</font></a> 
<a name="line1573"><font color="#000000">1573:</font></a>   A local keymap can redefine a key as a prefix key by defining it as
<a name="line1574"><font color="#000000">1574:</font></a> a prefix keymap.  If the key is also defined globally as a prefix, its
<a name="line1575"><font color="#000000">1575:</font></a> local and global definitions (both keymaps) effectively combine: both
<a name="line1576"><font color="#000000">1576:</font></a> definitions are used to look up the event that follows the prefix key.
<a name="line1577"><font color="#000000">1577:</font></a> For example, if a local keymap defines <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font> as a prefix keymap,
<a name="line1578"><font color="#000000">1578:</font></a> and that keymap defines <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-z}</font> as a command, this provides a local
<a name="line1579"><font color="#000000">1579:</font></a> meaning for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c C-z}</font>.  This does not affect other sequences that
<a name="line1580"><font color="#000000">1580:</font></a> start with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c}</font>; if those sequences don't have their own local
<a name="line1581"><font color="#000000">1581:</font></a> bindings, their global bindings remain in effect.
<a name="line1582"><font color="#000000">1582:</font></a> 
<a name="line1583"><font color="#000000">1583:</font></a>   Another way to think of this is that Emacs handles a multi-event key
<a name="line1584"><font color="#000000">1584:</font></a> sequence by looking in several keymaps, one by one, for a binding of the
<a name="line1585"><font color="#000000">1585:</font></a> whole key sequence.  First it checks the minor mode keymaps for minor
<a name="line1586"><font color="#000000">1586:</font></a> modes that are enabled, then it checks the major mode's keymap, and then
<a name="line1587"><font color="#000000">1587:</font></a> it checks the global keymap.  This is not precisely how key lookup
<a name="line1588"><font color="#000000">1588:</font></a> works, but it's good enough for understanding the results in ordinary
<a name="line1589"><font color="#000000">1589:</font></a> circumstances.
<a name="line1590"><font color="#000000">1590:</font></a> 
<a name="line1591"><font color="#000000">1591:</font></a> <b><font color="#0000FF">@node</font></b> Minibuffer Maps
<a name="line1592"><font color="#000000">1592:</font></a> <b><font color="#0000FF">@subsection</font></b> Minibuffer Keymaps
<a name="line1593"><font color="#000000">1593:</font></a> 
<a name="line1594"><font color="#000000">1594:</font></a> <i><font color="#9A1900">@cindex minibuffer keymaps</font></i>
<a name="line1595"><font color="#000000">1595:</font></a> <b><font color="#0000FF">@vindex</font></b> minibuffer-local-map
<a name="line1596"><font color="#000000">1596:</font></a> <b><font color="#0000FF">@vindex</font></b> minibuffer-local-ns-map
<a name="line1597"><font color="#000000">1597:</font></a> <b><font color="#0000FF">@vindex</font></b> minibuffer-local-completion-map
<a name="line1598"><font color="#000000">1598:</font></a> <b><font color="#0000FF">@vindex</font></b> minibuffer-local-must-match-map
<a name="line1599"><font color="#000000">1599:</font></a> <b><font color="#0000FF">@vindex</font></b> minibuffer-local-filename-completion-map
<a name="line1600"><font color="#000000">1600:</font></a> <b><font color="#0000FF">@vindex</font></b> minibuffer-local-filename-must-match-map
<a name="line1601"><font color="#000000">1601:</font></a>   The minibuffer has its own set of local keymaps; they contain various
<a name="line1602"><font color="#000000">1602:</font></a> completion and exit commands.
<a name="line1603"><font color="#000000">1603:</font></a> 
<a name="line1604"><font color="#000000">1604:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line1605"><font color="#000000">1605:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1606"><font color="#000000">1606:</font></a> <i><font color="#9A1900">@code{minibuffer-local-map} is used for ordinary input (no completion).</font></i>
<a name="line1607"><font color="#000000">1607:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1608"><font color="#000000">1608:</font></a> <i><font color="#9A1900">@code{minibuffer-local-ns-map} is similar, except that @key{SPC} exits</font></i>
<a name="line1609"><font color="#000000">1609:</font></a> just like <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>.
<a name="line1610"><font color="#000000">1610:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1611"><font color="#000000">1611:</font></a> <i><font color="#9A1900">@code{minibuffer-local-completion-map} is for permissive completion.</font></i>
<a name="line1612"><font color="#000000">1612:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1613"><font color="#000000">1613:</font></a> <i><font color="#9A1900">@code{minibuffer-local-must-match-map} is for strict completion and</font></i>
<a name="line1614"><font color="#000000">1614:</font></a> for cautious completion.
<a name="line1615"><font color="#000000">1615:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line1616"><font color="#000000">1616:</font></a> <i><font color="#9A1900">@code{minibuffer-local-filename-completion-map} and</font></i>
<a name="line1617"><font color="#000000">1617:</font></a> <i><font color="#9A1900">@code{minibuffer-local-filename-must-match-map} are like the two</font></i>
<a name="line1618"><font color="#000000">1618:</font></a> previous ones, but they are specifically for file name completion.
<a name="line1619"><font color="#000000">1619:</font></a> They do not bind <b><font color="#0000FF">@key</font></b><font color="#009900">{SPC}</font>.
<a name="line1620"><font color="#000000">1620:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line1621"><font color="#000000">1621:</font></a> 
<a name="line1622"><font color="#000000">1622:</font></a> <b><font color="#0000FF">@node</font></b> Rebinding
<a name="line1623"><font color="#000000">1623:</font></a> <b><font color="#0000FF">@subsection</font></b> Changing Key Bindings Interactively
<a name="line1624"><font color="#000000">1624:</font></a> <i><font color="#9A1900">@cindex key rebinding, this session</font></i>
<a name="line1625"><font color="#000000">1625:</font></a> <i><font color="#9A1900">@cindex redefining keys, this session</font></i>
<a name="line1626"><font color="#000000">1626:</font></a> <i><font color="#9A1900">@cindex binding keys</font></i>
<a name="line1627"><font color="#000000">1627:</font></a> 
<a name="line1628"><font color="#000000">1628:</font></a>   The way to redefine an Emacs key is to change its entry in a keymap.
<a name="line1629"><font color="#000000">1629:</font></a> You can change the global keymap, in which case the change is
<a name="line1630"><font color="#000000">1630:</font></a> effective in all major modes (except those that have their own
<a name="line1631"><font color="#000000">1631:</font></a> overriding local bindings for the same key).  Or you can change a
<a name="line1632"><font color="#000000">1632:</font></a> local keymap, which affects all buffers using the same major mode.
<a name="line1633"><font color="#000000">1633:</font></a> 
<a name="line1634"><font color="#000000">1634:</font></a>   In this section, we describe how to rebind keys for the present
<a name="line1635"><font color="#000000">1635:</font></a> Emacs session.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Rebinding</font><font color="#FF0000">}</font>, for a description of how to
<a name="line1636"><font color="#000000">1636:</font></a> make key rebindings affect future Emacs sessions.
<a name="line1637"><font color="#000000">1637:</font></a> 
<a name="line1638"><font color="#000000">1638:</font></a> <b><font color="#0000FF">@findex</font></b> global-set-key
<a name="line1639"><font color="#000000">1639:</font></a> <b><font color="#0000FF">@findex</font></b> local-set-key
<a name="line1640"><font color="#000000">1640:</font></a> <b><font color="#0000FF">@findex</font></b> global-unset-key
<a name="line1641"><font color="#000000">1641:</font></a> <b><font color="#0000FF">@findex</font></b> local-unset-key
<a name="line1642"><font color="#000000">1642:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@kbd</font></b>
<a name="line1643"><font color="#000000">1643:</font></a> <b><font color="#0000FF">@item</font></b> M-x global-set-key <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1644"><font color="#000000">1644:</font></a> Define <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font> globally to run <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font>.
<a name="line1645"><font color="#000000">1645:</font></a> <b><font color="#0000FF">@item</font></b> M-x local-set-key <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font> <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1646"><font color="#000000">1646:</font></a> Define <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font> locally (in the major mode now in effect) to run
<a name="line1647"><font color="#000000">1647:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font>.
<a name="line1648"><font color="#000000">1648:</font></a> <b><font color="#0000FF">@item</font></b> M-x global-unset-key <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font>
<a name="line1649"><font color="#000000">1649:</font></a> Make <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font> undefined in the global map.
<a name="line1650"><font color="#000000">1650:</font></a> <b><font color="#0000FF">@item</font></b> M-x local-unset-key <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font>
<a name="line1651"><font color="#000000">1651:</font></a> Make <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font> undefined locally (in the major mode now in effect).
<a name="line1652"><font color="#000000">1652:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1653"><font color="#000000">1653:</font></a> 
<a name="line1654"><font color="#000000">1654:</font></a>   For example, the following binds <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-z}</font> to the <b><font color="#0000FF">@code</font></b><font color="#009900">{shell}</font>
<a name="line1655"><font color="#000000">1655:</font></a> command (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Interactive Shell</font><font color="#FF0000">}</font>), replacing the normal global
<a name="line1656"><font color="#000000">1656:</font></a> definition of <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-z}</font>:
<a name="line1657"><font color="#000000">1657:</font></a> 
<a name="line1658"><font color="#000000">1658:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1659"><font color="#000000">1659:</font></a> M-x global-set-key <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> C-z shell <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1660"><font color="#000000">1660:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1661"><font color="#000000">1661:</font></a> 
<a name="line1662"><font color="#000000">1662:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1663"><font color="#000000">1663:</font></a> The <b><font color="#0000FF">@code</font></b><font color="#009900">{global-set-key}</font> command reads the command name after the
<a name="line1664"><font color="#000000">1664:</font></a> key.  After you press the key, a message like this appears so that you
<a name="line1665"><font color="#000000">1665:</font></a> can confirm that you are binding the key you want:
<a name="line1666"><font color="#000000">1666:</font></a> 
<a name="line1667"><font color="#000000">1667:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1668"><font color="#000000">1668:</font></a> Set key C-z to command:
<a name="line1669"><font color="#000000">1669:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1670"><font color="#000000">1670:</font></a> 
<a name="line1671"><font color="#000000">1671:</font></a>   You can redefine function keys and mouse events in the same way; just
<a name="line1672"><font color="#000000">1672:</font></a> type the function key or click the mouse when it's time to specify the
<a name="line1673"><font color="#000000">1673:</font></a> key to rebind.
<a name="line1674"><font color="#000000">1674:</font></a> 
<a name="line1675"><font color="#000000">1675:</font></a>   You can rebind a key that contains more than one event in the same
<a name="line1676"><font color="#000000">1676:</font></a> way.  Emacs keeps reading the key to rebind until it is a complete key
<a name="line1677"><font color="#000000">1677:</font></a> (that is, not a prefix key).  Thus, if you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-f}</font> for
<a name="line1678"><font color="#000000">1678:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{key}</font>, that's the end; it enters the minibuffer immediately to
<a name="line1679"><font color="#000000">1679:</font></a> read <b><font color="#0000FF">@var</font></b><font color="#009900">{cmd}</font>.  But if you type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x}</font>, since that's a prefix, it
<a name="line1680"><font color="#000000">1680:</font></a> reads another character; if that is <b><font color="#0000FF">@kbd</font></b><font color="#009900">{4}</font>, another prefix character,
<a name="line1681"><font color="#000000">1681:</font></a> it reads one more character, and so on.  For example,
<a name="line1682"><font color="#000000">1682:</font></a> 
<a name="line1683"><font color="#000000">1683:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1684"><font color="#000000">1684:</font></a> M-x global-set-key <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font> C-x 4 $ spell-other-window <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>
<a name="line1685"><font color="#000000">1685:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1686"><font color="#000000">1686:</font></a> 
<a name="line1687"><font color="#000000">1687:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1688"><font color="#000000">1688:</font></a> redefines <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x 4 $}</font> to run the (fictitious) command
<a name="line1689"><font color="#000000">1689:</font></a> <i><font color="#9A1900">@code{spell-other-window}.</font></i>
<a name="line1690"><font color="#000000">1690:</font></a> 
<a name="line1691"><font color="#000000">1691:</font></a>   You can remove the global definition of a key with
<a name="line1692"><font color="#000000">1692:</font></a> <i><font color="#9A1900">@code{global-unset-key}.  This makes the key @dfn{undefined}; if you</font></i>
<a name="line1693"><font color="#000000">1693:</font></a> type it, Emacs will just beep.  Similarly, <b><font color="#0000FF">@code</font></b><font color="#009900">{local-unset-key}</font> makes
<a name="line1694"><font color="#000000">1694:</font></a> a key undefined in the current major mode keymap, which makes the global
<a name="line1695"><font color="#000000">1695:</font></a> definition (or lack of one) come back into effect in that major mode.
<a name="line1696"><font color="#000000">1696:</font></a> 
<a name="line1697"><font color="#000000">1697:</font></a>   If you have redefined (or undefined) a key and you subsequently wish
<a name="line1698"><font color="#000000">1698:</font></a> to retract the change, undefining the key will not do the job---you need
<a name="line1699"><font color="#000000">1699:</font></a> to redefine the key with its standard definition.  To find the name of
<a name="line1700"><font color="#000000">1700:</font></a> the standard definition of a key, go to a Fundamental mode buffer in a
<a name="line1701"><font color="#000000">1701:</font></a> fresh Emacs and use <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h c}</font>.  The documentation of keys in this
<a name="line1702"><font color="#000000">1702:</font></a> manual also lists their command names.
<a name="line1703"><font color="#000000">1703:</font></a> 
<a name="line1704"><font color="#000000">1704:</font></a>   If you want to prevent yourself from invoking a command by mistake, it
<a name="line1705"><font color="#000000">1705:</font></a> is better to disable the command than to undefine the key.  A disabled
<a name="line1706"><font color="#000000">1706:</font></a> command is less work to invoke when you really want to.
<a name="line1707"><font color="#000000">1707:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Disabling</font><font color="#FF0000">}</font>.
<a name="line1708"><font color="#000000">1708:</font></a> 
<a name="line1709"><font color="#000000">1709:</font></a> <b><font color="#0000FF">@node</font></b> Init Rebinding
<a name="line1710"><font color="#000000">1710:</font></a> <b><font color="#0000FF">@subsection</font></b> Rebinding Keys in Your Init File
<a name="line1711"><font color="#000000">1711:</font></a> <i><font color="#9A1900">@cindex rebinding major mode keys</font></i>
<a name="line1712"><font color="#000000">1712:</font></a> <i><font color="#9A1900">@cindex key rebinding, permanent</font></i>
<a name="line1713"><font color="#000000">1713:</font></a> <i><font color="#9A1900">@cindex rebinding keys, permanently</font></i>
<a name="line1714"><font color="#000000">1714:</font></a> <i><font color="#9A1900">@c This node is referenced in the tutorial.  When renaming or deleting</font></i>
<a name="line1715"><font color="#000000">1715:</font></a> <i><font color="#9A1900">@c it, the tutorial needs to be adjusted.  (TUTORIAL.de)</font></i>
<a name="line1716"><font color="#000000">1716:</font></a> 
<a name="line1717"><font color="#000000">1717:</font></a>   If you have a set of key bindings that you like to use all the time,
<a name="line1718"><font color="#000000">1718:</font></a> you can specify them in your initialization file by writing Lisp code.
<a name="line1719"><font color="#000000">1719:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>, for a description of the initialization file.
<a name="line1720"><font color="#000000">1720:</font></a> 
<a name="line1721"><font color="#000000">1721:</font></a> <b><font color="#0000FF">@findex</font></b> kbd
<a name="line1722"><font color="#000000">1722:</font></a>   There are several ways to write a key binding using Lisp.  The
<a name="line1723"><font color="#000000">1723:</font></a> simplest is to use the <b><font color="#0000FF">@code</font></b><font color="#009900">{kbd}</font> function, which converts a textual
<a name="line1724"><font color="#000000">1724:</font></a> representation of a key sequence---similar to how we have written key
<a name="line1725"><font color="#000000">1725:</font></a> sequences in this manual---into a form that can be passed as an
<a name="line1726"><font color="#000000">1726:</font></a> argument to <b><font color="#0000FF">@code</font></b><font color="#009900">{global-set-key}</font>.  For example, here's how to bind
<a name="line1727"><font color="#000000">1727:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-z}</font> to the <b><font color="#0000FF">@code</font></b><font color="#009900">{shell}</font> command (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Interactive Shell</font><font color="#FF0000">}</font>):
<a name="line1728"><font color="#000000">1728:</font></a> 
<a name="line1729"><font color="#000000">1729:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1730"><font color="#000000">1730:</font></a> (global-set-key (kbd "C-z") 'shell)
<a name="line1731"><font color="#000000">1731:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1732"><font color="#000000">1732:</font></a> 
<a name="line1733"><font color="#000000">1733:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1734"><font color="#000000">1734:</font></a> The single-quote before the command name, <b><font color="#0000FF">@code</font></b><font color="#009900">{shell}</font>, marks it as a
<a name="line1735"><font color="#000000">1735:</font></a> constant symbol rather than a variable.  If you omit the quote, Emacs
<a name="line1736"><font color="#000000">1736:</font></a> would try to evaluate <b><font color="#0000FF">@code</font></b><font color="#009900">{shell}</font> as a variable.  This probably
<a name="line1737"><font color="#000000">1737:</font></a> causes an error; it certainly isn't what you want.
<a name="line1738"><font color="#000000">1738:</font></a> 
<a name="line1739"><font color="#000000">1739:</font></a>   Here are some additional examples, including binding function keys
<a name="line1740"><font color="#000000">1740:</font></a> and mouse events:
<a name="line1741"><font color="#000000">1741:</font></a> 
<a name="line1742"><font color="#000000">1742:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1743"><font color="#000000">1743:</font></a> (global-set-key (kbd "C-c y") 'clipboard-yank)
<a name="line1744"><font color="#000000">1744:</font></a> (global-set-key (kbd "C-M-q") 'query-replace)
<a name="line1745"><font color="#000000">1745:</font></a> (global-set-key (kbd "&lt;f5&gt;") 'flyspell-mode)
<a name="line1746"><font color="#000000">1746:</font></a> (global-set-key (kbd "C-&lt;f5&gt;") 'display-line-numbers-mode)
<a name="line1747"><font color="#000000">1747:</font></a> (global-set-key (kbd "C-&lt;right&gt;") 'forward-sentence)
<a name="line1748"><font color="#000000">1748:</font></a> (global-set-key (kbd "&lt;mouse-2&gt;") 'mouse-save-then-kill)
<a name="line1749"><font color="#000000">1749:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1750"><font color="#000000">1750:</font></a> 
<a name="line1751"><font color="#000000">1751:</font></a>   Instead of using <b><font color="#0000FF">@code</font></b><font color="#009900">{kbd}</font>, you can use a Lisp string or vector to
<a name="line1752"><font color="#000000">1752:</font></a> specify the key sequence.  Using a string is simpler, but only works
<a name="line1753"><font color="#000000">1753:</font></a> for <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters and Meta-modified <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font>
<a name="line1754"><font color="#000000">1754:</font></a> characters.  For example, here's how to bind <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x M-l}</font> to
<a name="line1755"><font color="#000000">1755:</font></a> <i><font color="#9A1900">@code{make-symbolic-link} (@pxref{Copying and Naming}):</font></i>
<a name="line1756"><font color="#000000">1756:</font></a> 
<a name="line1757"><font color="#000000">1757:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1758"><font color="#000000">1758:</font></a> (global-set-key "\C-x\M-l" 'make-symbolic-link)
<a name="line1759"><font color="#000000">1759:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1760"><font color="#000000">1760:</font></a> 
<a name="line1761"><font color="#000000">1761:</font></a>   To bind a key sequence including <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font>, or
<a name="line1762"><font color="#000000">1762:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>, the string should contain the Emacs Lisp escape sequence
<a name="line1763"><font color="#000000">1763:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\t}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\r}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\e}</font>, or <b><font color="#0000FF">@samp</font></b><font color="#009900">{\d}</font> respectively.  Here is
<a name="line1764"><font color="#000000">1764:</font></a> an example which binds <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @key{TAB}}</font> to <b><font color="#0000FF">@code</font></b><font color="#009900">{indent-rigidly}</font>
<a name="line1765"><font color="#000000">1765:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Indentation</font><font color="#FF0000">}</font>):
<a name="line1766"><font color="#000000">1766:</font></a> 
<a name="line1767"><font color="#000000">1767:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1768"><font color="#000000">1768:</font></a> (global-set-key "\C-x\t" 'indent-rigidly)
<a name="line1769"><font color="#000000">1769:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1770"><font color="#000000">1770:</font></a> 
<a name="line1771"><font color="#000000">1771:</font></a>   When the key sequence includes function keys or mouse button events,
<a name="line1772"><font color="#000000">1772:</font></a> or non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters such as <b><font color="#0000FF">@code</font></b><font color="#009900">{C-=}</font> or <b><font color="#0000FF">@code</font></b><font color="#009900">{H-a}</font>,
<a name="line1773"><font color="#000000">1773:</font></a> you can use a vector to specify the key sequence.  Each element in the
<a name="line1774"><font color="#000000">1774:</font></a> vector stands for an input event; the elements are separated by spaces
<a name="line1775"><font color="#000000">1775:</font></a> and surrounded by a pair of square brackets.  If a vector element is a
<a name="line1776"><font color="#000000">1776:</font></a> character, write it as a Lisp character constant: <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font> followed by
<a name="line1777"><font color="#000000">1777:</font></a> the character as it would appear in a string.  Function keys are
<a name="line1778"><font color="#000000">1778:</font></a> represented by symbols (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Function Keys</font><font color="#FF0000">}</font>); simply write the
<a name="line1779"><font color="#000000">1779:</font></a> symbol's name, with no other delimiters or punctuation.  Here are some
<a name="line1780"><font color="#000000">1780:</font></a> examples:
<a name="line1781"><font color="#000000">1781:</font></a> 
<a name="line1782"><font color="#000000">1782:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1783"><font color="#000000">1783:</font></a> (global-set-key [?\C-=] 'make-symbolic-link)
<a name="line1784"><font color="#000000">1784:</font></a> (global-set-key [?\M-\C-=] 'make-symbolic-link)
<a name="line1785"><font color="#000000">1785:</font></a> (global-set-key [?\H-a] 'make-symbolic-link)
<a name="line1786"><font color="#000000">1786:</font></a> (global-set-key [f7] 'make-symbolic-link)
<a name="line1787"><font color="#000000">1787:</font></a> (global-set-key [C-mouse-1] 'make-symbolic-link)
<a name="line1788"><font color="#000000">1788:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1789"><font color="#000000">1789:</font></a> 
<a name="line1790"><font color="#000000">1790:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line1791"><font color="#000000">1791:</font></a> You can use a vector for the simple cases too:
<a name="line1792"><font color="#000000">1792:</font></a> 
<a name="line1793"><font color="#000000">1793:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1794"><font color="#000000">1794:</font></a> (global-set-key [?\C-z ?\M-l] 'make-symbolic-link)
<a name="line1795"><font color="#000000">1795:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1796"><font color="#000000">1796:</font></a> 
<a name="line1797"><font color="#000000">1797:</font></a>   Language and coding systems may cause problems with key bindings for
<a name="line1798"><font color="#000000">1798:</font></a> non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Non-ASCII</font><font color="#FF0000">}</font>.
<a name="line1799"><font color="#000000">1799:</font></a> 
<a name="line1800"><font color="#000000">1800:</font></a>   As described in <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Local Keymaps</font><font color="#FF0000">}</font>, major modes and minor modes can
<a name="line1801"><font color="#000000">1801:</font></a> define local keymaps.  These keymaps are constructed when the mode is
<a name="line1802"><font color="#000000">1802:</font></a> used for the first time in a session.  If you wish to change one of
<a name="line1803"><font color="#000000">1803:</font></a> these keymaps, you must use the <b><font color="#0000FF">@dfn</font></b><font color="#009900">{mode hook}</font> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>).
<a name="line1804"><font color="#000000">1804:</font></a> 
<a name="line1805"><font color="#000000">1805:</font></a> <b><font color="#0000FF">@findex</font></b> define-key
<a name="line1806"><font color="#000000">1806:</font></a>   For example, Texinfo mode runs the hook <b><font color="#0000FF">@code</font></b><font color="#009900">{texinfo-mode-hook}</font>.
<a name="line1807"><font color="#000000">1807:</font></a> Here's how you can use the hook to add local bindings for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c n}</font>
<a name="line1808"><font color="#000000">1808:</font></a> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-c p}</font> in Texinfo mode:
<a name="line1809"><font color="#000000">1809:</font></a> 
<a name="line1810"><font color="#000000">1810:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1811"><font color="#000000">1811:</font></a> (add-hook 'texinfo-mode-hook
<a name="line1812"><font color="#000000">1812:</font></a>           (lambda ()
<a name="line1813"><font color="#000000">1813:</font></a>             (define-key texinfo-mode-map "\C-cp"
<a name="line1814"><font color="#000000">1814:</font></a>                         'backward-paragraph)
<a name="line1815"><font color="#000000">1815:</font></a>             (define-key texinfo-mode-map "\C-cn"
<a name="line1816"><font color="#000000">1816:</font></a>                         'forward-paragraph)))
<a name="line1817"><font color="#000000">1817:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1818"><font color="#000000">1818:</font></a> 
<a name="line1819"><font color="#000000">1819:</font></a> <b><font color="#0000FF">@node</font></b> Modifier Keys
<a name="line1820"><font color="#000000">1820:</font></a> <b><font color="#0000FF">@subsection</font></b> Modifier Keys
<a name="line1821"><font color="#000000">1821:</font></a> <i><font color="#9A1900">@cindex modifier keys, and key rebinding</font></i>
<a name="line1822"><font color="#000000">1822:</font></a> 
<a name="line1823"><font color="#000000">1823:</font></a>   The default key bindings in Emacs are set up so that modified
<a name="line1824"><font color="#000000">1824:</font></a> alphabetical characters are case-insensitive.  In other words,
<a name="line1825"><font color="#000000">1825:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-A}</font> does the same thing as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-a}</font>, and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-A}</font> does the
<a name="line1826"><font color="#000000">1826:</font></a> same thing as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-a}</font>.  This concerns only alphabetical characters,
<a name="line1827"><font color="#000000">1827:</font></a> and does not apply to shifted versions of other keys; for
<a name="line1828"><font color="#000000">1828:</font></a> instance, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-@@}</font> is not the same as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-2}</font>.
<a name="line1829"><font color="#000000">1829:</font></a> 
<a name="line1830"><font color="#000000">1830:</font></a>   A <b><font color="#0000FF">@key</font></b><font color="#009900">{Control}</font>-modified alphabetical character is always considered
<a name="line1831"><font color="#000000">1831:</font></a> case-insensitive: Emacs always treats <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-A}</font> as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-a}</font>,
<a name="line1832"><font color="#000000">1832:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-B}</font> as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-b}</font>, and so forth.  The reason for this is
<a name="line1833"><font color="#000000">1833:</font></a> historical.
<a name="line1834"><font color="#000000">1834:</font></a> 
<a name="line1835"><font color="#000000">1835:</font></a>   For all other modifiers, you can make the modified alphabetical
<a name="line1836"><font color="#000000">1836:</font></a> characters case-sensitive when you customize Emacs.  For instance, you
<a name="line1837"><font color="#000000">1837:</font></a> could make <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-a}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-A}</font> run different commands.
<a name="line1838"><font color="#000000">1838:</font></a> 
<a name="line1839"><font color="#000000">1839:</font></a>   Although only the <b><font color="#0000FF">@key</font></b><font color="#009900">{Control}</font> and <b><font color="#0000FF">@key</font></b><font color="#009900">{Meta}</font> modifier keys are
<a name="line1840"><font color="#000000">1840:</font></a> commonly used, Emacs supports three other modifier keys.  These are
<a name="line1841"><font color="#000000">1841:</font></a> called <b><font color="#0000FF">@key</font></b><font color="#009900">{Super}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{Hyper}</font>, and <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font>.  Few terminals provide
<a name="line1842"><font color="#000000">1842:</font></a> ways to use these modifiers; the key labeled <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font> on most
<a name="line1843"><font color="#000000">1843:</font></a> keyboards usually issues the <b><font color="#0000FF">@key</font></b><font color="#009900">{Meta}</font> modifier, not <b><font color="#0000FF">@key</font></b><font color="#009900">{Alt}</font>.  The
<a name="line1844"><font color="#000000">1844:</font></a> standard key bindings in Emacs do not include any characters with
<a name="line1845"><font color="#000000">1845:</font></a> these modifiers.  However, you can customize Emacs to assign meanings
<a name="line1846"><font color="#000000">1846:</font></a> to them.  The modifier bits are labeled as <b><font color="#0000FF">@samp</font></b><font color="#009900">{s-}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{H-}</font> and
<a name="line1847"><font color="#000000">1847:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{A-}</font> respectively.
<a name="line1848"><font color="#000000">1848:</font></a> 
<a name="line1849"><font color="#000000">1849:</font></a>   Even if your keyboard lacks these additional modifier keys, you can
<a name="line1850"><font color="#000000">1850:</font></a> enter it using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @@}</font>: <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @@ h}</font> adds the Hyper flag to
<a name="line1851"><font color="#000000">1851:</font></a> the next character, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @@ s}</font> adds the Super flag, and
<a name="line1852"><font color="#000000">1852:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @@ a}</font> adds the Alt flag.  For instance, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @@ h</font>
<a name="line1853"><font color="#000000">1853:</font></a> <font color="#009900">C-a}</font> is a way to enter <b><font color="#0000FF">@kbd</font></b><font color="#009900">{Hyper-Control-a}</font>.  (Unfortunately, there
<a name="line1854"><font color="#000000">1854:</font></a> is no way to add two modifiers by using <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x @@}</font> twice for the
<a name="line1855"><font color="#000000">1855:</font></a> same character, because the first one goes to work on the <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x}</font>.)
<a name="line1856"><font color="#000000">1856:</font></a> 
<a name="line1857"><font color="#000000">1857:</font></a> <b><font color="#0000FF">@node</font></b> Function Keys
<a name="line1858"><font color="#000000">1858:</font></a> <b><font color="#0000FF">@subsection</font></b> Rebinding Function Keys
<a name="line1859"><font color="#000000">1859:</font></a> 
<a name="line1860"><font color="#000000">1860:</font></a>   Key sequences can contain function keys as well as ordinary
<a name="line1861"><font color="#000000">1861:</font></a> characters.  Just as Lisp characters (actually integers) represent
<a name="line1862"><font color="#000000">1862:</font></a> keyboard characters, Lisp symbols represent function keys.  If the
<a name="line1863"><font color="#000000">1863:</font></a> function key has a word as its label, then that word is also the name of
<a name="line1864"><font color="#000000">1864:</font></a> the corresponding Lisp symbol.  Here are the conventional Lisp names for
<a name="line1865"><font color="#000000">1865:</font></a> common function keys:
<a name="line1866"><font color="#000000">1866:</font></a> 
<a name="line1867"><font color="#000000">1867:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line1868"><font color="#000000">1868:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{left}, @code{up}, @code{right}, @code{down}</font></i>
<a name="line1869"><font color="#000000">1869:</font></a> Cursor arrow keys.
<a name="line1870"><font color="#000000">1870:</font></a> 
<a name="line1871"><font color="#000000">1871:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{begin}, @code{end}, @code{home}, @code{next}, @code{prior}</font></i>
<a name="line1872"><font color="#000000">1872:</font></a> Other cursor repositioning keys.
<a name="line1873"><font color="#000000">1873:</font></a> 
<a name="line1874"><font color="#000000">1874:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{select}, @code{print}, @code{execute}, @code{backtab}</font></i>
<a name="line1875"><font color="#000000">1875:</font></a> <b><font color="#0000FF">@itemx</font></b> <i><font color="#9A1900">@code{insert}, @code{undo}, @code{redo}, @code{clearline}</font></i>
<a name="line1876"><font color="#000000">1876:</font></a> <b><font color="#0000FF">@itemx</font></b> <i><font color="#9A1900">@code{insertline}, @code{deleteline}, @code{insertchar}, @code{deletechar}</font></i>
<a name="line1877"><font color="#000000">1877:</font></a> Miscellaneous function keys.
<a name="line1878"><font color="#000000">1878:</font></a> 
<a name="line1879"><font color="#000000">1879:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{f1}, @code{f2}, @dots{} @code{f35}</font></i>
<a name="line1880"><font color="#000000">1880:</font></a> Numbered function keys (across the top of the keyboard).
<a name="line1881"><font color="#000000">1881:</font></a> 
<a name="line1882"><font color="#000000">1882:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{kp-add}, @code{kp-subtract}, @code{kp-multiply}, @code{kp-divide}</font></i>
<a name="line1883"><font color="#000000">1883:</font></a> <b><font color="#0000FF">@itemx</font></b> <i><font color="#9A1900">@code{kp-backtab}, @code{kp-space}, @code{kp-tab}, @code{kp-enter}</font></i>
<a name="line1884"><font color="#000000">1884:</font></a> <b><font color="#0000FF">@itemx</font></b> <i><font color="#9A1900">@code{kp-separator}, @code{kp-decimal}, @code{kp-equal}</font></i>
<a name="line1885"><font color="#000000">1885:</font></a> <b><font color="#0000FF">@itemx</font></b> <i><font color="#9A1900">@code{kp-prior}, @code{kp-next}, @code{kp-end}, @code{kp-home}</font></i>
<a name="line1886"><font color="#000000">1886:</font></a> <b><font color="#0000FF">@itemx</font></b> <i><font color="#9A1900">@code{kp-left}, @code{kp-up}, @code{kp-right}, @code{kp-down}</font></i>
<a name="line1887"><font color="#000000">1887:</font></a> <b><font color="#0000FF">@itemx</font></b> <i><font color="#9A1900">@code{kp-insert }, @code{kp-delete}</font></i>
<a name="line1888"><font color="#000000">1888:</font></a> Keypad keys (to the right of the regular keyboard), with names or punctuation.
<a name="line1889"><font color="#000000">1889:</font></a> 
<a name="line1890"><font color="#000000">1890:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{kp-0}, @code{kp-1}, @dots{} @code{kp-9}</font></i>
<a name="line1891"><font color="#000000">1891:</font></a> Keypad keys with digits.
<a name="line1892"><font color="#000000">1892:</font></a> 
<a name="line1893"><font color="#000000">1893:</font></a> <b><font color="#0000FF">@item</font></b> <i><font color="#9A1900">@code{kp-f1}, @code{kp-f2}, @code{kp-f3}, @code{kp-f4}</font></i>
<a name="line1894"><font color="#000000">1894:</font></a> Keypad PF keys.
<a name="line1895"><font color="#000000">1895:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line1896"><font color="#000000">1896:</font></a> 
<a name="line1897"><font color="#000000">1897:</font></a>   These names are conventional, but some systems (especially when using
<a name="line1898"><font color="#000000">1898:</font></a> X) may use different names.  To make certain what symbol is used for a
<a name="line1899"><font color="#000000">1899:</font></a> given function key on your terminal, type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-h c}</font> followed by that
<a name="line1900"><font color="#000000">1900:</font></a> key.
<a name="line1901"><font color="#000000">1901:</font></a> 
<a name="line1902"><font color="#000000">1902:</font></a>   <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Rebinding</font><font color="#FF0000">}</font>, for examples of binding function keys.
<a name="line1903"><font color="#000000">1903:</font></a> 
<a name="line1904"><font color="#000000">1904:</font></a> <i><font color="#9A1900">@cindex keypad</font></i>
<a name="line1905"><font color="#000000">1905:</font></a>   Many keyboards have a numeric keypad on the right-hand side.
<a name="line1906"><font color="#000000">1906:</font></a> The numeric keys in the keypad double up as cursor motion keys,
<a name="line1907"><font color="#000000">1907:</font></a> toggled by a key labeled <b><font color="#0000FF">@samp</font></b><font color="#009900">{Num Lock}</font>.  By default, Emacs
<a name="line1908"><font color="#000000">1908:</font></a> translates these keys to the corresponding keys on the main keyboard.
<a name="line1909"><font color="#000000">1909:</font></a> For example, when <b><font color="#0000FF">@samp</font></b><font color="#009900">{Num Lock}</font> is on, the key labeled <b><font color="#0000FF">@samp</font></b><font color="#009900">{8}</font> on
<a name="line1910"><font color="#000000">1910:</font></a> the numeric keypad produces <b><font color="#0000FF">@code</font></b><font color="#009900">{kp-8}</font>, which is translated to
<a name="line1911"><font color="#000000">1911:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{8}</font>; when <b><font color="#0000FF">@samp</font></b><font color="#009900">{Num Lock}</font> is off, the same key produces
<a name="line1912"><font color="#000000">1912:</font></a> <i><font color="#9A1900">@code{kp-up}, which is translated to @key{UP}.  If you rebind a key</font></i>
<a name="line1913"><font color="#000000">1913:</font></a> such as <b><font color="#0000FF">@kbd</font></b><font color="#009900">{8}</font> or <b><font color="#0000FF">@key</font></b><font color="#009900">{UP}</font>, it affects the equivalent keypad key too.
<a name="line1914"><font color="#000000">1914:</font></a> However, if you rebind a <b><font color="#0000FF">@samp</font></b><font color="#009900">{kp-}</font> key directly, that won't affect
<a name="line1915"><font color="#000000">1915:</font></a> its non-keypad equivalent.  Note that the modified keys are not
<a name="line1916"><font color="#000000">1916:</font></a> translated: for instance, if you hold down the <b><font color="#0000FF">@key</font></b><font color="#009900">{Meta}</font> key while
<a name="line1917"><font color="#000000">1917:</font></a> pressing the <b><font color="#0000FF">@samp</font></b><font color="#009900">{8}</font> key on the numeric keypad, that generates
<a name="line1918"><font color="#000000">1918:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-@key{kp-8}}</font>.
<a name="line1919"><font color="#000000">1919:</font></a> 
<a name="line1920"><font color="#000000">1920:</font></a>   Emacs provides a convenient method for binding the numeric keypad
<a name="line1921"><font color="#000000">1921:</font></a> keys, using the variables <b><font color="#0000FF">@code</font></b><font color="#009900">{keypad-setup}</font>,
<a name="line1922"><font color="#000000">1922:</font></a> <i><font color="#9A1900">@code{keypad-numlock-setup}, @code{keypad-shifted-setup}, and</font></i>
<a name="line1923"><font color="#000000">1923:</font></a> <i><font color="#9A1900">@code{keypad-numlock-shifted-setup}.  These can be found in the</font></i>
<a name="line1924"><font color="#000000">1924:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{keyboard}</font> customization group (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Easy Customization</font><font color="#FF0000">}</font>).  You
<a name="line1925"><font color="#000000">1925:</font></a> can rebind the keys to perform other tasks, such as issuing numeric
<a name="line1926"><font color="#000000">1926:</font></a> prefix arguments.
<a name="line1927"><font color="#000000">1927:</font></a> 
<a name="line1928"><font color="#000000">1928:</font></a> <b><font color="#0000FF">@node</font></b> Named ASCII Chars
<a name="line1929"><font color="#000000">1929:</font></a> <b><font color="#0000FF">@subsection</font></b> Named <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> Control Characters
<a name="line1930"><font color="#000000">1930:</font></a> 
<a name="line1931"><font color="#000000">1931:</font></a>   <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{RET}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{BS}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{LFD}</font>, <b><font color="#0000FF">@key</font></b><font color="#009900">{ESC}</font>, and <b><font color="#0000FF">@key</font></b><font color="#009900">{DEL}</font>
<a name="line1932"><font color="#000000">1932:</font></a> started out as names for certain <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> control characters,
<a name="line1933"><font color="#000000">1933:</font></a> used so often that they have special keys of their own.  For instance,
<a name="line1934"><font color="#000000">1934:</font></a> <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> was another name for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-i}</font>.  Later, users found it
<a name="line1935"><font color="#000000">1935:</font></a> convenient to distinguish in Emacs between these keys and the corresponding
<a name="line1936"><font color="#000000">1936:</font></a> control characters typed with the <b><font color="#0000FF">@key</font></b><font color="#009900">{Ctrl}</font> key.  Therefore, on most
<a name="line1937"><font color="#000000">1937:</font></a> modern terminals, they are no longer the same: <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> is different
<a name="line1938"><font color="#000000">1938:</font></a> from <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-i}</font>.
<a name="line1939"><font color="#000000">1939:</font></a> 
<a name="line1940"><font color="#000000">1940:</font></a>   Emacs can distinguish these two kinds of input if the keyboard does.
<a name="line1941"><font color="#000000">1941:</font></a> It treats the special keys as function keys named <b><font color="#0000FF">@code</font></b><font color="#009900">{tab}</font>,
<a name="line1942"><font color="#000000">1942:</font></a> <i><font color="#9A1900">@code{return}, @code{backspace}, @code{linefeed}, @code{escape}, and</font></i>
<a name="line1943"><font color="#000000">1943:</font></a> <i><font color="#9A1900">@code{delete}.  These function keys translate automatically into the</font></i>
<a name="line1944"><font color="#000000">1944:</font></a> corresponding <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">if</font></i><font color="#FF0000">}</font> they have no
<a name="line1945"><font color="#000000">1945:</font></a> bindings of their own.  As a result, neither users nor Lisp programs
<a name="line1946"><font color="#000000">1946:</font></a> need to pay attention to the distinction unless they care to.
<a name="line1947"><font color="#000000">1947:</font></a> 
<a name="line1948"><font color="#000000">1948:</font></a>   If you do not want to distinguish between (for example) <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> and
<a name="line1949"><font color="#000000">1949:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-i}</font>, make just one binding, for the <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> character <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font>
<a name="line1950"><font color="#000000">1950:</font></a> (octal code 011).  If you do want to distinguish, make one binding for
<a name="line1951"><font color="#000000">1951:</font></a> this <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> character, and another for the function key <b><font color="#0000FF">@code</font></b><font color="#009900">{tab}</font>.
<a name="line1952"><font color="#000000">1952:</font></a> 
<a name="line1953"><font color="#000000">1953:</font></a>   With an ordinary <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> terminal, there is no way to distinguish
<a name="line1954"><font color="#000000">1954:</font></a> between <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> and <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-i}</font> (and likewise for other such pairs),
<a name="line1955"><font color="#000000">1955:</font></a> because the terminal sends the same character in both cases.
<a name="line1956"><font color="#000000">1956:</font></a> 
<a name="line1957"><font color="#000000">1957:</font></a> <b><font color="#0000FF">@node</font></b> Mouse Buttons
<a name="line1958"><font color="#000000">1958:</font></a> <b><font color="#0000FF">@subsection</font></b> Rebinding Mouse Buttons
<a name="line1959"><font color="#000000">1959:</font></a> <i><font color="#9A1900">@cindex mouse button events</font></i>
<a name="line1960"><font color="#000000">1960:</font></a> <i><font color="#9A1900">@cindex rebinding mouse buttons</font></i>
<a name="line1961"><font color="#000000">1961:</font></a> <i><font color="#9A1900">@cindex click events</font></i>
<a name="line1962"><font color="#000000">1962:</font></a> <i><font color="#9A1900">@cindex drag events</font></i>
<a name="line1963"><font color="#000000">1963:</font></a> <i><font color="#9A1900">@cindex down events</font></i>
<a name="line1964"><font color="#000000">1964:</font></a> <i><font color="#9A1900">@cindex button-down events</font></i>
<a name="line1965"><font color="#000000">1965:</font></a> 
<a name="line1966"><font color="#000000">1966:</font></a>   Emacs uses Lisp symbols to designate mouse buttons, too.  The ordinary
<a name="line1967"><font color="#000000">1967:</font></a> mouse events in Emacs are <b><font color="#0000FF">@dfn</font></b><font color="#009900">{click}</font> events; these happen when you
<a name="line1968"><font color="#000000">1968:</font></a> press a button and release it without moving the mouse.  You can also
<a name="line1969"><font color="#000000">1969:</font></a> get <b><font color="#0000FF">@dfn</font></b><font color="#009900">{drag}</font> events, when you move the mouse while holding the button
<a name="line1970"><font color="#000000">1970:</font></a> down.  Drag events happen when you finally let go of the button.
<a name="line1971"><font color="#000000">1971:</font></a> 
<a name="line1972"><font color="#000000">1972:</font></a>   The symbols for basic click events are <b><font color="#0000FF">@code</font></b><font color="#009900">{mouse-1}</font> for the leftmost
<a name="line1973"><font color="#000000">1973:</font></a> button, <b><font color="#0000FF">@code</font></b><font color="#009900">{mouse-2}</font> for the next, and so on.  Here is how you can
<a name="line1974"><font color="#000000">1974:</font></a> redefine the second mouse button to split the current window:
<a name="line1975"><font color="#000000">1975:</font></a> 
<a name="line1976"><font color="#000000">1976:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line1977"><font color="#000000">1977:</font></a> (global-set-key [mouse-2] 'split-window-below)
<a name="line1978"><font color="#000000">1978:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line1979"><font color="#000000">1979:</font></a> 
<a name="line1980"><font color="#000000">1980:</font></a>   The symbols for drag events are similar, but have the prefix
<a name="line1981"><font color="#000000">1981:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{drag-}</font> before the word <b><font color="#0000FF">@samp</font></b><font color="#009900">{mouse}</font>.  For example, dragging the
<a name="line1982"><font color="#000000">1982:</font></a> first button generates a <b><font color="#0000FF">@code</font></b><font color="#009900">{drag-mouse-1}</font> event.
<a name="line1983"><font color="#000000">1983:</font></a> 
<a name="line1984"><font color="#000000">1984:</font></a>   You can also define bindings for events that occur when a mouse button
<a name="line1985"><font color="#000000">1985:</font></a> is pressed down.  These events start with <b><font color="#0000FF">@samp</font></b><font color="#009900">{down-}</font> instead of
<a name="line1986"><font color="#000000">1986:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{drag-}</font>.  Such events are generated only if they have key bindings.
<a name="line1987"><font color="#000000">1987:</font></a> When you get a button-down event, a corresponding click or drag event
<a name="line1988"><font color="#000000">1988:</font></a> will always follow.
<a name="line1989"><font color="#000000">1989:</font></a> 
<a name="line1990"><font color="#000000">1990:</font></a> <i><font color="#9A1900">@cindex double clicks</font></i>
<a name="line1991"><font color="#000000">1991:</font></a> <i><font color="#9A1900">@cindex triple clicks</font></i>
<a name="line1992"><font color="#000000">1992:</font></a>   If you wish, you can distinguish single, double, and triple clicks.  A
<a name="line1993"><font color="#000000">1993:</font></a> double click means clicking a mouse button twice in approximately the
<a name="line1994"><font color="#000000">1994:</font></a> same place.  The first click generates an ordinary click event.  The
<a name="line1995"><font color="#000000">1995:</font></a> second click, if it comes soon enough, generates a double-click event
<a name="line1996"><font color="#000000">1996:</font></a> instead.  The event type for a double-click event starts with
<a name="line1997"><font color="#000000">1997:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{double-}</font>: for example, <b><font color="#0000FF">@code</font></b><font color="#009900">{double-mouse-3}</font>.
<a name="line1998"><font color="#000000">1998:</font></a> 
<a name="line1999"><font color="#000000">1999:</font></a>   This means that you can give a special meaning to the second click at
<a name="line2000"><font color="#000000">2000:</font></a> the same place, but it must act on the assumption that the ordinary
<a name="line2001"><font color="#000000">2001:</font></a> single click definition has run when the first click was received.
<a name="line2002"><font color="#000000">2002:</font></a> 
<a name="line2003"><font color="#000000">2003:</font></a>   This constrains what you can do with double clicks, but user interface
<a name="line2004"><font color="#000000">2004:</font></a> designers say that this constraint ought to be followed in any case.  A
<a name="line2005"><font color="#000000">2005:</font></a> double click should do something similar to the single click, only
<a name="line2006"><font color="#000000">2006:</font></a> more so.  The command for the double-click event should perform the
<a name="line2007"><font color="#000000">2007:</font></a> extra work for the double click.
<a name="line2008"><font color="#000000">2008:</font></a> 
<a name="line2009"><font color="#000000">2009:</font></a>   If a double-click event has no binding, it changes to the
<a name="line2010"><font color="#000000">2010:</font></a> corresponding single-click event.  Thus, if you don't define a
<a name="line2011"><font color="#000000">2011:</font></a> particular double click specially, it executes the single-click command
<a name="line2012"><font color="#000000">2012:</font></a> twice.
<a name="line2013"><font color="#000000">2013:</font></a> 
<a name="line2014"><font color="#000000">2014:</font></a>   Emacs also supports triple-click events whose names start with
<a name="line2015"><font color="#000000">2015:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{triple-}</font>.  Emacs does not distinguish quadruple clicks as event
<a name="line2016"><font color="#000000">2016:</font></a> types; clicks beyond the third generate additional triple-click events.
<a name="line2017"><font color="#000000">2017:</font></a> However, the full number of clicks is recorded in the event list, so
<a name="line2018"><font color="#000000">2018:</font></a> if you know Emacs Lisp you can distinguish if you really want to
<a name="line2019"><font color="#000000">2019:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Click Events,,, elisp, The Emacs Lisp Reference Manual</font><font color="#FF0000">}</font>).
<a name="line2020"><font color="#000000">2020:</font></a> We don't recommend distinct meanings for more than three clicks, but
<a name="line2021"><font color="#000000">2021:</font></a> sometimes it is useful for subsequent clicks to cycle through the same
<a name="line2022"><font color="#000000">2022:</font></a> set of three meanings, so that four clicks are equivalent to one
<a name="line2023"><font color="#000000">2023:</font></a> click, five are equivalent to two, and six are equivalent to three.
<a name="line2024"><font color="#000000">2024:</font></a> 
<a name="line2025"><font color="#000000">2025:</font></a>   Emacs also records multiple presses in drag and button-down events.
<a name="line2026"><font color="#000000">2026:</font></a> For example, when you press a button twice, then move the mouse while
<a name="line2027"><font color="#000000">2027:</font></a> holding the button, Emacs gets a <b><font color="#0000FF">@samp</font></b><font color="#009900">{double-drag-}</font> event.  And at the
<a name="line2028"><font color="#000000">2028:</font></a> moment when you press it down for the second time, Emacs gets a
<a name="line2029"><font color="#000000">2029:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{double-down-}</font> event (which is ignored, like all button-down
<a name="line2030"><font color="#000000">2030:</font></a> events, if it has no binding).
<a name="line2031"><font color="#000000">2031:</font></a> 
<a name="line2032"><font color="#000000">2032:</font></a> <b><font color="#0000FF">@vindex</font></b> double-click-time
<a name="line2033"><font color="#000000">2033:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{double-click-time}</font> specifies how much time can
<a name="line2034"><font color="#000000">2034:</font></a> elapse between clicks and still allow them to be grouped as a multiple
<a name="line2035"><font color="#000000">2035:</font></a> click.  Its value is in units of milliseconds.  If the value is
<a name="line2036"><font color="#000000">2036:</font></a> <i><font color="#9A1900">@code{nil}, double clicks are not detected at all.  If the value is</font></i>
<a name="line2037"><font color="#000000">2037:</font></a> <i><font color="#9A1900">@code{t}, then there is no time limit.  The default is 500.</font></i>
<a name="line2038"><font color="#000000">2038:</font></a> 
<a name="line2039"><font color="#000000">2039:</font></a> <b><font color="#0000FF">@vindex</font></b> double-click-fuzz
<a name="line2040"><font color="#000000">2040:</font></a>   The variable <b><font color="#0000FF">@code</font></b><font color="#009900">{double-click-fuzz}</font> specifies how much the mouse
<a name="line2041"><font color="#000000">2041:</font></a> can move between clicks and still allow them to be grouped as a multiple
<a name="line2042"><font color="#000000">2042:</font></a> click.  Its value is in units of pixels on windowed displays and in
<a name="line2043"><font color="#000000">2043:</font></a> units of 1/8 of a character cell on text-mode terminals; the default is
<a name="line2044"><font color="#000000">2044:</font></a> 3.
<a name="line2045"><font color="#000000">2045:</font></a> 
<a name="line2046"><font color="#000000">2046:</font></a>   The symbols for mouse events also indicate the status of the modifier
<a name="line2047"><font color="#000000">2047:</font></a> keys, with the usual prefixes <b><font color="#0000FF">@samp</font></b><font color="#009900">{C-}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{M-}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{H-}</font>,
<a name="line2048"><font color="#000000">2048:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{s-}</font>, <b><font color="#0000FF">@samp</font></b><font color="#009900">{A-}</font>, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{S-}</font>.  These always precede <b><font color="#0000FF">@samp</font></b><font color="#009900">{double-}</font>
<a name="line2049"><font color="#000000">2049:</font></a> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{triple-}</font>, which always precede <b><font color="#0000FF">@samp</font></b><font color="#009900">{drag-}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{down-}</font>.
<a name="line2050"><font color="#000000">2050:</font></a> 
<a name="line2051"><font color="#000000">2051:</font></a>   A frame includes areas that don't show text from the buffer, such as
<a name="line2052"><font color="#000000">2052:</font></a> the mode line and the scroll bar.  You can tell whether a mouse button
<a name="line2053"><font color="#000000">2053:</font></a> comes from a special area of the screen by means of dummy prefix
<a name="line2054"><font color="#000000">2054:</font></a> keys.  For example, if you click the mouse in the mode line, you get
<a name="line2055"><font color="#000000">2055:</font></a> the prefix key <b><font color="#0000FF">@code</font></b><font color="#009900">{mode-line}</font> before the ordinary mouse-button symbol.
<a name="line2056"><font color="#000000">2056:</font></a> Thus, here is how to define the command for clicking the first button in
<a name="line2057"><font color="#000000">2057:</font></a> a mode line to run <b><font color="#0000FF">@code</font></b><font color="#009900">{scroll-up-command}</font>:
<a name="line2058"><font color="#000000">2058:</font></a> 
<a name="line2059"><font color="#000000">2059:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2060"><font color="#000000">2060:</font></a> (global-set-key [mode-line mouse-1] 'scroll-up-command)
<a name="line2061"><font color="#000000">2061:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2062"><font color="#000000">2062:</font></a> 
<a name="line2063"><font color="#000000">2063:</font></a>   Here is the complete list of these dummy prefix keys and their
<a name="line2064"><font color="#000000">2064:</font></a> meanings:
<a name="line2065"><font color="#000000">2065:</font></a> 
<a name="line2066"><font color="#000000">2066:</font></a> <b><font color="#0000FF">@table</font></b> <i><font color="#9A1900">@code</font></i>
<a name="line2067"><font color="#000000">2067:</font></a> <b><font color="#0000FF">@item</font></b> mode-line
<a name="line2068"><font color="#000000">2068:</font></a> The mouse was in the mode line of a window.
<a name="line2069"><font color="#000000">2069:</font></a> <b><font color="#0000FF">@item</font></b> vertical-line
<a name="line2070"><font color="#000000">2070:</font></a> The mouse was in the vertical line separating side-by-side windows.  (If
<a name="line2071"><font color="#000000">2071:</font></a> you use scroll bars, they appear in place of these vertical lines.)
<a name="line2072"><font color="#000000">2072:</font></a> <b><font color="#0000FF">@item</font></b> vertical-scroll-bar
<a name="line2073"><font color="#000000">2073:</font></a> The mouse was in a vertical scroll bar.  (This is the only kind of
<a name="line2074"><font color="#000000">2074:</font></a> scroll bar Emacs currently supports.)
<a name="line2075"><font color="#000000">2075:</font></a> <b><font color="#0000FF">@item</font></b> menu-bar
<a name="line2076"><font color="#000000">2076:</font></a> The mouse was in the menu bar.
<a name="line2077"><font color="#000000">2077:</font></a> <b><font color="#0000FF">@item</font></b> header-line
<a name="line2078"><font color="#000000">2078:</font></a> The mouse was in a header line.
<a name="line2079"><font color="#000000">2079:</font></a> <b><font color="#0000FF">@ignore</font></b>
<a name="line2080"><font color="#000000">2080:</font></a> <b><font color="#0000FF">@item</font></b> horizontal-scroll-bar
<a name="line2081"><font color="#000000">2081:</font></a> The mouse was in a horizontal scroll bar.  Horizontal scroll bars do
<a name="line2082"><font color="#000000">2082:</font></a> horizontal scrolling, and people don't use them often.
<a name="line2083"><font color="#000000">2083:</font></a> <b><font color="#0000FF">@end ignore</font></b>
<a name="line2084"><font color="#000000">2084:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2085"><font color="#000000">2085:</font></a> 
<a name="line2086"><font color="#000000">2086:</font></a>   You can put more than one mouse button in a key sequence, but it isn't
<a name="line2087"><font color="#000000">2087:</font></a> usual to do so.
<a name="line2088"><font color="#000000">2088:</font></a> 
<a name="line2089"><font color="#000000">2089:</font></a> <b><font color="#0000FF">@node</font></b> Disabling
<a name="line2090"><font color="#000000">2090:</font></a> <b><font color="#0000FF">@subsection</font></b> Disabling Commands
<a name="line2091"><font color="#000000">2091:</font></a> <i><font color="#9A1900">@cindex disabled command</font></i>
<a name="line2092"><font color="#000000">2092:</font></a> 
<a name="line2093"><font color="#000000">2093:</font></a>   Disabling a command means that invoking it interactively asks for
<a name="line2094"><font color="#000000">2094:</font></a> confirmation from the user.  The purpose of disabling a command is to
<a name="line2095"><font color="#000000">2095:</font></a> prevent users from executing it by accident; we do this for commands
<a name="line2096"><font color="#000000">2096:</font></a> that might be confusing to the uninitiated.
<a name="line2097"><font color="#000000">2097:</font></a> 
<a name="line2098"><font color="#000000">2098:</font></a>   Attempting to invoke a disabled command interactively in Emacs
<a name="line2099"><font color="#000000">2099:</font></a> displays a window containing the command's name, its documentation,
<a name="line2100"><font color="#000000">2100:</font></a> and some instructions on what to do immediately; then Emacs asks for
<a name="line2101"><font color="#000000">2101:</font></a> input saying whether to execute the command as requested, enable it
<a name="line2102"><font color="#000000">2102:</font></a> and execute it, or cancel.  If you decide to enable the command, you
<a name="line2103"><font color="#000000">2103:</font></a> must then answer another question---whether to do this permanently, or
<a name="line2104"><font color="#000000">2104:</font></a> just for the current session.  (Enabling permanently works by
<a name="line2105"><font color="#000000">2105:</font></a> automatically editing your initialization file.)  You can also type
<a name="line2106"><font color="#000000">2106:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{!}</font> to enable <b><font color="#0000FF">@emph</font></b><font color="#FF0000">{</font><i><font color="#009900">all</font></i><font color="#FF0000">}</font> commands, for the current session only.
<a name="line2107"><font color="#000000">2107:</font></a> 
<a name="line2108"><font color="#000000">2108:</font></a>   The direct mechanism for disabling a command is to put a
<a name="line2109"><font color="#000000">2109:</font></a> non-<b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> <i><font color="#9A1900">@code{disabled} property on the Lisp symbol for the</font></i>
<a name="line2110"><font color="#000000">2110:</font></a> command.  Here is the Lisp program to do this:
<a name="line2111"><font color="#000000">2111:</font></a> 
<a name="line2112"><font color="#000000">2112:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2113"><font color="#000000">2113:</font></a> (put 'delete-region 'disabled t)
<a name="line2114"><font color="#000000">2114:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2115"><font color="#000000">2115:</font></a> 
<a name="line2116"><font color="#000000">2116:</font></a>   If the value of the <b><font color="#0000FF">@code</font></b><font color="#009900">{disabled}</font> property is a string, that string
<a name="line2117"><font color="#000000">2117:</font></a> is included in the message displayed when the command is used:
<a name="line2118"><font color="#000000">2118:</font></a> 
<a name="line2119"><font color="#000000">2119:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2120"><font color="#000000">2120:</font></a> (put 'delete-region 'disabled
<a name="line2121"><font color="#000000">2121:</font></a>      "It's better to use `kill-region' instead.\n")
<a name="line2122"><font color="#000000">2122:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2123"><font color="#000000">2123:</font></a> 
<a name="line2124"><font color="#000000">2124:</font></a> <b><font color="#0000FF">@findex</font></b> disable-command
<a name="line2125"><font color="#000000">2125:</font></a> <b><font color="#0000FF">@findex</font></b> enable-command
<a name="line2126"><font color="#000000">2126:</font></a>   You can make a command disabled either by editing the initialization
<a name="line2127"><font color="#000000">2127:</font></a> file directly, or with the command <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x disable-command}</font>, which
<a name="line2128"><font color="#000000">2128:</font></a> edits the initialization file for you.  Likewise, <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x</font>
<a name="line2129"><font color="#000000">2129:</font></a> <font color="#009900">enable-command}</font> edits the initialization file to enable a command
<a name="line2130"><font color="#000000">2130:</font></a> permanently.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init File</font><font color="#FF0000">}</font>.
<a name="line2131"><font color="#000000">2131:</font></a> 
<a name="line2132"><font color="#000000">2132:</font></a>   If Emacs was invoked with the <b><font color="#0000FF">@option</font></b><font color="#009900">{-q}</font> or <b><font color="#0000FF">@option</font></b><font color="#009900">{--no-init-file}</font>
<a name="line2133"><font color="#000000">2133:</font></a> options (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>), it will not edit your
<a name="line2134"><font color="#000000">2134:</font></a> initialization file.  Doing so could lose information because Emacs
<a name="line2135"><font color="#000000">2135:</font></a> has not read your initialization file.
<a name="line2136"><font color="#000000">2136:</font></a> 
<a name="line2137"><font color="#000000">2137:</font></a>   Whether a command is disabled is independent of what key is used to
<a name="line2138"><font color="#000000">2138:</font></a> invoke it; disabling also applies if the command is invoked using
<a name="line2139"><font color="#000000">2139:</font></a> <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x}</font>.  However, disabling a command has no effect on calling it
<a name="line2140"><font color="#000000">2140:</font></a> as a function from Lisp programs.
<a name="line2141"><font color="#000000">2141:</font></a> 
<a name="line2142"><font color="#000000">2142:</font></a> <b><font color="#0000FF">@node</font></b> Init File
<a name="line2143"><font color="#000000">2143:</font></a> <b><font color="#0000FF">@section</font></b> The Emacs Initialization File
<a name="line2144"><font color="#000000">2144:</font></a> <i><font color="#9A1900">@cindex init file</font></i>
<a name="line2145"><font color="#000000">2145:</font></a> <i><font color="#9A1900">@cindex .emacs file</font></i>
<a name="line2146"><font color="#000000">2146:</font></a> <i><font color="#9A1900">@cindex ~/.emacs file</font></i>
<a name="line2147"><font color="#000000">2147:</font></a> <i><font color="#9A1900">@cindex Emacs initialization file</font></i>
<a name="line2148"><font color="#000000">2148:</font></a> <i><font color="#9A1900">@cindex startup (init file)</font></i>
<a name="line2149"><font color="#000000">2149:</font></a> 
<a name="line2150"><font color="#000000">2150:</font></a>   When Emacs is started, it normally tries to load a Lisp program from
<a name="line2151"><font color="#000000">2151:</font></a> an <b><font color="#0000FF">@dfn</font></b><font color="#009900">{initialization file}</font>, or <b><font color="#0000FF">@dfn</font></b><font color="#009900">{init file}</font> for short.  This
<a name="line2152"><font color="#000000">2152:</font></a> file, if it exists, specifies how to initialize Emacs for you.  Emacs
<a name="line2153"><font color="#000000">2153:</font></a> looks for your init file using the filenames <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs}</font>,
<a name="line2154"><font color="#000000">2154:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.el}</font>, or <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/init.el}</font>; you can choose to
<a name="line2155"><font color="#000000">2155:</font></a> use any one of these three names (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Find Init</font><font color="#FF0000">}</font>).  Here, <b><font color="#0000FF">@file</font></b><font color="#009900">{~/}</font>
<a name="line2156"><font color="#000000">2156:</font></a> stands for your home directory.
<a name="line2157"><font color="#000000">2157:</font></a> 
<a name="line2158"><font color="#000000">2158:</font></a>   You can use the command line switch <b><font color="#0000FF">@samp</font></b><font color="#009900">{-q}</font> to prevent loading
<a name="line2159"><font color="#000000">2159:</font></a> your init file, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{-u}</font> (or <b><font color="#0000FF">@samp</font></b><font color="#009900">{--user}</font>) to specify a
<a name="line2160"><font color="#000000">2160:</font></a> different user's init file (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>).
<a name="line2161"><font color="#000000">2161:</font></a> 
<a name="line2162"><font color="#000000">2162:</font></a> <i><font color="#9A1900">@cindex @file{default.el}, the default init file</font></i>
<a name="line2163"><font color="#000000">2163:</font></a>   There can also be a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{default init file}</font>, which is the library
<a name="line2164"><font color="#000000">2164:</font></a> named <b><font color="#0000FF">@file</font></b><font color="#009900">{default.el}</font>, found via the standard search path for
<a name="line2165"><font color="#000000">2165:</font></a> libraries.  The Emacs distribution contains no such library; your site
<a name="line2166"><font color="#000000">2166:</font></a> may create one for local customizations.  If this library exists, it is
<a name="line2167"><font color="#000000">2167:</font></a> loaded whenever you start Emacs (except when you specify <b><font color="#0000FF">@samp</font></b><font color="#009900">{-q}</font>).
<a name="line2168"><font color="#000000">2168:</font></a> But your init file, if any, is loaded first; if it sets
<a name="line2169"><font color="#000000">2169:</font></a> <i><font color="#9A1900">@code{inhibit-default-init} non-@code{nil}, then @file{default} is not</font></i>
<a name="line2170"><font color="#000000">2170:</font></a> loaded.
<a name="line2171"><font color="#000000">2171:</font></a> 
<a name="line2172"><font color="#000000">2172:</font></a> <i><font color="#9A1900">@cindex site init file</font></i>
<a name="line2173"><font color="#000000">2173:</font></a> <i><font color="#9A1900">@cindex @file{site-start.el}, the site startup file</font></i>
<a name="line2174"><font color="#000000">2174:</font></a>   Your site may also have a <b><font color="#0000FF">@dfn</font></b><font color="#009900">{site startup file}</font>; this is named
<a name="line2175"><font color="#000000">2175:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{site-start.el}</font>, if it exists.  Like <b><font color="#0000FF">@file</font></b><font color="#009900">{default.el}</font>, Emacs
<a name="line2176"><font color="#000000">2176:</font></a> finds this file via the standard search path for Lisp libraries.
<a name="line2177"><font color="#000000">2177:</font></a> Emacs loads this library before it loads your init file.  To inhibit
<a name="line2178"><font color="#000000">2178:</font></a> loading of this library, use the option <b><font color="#0000FF">@samp</font></b><font color="#009900">{--no-site-file}</font>.
<a name="line2179"><font color="#000000">2179:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Initial Options</font><font color="#FF0000">}</font>.  We recommend against using
<a name="line2180"><font color="#000000">2180:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{site-start.el}</font> for changes that some users may not like.  It is
<a name="line2181"><font color="#000000">2181:</font></a> better to put them in <b><font color="#0000FF">@file</font></b><font color="#009900">{default.el}</font>, so that users can more easily
<a name="line2182"><font color="#000000">2182:</font></a> override them.
<a name="line2183"><font color="#000000">2183:</font></a> 
<a name="line2184"><font color="#000000">2184:</font></a> <i><font color="#9A1900">@cindex @file{site-lisp} directories</font></i>
<a name="line2185"><font color="#000000">2185:</font></a>   You can place <b><font color="#0000FF">@file</font></b><font color="#009900">{default.el}</font> and <b><font color="#0000FF">@file</font></b><font color="#009900">{site-start.el}</font> in any of
<a name="line2186"><font color="#000000">2186:</font></a> the directories which Emacs searches for Lisp libraries.  The variable
<a name="line2187"><font color="#000000">2187:</font></a> <i><font color="#9A1900">@code{load-path} (@pxref{Lisp Libraries}) specifies these directories.</font></i>
<a name="line2188"><font color="#000000">2188:</font></a> Many sites put these files in a subdirectory named <b><font color="#0000FF">@file</font></b><font color="#009900">{site-lisp}</font> in
<a name="line2189"><font color="#000000">2189:</font></a> the Emacs installation directory, such as
<a name="line2190"><font color="#000000">2190:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{/usr/local/share/emacs/site-lisp}</font>.
<a name="line2191"><font color="#000000">2191:</font></a> 
<a name="line2192"><font color="#000000">2192:</font></a>   Byte-compiling your init file is not recommended (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Byte</font>
<a name="line2193"><font color="#000000">2193:</font></a> <font color="#FF0000">Compilation,, Byte Compilation, elisp, the Emacs Lisp Reference</font>
<a name="line2194"><font color="#000000">2194:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>).  It generally does not speed up startup very much, and often
<a name="line2195"><font color="#000000">2195:</font></a> leads to problems when you forget to recompile the file.  A better
<a name="line2196"><font color="#000000">2196:</font></a> solution is to use the Emacs server to reduce the number of times you
<a name="line2197"><font color="#000000">2197:</font></a> have to start Emacs (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Emacs Server</font><font color="#FF0000">}</font>).  If your init file defines
<a name="line2198"><font color="#000000">2198:</font></a> many functions, consider moving them to a separate (byte-compiled)
<a name="line2199"><font color="#000000">2199:</font></a> file that you load in your init file.
<a name="line2200"><font color="#000000">2200:</font></a> 
<a name="line2201"><font color="#000000">2201:</font></a>   If you are going to write actual Emacs Lisp programs that go beyond
<a name="line2202"><font color="#000000">2202:</font></a> minor customization, you should read the <b><font color="#0000FF">@cite</font></b><font color="#009900">{Emacs Lisp Reference Manual}</font>.
<a name="line2203"><font color="#000000">2203:</font></a> <b><font color="#0000FF">@ifnottex</font></b>
<a name="line2204"><font color="#000000">2204:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, Emacs Lisp, Emacs Lisp, elisp, the Emacs Lisp Reference</font>
<a name="line2205"><font color="#000000">2205:</font></a> <font color="#FF0000">Manual</font><font color="#FF0000">}</font>.
<a name="line2206"><font color="#000000">2206:</font></a> <b><font color="#0000FF">@end ifnottex</font></b>
<a name="line2207"><font color="#000000">2207:</font></a> 
<a name="line2208"><font color="#000000">2208:</font></a> <b><font color="#000080">@menu</font></b>
<a name="line2209"><font color="#000000">2209:</font></a> <font color="#FF0000">* Init Syntax::</font>         Syntax of constants in Emacs Lisp.
<a name="line2210"><font color="#000000">2210:</font></a> <font color="#FF0000">* Init Examples::</font>       How to do some things with an init file.
<a name="line2211"><font color="#000000">2211:</font></a> <font color="#FF0000">* Terminal Init::</font>       Each terminal type can have an init file.
<a name="line2212"><font color="#000000">2212:</font></a> <font color="#FF0000">* Find Init::</font>           How Emacs finds the init file.
<a name="line2213"><font color="#000000">2213:</font></a> <font color="#FF0000">* Init Non-ASCII::</font>      Using non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters in an init file.
<a name="line2214"><font color="#000000">2214:</font></a> <b><font color="#000080">@end menu</font></b>
<a name="line2215"><font color="#000000">2215:</font></a> 
<a name="line2216"><font color="#000000">2216:</font></a> <b><font color="#0000FF">@node</font></b> Init Syntax
<a name="line2217"><font color="#000000">2217:</font></a> <b><font color="#0000FF">@subsection</font></b> Init File Syntax
<a name="line2218"><font color="#000000">2218:</font></a> 
<a name="line2219"><font color="#000000">2219:</font></a>   The init file contains one or more Lisp expressions.  Each of these
<a name="line2220"><font color="#000000">2220:</font></a> consists of a function name followed by arguments, all surrounded by
<a name="line2221"><font color="#000000">2221:</font></a> parentheses.  For example, <b><font color="#0000FF">@code</font></b><font color="#009900">{(setq fill-column 60)}</font> calls the
<a name="line2222"><font color="#000000">2222:</font></a> function <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font> to set the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{fill-column}</font>
<a name="line2223"><font color="#000000">2223:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Filling</font><font color="#FF0000">}</font>) to 60.
<a name="line2224"><font color="#000000">2224:</font></a> 
<a name="line2225"><font color="#000000">2225:</font></a>   You can set any Lisp variable with <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font>, but with certain
<a name="line2226"><font color="#000000">2226:</font></a> variables <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font> won't do what you probably want in the
<a name="line2227"><font color="#000000">2227:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font> file.  Some variables automatically become buffer-local
<a name="line2228"><font color="#000000">2228:</font></a> when set with <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font>; what you want in <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font> is to set
<a name="line2229"><font color="#000000">2229:</font></a> the default value, using <b><font color="#0000FF">@code</font></b><font color="#009900">{setq-default}</font>.  Some customizable minor
<a name="line2230"><font color="#000000">2230:</font></a> mode variables do special things to enable the mode when you set them
<a name="line2231"><font color="#000000">2231:</font></a> with Customize, but ordinary <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font> won't do that; to enable the
<a name="line2232"><font color="#000000">2232:</font></a> mode in your <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font> file, call the minor mode command.  The
<a name="line2233"><font color="#000000">2233:</font></a> following section has examples of both of these methods.
<a name="line2234"><font color="#000000">2234:</font></a> 
<a name="line2235"><font color="#000000">2235:</font></a>   The second argument to <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font> is an expression for the new
<a name="line2236"><font color="#000000">2236:</font></a> value of the variable.  This can be a constant, a variable, or a
<a name="line2237"><font color="#000000">2237:</font></a> function call expression.  In <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font>, constants are used most
<a name="line2238"><font color="#000000">2238:</font></a> of the time.  They can be:
<a name="line2239"><font color="#000000">2239:</font></a> 
<a name="line2240"><font color="#000000">2240:</font></a> <b><font color="#0000FF">@table</font></b> <b><font color="#0000FF">@asis</font></b>
<a name="line2241"><font color="#000000">2241:</font></a> <b><font color="#0000FF">@item</font></b> Numbers:
<a name="line2242"><font color="#000000">2242:</font></a> Numbers are written in decimal, with an optional initial minus sign.
<a name="line2243"><font color="#000000">2243:</font></a> 
<a name="line2244"><font color="#000000">2244:</font></a> <b><font color="#0000FF">@item</font></b> Strings:
<a name="line2245"><font color="#000000">2245:</font></a> <i><font color="#9A1900">@cindex Lisp string syntax</font></i>
<a name="line2246"><font color="#000000">2246:</font></a> <i><font color="#9A1900">@cindex string syntax</font></i>
<a name="line2247"><font color="#000000">2247:</font></a> Lisp string syntax is the same as C string syntax with a few extra
<a name="line2248"><font color="#000000">2248:</font></a> features.  Use a double-quote character to begin and end a string constant.
<a name="line2249"><font color="#000000">2249:</font></a> 
<a name="line2250"><font color="#000000">2250:</font></a> In a string, you can include newlines and special characters literally.
<a name="line2251"><font color="#000000">2251:</font></a> But often it is cleaner to use backslash sequences for them: <b><font color="#0000FF">@samp</font></b><font color="#009900">{\n}</font>
<a name="line2252"><font color="#000000">2252:</font></a> for newline, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\b}</font> for backspace, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\r}</font> for carriage return,
<a name="line2253"><font color="#000000">2253:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\t}</font> for tab, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\f}</font> for formfeed (control-L), <b><font color="#0000FF">@samp</font></b><font color="#009900">{\e}</font> for
<a name="line2254"><font color="#000000">2254:</font></a> escape, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\\}</font> for a backslash, <b><font color="#0000FF">@samp</font></b><font color="#009900">{\"}</font> for a double-quote, or
<a name="line2255"><font color="#000000">2255:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\@var{ooo}}</font> for the character whose octal code is <b><font color="#0000FF">@var</font></b><font color="#009900">{ooo}</font>.
<a name="line2256"><font color="#000000">2256:</font></a> Backslash and double-quote are the only characters for which backslash
<a name="line2257"><font color="#000000">2257:</font></a> sequences are mandatory.
<a name="line2258"><font color="#000000">2258:</font></a> 
<a name="line2259"><font color="#000000">2259:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\C-}</font> can be used as a prefix for a control character, as in
<a name="line2260"><font color="#000000">2260:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\C-s}</font> for <b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> control-S, and <b><font color="#0000FF">@samp</font></b><font color="#009900">{\M-}</font> can be used as a prefix for
<a name="line2261"><font color="#000000">2261:</font></a> a Meta character, as in <b><font color="#0000FF">@samp</font></b><font color="#009900">{\M-a}</font> for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{Meta}-A}</font> or
<a name="line2262"><font color="#000000">2262:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{\M-\C-a}</font> for <b><font color="#0000FF">@kbd</font></b><font color="#009900">{@key{Ctrl}-@key{Meta}-A}</font>.
<a name="line2263"><font color="#000000">2263:</font></a> 
<a name="line2264"><font color="#000000">2264:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Non-ASCII</font><font color="#FF0000">}</font>, for information about including
<a name="line2265"><font color="#000000">2265:</font></a> non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> in your init file.
<a name="line2266"><font color="#000000">2266:</font></a> 
<a name="line2267"><font color="#000000">2267:</font></a> <b><font color="#0000FF">@item</font></b> Characters:
<a name="line2268"><font color="#000000">2268:</font></a> <i><font color="#9A1900">@cindex Lisp character syntax</font></i>
<a name="line2269"><font color="#000000">2269:</font></a> <i><font color="#9A1900">@cindex character syntax</font></i>
<a name="line2270"><font color="#000000">2270:</font></a> Lisp character constant syntax consists of a <b><font color="#0000FF">@samp</font></b><font color="#009900">{?}</font> followed by
<a name="line2271"><font color="#000000">2271:</font></a> either a character or an escape sequence starting with <b><font color="#0000FF">@samp</font></b><font color="#009900">{\}</font>.
<a name="line2272"><font color="#000000">2272:</font></a> Examples: <b><font color="#0000FF">@code</font></b><font color="#009900">{?x}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{?\n}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{?\"}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{?\)}</font>.  Note that
<a name="line2273"><font color="#000000">2273:</font></a> strings and characters are not interchangeable in Lisp; some contexts
<a name="line2274"><font color="#000000">2274:</font></a> require one and some contexts require the other.
<a name="line2275"><font color="#000000">2275:</font></a> 
<a name="line2276"><font color="#000000">2276:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Non-ASCII</font><font color="#FF0000">}</font>, for information about binding commands to
<a name="line2277"><font color="#000000">2277:</font></a> keys which send non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters.
<a name="line2278"><font color="#000000">2278:</font></a> 
<a name="line2279"><font color="#000000">2279:</font></a> <b><font color="#0000FF">@item</font></b> True:
<a name="line2280"><font color="#000000">2280:</font></a> <i><font color="#9A1900">@code{t} stands for ``true''.</font></i>
<a name="line2281"><font color="#000000">2281:</font></a> 
<a name="line2282"><font color="#000000">2282:</font></a> <b><font color="#0000FF">@item</font></b> False:
<a name="line2283"><font color="#000000">2283:</font></a> <i><font color="#9A1900">@code{nil} stands for ``false''.</font></i>
<a name="line2284"><font color="#000000">2284:</font></a> 
<a name="line2285"><font color="#000000">2285:</font></a> <b><font color="#0000FF">@item</font></b> Other Lisp objects:
<a name="line2286"><font color="#000000">2286:</font></a> <i><font color="#9A1900">@cindex Lisp object syntax</font></i>
<a name="line2287"><font color="#000000">2287:</font></a> Write a single-quote (<b><font color="#0000FF">@code</font></b><font color="#009900">{'}</font>) followed by the Lisp object you want.
<a name="line2288"><font color="#000000">2288:</font></a> <b><font color="#0000FF">@end table</font></b>
<a name="line2289"><font color="#000000">2289:</font></a> 
<a name="line2290"><font color="#000000">2290:</font></a> <b><font color="#0000FF">@node</font></b> Init Examples
<a name="line2291"><font color="#000000">2291:</font></a> <b><font color="#0000FF">@subsection</font></b> Init File Examples
<a name="line2292"><font color="#000000">2292:</font></a> 
<a name="line2293"><font color="#000000">2293:</font></a>   Here are some examples of doing certain commonly desired things with
<a name="line2294"><font color="#000000">2294:</font></a> Lisp expressions:
<a name="line2295"><font color="#000000">2295:</font></a> 
<a name="line2296"><font color="#000000">2296:</font></a> <b><font color="#0000FF">@itemize</font></b> <b><font color="#0000FF">@bullet</font></b>
<a name="line2297"><font color="#000000">2297:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2298"><font color="#000000">2298:</font></a> Add a directory to the variable <b><font color="#0000FF">@code</font></b><font color="#009900">{load-path}</font>.  You can then put
<a name="line2299"><font color="#000000">2299:</font></a> Lisp libraries that are not included with Emacs in this directory, and
<a name="line2300"><font color="#000000">2300:</font></a> load them with <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x load-library}</font>.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Lisp Libraries</font><font color="#FF0000">}</font>.
<a name="line2301"><font color="#000000">2301:</font></a> 
<a name="line2302"><font color="#000000">2302:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2303"><font color="#000000">2303:</font></a> (add-to-list 'load-path "/path/to/lisp/libraries")
<a name="line2304"><font color="#000000">2304:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2305"><font color="#000000">2305:</font></a> 
<a name="line2306"><font color="#000000">2306:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2307"><font color="#000000">2307:</font></a> Make <b><font color="#0000FF">@key</font></b><font color="#009900">{TAB}</font> in C mode just insert a tab if point is in the middle of a
<a name="line2308"><font color="#000000">2308:</font></a> line.
<a name="line2309"><font color="#000000">2309:</font></a> 
<a name="line2310"><font color="#000000">2310:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2311"><font color="#000000">2311:</font></a> (setq c-tab-always-indent nil)
<a name="line2312"><font color="#000000">2312:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2313"><font color="#000000">2313:</font></a> 
<a name="line2314"><font color="#000000">2314:</font></a> Here we have a variable whose value is normally <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> for ``true''
<a name="line2315"><font color="#000000">2315:</font></a> and the alternative is <b><font color="#0000FF">@code</font></b><font color="#009900">{nil}</font> for ``false''.
<a name="line2316"><font color="#000000">2316:</font></a> 
<a name="line2317"><font color="#000000">2317:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2318"><font color="#000000">2318:</font></a> Make searches case sensitive by default (in all buffers that do not
<a name="line2319"><font color="#000000">2319:</font></a> override this).
<a name="line2320"><font color="#000000">2320:</font></a> 
<a name="line2321"><font color="#000000">2321:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2322"><font color="#000000">2322:</font></a> (setq-default case-fold-search nil)
<a name="line2323"><font color="#000000">2323:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2324"><font color="#000000">2324:</font></a> 
<a name="line2325"><font color="#000000">2325:</font></a> This sets the default value, which is effective in all buffers that do
<a name="line2326"><font color="#000000">2326:</font></a> not have local values for the variable (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Locals</font><font color="#FF0000">}</font>).  Setting
<a name="line2327"><font color="#000000">2327:</font></a> <i><font color="#9A1900">@code{case-fold-search} with @code{setq} affects only the current</font></i>
<a name="line2328"><font color="#000000">2328:</font></a> buffer's local value, which is probably not what you want to do in an
<a name="line2329"><font color="#000000">2329:</font></a> init file.
<a name="line2330"><font color="#000000">2330:</font></a> 
<a name="line2331"><font color="#000000">2331:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2332"><font color="#000000">2332:</font></a> <b><font color="#0000FF">@vindex</font></b> user-mail-address<b><font color="#0000FF">@r</font></b><font color="#009900">{, in init file}</font>
<a name="line2333"><font color="#000000">2333:</font></a> Specify your own email address, if Emacs can't figure it out correctly.
<a name="line2334"><font color="#000000">2334:</font></a> 
<a name="line2335"><font color="#000000">2335:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2336"><font color="#000000">2336:</font></a> (setq user-mail-address "cheney<b><font color="#0000FF">@@torture.gov")</font></b>
<a name="line2337"><font color="#000000">2337:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2338"><font color="#000000">2338:</font></a> 
<a name="line2339"><font color="#000000">2339:</font></a> Various Emacs packages, such as Message mode, consult
<a name="line2340"><font color="#000000">2340:</font></a> <i><font color="#9A1900">@code{user-mail-address} when they need to know your email address.</font></i>
<a name="line2341"><font color="#000000">2341:</font></a> <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Mail Headers</font><font color="#FF0000">}</font>.
<a name="line2342"><font color="#000000">2342:</font></a> 
<a name="line2343"><font color="#000000">2343:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2344"><font color="#000000">2344:</font></a> Make Text mode the default mode for new buffers.
<a name="line2345"><font color="#000000">2345:</font></a> 
<a name="line2346"><font color="#000000">2346:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2347"><font color="#000000">2347:</font></a> (setq-default major-mode 'text-mode)
<a name="line2348"><font color="#000000">2348:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2349"><font color="#000000">2349:</font></a> 
<a name="line2350"><font color="#000000">2350:</font></a> Note that <b><font color="#0000FF">@code</font></b><font color="#009900">{text-mode}</font> is used because it is the command for
<a name="line2351"><font color="#000000">2351:</font></a> entering Text mode.  The single-quote before it makes the symbol a
<a name="line2352"><font color="#000000">2352:</font></a> constant; otherwise, <b><font color="#0000FF">@code</font></b><font color="#009900">{text-mode}</font> would be treated as a variable
<a name="line2353"><font color="#000000">2353:</font></a> name.
<a name="line2354"><font color="#000000">2354:</font></a> 
<a name="line2355"><font color="#000000">2355:</font></a> <b><font color="#0000FF">@need</font></b> 1500
<a name="line2356"><font color="#000000">2356:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2357"><font color="#000000">2357:</font></a> Set up defaults for the Latin-1 character set,
<a name="line2358"><font color="#000000">2358:</font></a> which supports most of the languages of Western Europe.
<a name="line2359"><font color="#000000">2359:</font></a> 
<a name="line2360"><font color="#000000">2360:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2361"><font color="#000000">2361:</font></a> (set-language-environment "Latin-1")
<a name="line2362"><font color="#000000">2362:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2363"><font color="#000000">2363:</font></a> 
<a name="line2364"><font color="#000000">2364:</font></a> <b><font color="#0000FF">@need</font></b> 1500
<a name="line2365"><font color="#000000">2365:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2366"><font color="#000000">2366:</font></a> Turn off Line Number mode, a global minor mode.
<a name="line2367"><font color="#000000">2367:</font></a> 
<a name="line2368"><font color="#000000">2368:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2369"><font color="#000000">2369:</font></a> (line-number-mode 0)
<a name="line2370"><font color="#000000">2370:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2371"><font color="#000000">2371:</font></a> 
<a name="line2372"><font color="#000000">2372:</font></a> <b><font color="#0000FF">@need</font></b> 1500
<a name="line2373"><font color="#000000">2373:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2374"><font color="#000000">2374:</font></a> Turn on Auto Fill mode automatically in Text mode and related modes
<a name="line2375"><font color="#000000">2375:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>).
<a name="line2376"><font color="#000000">2376:</font></a> 
<a name="line2377"><font color="#000000">2377:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2378"><font color="#000000">2378:</font></a> (add-hook 'text-mode-hook 'auto-fill-mode)
<a name="line2379"><font color="#000000">2379:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2380"><font color="#000000">2380:</font></a> 
<a name="line2381"><font color="#000000">2381:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2382"><font color="#000000">2382:</font></a> Load the installed Lisp library named <b><font color="#0000FF">@file</font></b><font color="#009900">{foo}</font> (actually a file
<a name="line2383"><font color="#000000">2383:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{foo.elc}</font> or <b><font color="#0000FF">@file</font></b><font color="#009900">{foo.el}</font> in a standard Emacs directory).
<a name="line2384"><font color="#000000">2384:</font></a> 
<a name="line2385"><font color="#000000">2385:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2386"><font color="#000000">2386:</font></a> (load "foo")
<a name="line2387"><font color="#000000">2387:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2388"><font color="#000000">2388:</font></a> 
<a name="line2389"><font color="#000000">2389:</font></a> When the argument to <b><font color="#0000FF">@code</font></b><font color="#009900">{load}</font> is a relative file name, not starting
<a name="line2390"><font color="#000000">2390:</font></a> with <b><font color="#0000FF">@samp</font></b><font color="#009900">{/}</font> or <b><font color="#0000FF">@samp</font></b><font color="#009900">{~}</font>, <b><font color="#0000FF">@code</font></b><font color="#009900">{load}</font> searches the directories in
<a name="line2391"><font color="#000000">2391:</font></a> <i><font color="#9A1900">@code{load-path} (@pxref{Lisp Libraries}).</font></i>
<a name="line2392"><font color="#000000">2392:</font></a> 
<a name="line2393"><font color="#000000">2393:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2394"><font color="#000000">2394:</font></a> Load the compiled Lisp file <b><font color="#0000FF">@file</font></b><font color="#009900">{foo.elc}</font> from your home directory.
<a name="line2395"><font color="#000000">2395:</font></a> 
<a name="line2396"><font color="#000000">2396:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2397"><font color="#000000">2397:</font></a> (load "~/foo.elc")
<a name="line2398"><font color="#000000">2398:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2399"><font color="#000000">2399:</font></a> 
<a name="line2400"><font color="#000000">2400:</font></a> Here a full file name is used, so no searching is done.
<a name="line2401"><font color="#000000">2401:</font></a> 
<a name="line2402"><font color="#000000">2402:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2403"><font color="#000000">2403:</font></a> <i><font color="#9A1900">@cindex loading Lisp libraries automatically</font></i>
<a name="line2404"><font color="#000000">2404:</font></a> <i><font color="#9A1900">@cindex autoload Lisp libraries</font></i>
<a name="line2405"><font color="#000000">2405:</font></a> Tell Emacs to find the definition for the function <b><font color="#0000FF">@code</font></b><font color="#009900">{myfunction}</font>
<a name="line2406"><font color="#000000">2406:</font></a> by loading a Lisp library named <b><font color="#0000FF">@file</font></b><font color="#009900">{mypackage}</font> (i.e., a file
<a name="line2407"><font color="#000000">2407:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{mypackage.elc}</font> or <b><font color="#0000FF">@file</font></b><font color="#009900">{mypackage.el}</font>):
<a name="line2408"><font color="#000000">2408:</font></a> 
<a name="line2409"><font color="#000000">2409:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2410"><font color="#000000">2410:</font></a> (autoload 'myfunction "mypackage" "Do what I say." t)
<a name="line2411"><font color="#000000">2411:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2412"><font color="#000000">2412:</font></a> 
<a name="line2413"><font color="#000000">2413:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2414"><font color="#000000">2414:</font></a> Here the string <b><font color="#0000FF">@code</font></b><font color="#009900">{"Do what I say."}</font> is the function's
<a name="line2415"><font color="#000000">2415:</font></a> documentation string.  You specify it in the <b><font color="#0000FF">@code</font></b><font color="#009900">{autoload}</font>
<a name="line2416"><font color="#000000">2416:</font></a> definition so it will be available for help commands even when the
<a name="line2417"><font color="#000000">2417:</font></a> package is not loaded.  The last argument, <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font>, indicates that
<a name="line2418"><font color="#000000">2418:</font></a> this function is interactive; that is, it can be invoked interactively
<a name="line2419"><font color="#000000">2419:</font></a> by typing <b><font color="#0000FF">@kbd</font></b><font color="#009900">{M-x myfunction @key{RET}}</font> or by binding it to a key.
<a name="line2420"><font color="#000000">2420:</font></a> If the function is not interactive, omit the <b><font color="#0000FF">@code</font></b><font color="#009900">{t}</font> or use
<a name="line2421"><font color="#000000">2421:</font></a> <i><font color="#9A1900">@code{nil}.</font></i>
<a name="line2422"><font color="#000000">2422:</font></a> 
<a name="line2423"><font color="#000000">2423:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2424"><font color="#000000">2424:</font></a> Rebind the key <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x l}</font> to run the function <b><font color="#0000FF">@code</font></b><font color="#009900">{make-symbolic-link}</font>
<a name="line2425"><font color="#000000">2425:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init Rebinding</font><font color="#FF0000">}</font>).
<a name="line2426"><font color="#000000">2426:</font></a> 
<a name="line2427"><font color="#000000">2427:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2428"><font color="#000000">2428:</font></a> (global-set-key "\C-xl" 'make-symbolic-link)
<a name="line2429"><font color="#000000">2429:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2430"><font color="#000000">2430:</font></a> 
<a name="line2431"><font color="#000000">2431:</font></a> or
<a name="line2432"><font color="#000000">2432:</font></a> 
<a name="line2433"><font color="#000000">2433:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2434"><font color="#000000">2434:</font></a> (define-key global-map "\C-xl" 'make-symbolic-link)
<a name="line2435"><font color="#000000">2435:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2436"><font color="#000000">2436:</font></a> 
<a name="line2437"><font color="#000000">2437:</font></a> Note once again the single-quote used to refer to the symbol
<a name="line2438"><font color="#000000">2438:</font></a> <i><font color="#9A1900">@code{make-symbolic-link} instead of its value as a variable.</font></i>
<a name="line2439"><font color="#000000">2439:</font></a> 
<a name="line2440"><font color="#000000">2440:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2441"><font color="#000000">2441:</font></a> Do the same thing for Lisp mode only.
<a name="line2442"><font color="#000000">2442:</font></a> 
<a name="line2443"><font color="#000000">2443:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2444"><font color="#000000">2444:</font></a> (define-key lisp-mode-map "\C-xl" 'make-symbolic-link)
<a name="line2445"><font color="#000000">2445:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2446"><font color="#000000">2446:</font></a> 
<a name="line2447"><font color="#000000">2447:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2448"><font color="#000000">2448:</font></a> Redefine all keys which now run <b><font color="#0000FF">@code</font></b><font color="#009900">{next-line}</font> in Fundamental mode
<a name="line2449"><font color="#000000">2449:</font></a> so that they run <b><font color="#0000FF">@code</font></b><font color="#009900">{forward-line}</font> instead.
<a name="line2450"><font color="#000000">2450:</font></a> 
<a name="line2451"><font color="#000000">2451:</font></a> <b><font color="#0000FF">@findex</font></b> substitute-key-definition
<a name="line2452"><font color="#000000">2452:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2453"><font color="#000000">2453:</font></a> (substitute-key-definition 'next-line 'forward-line
<a name="line2454"><font color="#000000">2454:</font></a>                            global-map)
<a name="line2455"><font color="#000000">2455:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2456"><font color="#000000">2456:</font></a> 
<a name="line2457"><font color="#000000">2457:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2458"><font color="#000000">2458:</font></a> Make <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-v}</font> undefined.
<a name="line2459"><font color="#000000">2459:</font></a> 
<a name="line2460"><font color="#000000">2460:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2461"><font color="#000000">2461:</font></a> (global-unset-key "\C-x\C-v")
<a name="line2462"><font color="#000000">2462:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2463"><font color="#000000">2463:</font></a> 
<a name="line2464"><font color="#000000">2464:</font></a> One reason to undefine a key is so that you can make it a prefix.
<a name="line2465"><font color="#000000">2465:</font></a> Simply defining <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-v @var{anything}}</font> will make <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-v}</font> a
<a name="line2466"><font color="#000000">2466:</font></a> prefix, but <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-x C-v}</font> must first be freed of its usual non-prefix
<a name="line2467"><font color="#000000">2467:</font></a> definition.
<a name="line2468"><font color="#000000">2468:</font></a> 
<a name="line2469"><font color="#000000">2469:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2470"><font color="#000000">2470:</font></a> Make <b><font color="#0000FF">@samp</font></b><font color="#009900">{$}</font> have the syntax of punctuation in Text mode.
<a name="line2471"><font color="#000000">2471:</font></a> Note the use of a character constant for <b><font color="#0000FF">@samp</font></b><font color="#009900">{$}</font>.
<a name="line2472"><font color="#000000">2472:</font></a> 
<a name="line2473"><font color="#000000">2473:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2474"><font color="#000000">2474:</font></a> (modify-syntax-entry ?\$ "." text-mode-syntax-table)
<a name="line2475"><font color="#000000">2475:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2476"><font color="#000000">2476:</font></a> 
<a name="line2477"><font color="#000000">2477:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2478"><font color="#000000">2478:</font></a> Enable the use of the command <b><font color="#0000FF">@code</font></b><font color="#009900">{narrow-to-region}</font> without confirmation.
<a name="line2479"><font color="#000000">2479:</font></a> 
<a name="line2480"><font color="#000000">2480:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2481"><font color="#000000">2481:</font></a> (put 'narrow-to-region 'disabled nil)
<a name="line2482"><font color="#000000">2482:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2483"><font color="#000000">2483:</font></a> 
<a name="line2484"><font color="#000000">2484:</font></a> <b><font color="#0000FF">@item</font></b>
<a name="line2485"><font color="#000000">2485:</font></a> Adjusting the configuration to various platforms and Emacs versions.
<a name="line2486"><font color="#000000">2486:</font></a> 
<a name="line2487"><font color="#000000">2487:</font></a> Users typically want Emacs to behave the same on all systems, so the
<a name="line2488"><font color="#000000">2488:</font></a> same init file is right for all platforms.  However, sometimes it
<a name="line2489"><font color="#000000">2489:</font></a> happens that a function you use for customizing Emacs is not available
<a name="line2490"><font color="#000000">2490:</font></a> on some platforms or in older Emacs versions.  To deal with that
<a name="line2491"><font color="#000000">2491:</font></a> situation, put the customization inside a conditional that tests whether
<a name="line2492"><font color="#000000">2492:</font></a> the function or facility is available, like this:
<a name="line2493"><font color="#000000">2493:</font></a> 
<a name="line2494"><font color="#000000">2494:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2495"><font color="#000000">2495:</font></a> (if (fboundp 'blink-cursor-mode)
<a name="line2496"><font color="#000000">2496:</font></a>     (blink-cursor-mode 0))
<a name="line2497"><font color="#000000">2497:</font></a> 
<a name="line2498"><font color="#000000">2498:</font></a> (if (boundp 'coding-category-utf-8)
<a name="line2499"><font color="#000000">2499:</font></a>     (set-coding-priority '(coding-category-utf-8)))
<a name="line2500"><font color="#000000">2500:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2501"><font color="#000000">2501:</font></a> 
<a name="line2502"><font color="#000000">2502:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2503"><font color="#000000">2503:</font></a> You can also simply disregard the errors that occur if the
<a name="line2504"><font color="#000000">2504:</font></a> function is not defined.
<a name="line2505"><font color="#000000">2505:</font></a> 
<a name="line2506"><font color="#000000">2506:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2507"><font color="#000000">2507:</font></a> (ignore-errors (set-face-background 'region "grey75"))
<a name="line2508"><font color="#000000">2508:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2509"><font color="#000000">2509:</font></a> 
<a name="line2510"><font color="#000000">2510:</font></a> A <b><font color="#0000FF">@code</font></b><font color="#009900">{setq}</font> on a variable which does not exist is generally
<a name="line2511"><font color="#000000">2511:</font></a> harmless, so those do not need a conditional.
<a name="line2512"><font color="#000000">2512:</font></a> <b><font color="#0000FF">@end itemize</font></b>
<a name="line2513"><font color="#000000">2513:</font></a> 
<a name="line2514"><font color="#000000">2514:</font></a> <b><font color="#0000FF">@node</font></b> Terminal Init
<a name="line2515"><font color="#000000">2515:</font></a> <b><font color="#0000FF">@subsection</font></b> Terminal-specific Initialization
<a name="line2516"><font color="#000000">2516:</font></a> 
<a name="line2517"><font color="#000000">2517:</font></a> <b><font color="#0000FF">@vindex</font></b> term-file-aliases
<a name="line2518"><font color="#000000">2518:</font></a>   Each terminal type can have a Lisp library to be loaded into Emacs when
<a name="line2519"><font color="#000000">2519:</font></a> it is run on that type of terminal.  For a terminal type named
<a name="line2520"><font color="#000000">2520:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{termtype}</font>, the library is called <b><font color="#0000FF">@file</font></b><font color="#009900">{term/@var{termtype}}</font>.
<a name="line2521"><font color="#000000">2521:</font></a> (If there is an entry of the form <b><font color="#0000FF">@code</font></b><font color="#009900">{(@var{termtype} . @var{alias})}</font>
<a name="line2522"><font color="#000000">2522:</font></a> in the <b><font color="#0000FF">@code</font></b><font color="#009900">{term-file-aliases}</font> association list, Emacs uses
<a name="line2523"><font color="#000000">2523:</font></a> <b><font color="#0000FF">@var</font></b><font color="#009900">{alias}</font> in place of <b><font color="#0000FF">@var</font></b><font color="#009900">{termtype}</font>.)  The library is
<a name="line2524"><font color="#000000">2524:</font></a> found by searching the directories <b><font color="#0000FF">@code</font></b><font color="#009900">{load-path}</font> as usual and trying the
<a name="line2525"><font color="#000000">2525:</font></a> suffixes <b><font color="#0000FF">@samp</font></b><font color="#009900">{.elc}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{.el}</font>.  Normally it appears in the
<a name="line2526"><font color="#000000">2526:</font></a> subdirectory <b><font color="#0000FF">@file</font></b><font color="#009900">{term}</font> of the directory where most Emacs libraries are
<a name="line2527"><font color="#000000">2527:</font></a> kept.
<a name="line2528"><font color="#000000">2528:</font></a> 
<a name="line2529"><font color="#000000">2529:</font></a>   The usual purpose of the terminal-specific library is to map the
<a name="line2530"><font color="#000000">2530:</font></a> escape sequences used by the terminal's function keys onto more
<a name="line2531"><font color="#000000">2531:</font></a> meaningful names, using <b><font color="#0000FF">@code</font></b><font color="#009900">{input-decode-map}</font> (or
<a name="line2532"><font color="#000000">2532:</font></a> <i><font color="#9A1900">@code{function-key-map} before it).  See the file</font></i>
<a name="line2533"><font color="#000000">2533:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{term/lk201.el}</font> for an example of how this is done.  Many function
<a name="line2534"><font color="#000000">2534:</font></a> keys are mapped automatically according to the information in the
<a name="line2535"><font color="#000000">2535:</font></a> Termcap data base; the terminal-specific library needs to map only the
<a name="line2536"><font color="#000000">2536:</font></a> function keys that Termcap does not specify.
<a name="line2537"><font color="#000000">2537:</font></a> 
<a name="line2538"><font color="#000000">2538:</font></a>   When the terminal type contains a hyphen, only the part of the name
<a name="line2539"><font color="#000000">2539:</font></a> before the first hyphen is significant in choosing the library name.
<a name="line2540"><font color="#000000">2540:</font></a> Thus, terminal types <b><font color="#0000FF">@samp</font></b><font color="#009900">{aaa-48}</font> and <b><font color="#0000FF">@samp</font></b><font color="#009900">{aaa-30-rv}</font> both use
<a name="line2541"><font color="#000000">2541:</font></a> the library <b><font color="#0000FF">@file</font></b><font color="#009900">{term/aaa}</font>.  The code in the library can use
<a name="line2542"><font color="#000000">2542:</font></a> <i><font color="#9A1900">@code{(getenv "TERM")} to find the full terminal type name.</font></i>
<a name="line2543"><font color="#000000">2543:</font></a> 
<a name="line2544"><font color="#000000">2544:</font></a> <b><font color="#0000FF">@vindex</font></b> term-file-prefix
<a name="line2545"><font color="#000000">2545:</font></a>   The library's name is constructed by concatenating the value of the
<a name="line2546"><font color="#000000">2546:</font></a> variable <b><font color="#0000FF">@code{term-file-pref</font></b><font color="#FF0000">ix</font><font color="#FF0000">}</font> and the terminal type.  Your <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font>
<a name="line2547"><font color="#000000">2547:</font></a> file can prevent the loading of the terminal-specific library by setting
<a name="line2548"><font color="#000000">2548:</font></a> <i><font color="#9A1900">@code{term-file-prefix} to @code{nil}.</font></i>
<a name="line2549"><font color="#000000">2549:</font></a> 
<a name="line2550"><font color="#000000">2550:</font></a> <b><font color="#0000FF">@vindex</font></b> tty-setup-hook
<a name="line2551"><font color="#000000">2551:</font></a>   Emacs runs the hook <b><font color="#0000FF">@code</font></b><font color="#009900">{tty-setup-hook}</font> at the end of
<a name="line2552"><font color="#000000">2552:</font></a> initialization, after both your <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font> file and any
<a name="line2553"><font color="#000000">2553:</font></a> terminal-specific library have been read in.  Add hook functions to this
<a name="line2554"><font color="#000000">2554:</font></a> hook if you wish to override part of any of the terminal-specific
<a name="line2555"><font color="#000000">2555:</font></a> libraries and to define initializations for terminals that do not have a
<a name="line2556"><font color="#000000">2556:</font></a> library.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Hooks</font><font color="#FF0000">}</font>.
<a name="line2557"><font color="#000000">2557:</font></a> 
<a name="line2558"><font color="#000000">2558:</font></a> <b><font color="#0000FF">@node</font></b> Find Init
<a name="line2559"><font color="#000000">2559:</font></a> <b><font color="#0000FF">@subsection</font></b> How Emacs Finds Your Init File
<a name="line2560"><font color="#000000">2560:</font></a> 
<a name="line2561"><font color="#000000">2561:</font></a>   Normally Emacs uses the environment variable <b><font color="#0000FF">@env</font></b><font color="#009900">{HOME}</font>
<a name="line2562"><font color="#000000">2562:</font></a> (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">General Variables, HOME</font><font color="#FF0000">}</font>) to find <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font>; that's what
<a name="line2563"><font color="#000000">2563:</font></a> <b><font color="#0000FF">@samp</font></b><font color="#009900">{~}</font> means in a file name.  If <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font> is not found inside
<a name="line2564"><font color="#000000">2564:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/}</font> (nor <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs.el}</font>), Emacs looks for
<a name="line2565"><font color="#000000">2565:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.d/init.el}</font> (which, like <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.emacs.el}</font>, can be
<a name="line2566"><font color="#000000">2566:</font></a> byte-compiled).
<a name="line2567"><font color="#000000">2567:</font></a> 
<a name="line2568"><font color="#000000">2568:</font></a>   However, if you run Emacs from a shell started by <b><font color="#0000FF">@code</font></b><font color="#009900">{su}</font>, Emacs
<a name="line2569"><font color="#000000">2569:</font></a> tries to find your own <b><font color="#0000FF">@file</font></b><font color="#009900">{.emacs}</font>, not that of the user you are
<a name="line2570"><font color="#000000">2570:</font></a> currently pretending to be.  The idea is that you should get your own
<a name="line2571"><font color="#000000">2571:</font></a> editor customizations even if you are running as the super user.
<a name="line2572"><font color="#000000">2572:</font></a> 
<a name="line2573"><font color="#000000">2573:</font></a>   More precisely, Emacs first determines which user's init file to use.
<a name="line2574"><font color="#000000">2574:</font></a> It gets your user name from the environment variables <b><font color="#0000FF">@env</font></b><font color="#009900">{LOGNAME}</font> and
<a name="line2575"><font color="#000000">2575:</font></a> <b><font color="#0000FF">@env</font></b><font color="#009900">{USER}</font>; if neither of those exists, it uses effective user-ID<b><font color="#0000FF">@.</font></b>
<a name="line2576"><font color="#000000">2576:</font></a> If that user name matches the real user-ID, then Emacs uses <b><font color="#0000FF">@env</font></b><font color="#009900">{HOME}</font>;
<a name="line2577"><font color="#000000">2577:</font></a> otherwise, it looks up the home directory corresponding to that user
<a name="line2578"><font color="#000000">2578:</font></a> name in the system's data base of users.
<a name="line2579"><font color="#000000">2579:</font></a> <i><font color="#9A1900">@c  LocalWords:  backtab</font></i>
<a name="line2580"><font color="#000000">2580:</font></a> 
<a name="line2581"><font color="#000000">2581:</font></a> <b><font color="#0000FF">@node</font></b> Init Non-ASCII
<a name="line2582"><font color="#000000">2582:</font></a> <b><font color="#0000FF">@subsection</font></b> Non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> Characters in Init Files
<a name="line2583"><font color="#000000">2583:</font></a> <i><font color="#9A1900">@cindex international characters in @file{.emacs}</font></i>
<a name="line2584"><font color="#000000">2584:</font></a> <i><font color="#9A1900">@cindex non-@acronym{ASCII} characters in @file{.emacs}</font></i>
<a name="line2585"><font color="#000000">2585:</font></a> <i><font color="#9A1900">@cindex non-@acronym{ASCII} keys, binding</font></i>
<a name="line2586"><font color="#000000">2586:</font></a> <i><font color="#9A1900">@cindex rebinding non-@acronym{ASCII} keys</font></i>
<a name="line2587"><font color="#000000">2587:</font></a> 
<a name="line2588"><font color="#000000">2588:</font></a>   Language and coding systems may cause problems if your init file
<a name="line2589"><font color="#000000">2589:</font></a> contains non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters, such as accented letters, in
<a name="line2590"><font color="#000000">2590:</font></a> strings or key bindings.
<a name="line2591"><font color="#000000">2591:</font></a> 
<a name="line2592"><font color="#000000">2592:</font></a>   If you want to use non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters in your init file,
<a name="line2593"><font color="#000000">2593:</font></a> you should put a <b><font color="#0000FF">@w</font></b><font color="#009900">{@samp{-*-coding: @var{coding-system}-*-}}</font> tag on
<a name="line2594"><font color="#000000">2594:</font></a> the first line of the init file, and specify a coding system that
<a name="line2595"><font color="#000000">2595:</font></a> supports the character(s) in question.  <b><font color="#0000FF">@xref</font></b><font color="#FF0000">{</font><font color="#FF0000">Recognize Coding</font><font color="#FF0000">}</font>.  This
<a name="line2596"><font color="#000000">2596:</font></a> is because the defaults for decoding non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> text might
<a name="line2597"><font color="#000000">2597:</font></a> not yet be set up by the time Emacs reads those parts of your init
<a name="line2598"><font color="#000000">2598:</font></a> file which use such strings, possibly leading Emacs to decode those
<a name="line2599"><font color="#000000">2599:</font></a> strings incorrectly.  You should then avoid adding Emacs Lisp code
<a name="line2600"><font color="#000000">2600:</font></a> that modifies the coding system in other ways, such as calls to
<a name="line2601"><font color="#000000">2601:</font></a> <i><font color="#9A1900">@code{set-language-environment}.</font></i>
<a name="line2602"><font color="#000000">2602:</font></a> 
<a name="line2603"><font color="#000000">2603:</font></a>   To bind non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> keys, you must use a vector (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Init</font>
<a name="line2604"><font color="#000000">2604:</font></a> <font color="#FF0000">Rebinding</font><font color="#FF0000">}</font>).  The string syntax cannot be used, since the
<a name="line2605"><font color="#000000">2605:</font></a> non-<b><font color="#0000FF">@acronym</font></b><font color="#009900">{ASCII}</font> characters will be interpreted as meta keys.  For
<a name="line2606"><font color="#000000">2606:</font></a> instance:
<a name="line2607"><font color="#000000">2607:</font></a> 
<a name="line2608"><font color="#000000">2608:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2609"><font color="#000000">2609:</font></a> (global-set-key [?<b><font color="#0000FF">@var</font></b><font color="#009900">{char}</font>] 'some-function)
<a name="line2610"><font color="#000000">2610:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2611"><font color="#000000">2611:</font></a> 
<a name="line2612"><font color="#000000">2612:</font></a> <b><font color="#0000FF">@noindent</font></b>
<a name="line2613"><font color="#000000">2613:</font></a> Type <b><font color="#0000FF">@kbd</font></b><font color="#009900">{C-q}</font>, followed by the key you want to bind, to insert <b><font color="#0000FF">@var</font></b><font color="#009900">{char}</font>.
<a name="line2614"><font color="#000000">2614:</font></a> 
<a name="line2615"><font color="#000000">2615:</font></a> <b><font color="#0000FF">@node</font></b> Authentication
<a name="line2616"><font color="#000000">2616:</font></a> <b><font color="#0000FF">@section</font></b> Keeping Persistent Authentication Information
<a name="line2617"><font color="#000000">2617:</font></a> 
<a name="line2618"><font color="#000000">2618:</font></a>   Some Emacs packages, which connect to other services, require
<a name="line2619"><font color="#000000">2619:</font></a> authentication (<b><font color="#0000FF">@pxref</font></b><font color="#FF0000">{</font><font color="#FF0000">Passwords</font><font color="#FF0000">}</font>), e.g., see <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, Gnus,, gnus, The</font>
<a name="line2620"><font color="#000000">2620:</font></a> <font color="#FF0000">Gnus Manual</font><font color="#FF0000">}</font>, or <b><font color="#0000FF">@ref</font></b><font color="#FF0000">{</font><font color="#FF0000">Top, Tramp,, tramp, The Tramp Manual</font><font color="#FF0000">}</font>.  Because
<a name="line2621"><font color="#000000">2621:</font></a> it might be annoying to provide the same user name and password again
<a name="line2622"><font color="#000000">2622:</font></a> and again, Emacs offers to keep this information persistent via the
<a name="line2623"><font color="#000000">2623:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{auth-source}</font> library.
<a name="line2624"><font color="#000000">2624:</font></a> 
<a name="line2625"><font color="#000000">2625:</font></a> <i><font color="#9A1900">@cindex @file{~/.authinfo} file</font></i>
<a name="line2626"><font color="#000000">2626:</font></a> <i><font color="#9A1900">@cindex @file{~/.authinfo.gpg} file</font></i>
<a name="line2627"><font color="#000000">2627:</font></a> <i><font color="#9A1900">@cindex ~/.netrc file</font></i>
<a name="line2628"><font color="#000000">2628:</font></a>   By default, the authentication information is taken from the file
<a name="line2629"><font color="#000000">2629:</font></a> <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.authinfo}</font> or <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.authinfo.gpg}</font> or <b><font color="#0000FF">@file</font></b><font color="#009900">{~/.netrc}</font>.
<a name="line2630"><font color="#000000">2630:</font></a> These files have a syntax similar to netrc files as known from the
<a name="line2631"><font color="#000000">2631:</font></a> <i><font color="#9A1900">@command{ftp} program, like this:</font></i>
<a name="line2632"><font color="#000000">2632:</font></a> 
<a name="line2633"><font color="#000000">2633:</font></a> <b><font color="#0000FF">@example</font></b>
<a name="line2634"><font color="#000000">2634:</font></a> machine <b><font color="#0000FF">@var</font></b><font color="#009900">{mymachine}</font> login <b><font color="#0000FF">@var</font></b><font color="#009900">{myloginname}</font> password <b><font color="#0000FF">@var</font></b><font color="#009900">{mypassword}</font> port <b><font color="#0000FF">@var</font></b><font color="#009900">{myport}</font>
<a name="line2635"><font color="#000000">2635:</font></a> <b><font color="#0000FF">@end example</font></b>
<a name="line2636"><font color="#000000">2636:</font></a> 
<a name="line2637"><font color="#000000">2637:</font></a>   Similarly, the <b><font color="#0000FF">@file</font></b><font color="#009900">{auth-source}</font> library supports multiple storage
<a name="line2638"><font color="#000000">2638:</font></a> backend, currently either the classic netrc backend, JSON files, the
<a name="line2639"><font color="#000000">2639:</font></a> Secret Service API, and pass, the standard unix password manager.
<a name="line2640"><font color="#000000">2640:</font></a> 
<a name="line2641"><font color="#000000">2641:</font></a> <b><font color="#0000FF">@vindex</font></b> auth-sources
<a name="line2642"><font color="#000000">2642:</font></a>   All these alternatives can be customized via the user option
<a name="line2643"><font color="#000000">2643:</font></a> <i><font color="#9A1900">@code{auth-sources}, see @ref{Help for users, Emacs auth-source,,</font></i>
<a name="line2644"><font color="#000000">2644:</font></a> auth, Emacs auth-source}.
<a name="line2645"><font color="#000000">2645:</font></a> 
<a name="line2646"><font color="#000000">2646:</font></a> <b><font color="#0000FF">@vindex</font></b> auth-source-save-behavior
<a name="line2647"><font color="#000000">2647:</font></a>   When a password is entered interactively, which is not found via the
<a name="line2648"><font color="#000000">2648:</font></a> configured backend, some of the backends offer to save it
<a name="line2649"><font color="#000000">2649:</font></a> persistently.  This can be changed by customizing the user option
<a name="line2650"><font color="#000000">2650:</font></a> <i><font color="#9A1900">@code{auth-source-save-behavior}.</font></i>
<a name="line2651"><font color="#000000">2651:</font></a> </tt></pre>
